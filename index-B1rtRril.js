(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();var Ja=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function h3(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var o=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return t[n]}})}),r}var Lp={exports:{}},fu={},jp={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h1;function p3(){if(h1)return Ue;h1=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),v=Symbol.iterator;function y(j){return j===null||typeof j!="object"?null:(j=v&&j[v]||j["@@iterator"],typeof j=="function"?j:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function T(j,X,xe){this.props=j,this.context=X,this.refs=S,this.updater=xe||_}T.prototype.isReactComponent={},T.prototype.setState=function(j,X){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,X,"setState")},T.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function O(){}O.prototype=T.prototype;function x(j,X,xe){this.props=j,this.context=X,this.refs=S,this.updater=xe||_}var A=x.prototype=new O;A.constructor=x,w(A,T.prototype),A.isPureReactComponent=!0;var C=Array.isArray,U=Object.prototype.hasOwnProperty,q={current:null},K={key:!0,ref:!0,__self:!0,__source:!0};function V(j,X,xe){var Ae,te={},Z=null,Ie=null;if(X!=null)for(Ae in X.ref!==void 0&&(Ie=X.ref),X.key!==void 0&&(Z=""+X.key),X)U.call(X,Ae)&&!K.hasOwnProperty(Ae)&&(te[Ae]=X[Ae]);var de=arguments.length-2;if(de===1)te.children=xe;else if(1<de){for(var Ce=Array(de),Fe=0;Fe<de;Fe++)Ce[Fe]=arguments[Fe+2];te.children=Ce}if(j&&j.defaultProps)for(Ae in de=j.defaultProps,de)te[Ae]===void 0&&(te[Ae]=de[Ae]);return{$$typeof:t,type:j,key:Z,ref:Ie,props:te,_owner:q.current}}function k(j,X){return{$$typeof:t,type:j.type,key:X,ref:j.ref,props:j.props,_owner:j._owner}}function $(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function F(j){var X={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(xe){return X[xe]})}var z=/\/+/g;function Q(j,X){return typeof j=="object"&&j!==null&&j.key!=null?F(""+j.key):X.toString(36)}function ee(j,X,xe,Ae,te){var Z=typeof j;(Z==="undefined"||Z==="boolean")&&(j=null);var Ie=!1;if(j===null)Ie=!0;else switch(Z){case"string":case"number":Ie=!0;break;case"object":switch(j.$$typeof){case t:case e:Ie=!0}}if(Ie)return Ie=j,te=te(Ie),j=Ae===""?"."+Q(Ie,0):Ae,C(te)?(xe="",j!=null&&(xe=j.replace(z,"$&/")+"/"),ee(te,X,xe,"",function(Fe){return Fe})):te!=null&&($(te)&&(te=k(te,xe+(!te.key||Ie&&Ie.key===te.key?"":(""+te.key).replace(z,"$&/")+"/")+j)),X.push(te)),1;if(Ie=0,Ae=Ae===""?".":Ae+":",C(j))for(var de=0;de<j.length;de++){Z=j[de];var Ce=Ae+Q(Z,de);Ie+=ee(Z,X,xe,Ce,te)}else if(Ce=y(j),typeof Ce=="function")for(j=Ce.call(j),de=0;!(Z=j.next()).done;)Z=Z.value,Ce=Ae+Q(Z,de++),Ie+=ee(Z,X,xe,Ce,te);else if(Z==="object")throw X=String(j),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Ie}function he(j,X,xe){if(j==null)return j;var Ae=[],te=0;return ee(j,Ae,"","",function(Z){return X.call(xe,Z,te++)}),Ae}function be(j){if(j._status===-1){var X=j._result;X=X(),X.then(function(xe){(j._status===0||j._status===-1)&&(j._status=1,j._result=xe)},function(xe){(j._status===0||j._status===-1)&&(j._status=2,j._result=xe)}),j._status===-1&&(j._status=0,j._result=X)}if(j._status===1)return j._result.default;throw j._result}var fe={current:null},Y={transition:null},re={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:Y,ReactCurrentOwner:q};function J(){throw Error("act(...) is not supported in production builds of React.")}return Ue.Children={map:he,forEach:function(j,X,xe){he(j,function(){X.apply(this,arguments)},xe)},count:function(j){var X=0;return he(j,function(){X++}),X},toArray:function(j){return he(j,function(X){return X})||[]},only:function(j){if(!$(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Ue.Component=T,Ue.Fragment=r,Ue.Profiler=o,Ue.PureComponent=x,Ue.StrictMode=n,Ue.Suspense=h,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,Ue.act=J,Ue.cloneElement=function(j,X,xe){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var Ae=w({},j.props),te=j.key,Z=j.ref,Ie=j._owner;if(X!=null){if(X.ref!==void 0&&(Z=X.ref,Ie=q.current),X.key!==void 0&&(te=""+X.key),j.type&&j.type.defaultProps)var de=j.type.defaultProps;for(Ce in X)U.call(X,Ce)&&!K.hasOwnProperty(Ce)&&(Ae[Ce]=X[Ce]===void 0&&de!==void 0?de[Ce]:X[Ce])}var Ce=arguments.length-2;if(Ce===1)Ae.children=xe;else if(1<Ce){de=Array(Ce);for(var Fe=0;Fe<Ce;Fe++)de[Fe]=arguments[Fe+2];Ae.children=de}return{$$typeof:t,type:j.type,key:te,ref:Z,props:Ae,_owner:Ie}},Ue.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:i,_context:j},j.Consumer=j},Ue.createElement=V,Ue.createFactory=function(j){var X=V.bind(null,j);return X.type=j,X},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(j){return{$$typeof:f,render:j}},Ue.isValidElement=$,Ue.lazy=function(j){return{$$typeof:d,_payload:{_status:-1,_result:j},_init:be}},Ue.memo=function(j,X){return{$$typeof:u,type:j,compare:X===void 0?null:X}},Ue.startTransition=function(j){var X=Y.transition;Y.transition={};try{j()}finally{Y.transition=X}},Ue.unstable_act=J,Ue.useCallback=function(j,X){return fe.current.useCallback(j,X)},Ue.useContext=function(j){return fe.current.useContext(j)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(j){return fe.current.useDeferredValue(j)},Ue.useEffect=function(j,X){return fe.current.useEffect(j,X)},Ue.useId=function(){return fe.current.useId()},Ue.useImperativeHandle=function(j,X,xe){return fe.current.useImperativeHandle(j,X,xe)},Ue.useInsertionEffect=function(j,X){return fe.current.useInsertionEffect(j,X)},Ue.useLayoutEffect=function(j,X){return fe.current.useLayoutEffect(j,X)},Ue.useMemo=function(j,X){return fe.current.useMemo(j,X)},Ue.useReducer=function(j,X,xe){return fe.current.useReducer(j,X,xe)},Ue.useRef=function(j){return fe.current.useRef(j)},Ue.useState=function(j){return fe.current.useState(j)},Ue.useSyncExternalStore=function(j,X,xe){return fe.current.useSyncExternalStore(j,X,xe)},Ue.useTransition=function(){return fe.current.useTransition()},Ue.version="18.3.1",Ue}var p1;function pg(){return p1||(p1=1,jp.exports=p3()),jp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v1;function v3(){if(v1)return fu;v1=1;var t=pg(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(f,h,u){var d,v={},y=null,_=null;u!==void 0&&(y=""+u),h.key!==void 0&&(y=""+h.key),h.ref!==void 0&&(_=h.ref);for(d in h)n.call(h,d)&&!i.hasOwnProperty(d)&&(v[d]=h[d]);if(f&&f.defaultProps)for(d in h=f.defaultProps,h)v[d]===void 0&&(v[d]=h[d]);return{$$typeof:e,type:f,key:y,ref:_,props:v,_owner:o.current}}return fu.Fragment=r,fu.jsx=l,fu.jsxs=l,fu}var y1;function y3(){return y1||(y1=1,Lp.exports=v3()),Lp.exports}var H=y3(),Nc={},Dp={exports:{}},sr={},Up={exports:{}},Fp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m1;function m3(){return m1||(m1=1,(function(t){function e(Y,re){var J=Y.length;Y.push(re);e:for(;0<J;){var j=J-1>>>1,X=Y[j];if(0<o(X,re))Y[j]=re,Y[J]=X,J=j;else break e}}function r(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var re=Y[0],J=Y.pop();if(J!==re){Y[0]=J;e:for(var j=0,X=Y.length,xe=X>>>1;j<xe;){var Ae=2*(j+1)-1,te=Y[Ae],Z=Ae+1,Ie=Y[Z];if(0>o(te,J))Z<X&&0>o(Ie,te)?(Y[j]=Ie,Y[Z]=J,j=Z):(Y[j]=te,Y[Ae]=J,j=Ae);else if(Z<X&&0>o(Ie,J))Y[j]=Ie,Y[Z]=J,j=Z;else break e}}return re}function o(Y,re){var J=Y.sortIndex-re.sortIndex;return J!==0?J:Y.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,f=l.now();t.unstable_now=function(){return l.now()-f}}var h=[],u=[],d=1,v=null,y=3,_=!1,w=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(Y){for(var re=r(u);re!==null;){if(re.callback===null)n(u);else if(re.startTime<=Y)n(u),re.sortIndex=re.expirationTime,e(h,re);else break;re=r(u)}}function C(Y){if(S=!1,A(Y),!w)if(r(h)!==null)w=!0,be(U);else{var re=r(u);re!==null&&fe(C,re.startTime-Y)}}function U(Y,re){w=!1,S&&(S=!1,O(V),V=-1),_=!0;var J=y;try{for(A(re),v=r(h);v!==null&&(!(v.expirationTime>re)||Y&&!F());){var j=v.callback;if(typeof j=="function"){v.callback=null,y=v.priorityLevel;var X=j(v.expirationTime<=re);re=t.unstable_now(),typeof X=="function"?v.callback=X:v===r(h)&&n(h),A(re)}else n(h);v=r(h)}if(v!==null)var xe=!0;else{var Ae=r(u);Ae!==null&&fe(C,Ae.startTime-re),xe=!1}return xe}finally{v=null,y=J,_=!1}}var q=!1,K=null,V=-1,k=5,$=-1;function F(){return!(t.unstable_now()-$<k)}function z(){if(K!==null){var Y=t.unstable_now();$=Y;var re=!0;try{re=K(!0,Y)}finally{re?Q():(q=!1,K=null)}}else q=!1}var Q;if(typeof x=="function")Q=function(){x(z)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,he=ee.port2;ee.port1.onmessage=z,Q=function(){he.postMessage(null)}}else Q=function(){T(z,0)};function be(Y){K=Y,q||(q=!0,Q())}function fe(Y,re){V=T(function(){Y(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){w||_||(w=!0,be(U))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(Y){switch(y){case 1:case 2:case 3:var re=3;break;default:re=y}var J=y;y=re;try{return Y()}finally{y=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,re){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var J=y;y=Y;try{return re()}finally{y=J}},t.unstable_scheduleCallback=function(Y,re,J){var j=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?j+J:j):J=j,Y){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=J+X,Y={id:d++,callback:re,priorityLevel:Y,startTime:J,expirationTime:X,sortIndex:-1},J>j?(Y.sortIndex=J,e(u,Y),r(h)===null&&Y===r(u)&&(S?(O(V),V=-1):S=!0,fe(C,J-j))):(Y.sortIndex=X,e(h,Y),w||_||(w=!0,be(U))),Y},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(Y){var re=y;return function(){var J=y;y=re;try{return Y.apply(this,arguments)}finally{y=J}}}})(Fp)),Fp}var g1;function g3(){return g1||(g1=1,Up.exports=m3()),Up.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _1;function _3(){if(_1)return sr;_1=1;var t=pg(),e=g3();function r(a){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+a,c=1;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function i(a,s){l(a,s),l(a+"Capture",s)}function l(a,s){for(o[a]=s,a=0;a<s.length;a++)n.add(s[a])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},v={};function y(a){return h.call(v,a)?!0:h.call(d,a)?!1:u.test(a)?v[a]=!0:(d[a]=!0,!1)}function _(a,s,c,p){if(c!==null&&c.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function w(a,s,c,p){if(s===null||typeof s>"u"||_(a,s,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function S(a,s,c,p,m,g,I){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=p,this.attributeNamespace=m,this.mustUseProperty=c,this.propertyName=a,this.type=s,this.sanitizeURL=g,this.removeEmptyString=I}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){T[a]=new S(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var s=a[0];T[s]=new S(s,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){T[a]=new S(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){T[a]=new S(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){T[a]=new S(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){T[a]=new S(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){T[a]=new S(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){T[a]=new S(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){T[a]=new S(a,5,!1,a.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function x(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var s=a.replace(O,x);T[s]=new S(s,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var s=a.replace(O,x);T[s]=new S(s,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var s=a.replace(O,x);T[s]=new S(s,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){T[a]=new S(a,1,!1,a.toLowerCase(),null,!1,!1)}),T.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){T[a]=new S(a,1,!1,a.toLowerCase(),null,!0,!0)});function A(a,s,c,p){var m=T.hasOwnProperty(s)?T[s]:null;(m!==null?m.type!==0:p||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(w(s,c,m,p)&&(c=null),p||m===null?y(s)&&(c===null?a.removeAttribute(s):a.setAttribute(s,""+c)):m.mustUseProperty?a[m.propertyName]=c===null?m.type===3?!1:"":c:(s=m.attributeName,p=m.attributeNamespace,c===null?a.removeAttribute(s):(m=m.type,c=m===3||m===4&&c===!0?"":""+c,p?a.setAttributeNS(p,s,c):a.setAttribute(s,c))))}var C=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),q=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),F=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),be=Symbol.for("react.lazy"),fe=Symbol.for("react.offscreen"),Y=Symbol.iterator;function re(a){return a===null||typeof a!="object"?null:(a=Y&&a[Y]||a["@@iterator"],typeof a=="function"?a:null)}var J=Object.assign,j;function X(a){if(j===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);j=s&&s[1]||""}return`
`+j+a}var xe=!1;function Ae(a,s){if(!a||xe)return"";xe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(G){var p=G}Reflect.construct(a,[],s)}else{try{s.call()}catch(G){p=G}a.call(s.prototype)}else{try{throw Error()}catch(G){p=G}a()}}catch(G){if(G&&p&&typeof G.stack=="string"){for(var m=G.stack.split(`
`),g=p.stack.split(`
`),I=m.length-1,N=g.length-1;1<=I&&0<=N&&m[I]!==g[N];)N--;for(;1<=I&&0<=N;I--,N--)if(m[I]!==g[N]){if(I!==1||N!==1)do if(I--,N--,0>N||m[I]!==g[N]){var L=`
`+m[I].replace(" at new "," at ");return a.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",a.displayName)),L}while(1<=I&&0<=N);break}}}finally{xe=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:"")?X(a):""}function te(a){switch(a.tag){case 5:return X(a.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return a=Ae(a.type,!1),a;case 11:return a=Ae(a.type.render,!1),a;case 1:return a=Ae(a.type,!0),a;default:return""}}function Z(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case K:return"Fragment";case q:return"Portal";case k:return"Profiler";case V:return"StrictMode";case Q:return"Suspense";case ee:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case F:return(a.displayName||"Context")+".Consumer";case $:return(a._context.displayName||"Context")+".Provider";case z:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case he:return s=a.displayName||null,s!==null?s:Z(a.type)||"Memo";case be:s=a._payload,a=a._init;try{return Z(a(s))}catch{}}return null}function Ie(a){var s=a.type;switch(a.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=s.render,a=a.displayName||a.name||"",s.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(s);case 8:return s===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function de(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ce(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Fe(a){var s=Ce(a)?"checked":"value",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,s),p=""+a[s];if(!a.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return m.call(this)},set:function(I){p=""+I,g.call(this,I)}}),Object.defineProperty(a,s,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(I){p=""+I},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function Ye(a){a._valueTracker||(a._valueTracker=Fe(a))}function ft(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var c=s.getValue(),p="";return a&&(p=Ce(a)?a.checked?"true":"false":a.value),a=p,a!==c?(s.setValue(a),!0):!1}function Nt(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Sr(a,s){var c=s.checked;return J({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??a._wrapperState.initialChecked})}function R(a,s){var c=s.defaultValue==null?"":s.defaultValue,p=s.checked!=null?s.checked:s.defaultChecked;c=de(s.value!=null?s.value:c),a._wrapperState={initialChecked:p,initialValue:c,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function b(a,s){s=s.checked,s!=null&&A(a,"checked",s,!1)}function E(a,s){b(a,s);var c=de(s.value),p=s.type;if(c!=null)p==="number"?(c===0&&a.value===""||a.value!=c)&&(a.value=""+c):a.value!==""+c&&(a.value=""+c);else if(p==="submit"||p==="reset"){a.removeAttribute("value");return}s.hasOwnProperty("value")?M(a,s.type,c):s.hasOwnProperty("defaultValue")&&M(a,s.type,de(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(a.defaultChecked=!!s.defaultChecked)}function P(a,s,c){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var p=s.type;if(!(p!=="submit"&&p!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+a._wrapperState.initialValue,c||s===a.value||(a.value=s),a.defaultValue=s}c=a.name,c!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,c!==""&&(a.name=c)}function M(a,s,c){(s!=="number"||Nt(a.ownerDocument)!==a)&&(c==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+c&&(a.defaultValue=""+c))}var ne=Array.isArray;function ae(a,s,c,p){if(a=a.options,s){s={};for(var m=0;m<c.length;m++)s["$"+c[m]]=!0;for(c=0;c<a.length;c++)m=s.hasOwnProperty("$"+a[c].value),a[c].selected!==m&&(a[c].selected=m),m&&p&&(a[c].defaultSelected=!0)}else{for(c=""+de(c),s=null,m=0;m<a.length;m++){if(a[m].value===c){a[m].selected=!0,p&&(a[m].defaultSelected=!0);return}s!==null||a[m].disabled||(s=a[m])}s!==null&&(s.selected=!0)}}function je(a,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return J({},s,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function De(a,s){var c=s.value;if(c==null){if(c=s.children,s=s.defaultValue,c!=null){if(s!=null)throw Error(r(92));if(ne(c)){if(1<c.length)throw Error(r(93));c=c[0]}s=c}s==null&&(s=""),c=s}a._wrapperState={initialValue:de(c)}}function Ge(a,s){var c=de(s.value),p=de(s.defaultValue);c!=null&&(c=""+c,c!==a.value&&(a.value=c),s.defaultValue==null&&a.defaultValue!==c&&(a.defaultValue=c)),p!=null&&(a.defaultValue=""+p)}function it(a){var s=a.textContent;s===a._wrapperState.initialValue&&s!==""&&s!==null&&(a.value=s)}function Je(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ln(a,s){return a==null||a==="http://www.w3.org/1999/xhtml"?Je(s):a==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var tr,Ti=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,c,p,m){MSApp.execUnsafeLocalFunction(function(){return a(s,c,p,m)})}:a})(function(a,s){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=s;else{for(tr=tr||document.createElement("div"),tr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=tr.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;s.firstChild;)a.appendChild(s.firstChild)}});function Oi(a,s){if(s){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=s;return}}a.textContent=s}var ho={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Il=["Webkit","ms","Moz","O"];Object.keys(ho).forEach(function(a){Il.forEach(function(s){s=s+a.charAt(0).toUpperCase()+a.substring(1),ho[s]=ho[a]})});function cn(a,s,c){return s==null||typeof s=="boolean"||s===""?"":c||typeof s!="number"||s===0||ho.hasOwnProperty(a)&&ho[a]?(""+s).trim():s+"px"}function Ln(a,s){a=a.style;for(var c in s)if(s.hasOwnProperty(c)){var p=c.indexOf("--")===0,m=cn(c,s[c],p);c==="float"&&(c="cssFloat"),p?a.setProperty(c,m):a[c]=m}}var gP=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zd(a,s){if(s){if(gP[a]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,a));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function Vd(a,s){if(a.indexOf("-")===-1)return typeof s.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kd=null;function Yd(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Jd=null,ca=null,fa=null;function C_(a){if(a=Js(a)){if(typeof Jd!="function")throw Error(r(280));var s=a.stateNode;s&&(s=Vl(s),Jd(a.stateNode,a.type,s))}}function P_(a){ca?fa?fa.push(a):fa=[a]:ca=a}function N_(){if(ca){var a=ca,s=fa;if(fa=ca=null,C_(a),s)for(a=0;a<s.length;a++)C_(s[a])}}function k_(a,s){return a(s)}function L_(){}var Qd=!1;function j_(a,s,c){if(Qd)return a(s,c);Qd=!0;try{return k_(a,s,c)}finally{Qd=!1,(ca!==null||fa!==null)&&(L_(),N_())}}function As(a,s){var c=a.stateNode;if(c===null)return null;var p=Vl(c);if(p===null)return null;c=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var Xd=!1;if(f)try{var Cs={};Object.defineProperty(Cs,"passive",{get:function(){Xd=!0}}),window.addEventListener("test",Cs,Cs),window.removeEventListener("test",Cs,Cs)}catch{Xd=!1}function _P(a,s,c,p,m,g,I,N,L){var G=Array.prototype.slice.call(arguments,3);try{s.apply(c,G)}catch(oe){this.onError(oe)}}var Ps=!1,Tl=null,Ol=!1,Zd=null,wP={onError:function(a){Ps=!0,Tl=a}};function bP(a,s,c,p,m,g,I,N,L){Ps=!1,Tl=null,_P.apply(wP,arguments)}function EP(a,s,c,p,m,g,I,N,L){if(bP.apply(this,arguments),Ps){if(Ps){var G=Tl;Ps=!1,Tl=null}else throw Error(r(198));Ol||(Ol=!0,Zd=G)}}function po(a){var s=a,c=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(c=s.return),a=s.return;while(a)}return s.tag===3?c:null}function D_(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function U_(a){if(po(a)!==a)throw Error(r(188))}function SP(a){var s=a.alternate;if(!s){if(s=po(a),s===null)throw Error(r(188));return s!==a?null:a}for(var c=a,p=s;;){var m=c.return;if(m===null)break;var g=m.alternate;if(g===null){if(p=m.return,p!==null){c=p;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===c)return U_(m),a;if(g===p)return U_(m),s;g=g.sibling}throw Error(r(188))}if(c.return!==p.return)c=m,p=g;else{for(var I=!1,N=m.child;N;){if(N===c){I=!0,c=m,p=g;break}if(N===p){I=!0,p=m,c=g;break}N=N.sibling}if(!I){for(N=g.child;N;){if(N===c){I=!0,c=g,p=m;break}if(N===p){I=!0,p=g,c=m;break}N=N.sibling}if(!I)throw Error(r(189))}}if(c.alternate!==p)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:s}function F_(a){return a=SP(a),a!==null?M_(a):null}function M_(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var s=M_(a);if(s!==null)return s;a=a.sibling}return null}var B_=e.unstable_scheduleCallback,q_=e.unstable_cancelCallback,IP=e.unstable_shouldYield,TP=e.unstable_requestPaint,dt=e.unstable_now,OP=e.unstable_getCurrentPriorityLevel,eh=e.unstable_ImmediatePriority,$_=e.unstable_UserBlockingPriority,xl=e.unstable_NormalPriority,xP=e.unstable_LowPriority,W_=e.unstable_IdlePriority,Rl=null,jn=null;function RP(a){if(jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(Rl,a,void 0,(a.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:PP,AP=Math.log,CP=Math.LN2;function PP(a){return a>>>=0,a===0?32:31-(AP(a)/CP|0)|0}var Al=64,Cl=4194304;function Ns(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Pl(a,s){var c=a.pendingLanes;if(c===0)return 0;var p=0,m=a.suspendedLanes,g=a.pingedLanes,I=c&268435455;if(I!==0){var N=I&~m;N!==0?p=Ns(N):(g&=I,g!==0&&(p=Ns(g)))}else I=c&~m,I!==0?p=Ns(I):g!==0&&(p=Ns(g));if(p===0)return 0;if(s!==0&&s!==p&&(s&m)===0&&(m=p&-p,g=s&-s,m>=g||m===16&&(g&4194240)!==0))return s;if((p&4)!==0&&(p|=c&16),s=a.entangledLanes,s!==0)for(a=a.entanglements,s&=p;0<s;)c=31-fn(s),m=1<<c,p|=a[c],s&=~m;return p}function NP(a,s){switch(a){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kP(a,s){for(var c=a.suspendedLanes,p=a.pingedLanes,m=a.expirationTimes,g=a.pendingLanes;0<g;){var I=31-fn(g),N=1<<I,L=m[I];L===-1?((N&c)===0||(N&p)!==0)&&(m[I]=NP(N,s)):L<=s&&(a.expiredLanes|=N),g&=~N}}function th(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function H_(){var a=Al;return Al<<=1,(Al&4194240)===0&&(Al=64),a}function rh(a){for(var s=[],c=0;31>c;c++)s.push(a);return s}function ks(a,s,c){a.pendingLanes|=s,s!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,s=31-fn(s),a[s]=c}function LP(a,s){var c=a.pendingLanes&~s;a.pendingLanes=s,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=s,a.mutableReadLanes&=s,a.entangledLanes&=s,s=a.entanglements;var p=a.eventTimes;for(a=a.expirationTimes;0<c;){var m=31-fn(c),g=1<<m;s[m]=0,p[m]=-1,a[m]=-1,c&=~g}}function nh(a,s){var c=a.entangledLanes|=s;for(a=a.entanglements;c;){var p=31-fn(c),m=1<<p;m&s|a[p]&s&&(a[p]|=s),c&=~m}}var Ke=0;function G_(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var z_,ih,V_,K_,Y_,oh=!1,Nl=[],xi=null,Ri=null,Ai=null,Ls=new Map,js=new Map,Ci=[],jP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function J_(a,s){switch(a){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":Ri=null;break;case"mouseover":case"mouseout":Ai=null;break;case"pointerover":case"pointerout":Ls.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":js.delete(s.pointerId)}}function Ds(a,s,c,p,m,g){return a===null||a.nativeEvent!==g?(a={blockedOn:s,domEventName:c,eventSystemFlags:p,nativeEvent:g,targetContainers:[m]},s!==null&&(s=Js(s),s!==null&&ih(s)),a):(a.eventSystemFlags|=p,s=a.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),a)}function DP(a,s,c,p,m){switch(s){case"focusin":return xi=Ds(xi,a,s,c,p,m),!0;case"dragenter":return Ri=Ds(Ri,a,s,c,p,m),!0;case"mouseover":return Ai=Ds(Ai,a,s,c,p,m),!0;case"pointerover":var g=m.pointerId;return Ls.set(g,Ds(Ls.get(g)||null,a,s,c,p,m)),!0;case"gotpointercapture":return g=m.pointerId,js.set(g,Ds(js.get(g)||null,a,s,c,p,m)),!0}return!1}function Q_(a){var s=vo(a.target);if(s!==null){var c=po(s);if(c!==null){if(s=c.tag,s===13){if(s=D_(c),s!==null){a.blockedOn=s,Y_(a.priority,function(){V_(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function kl(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var c=sh(a.domEventName,a.eventSystemFlags,s[0],a.nativeEvent);if(c===null){c=a.nativeEvent;var p=new c.constructor(c.type,c);Kd=p,c.target.dispatchEvent(p),Kd=null}else return s=Js(c),s!==null&&ih(s),a.blockedOn=c,!1;s.shift()}return!0}function X_(a,s,c){kl(a)&&c.delete(s)}function UP(){oh=!1,xi!==null&&kl(xi)&&(xi=null),Ri!==null&&kl(Ri)&&(Ri=null),Ai!==null&&kl(Ai)&&(Ai=null),Ls.forEach(X_),js.forEach(X_)}function Us(a,s){a.blockedOn===s&&(a.blockedOn=null,oh||(oh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,UP)))}function Fs(a){function s(m){return Us(m,a)}if(0<Nl.length){Us(Nl[0],a);for(var c=1;c<Nl.length;c++){var p=Nl[c];p.blockedOn===a&&(p.blockedOn=null)}}for(xi!==null&&Us(xi,a),Ri!==null&&Us(Ri,a),Ai!==null&&Us(Ai,a),Ls.forEach(s),js.forEach(s),c=0;c<Ci.length;c++)p=Ci[c],p.blockedOn===a&&(p.blockedOn=null);for(;0<Ci.length&&(c=Ci[0],c.blockedOn===null);)Q_(c),c.blockedOn===null&&Ci.shift()}var da=C.ReactCurrentBatchConfig,Ll=!0;function FP(a,s,c,p){var m=Ke,g=da.transition;da.transition=null;try{Ke=1,ah(a,s,c,p)}finally{Ke=m,da.transition=g}}function MP(a,s,c,p){var m=Ke,g=da.transition;da.transition=null;try{Ke=4,ah(a,s,c,p)}finally{Ke=m,da.transition=g}}function ah(a,s,c,p){if(Ll){var m=sh(a,s,c,p);if(m===null)Ih(a,s,p,jl,c),J_(a,p);else if(DP(m,a,s,c,p))p.stopPropagation();else if(J_(a,p),s&4&&-1<jP.indexOf(a)){for(;m!==null;){var g=Js(m);if(g!==null&&z_(g),g=sh(a,s,c,p),g===null&&Ih(a,s,p,jl,c),g===m)break;m=g}m!==null&&p.stopPropagation()}else Ih(a,s,p,null,c)}}var jl=null;function sh(a,s,c,p){if(jl=null,a=Yd(p),a=vo(a),a!==null)if(s=po(a),s===null)a=null;else if(c=s.tag,c===13){if(a=D_(s),a!==null)return a;a=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null);return jl=a,null}function Z_(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(OP()){case eh:return 1;case $_:return 4;case xl:case xP:return 16;case W_:return 536870912;default:return 16}default:return 16}}var Pi=null,uh=null,Dl=null;function ew(){if(Dl)return Dl;var a,s=uh,c=s.length,p,m="value"in Pi?Pi.value:Pi.textContent,g=m.length;for(a=0;a<c&&s[a]===m[a];a++);var I=c-a;for(p=1;p<=I&&s[c-p]===m[g-p];p++);return Dl=m.slice(a,1<p?1-p:void 0)}function Ul(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Fl(){return!0}function tw(){return!1}function Ir(a){function s(c,p,m,g,I){this._reactName=c,this._targetInst=m,this.type=p,this.nativeEvent=g,this.target=I,this.currentTarget=null;for(var N in a)a.hasOwnProperty(N)&&(c=a[N],this[N]=c?c(g):g[N]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Fl:tw,this.isPropagationStopped=tw,this}return J(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Fl)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Fl)},persist:function(){},isPersistent:Fl}),s}var ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lh=Ir(ha),Ms=J({},ha,{view:0,detail:0}),BP=Ir(Ms),ch,fh,Bs,Ml=J({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hh,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Bs&&(Bs&&a.type==="mousemove"?(ch=a.screenX-Bs.screenX,fh=a.screenY-Bs.screenY):fh=ch=0,Bs=a),ch)},movementY:function(a){return"movementY"in a?a.movementY:fh}}),rw=Ir(Ml),qP=J({},Ml,{dataTransfer:0}),$P=Ir(qP),WP=J({},Ms,{relatedTarget:0}),dh=Ir(WP),HP=J({},ha,{animationName:0,elapsedTime:0,pseudoElement:0}),GP=Ir(HP),zP=J({},ha,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),VP=Ir(zP),KP=J({},ha,{data:0}),nw=Ir(KP),YP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XP(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=QP[a])?!!s[a]:!1}function hh(){return XP}var ZP=J({},Ms,{key:function(a){if(a.key){var s=YP[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=Ul(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?JP[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hh,charCode:function(a){return a.type==="keypress"?Ul(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ul(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),eN=Ir(ZP),tN=J({},Ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iw=Ir(tN),rN=J({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hh}),nN=Ir(rN),iN=J({},ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),oN=Ir(iN),aN=J({},Ml,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),sN=Ir(aN),uN=[9,13,27,32],ph=f&&"CompositionEvent"in window,qs=null;f&&"documentMode"in document&&(qs=document.documentMode);var lN=f&&"TextEvent"in window&&!qs,ow=f&&(!ph||qs&&8<qs&&11>=qs),aw=" ",sw=!1;function uw(a,s){switch(a){case"keyup":return uN.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lw(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var pa=!1;function cN(a,s){switch(a){case"compositionend":return lw(s);case"keypress":return s.which!==32?null:(sw=!0,aw);case"textInput":return a=s.data,a===aw&&sw?null:a;default:return null}}function fN(a,s){if(pa)return a==="compositionend"||!ph&&uw(a,s)?(a=ew(),Dl=uh=Pi=null,pa=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ow&&s.locale!=="ko"?null:s.data;default:return null}}var dN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cw(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!dN[a.type]:s==="textarea"}function fw(a,s,c,p){P_(p),s=Hl(s,"onChange"),0<s.length&&(c=new lh("onChange","change",null,c,p),a.push({event:c,listeners:s}))}var $s=null,Ws=null;function hN(a){Aw(a,0)}function Bl(a){var s=_a(a);if(ft(s))return a}function pN(a,s){if(a==="change")return s}var dw=!1;if(f){var vh;if(f){var yh="oninput"in document;if(!yh){var hw=document.createElement("div");hw.setAttribute("oninput","return;"),yh=typeof hw.oninput=="function"}vh=yh}else vh=!1;dw=vh&&(!document.documentMode||9<document.documentMode)}function pw(){$s&&($s.detachEvent("onpropertychange",vw),Ws=$s=null)}function vw(a){if(a.propertyName==="value"&&Bl(Ws)){var s=[];fw(s,Ws,a,Yd(a)),j_(hN,s)}}function vN(a,s,c){a==="focusin"?(pw(),$s=s,Ws=c,$s.attachEvent("onpropertychange",vw)):a==="focusout"&&pw()}function yN(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Bl(Ws)}function mN(a,s){if(a==="click")return Bl(s)}function gN(a,s){if(a==="input"||a==="change")return Bl(s)}function _N(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var dn=typeof Object.is=="function"?Object.is:_N;function Hs(a,s){if(dn(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var c=Object.keys(a),p=Object.keys(s);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var m=c[p];if(!h.call(s,m)||!dn(a[m],s[m]))return!1}return!0}function yw(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function mw(a,s){var c=yw(a);a=0;for(var p;c;){if(c.nodeType===3){if(p=a+c.textContent.length,a<=s&&p>=s)return{node:c,offset:s-a};a=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=yw(c)}}function gw(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?gw(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function _w(){for(var a=window,s=Nt();s instanceof a.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)a=s.contentWindow;else break;s=Nt(a.document)}return s}function mh(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}function wN(a){var s=_w(),c=a.focusedElem,p=a.selectionRange;if(s!==c&&c&&c.ownerDocument&&gw(c.ownerDocument.documentElement,c)){if(p!==null&&mh(c)){if(s=p.start,a=p.end,a===void 0&&(a=s),"selectionStart"in c)c.selectionStart=s,c.selectionEnd=Math.min(a,c.value.length);else if(a=(s=c.ownerDocument||document)&&s.defaultView||window,a.getSelection){a=a.getSelection();var m=c.textContent.length,g=Math.min(p.start,m);p=p.end===void 0?g:Math.min(p.end,m),!a.extend&&g>p&&(m=p,p=g,g=m),m=mw(c,g);var I=mw(c,p);m&&I&&(a.rangeCount!==1||a.anchorNode!==m.node||a.anchorOffset!==m.offset||a.focusNode!==I.node||a.focusOffset!==I.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),a.removeAllRanges(),g>p?(a.addRange(s),a.extend(I.node,I.offset)):(s.setEnd(I.node,I.offset),a.addRange(s)))}}for(s=[],a=c;a=a.parentNode;)a.nodeType===1&&s.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<s.length;c++)a=s[c],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var bN=f&&"documentMode"in document&&11>=document.documentMode,va=null,gh=null,Gs=null,_h=!1;function ww(a,s,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;_h||va==null||va!==Nt(p)||(p=va,"selectionStart"in p&&mh(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Gs&&Hs(Gs,p)||(Gs=p,p=Hl(gh,"onSelect"),0<p.length&&(s=new lh("onSelect","select",null,s,c),a.push({event:s,listeners:p}),s.target=va)))}function ql(a,s){var c={};return c[a.toLowerCase()]=s.toLowerCase(),c["Webkit"+a]="webkit"+s,c["Moz"+a]="moz"+s,c}var ya={animationend:ql("Animation","AnimationEnd"),animationiteration:ql("Animation","AnimationIteration"),animationstart:ql("Animation","AnimationStart"),transitionend:ql("Transition","TransitionEnd")},wh={},bw={};f&&(bw=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function $l(a){if(wh[a])return wh[a];if(!ya[a])return a;var s=ya[a],c;for(c in s)if(s.hasOwnProperty(c)&&c in bw)return wh[a]=s[c];return a}var Ew=$l("animationend"),Sw=$l("animationiteration"),Iw=$l("animationstart"),Tw=$l("transitionend"),Ow=new Map,xw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ni(a,s){Ow.set(a,s),i(s,[a])}for(var bh=0;bh<xw.length;bh++){var Eh=xw[bh],EN=Eh.toLowerCase(),SN=Eh[0].toUpperCase()+Eh.slice(1);Ni(EN,"on"+SN)}Ni(Ew,"onAnimationEnd"),Ni(Sw,"onAnimationIteration"),Ni(Iw,"onAnimationStart"),Ni("dblclick","onDoubleClick"),Ni("focusin","onFocus"),Ni("focusout","onBlur"),Ni(Tw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IN=new Set("cancel close invalid load scroll toggle".split(" ").concat(zs));function Rw(a,s,c){var p=a.type||"unknown-event";a.currentTarget=c,EP(p,s,void 0,a),a.currentTarget=null}function Aw(a,s){s=(s&4)!==0;for(var c=0;c<a.length;c++){var p=a[c],m=p.event;p=p.listeners;e:{var g=void 0;if(s)for(var I=p.length-1;0<=I;I--){var N=p[I],L=N.instance,G=N.currentTarget;if(N=N.listener,L!==g&&m.isPropagationStopped())break e;Rw(m,N,G),g=L}else for(I=0;I<p.length;I++){if(N=p[I],L=N.instance,G=N.currentTarget,N=N.listener,L!==g&&m.isPropagationStopped())break e;Rw(m,N,G),g=L}}}if(Ol)throw a=Zd,Ol=!1,Zd=null,a}function tt(a,s){var c=s[Ch];c===void 0&&(c=s[Ch]=new Set);var p=a+"__bubble";c.has(p)||(Cw(s,a,2,!1),c.add(p))}function Sh(a,s,c){var p=0;s&&(p|=4),Cw(c,a,p,s)}var Wl="_reactListening"+Math.random().toString(36).slice(2);function Vs(a){if(!a[Wl]){a[Wl]=!0,n.forEach(function(c){c!=="selectionchange"&&(IN.has(c)||Sh(c,!1,a),Sh(c,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Wl]||(s[Wl]=!0,Sh("selectionchange",!1,s))}}function Cw(a,s,c,p){switch(Z_(s)){case 1:var m=FP;break;case 4:m=MP;break;default:m=ah}c=m.bind(null,s,c,a),m=void 0,!Xd||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),p?m!==void 0?a.addEventListener(s,c,{capture:!0,passive:m}):a.addEventListener(s,c,!0):m!==void 0?a.addEventListener(s,c,{passive:m}):a.addEventListener(s,c,!1)}function Ih(a,s,c,p,m){var g=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var I=p.tag;if(I===3||I===4){var N=p.stateNode.containerInfo;if(N===m||N.nodeType===8&&N.parentNode===m)break;if(I===4)for(I=p.return;I!==null;){var L=I.tag;if((L===3||L===4)&&(L=I.stateNode.containerInfo,L===m||L.nodeType===8&&L.parentNode===m))return;I=I.return}for(;N!==null;){if(I=vo(N),I===null)return;if(L=I.tag,L===5||L===6){p=g=I;continue e}N=N.parentNode}}p=p.return}j_(function(){var G=g,oe=Yd(c),se=[];e:{var ie=Ow.get(a);if(ie!==void 0){var pe=lh,ge=a;switch(a){case"keypress":if(Ul(c)===0)break e;case"keydown":case"keyup":pe=eN;break;case"focusin":ge="focus",pe=dh;break;case"focusout":ge="blur",pe=dh;break;case"beforeblur":case"afterblur":pe=dh;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=rw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=$P;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=nN;break;case Ew:case Sw:case Iw:pe=GP;break;case Tw:pe=oN;break;case"scroll":pe=BP;break;case"wheel":pe=sN;break;case"copy":case"cut":case"paste":pe=VP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=iw}var _e=(s&4)!==0,ht=!_e&&a==="scroll",B=_e?ie!==null?ie+"Capture":null:ie;_e=[];for(var D=G,W;D!==null;){W=D;var le=W.stateNode;if(W.tag===5&&le!==null&&(W=le,B!==null&&(le=As(D,B),le!=null&&_e.push(Ks(D,le,W)))),ht)break;D=D.return}0<_e.length&&(ie=new pe(ie,ge,null,c,oe),se.push({event:ie,listeners:_e}))}}if((s&7)===0){e:{if(ie=a==="mouseover"||a==="pointerover",pe=a==="mouseout"||a==="pointerout",ie&&c!==Kd&&(ge=c.relatedTarget||c.fromElement)&&(vo(ge)||ge[ii]))break e;if((pe||ie)&&(ie=oe.window===oe?oe:(ie=oe.ownerDocument)?ie.defaultView||ie.parentWindow:window,pe?(ge=c.relatedTarget||c.toElement,pe=G,ge=ge?vo(ge):null,ge!==null&&(ht=po(ge),ge!==ht||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(pe=null,ge=G),pe!==ge)){if(_e=rw,le="onMouseLeave",B="onMouseEnter",D="mouse",(a==="pointerout"||a==="pointerover")&&(_e=iw,le="onPointerLeave",B="onPointerEnter",D="pointer"),ht=pe==null?ie:_a(pe),W=ge==null?ie:_a(ge),ie=new _e(le,D+"leave",pe,c,oe),ie.target=ht,ie.relatedTarget=W,le=null,vo(oe)===G&&(_e=new _e(B,D+"enter",ge,c,oe),_e.target=W,_e.relatedTarget=ht,le=_e),ht=le,pe&&ge)t:{for(_e=pe,B=ge,D=0,W=_e;W;W=ma(W))D++;for(W=0,le=B;le;le=ma(le))W++;for(;0<D-W;)_e=ma(_e),D--;for(;0<W-D;)B=ma(B),W--;for(;D--;){if(_e===B||B!==null&&_e===B.alternate)break t;_e=ma(_e),B=ma(B)}_e=null}else _e=null;pe!==null&&Pw(se,ie,pe,_e,!1),ge!==null&&ht!==null&&Pw(se,ht,ge,_e,!0)}}e:{if(ie=G?_a(G):window,pe=ie.nodeName&&ie.nodeName.toLowerCase(),pe==="select"||pe==="input"&&ie.type==="file")var we=pN;else if(cw(ie))if(dw)we=gN;else{we=yN;var Te=vN}else(pe=ie.nodeName)&&pe.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(we=mN);if(we&&(we=we(a,G))){fw(se,we,c,oe);break e}Te&&Te(a,ie,G),a==="focusout"&&(Te=ie._wrapperState)&&Te.controlled&&ie.type==="number"&&M(ie,"number",ie.value)}switch(Te=G?_a(G):window,a){case"focusin":(cw(Te)||Te.contentEditable==="true")&&(va=Te,gh=G,Gs=null);break;case"focusout":Gs=gh=va=null;break;case"mousedown":_h=!0;break;case"contextmenu":case"mouseup":case"dragend":_h=!1,ww(se,c,oe);break;case"selectionchange":if(bN)break;case"keydown":case"keyup":ww(se,c,oe)}var Oe;if(ph)e:{switch(a){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else pa?uw(a,c)&&(Ne="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Ne="onCompositionStart");Ne&&(ow&&c.locale!=="ko"&&(pa||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&pa&&(Oe=ew()):(Pi=oe,uh="value"in Pi?Pi.value:Pi.textContent,pa=!0)),Te=Hl(G,Ne),0<Te.length&&(Ne=new nw(Ne,a,null,c,oe),se.push({event:Ne,listeners:Te}),Oe?Ne.data=Oe:(Oe=lw(c),Oe!==null&&(Ne.data=Oe)))),(Oe=lN?cN(a,c):fN(a,c))&&(G=Hl(G,"onBeforeInput"),0<G.length&&(oe=new nw("onBeforeInput","beforeinput",null,c,oe),se.push({event:oe,listeners:G}),oe.data=Oe))}Aw(se,s)})}function Ks(a,s,c){return{instance:a,listener:s,currentTarget:c}}function Hl(a,s){for(var c=s+"Capture",p=[];a!==null;){var m=a,g=m.stateNode;m.tag===5&&g!==null&&(m=g,g=As(a,c),g!=null&&p.unshift(Ks(a,g,m)),g=As(a,s),g!=null&&p.push(Ks(a,g,m))),a=a.return}return p}function ma(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function Pw(a,s,c,p,m){for(var g=s._reactName,I=[];c!==null&&c!==p;){var N=c,L=N.alternate,G=N.stateNode;if(L!==null&&L===p)break;N.tag===5&&G!==null&&(N=G,m?(L=As(c,g),L!=null&&I.unshift(Ks(c,L,N))):m||(L=As(c,g),L!=null&&I.push(Ks(c,L,N)))),c=c.return}I.length!==0&&a.push({event:s,listeners:I})}var TN=/\r\n?/g,ON=/\u0000|\uFFFD/g;function Nw(a){return(typeof a=="string"?a:""+a).replace(TN,`
`).replace(ON,"")}function Gl(a,s,c){if(s=Nw(s),Nw(a)!==s&&c)throw Error(r(425))}function zl(){}var Th=null,Oh=null;function xh(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Rh=typeof setTimeout=="function"?setTimeout:void 0,xN=typeof clearTimeout=="function"?clearTimeout:void 0,kw=typeof Promise=="function"?Promise:void 0,RN=typeof queueMicrotask=="function"?queueMicrotask:typeof kw<"u"?function(a){return kw.resolve(null).then(a).catch(AN)}:Rh;function AN(a){setTimeout(function(){throw a})}function Ah(a,s){var c=s,p=0;do{var m=c.nextSibling;if(a.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(p===0){a.removeChild(m),Fs(s);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=m}while(c);Fs(s)}function ki(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return a}function Lw(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"){if(s===0)return a;s--}else c==="/$"&&s++}a=a.previousSibling}return null}var ga=Math.random().toString(36).slice(2),Dn="__reactFiber$"+ga,Ys="__reactProps$"+ga,ii="__reactContainer$"+ga,Ch="__reactEvents$"+ga,CN="__reactListeners$"+ga,PN="__reactHandles$"+ga;function vo(a){var s=a[Dn];if(s)return s;for(var c=a.parentNode;c;){if(s=c[ii]||c[Dn]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(a=Lw(a);a!==null;){if(c=a[Dn])return c;a=Lw(a)}return s}a=c,c=a.parentNode}return null}function Js(a){return a=a[Dn]||a[ii],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function _a(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(r(33))}function Vl(a){return a[Ys]||null}var Ph=[],wa=-1;function Li(a){return{current:a}}function rt(a){0>wa||(a.current=Ph[wa],Ph[wa]=null,wa--)}function et(a,s){wa++,Ph[wa]=a.current,a.current=s}var ji={},Ut=Li(ji),rr=Li(!1),yo=ji;function ba(a,s){var c=a.type.contextTypes;if(!c)return ji;var p=a.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===s)return p.__reactInternalMemoizedMaskedChildContext;var m={},g;for(g in c)m[g]=s[g];return p&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=s,a.__reactInternalMemoizedMaskedChildContext=m),m}function nr(a){return a=a.childContextTypes,a!=null}function Kl(){rt(rr),rt(Ut)}function jw(a,s,c){if(Ut.current!==ji)throw Error(r(168));et(Ut,s),et(rr,c)}function Dw(a,s,c){var p=a.stateNode;if(s=s.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var m in p)if(!(m in s))throw Error(r(108,Ie(a)||"Unknown",m));return J({},c,p)}function Yl(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||ji,yo=Ut.current,et(Ut,a),et(rr,rr.current),!0}function Uw(a,s,c){var p=a.stateNode;if(!p)throw Error(r(169));c?(a=Dw(a,s,yo),p.__reactInternalMemoizedMergedChildContext=a,rt(rr),rt(Ut),et(Ut,a)):rt(rr),et(rr,c)}var oi=null,Jl=!1,Nh=!1;function Fw(a){oi===null?oi=[a]:oi.push(a)}function NN(a){Jl=!0,Fw(a)}function Di(){if(!Nh&&oi!==null){Nh=!0;var a=0,s=Ke;try{var c=oi;for(Ke=1;a<c.length;a++){var p=c[a];do p=p(!0);while(p!==null)}oi=null,Jl=!1}catch(m){throw oi!==null&&(oi=oi.slice(a+1)),B_(eh,Di),m}finally{Ke=s,Nh=!1}}return null}var Ea=[],Sa=0,Ql=null,Xl=0,Ur=[],Fr=0,mo=null,ai=1,si="";function go(a,s){Ea[Sa++]=Xl,Ea[Sa++]=Ql,Ql=a,Xl=s}function Mw(a,s,c){Ur[Fr++]=ai,Ur[Fr++]=si,Ur[Fr++]=mo,mo=a;var p=ai;a=si;var m=32-fn(p)-1;p&=~(1<<m),c+=1;var g=32-fn(s)+m;if(30<g){var I=m-m%5;g=(p&(1<<I)-1).toString(32),p>>=I,m-=I,ai=1<<32-fn(s)+m|c<<m|p,si=g+a}else ai=1<<g|c<<m|p,si=a}function kh(a){a.return!==null&&(go(a,1),Mw(a,1,0))}function Lh(a){for(;a===Ql;)Ql=Ea[--Sa],Ea[Sa]=null,Xl=Ea[--Sa],Ea[Sa]=null;for(;a===mo;)mo=Ur[--Fr],Ur[Fr]=null,si=Ur[--Fr],Ur[Fr]=null,ai=Ur[--Fr],Ur[Fr]=null}var Tr=null,Or=null,ot=!1,hn=null;function Bw(a,s){var c=$r(5,null,null,0);c.elementType="DELETED",c.stateNode=s,c.return=a,s=a.deletions,s===null?(a.deletions=[c],a.flags|=16):s.push(c)}function qw(a,s){switch(a.tag){case 5:var c=a.type;return s=s.nodeType!==1||c.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(a.stateNode=s,Tr=a,Or=ki(s.firstChild),!0):!1;case 6:return s=a.pendingProps===""||s.nodeType!==3?null:s,s!==null?(a.stateNode=s,Tr=a,Or=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(c=mo!==null?{id:ai,overflow:si}:null,a.memoizedState={dehydrated:s,treeContext:c,retryLane:1073741824},c=$r(18,null,null,0),c.stateNode=s,c.return=a,a.child=c,Tr=a,Or=null,!0):!1;default:return!1}}function jh(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Dh(a){if(ot){var s=Or;if(s){var c=s;if(!qw(a,s)){if(jh(a))throw Error(r(418));s=ki(c.nextSibling);var p=Tr;s&&qw(a,s)?Bw(p,c):(a.flags=a.flags&-4097|2,ot=!1,Tr=a)}}else{if(jh(a))throw Error(r(418));a.flags=a.flags&-4097|2,ot=!1,Tr=a}}}function $w(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Tr=a}function Zl(a){if(a!==Tr)return!1;if(!ot)return $w(a),ot=!0,!1;var s;if((s=a.tag!==3)&&!(s=a.tag!==5)&&(s=a.type,s=s!=="head"&&s!=="body"&&!xh(a.type,a.memoizedProps)),s&&(s=Or)){if(jh(a))throw Ww(),Error(r(418));for(;s;)Bw(a,s),s=ki(s.nextSibling)}if($w(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"){if(s===0){Or=ki(a.nextSibling);break e}s--}else c!=="$"&&c!=="$!"&&c!=="$?"||s++}a=a.nextSibling}Or=null}}else Or=Tr?ki(a.stateNode.nextSibling):null;return!0}function Ww(){for(var a=Or;a;)a=ki(a.nextSibling)}function Ia(){Or=Tr=null,ot=!1}function Uh(a){hn===null?hn=[a]:hn.push(a)}var kN=C.ReactCurrentBatchConfig;function Qs(a,s,c){if(a=c.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(r(309));var p=c.stateNode}if(!p)throw Error(r(147,a));var m=p,g=""+a;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(I){var N=m.refs;I===null?delete N[g]:N[g]=I},s._stringRef=g,s)}if(typeof a!="string")throw Error(r(284));if(!c._owner)throw Error(r(290,a))}return a}function ec(a,s){throw a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a))}function Hw(a){var s=a._init;return s(a._payload)}function Gw(a){function s(B,D){if(a){var W=B.deletions;W===null?(B.deletions=[D],B.flags|=16):W.push(D)}}function c(B,D){if(!a)return null;for(;D!==null;)s(B,D),D=D.sibling;return null}function p(B,D){for(B=new Map;D!==null;)D.key!==null?B.set(D.key,D):B.set(D.index,D),D=D.sibling;return B}function m(B,D){return B=Hi(B,D),B.index=0,B.sibling=null,B}function g(B,D,W){return B.index=W,a?(W=B.alternate,W!==null?(W=W.index,W<D?(B.flags|=2,D):W):(B.flags|=2,D)):(B.flags|=1048576,D)}function I(B){return a&&B.alternate===null&&(B.flags|=2),B}function N(B,D,W,le){return D===null||D.tag!==6?(D=Rp(W,B.mode,le),D.return=B,D):(D=m(D,W),D.return=B,D)}function L(B,D,W,le){var we=W.type;return we===K?oe(B,D,W.props.children,le,W.key):D!==null&&(D.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===be&&Hw(we)===D.type)?(le=m(D,W.props),le.ref=Qs(B,D,W),le.return=B,le):(le=Ic(W.type,W.key,W.props,null,B.mode,le),le.ref=Qs(B,D,W),le.return=B,le)}function G(B,D,W,le){return D===null||D.tag!==4||D.stateNode.containerInfo!==W.containerInfo||D.stateNode.implementation!==W.implementation?(D=Ap(W,B.mode,le),D.return=B,D):(D=m(D,W.children||[]),D.return=B,D)}function oe(B,D,W,le,we){return D===null||D.tag!==7?(D=Oo(W,B.mode,le,we),D.return=B,D):(D=m(D,W),D.return=B,D)}function se(B,D,W){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Rp(""+D,B.mode,W),D.return=B,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case U:return W=Ic(D.type,D.key,D.props,null,B.mode,W),W.ref=Qs(B,null,D),W.return=B,W;case q:return D=Ap(D,B.mode,W),D.return=B,D;case be:var le=D._init;return se(B,le(D._payload),W)}if(ne(D)||re(D))return D=Oo(D,B.mode,W,null),D.return=B,D;ec(B,D)}return null}function ie(B,D,W,le){var we=D!==null?D.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return we!==null?null:N(B,D,""+W,le);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case U:return W.key===we?L(B,D,W,le):null;case q:return W.key===we?G(B,D,W,le):null;case be:return we=W._init,ie(B,D,we(W._payload),le)}if(ne(W)||re(W))return we!==null?null:oe(B,D,W,le,null);ec(B,W)}return null}function pe(B,D,W,le,we){if(typeof le=="string"&&le!==""||typeof le=="number")return B=B.get(W)||null,N(D,B,""+le,we);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case U:return B=B.get(le.key===null?W:le.key)||null,L(D,B,le,we);case q:return B=B.get(le.key===null?W:le.key)||null,G(D,B,le,we);case be:var Te=le._init;return pe(B,D,W,Te(le._payload),we)}if(ne(le)||re(le))return B=B.get(W)||null,oe(D,B,le,we,null);ec(D,le)}return null}function ge(B,D,W,le){for(var we=null,Te=null,Oe=D,Ne=D=0,xt=null;Oe!==null&&Ne<W.length;Ne++){Oe.index>Ne?(xt=Oe,Oe=null):xt=Oe.sibling;var ze=ie(B,Oe,W[Ne],le);if(ze===null){Oe===null&&(Oe=xt);break}a&&Oe&&ze.alternate===null&&s(B,Oe),D=g(ze,D,Ne),Te===null?we=ze:Te.sibling=ze,Te=ze,Oe=xt}if(Ne===W.length)return c(B,Oe),ot&&go(B,Ne),we;if(Oe===null){for(;Ne<W.length;Ne++)Oe=se(B,W[Ne],le),Oe!==null&&(D=g(Oe,D,Ne),Te===null?we=Oe:Te.sibling=Oe,Te=Oe);return ot&&go(B,Ne),we}for(Oe=p(B,Oe);Ne<W.length;Ne++)xt=pe(Oe,B,Ne,W[Ne],le),xt!==null&&(a&&xt.alternate!==null&&Oe.delete(xt.key===null?Ne:xt.key),D=g(xt,D,Ne),Te===null?we=xt:Te.sibling=xt,Te=xt);return a&&Oe.forEach(function(Gi){return s(B,Gi)}),ot&&go(B,Ne),we}function _e(B,D,W,le){var we=re(W);if(typeof we!="function")throw Error(r(150));if(W=we.call(W),W==null)throw Error(r(151));for(var Te=we=null,Oe=D,Ne=D=0,xt=null,ze=W.next();Oe!==null&&!ze.done;Ne++,ze=W.next()){Oe.index>Ne?(xt=Oe,Oe=null):xt=Oe.sibling;var Gi=ie(B,Oe,ze.value,le);if(Gi===null){Oe===null&&(Oe=xt);break}a&&Oe&&Gi.alternate===null&&s(B,Oe),D=g(Gi,D,Ne),Te===null?we=Gi:Te.sibling=Gi,Te=Gi,Oe=xt}if(ze.done)return c(B,Oe),ot&&go(B,Ne),we;if(Oe===null){for(;!ze.done;Ne++,ze=W.next())ze=se(B,ze.value,le),ze!==null&&(D=g(ze,D,Ne),Te===null?we=ze:Te.sibling=ze,Te=ze);return ot&&go(B,Ne),we}for(Oe=p(B,Oe);!ze.done;Ne++,ze=W.next())ze=pe(Oe,B,Ne,ze.value,le),ze!==null&&(a&&ze.alternate!==null&&Oe.delete(ze.key===null?Ne:ze.key),D=g(ze,D,Ne),Te===null?we=ze:Te.sibling=ze,Te=ze);return a&&Oe.forEach(function(d3){return s(B,d3)}),ot&&go(B,Ne),we}function ht(B,D,W,le){if(typeof W=="object"&&W!==null&&W.type===K&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case U:e:{for(var we=W.key,Te=D;Te!==null;){if(Te.key===we){if(we=W.type,we===K){if(Te.tag===7){c(B,Te.sibling),D=m(Te,W.props.children),D.return=B,B=D;break e}}else if(Te.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===be&&Hw(we)===Te.type){c(B,Te.sibling),D=m(Te,W.props),D.ref=Qs(B,Te,W),D.return=B,B=D;break e}c(B,Te);break}else s(B,Te);Te=Te.sibling}W.type===K?(D=Oo(W.props.children,B.mode,le,W.key),D.return=B,B=D):(le=Ic(W.type,W.key,W.props,null,B.mode,le),le.ref=Qs(B,D,W),le.return=B,B=le)}return I(B);case q:e:{for(Te=W.key;D!==null;){if(D.key===Te)if(D.tag===4&&D.stateNode.containerInfo===W.containerInfo&&D.stateNode.implementation===W.implementation){c(B,D.sibling),D=m(D,W.children||[]),D.return=B,B=D;break e}else{c(B,D);break}else s(B,D);D=D.sibling}D=Ap(W,B.mode,le),D.return=B,B=D}return I(B);case be:return Te=W._init,ht(B,D,Te(W._payload),le)}if(ne(W))return ge(B,D,W,le);if(re(W))return _e(B,D,W,le);ec(B,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,D!==null&&D.tag===6?(c(B,D.sibling),D=m(D,W),D.return=B,B=D):(c(B,D),D=Rp(W,B.mode,le),D.return=B,B=D),I(B)):c(B,D)}return ht}var Ta=Gw(!0),zw=Gw(!1),tc=Li(null),rc=null,Oa=null,Fh=null;function Mh(){Fh=Oa=rc=null}function Bh(a){var s=tc.current;rt(tc),a._currentValue=s}function qh(a,s,c){for(;a!==null;){var p=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),a===c)break;a=a.return}}function xa(a,s){rc=a,Fh=Oa=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&s)!==0&&(ir=!0),a.firstContext=null)}function Mr(a){var s=a._currentValue;if(Fh!==a)if(a={context:a,memoizedValue:s,next:null},Oa===null){if(rc===null)throw Error(r(308));Oa=a,rc.dependencies={lanes:0,firstContext:a}}else Oa=Oa.next=a;return s}var _o=null;function $h(a){_o===null?_o=[a]:_o.push(a)}function Vw(a,s,c,p){var m=s.interleaved;return m===null?(c.next=c,$h(s)):(c.next=m.next,m.next=c),s.interleaved=c,ui(a,p)}function ui(a,s){a.lanes|=s;var c=a.alternate;for(c!==null&&(c.lanes|=s),c=a,a=a.return;a!==null;)a.childLanes|=s,c=a.alternate,c!==null&&(c.childLanes|=s),c=a,a=a.return;return c.tag===3?c.stateNode:null}var Ui=!1;function Wh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kw(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function li(a,s){return{eventTime:a,lane:s,tag:0,payload:null,callback:null,next:null}}function Fi(a,s,c){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(He&2)!==0){var m=p.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),p.pending=s,ui(a,c)}return m=p.interleaved,m===null?(s.next=s,$h(p)):(s.next=m.next,m.next=s),p.interleaved=s,ui(a,c)}function nc(a,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194240)!==0)){var p=s.lanes;p&=a.pendingLanes,c|=p,s.lanes=c,nh(a,c)}}function Yw(a,s){var c=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var m=null,g=null;if(c=c.firstBaseUpdate,c!==null){do{var I={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};g===null?m=g=I:g=g.next=I,c=c.next}while(c!==null);g===null?m=g=s:g=g.next=s}else m=g=s;c={baseState:p.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:p.shared,effects:p.effects},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=s:a.next=s,c.lastBaseUpdate=s}function ic(a,s,c,p){var m=a.updateQueue;Ui=!1;var g=m.firstBaseUpdate,I=m.lastBaseUpdate,N=m.shared.pending;if(N!==null){m.shared.pending=null;var L=N,G=L.next;L.next=null,I===null?g=G:I.next=G,I=L;var oe=a.alternate;oe!==null&&(oe=oe.updateQueue,N=oe.lastBaseUpdate,N!==I&&(N===null?oe.firstBaseUpdate=G:N.next=G,oe.lastBaseUpdate=L))}if(g!==null){var se=m.baseState;I=0,oe=G=L=null,N=g;do{var ie=N.lane,pe=N.eventTime;if((p&ie)===ie){oe!==null&&(oe=oe.next={eventTime:pe,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var ge=a,_e=N;switch(ie=s,pe=c,_e.tag){case 1:if(ge=_e.payload,typeof ge=="function"){se=ge.call(pe,se,ie);break e}se=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=_e.payload,ie=typeof ge=="function"?ge.call(pe,se,ie):ge,ie==null)break e;se=J({},se,ie);break e;case 2:Ui=!0}}N.callback!==null&&N.lane!==0&&(a.flags|=64,ie=m.effects,ie===null?m.effects=[N]:ie.push(N))}else pe={eventTime:pe,lane:ie,tag:N.tag,payload:N.payload,callback:N.callback,next:null},oe===null?(G=oe=pe,L=se):oe=oe.next=pe,I|=ie;if(N=N.next,N===null){if(N=m.shared.pending,N===null)break;ie=N,N=ie.next,ie.next=null,m.lastBaseUpdate=ie,m.shared.pending=null}}while(!0);if(oe===null&&(L=se),m.baseState=L,m.firstBaseUpdate=G,m.lastBaseUpdate=oe,s=m.shared.interleaved,s!==null){m=s;do I|=m.lane,m=m.next;while(m!==s)}else g===null&&(m.shared.lanes=0);Eo|=I,a.lanes=I,a.memoizedState=se}}function Jw(a,s,c){if(a=s.effects,s.effects=null,a!==null)for(s=0;s<a.length;s++){var p=a[s],m=p.callback;if(m!==null){if(p.callback=null,p=c,typeof m!="function")throw Error(r(191,m));m.call(p)}}}var Xs={},Un=Li(Xs),Zs=Li(Xs),eu=Li(Xs);function wo(a){if(a===Xs)throw Error(r(174));return a}function Hh(a,s){switch(et(eu,s),et(Zs,a),et(Un,Xs),a=s.nodeType,a){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:ln(null,"");break;default:a=a===8?s.parentNode:s,s=a.namespaceURI||null,a=a.tagName,s=ln(s,a)}rt(Un),et(Un,s)}function Ra(){rt(Un),rt(Zs),rt(eu)}function Qw(a){wo(eu.current);var s=wo(Un.current),c=ln(s,a.type);s!==c&&(et(Zs,a),et(Un,c))}function Gh(a){Zs.current===a&&(rt(Un),rt(Zs))}var st=Li(0);function oc(a){for(var s=a;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var zh=[];function Vh(){for(var a=0;a<zh.length;a++)zh[a]._workInProgressVersionPrimary=null;zh.length=0}var ac=C.ReactCurrentDispatcher,Kh=C.ReactCurrentBatchConfig,bo=0,ut=null,wt=null,Tt=null,sc=!1,tu=!1,ru=0,LN=0;function Ft(){throw Error(r(321))}function Yh(a,s){if(s===null)return!1;for(var c=0;c<s.length&&c<a.length;c++)if(!dn(a[c],s[c]))return!1;return!0}function Jh(a,s,c,p,m,g){if(bo=g,ut=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ac.current=a===null||a.memoizedState===null?FN:MN,a=c(p,m),tu){g=0;do{if(tu=!1,ru=0,25<=g)throw Error(r(301));g+=1,Tt=wt=null,s.updateQueue=null,ac.current=BN,a=c(p,m)}while(tu)}if(ac.current=cc,s=wt!==null&&wt.next!==null,bo=0,Tt=wt=ut=null,sc=!1,s)throw Error(r(300));return a}function Qh(){var a=ru!==0;return ru=0,a}function Fn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?ut.memoizedState=Tt=a:Tt=Tt.next=a,Tt}function Br(){if(wt===null){var a=ut.alternate;a=a!==null?a.memoizedState:null}else a=wt.next;var s=Tt===null?ut.memoizedState:Tt.next;if(s!==null)Tt=s,wt=a;else{if(a===null)throw Error(r(310));wt=a,a={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Tt===null?ut.memoizedState=Tt=a:Tt=Tt.next=a}return Tt}function nu(a,s){return typeof s=="function"?s(a):s}function Xh(a){var s=Br(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var p=wt,m=p.baseQueue,g=c.pending;if(g!==null){if(m!==null){var I=m.next;m.next=g.next,g.next=I}p.baseQueue=m=g,c.pending=null}if(m!==null){g=m.next,p=p.baseState;var N=I=null,L=null,G=g;do{var oe=G.lane;if((bo&oe)===oe)L!==null&&(L=L.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),p=G.hasEagerState?G.eagerState:a(p,G.action);else{var se={lane:oe,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};L===null?(N=L=se,I=p):L=L.next=se,ut.lanes|=oe,Eo|=oe}G=G.next}while(G!==null&&G!==g);L===null?I=p:L.next=N,dn(p,s.memoizedState)||(ir=!0),s.memoizedState=p,s.baseState=I,s.baseQueue=L,c.lastRenderedState=p}if(a=c.interleaved,a!==null){m=a;do g=m.lane,ut.lanes|=g,Eo|=g,m=m.next;while(m!==a)}else m===null&&(c.lanes=0);return[s.memoizedState,c.dispatch]}function Zh(a){var s=Br(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var p=c.dispatch,m=c.pending,g=s.memoizedState;if(m!==null){c.pending=null;var I=m=m.next;do g=a(g,I.action),I=I.next;while(I!==m);dn(g,s.memoizedState)||(ir=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),c.lastRenderedState=g}return[g,p]}function Xw(){}function Zw(a,s){var c=ut,p=Br(),m=s(),g=!dn(p.memoizedState,m);if(g&&(p.memoizedState=m,ir=!0),p=p.queue,ep(rb.bind(null,c,p,a),[a]),p.getSnapshot!==s||g||Tt!==null&&Tt.memoizedState.tag&1){if(c.flags|=2048,iu(9,tb.bind(null,c,p,m,s),void 0,null),Ot===null)throw Error(r(349));(bo&30)!==0||eb(c,s,m)}return m}function eb(a,s,c){a.flags|=16384,a={getSnapshot:s,value:c},s=ut.updateQueue,s===null?(s={lastEffect:null,stores:null},ut.updateQueue=s,s.stores=[a]):(c=s.stores,c===null?s.stores=[a]:c.push(a))}function tb(a,s,c,p){s.value=c,s.getSnapshot=p,nb(s)&&ib(a)}function rb(a,s,c){return c(function(){nb(s)&&ib(a)})}function nb(a){var s=a.getSnapshot;a=a.value;try{var c=s();return!dn(a,c)}catch{return!0}}function ib(a){var s=ui(a,1);s!==null&&mn(s,a,1,-1)}function ob(a){var s=Fn();return typeof a=="function"&&(a=a()),s.memoizedState=s.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nu,lastRenderedState:a},s.queue=a,a=a.dispatch=UN.bind(null,ut,a),[s.memoizedState,a]}function iu(a,s,c,p){return a={tag:a,create:s,destroy:c,deps:p,next:null},s=ut.updateQueue,s===null?(s={lastEffect:null,stores:null},ut.updateQueue=s,s.lastEffect=a.next=a):(c=s.lastEffect,c===null?s.lastEffect=a.next=a:(p=c.next,c.next=a,a.next=p,s.lastEffect=a)),a}function ab(){return Br().memoizedState}function uc(a,s,c,p){var m=Fn();ut.flags|=a,m.memoizedState=iu(1|s,c,void 0,p===void 0?null:p)}function lc(a,s,c,p){var m=Br();p=p===void 0?null:p;var g=void 0;if(wt!==null){var I=wt.memoizedState;if(g=I.destroy,p!==null&&Yh(p,I.deps)){m.memoizedState=iu(s,c,g,p);return}}ut.flags|=a,m.memoizedState=iu(1|s,c,g,p)}function sb(a,s){return uc(8390656,8,a,s)}function ep(a,s){return lc(2048,8,a,s)}function ub(a,s){return lc(4,2,a,s)}function lb(a,s){return lc(4,4,a,s)}function cb(a,s){if(typeof s=="function")return a=a(),s(a),function(){s(null)};if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function fb(a,s,c){return c=c!=null?c.concat([a]):null,lc(4,4,cb.bind(null,s,a),c)}function tp(){}function db(a,s){var c=Br();s=s===void 0?null:s;var p=c.memoizedState;return p!==null&&s!==null&&Yh(s,p[1])?p[0]:(c.memoizedState=[a,s],a)}function hb(a,s){var c=Br();s=s===void 0?null:s;var p=c.memoizedState;return p!==null&&s!==null&&Yh(s,p[1])?p[0]:(a=a(),c.memoizedState=[a,s],a)}function pb(a,s,c){return(bo&21)===0?(a.baseState&&(a.baseState=!1,ir=!0),a.memoizedState=c):(dn(c,s)||(c=H_(),ut.lanes|=c,Eo|=c,a.baseState=!0),s)}function jN(a,s){var c=Ke;Ke=c!==0&&4>c?c:4,a(!0);var p=Kh.transition;Kh.transition={};try{a(!1),s()}finally{Ke=c,Kh.transition=p}}function vb(){return Br().memoizedState}function DN(a,s,c){var p=$i(a);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},yb(a))mb(s,c);else if(c=Vw(a,s,c,p),c!==null){var m=Vt();mn(c,a,p,m),gb(c,s,p)}}function UN(a,s,c){var p=$i(a),m={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(yb(a))mb(s,m);else{var g=a.alternate;if(a.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var I=s.lastRenderedState,N=g(I,c);if(m.hasEagerState=!0,m.eagerState=N,dn(N,I)){var L=s.interleaved;L===null?(m.next=m,$h(s)):(m.next=L.next,L.next=m),s.interleaved=m;return}}catch{}finally{}c=Vw(a,s,m,p),c!==null&&(m=Vt(),mn(c,a,p,m),gb(c,s,p))}}function yb(a){var s=a.alternate;return a===ut||s!==null&&s===ut}function mb(a,s){tu=sc=!0;var c=a.pending;c===null?s.next=s:(s.next=c.next,c.next=s),a.pending=s}function gb(a,s,c){if((c&4194240)!==0){var p=s.lanes;p&=a.pendingLanes,c|=p,s.lanes=c,nh(a,c)}}var cc={readContext:Mr,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},FN={readContext:Mr,useCallback:function(a,s){return Fn().memoizedState=[a,s===void 0?null:s],a},useContext:Mr,useEffect:sb,useImperativeHandle:function(a,s,c){return c=c!=null?c.concat([a]):null,uc(4194308,4,cb.bind(null,s,a),c)},useLayoutEffect:function(a,s){return uc(4194308,4,a,s)},useInsertionEffect:function(a,s){return uc(4,2,a,s)},useMemo:function(a,s){var c=Fn();return s=s===void 0?null:s,a=a(),c.memoizedState=[a,s],a},useReducer:function(a,s,c){var p=Fn();return s=c!==void 0?c(s):s,p.memoizedState=p.baseState=s,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:s},p.queue=a,a=a.dispatch=DN.bind(null,ut,a),[p.memoizedState,a]},useRef:function(a){var s=Fn();return a={current:a},s.memoizedState=a},useState:ob,useDebugValue:tp,useDeferredValue:function(a){return Fn().memoizedState=a},useTransition:function(){var a=ob(!1),s=a[0];return a=jN.bind(null,a[1]),Fn().memoizedState=a,[s,a]},useMutableSource:function(){},useSyncExternalStore:function(a,s,c){var p=ut,m=Fn();if(ot){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),Ot===null)throw Error(r(349));(bo&30)!==0||eb(p,s,c)}m.memoizedState=c;var g={value:c,getSnapshot:s};return m.queue=g,sb(rb.bind(null,p,g,a),[a]),p.flags|=2048,iu(9,tb.bind(null,p,g,c,s),void 0,null),c},useId:function(){var a=Fn(),s=Ot.identifierPrefix;if(ot){var c=si,p=ai;c=(p&~(1<<32-fn(p)-1)).toString(32)+c,s=":"+s+"R"+c,c=ru++,0<c&&(s+="H"+c.toString(32)),s+=":"}else c=LN++,s=":"+s+"r"+c.toString(32)+":";return a.memoizedState=s},unstable_isNewReconciler:!1},MN={readContext:Mr,useCallback:db,useContext:Mr,useEffect:ep,useImperativeHandle:fb,useInsertionEffect:ub,useLayoutEffect:lb,useMemo:hb,useReducer:Xh,useRef:ab,useState:function(){return Xh(nu)},useDebugValue:tp,useDeferredValue:function(a){var s=Br();return pb(s,wt.memoizedState,a)},useTransition:function(){var a=Xh(nu)[0],s=Br().memoizedState;return[a,s]},useMutableSource:Xw,useSyncExternalStore:Zw,useId:vb,unstable_isNewReconciler:!1},BN={readContext:Mr,useCallback:db,useContext:Mr,useEffect:ep,useImperativeHandle:fb,useInsertionEffect:ub,useLayoutEffect:lb,useMemo:hb,useReducer:Zh,useRef:ab,useState:function(){return Zh(nu)},useDebugValue:tp,useDeferredValue:function(a){var s=Br();return wt===null?s.memoizedState=a:pb(s,wt.memoizedState,a)},useTransition:function(){var a=Zh(nu)[0],s=Br().memoizedState;return[a,s]},useMutableSource:Xw,useSyncExternalStore:Zw,useId:vb,unstable_isNewReconciler:!1};function pn(a,s){if(a&&a.defaultProps){s=J({},s),a=a.defaultProps;for(var c in a)s[c]===void 0&&(s[c]=a[c]);return s}return s}function rp(a,s,c,p){s=a.memoizedState,c=c(p,s),c=c==null?s:J({},s,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var fc={isMounted:function(a){return(a=a._reactInternals)?po(a)===a:!1},enqueueSetState:function(a,s,c){a=a._reactInternals;var p=Vt(),m=$i(a),g=li(p,m);g.payload=s,c!=null&&(g.callback=c),s=Fi(a,g,m),s!==null&&(mn(s,a,m,p),nc(s,a,m))},enqueueReplaceState:function(a,s,c){a=a._reactInternals;var p=Vt(),m=$i(a),g=li(p,m);g.tag=1,g.payload=s,c!=null&&(g.callback=c),s=Fi(a,g,m),s!==null&&(mn(s,a,m,p),nc(s,a,m))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var c=Vt(),p=$i(a),m=li(c,p);m.tag=2,s!=null&&(m.callback=s),s=Fi(a,m,p),s!==null&&(mn(s,a,p,c),nc(s,a,p))}};function _b(a,s,c,p,m,g,I){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,g,I):s.prototype&&s.prototype.isPureReactComponent?!Hs(c,p)||!Hs(m,g):!0}function wb(a,s,c){var p=!1,m=ji,g=s.contextType;return typeof g=="object"&&g!==null?g=Mr(g):(m=nr(s)?yo:Ut.current,p=s.contextTypes,g=(p=p!=null)?ba(a,m):ji),s=new s(c,g),a.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=fc,a.stateNode=s,s._reactInternals=a,p&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=m,a.__reactInternalMemoizedMaskedChildContext=g),s}function bb(a,s,c,p){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,p),s.state!==a&&fc.enqueueReplaceState(s,s.state,null)}function np(a,s,c,p){var m=a.stateNode;m.props=c,m.state=a.memoizedState,m.refs={},Wh(a);var g=s.contextType;typeof g=="object"&&g!==null?m.context=Mr(g):(g=nr(s)?yo:Ut.current,m.context=ba(a,g)),m.state=a.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(rp(a,s,g,c),m.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(s=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),s!==m.state&&fc.enqueueReplaceState(m,m.state,null),ic(a,c,m,p),m.state=a.memoizedState),typeof m.componentDidMount=="function"&&(a.flags|=4194308)}function Aa(a,s){try{var c="",p=s;do c+=te(p),p=p.return;while(p);var m=c}catch(g){m=`
Error generating stack: `+g.message+`
`+g.stack}return{value:a,source:s,stack:m,digest:null}}function ip(a,s,c){return{value:a,source:null,stack:c??null,digest:s??null}}function op(a,s){try{console.error(s.value)}catch(c){setTimeout(function(){throw c})}}var qN=typeof WeakMap=="function"?WeakMap:Map;function Eb(a,s,c){c=li(-1,c),c.tag=3,c.payload={element:null};var p=s.value;return c.callback=function(){gc||(gc=!0,wp=p),op(a,s)},c}function Sb(a,s,c){c=li(-1,c),c.tag=3;var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var m=s.value;c.payload=function(){return p(m)},c.callback=function(){op(a,s)}}var g=a.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(c.callback=function(){op(a,s),typeof p!="function"&&(Bi===null?Bi=new Set([this]):Bi.add(this));var I=s.stack;this.componentDidCatch(s.value,{componentStack:I!==null?I:""})}),c}function Ib(a,s,c){var p=a.pingCache;if(p===null){p=a.pingCache=new qN;var m=new Set;p.set(s,m)}else m=p.get(s),m===void 0&&(m=new Set,p.set(s,m));m.has(c)||(m.add(c),a=t3.bind(null,a,s,c),s.then(a,a))}function Tb(a){do{var s;if((s=a.tag===13)&&(s=a.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return a;a=a.return}while(a!==null);return null}function Ob(a,s,c,p,m){return(a.mode&1)===0?(a===s?a.flags|=65536:(a.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(s=li(-1,1),s.tag=2,Fi(c,s,1))),c.lanes|=1),a):(a.flags|=65536,a.lanes=m,a)}var $N=C.ReactCurrentOwner,ir=!1;function zt(a,s,c,p){s.child=a===null?zw(s,null,c,p):Ta(s,a.child,c,p)}function xb(a,s,c,p,m){c=c.render;var g=s.ref;return xa(s,m),p=Jh(a,s,c,p,g,m),c=Qh(),a!==null&&!ir?(s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~m,ci(a,s,m)):(ot&&c&&kh(s),s.flags|=1,zt(a,s,p,m),s.child)}function Rb(a,s,c,p,m){if(a===null){var g=c.type;return typeof g=="function"&&!xp(g)&&g.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(s.tag=15,s.type=g,Ab(a,s,g,p,m)):(a=Ic(c.type,null,p,s,s.mode,m),a.ref=s.ref,a.return=s,s.child=a)}if(g=a.child,(a.lanes&m)===0){var I=g.memoizedProps;if(c=c.compare,c=c!==null?c:Hs,c(I,p)&&a.ref===s.ref)return ci(a,s,m)}return s.flags|=1,a=Hi(g,p),a.ref=s.ref,a.return=s,s.child=a}function Ab(a,s,c,p,m){if(a!==null){var g=a.memoizedProps;if(Hs(g,p)&&a.ref===s.ref)if(ir=!1,s.pendingProps=p=g,(a.lanes&m)!==0)(a.flags&131072)!==0&&(ir=!0);else return s.lanes=a.lanes,ci(a,s,m)}return ap(a,s,c,p,m)}function Cb(a,s,c){var p=s.pendingProps,m=p.children,g=a!==null?a.memoizedState:null;if(p.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(Pa,xr),xr|=c;else{if((c&1073741824)===0)return a=g!==null?g.baseLanes|c:c,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:a,cachePool:null,transitions:null},s.updateQueue=null,et(Pa,xr),xr|=a,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=g!==null?g.baseLanes:c,et(Pa,xr),xr|=p}else g!==null?(p=g.baseLanes|c,s.memoizedState=null):p=c,et(Pa,xr),xr|=p;return zt(a,s,m,c),s.child}function Pb(a,s){var c=s.ref;(a===null&&c!==null||a!==null&&a.ref!==c)&&(s.flags|=512,s.flags|=2097152)}function ap(a,s,c,p,m){var g=nr(c)?yo:Ut.current;return g=ba(s,g),xa(s,m),c=Jh(a,s,c,p,g,m),p=Qh(),a!==null&&!ir?(s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~m,ci(a,s,m)):(ot&&p&&kh(s),s.flags|=1,zt(a,s,c,m),s.child)}function Nb(a,s,c,p,m){if(nr(c)){var g=!0;Yl(s)}else g=!1;if(xa(s,m),s.stateNode===null)hc(a,s),wb(s,c,p),np(s,c,p,m),p=!0;else if(a===null){var I=s.stateNode,N=s.memoizedProps;I.props=N;var L=I.context,G=c.contextType;typeof G=="object"&&G!==null?G=Mr(G):(G=nr(c)?yo:Ut.current,G=ba(s,G));var oe=c.getDerivedStateFromProps,se=typeof oe=="function"||typeof I.getSnapshotBeforeUpdate=="function";se||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(N!==p||L!==G)&&bb(s,I,p,G),Ui=!1;var ie=s.memoizedState;I.state=ie,ic(s,p,I,m),L=s.memoizedState,N!==p||ie!==L||rr.current||Ui?(typeof oe=="function"&&(rp(s,c,oe,p),L=s.memoizedState),(N=Ui||_b(s,c,N,p,ie,L,G))?(se||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(s.flags|=4194308)):(typeof I.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=L),I.props=p,I.state=L,I.context=G,p=N):(typeof I.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{I=s.stateNode,Kw(a,s),N=s.memoizedProps,G=s.type===s.elementType?N:pn(s.type,N),I.props=G,se=s.pendingProps,ie=I.context,L=c.contextType,typeof L=="object"&&L!==null?L=Mr(L):(L=nr(c)?yo:Ut.current,L=ba(s,L));var pe=c.getDerivedStateFromProps;(oe=typeof pe=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(N!==se||ie!==L)&&bb(s,I,p,L),Ui=!1,ie=s.memoizedState,I.state=ie,ic(s,p,I,m);var ge=s.memoizedState;N!==se||ie!==ge||rr.current||Ui?(typeof pe=="function"&&(rp(s,c,pe,p),ge=s.memoizedState),(G=Ui||_b(s,c,G,p,ie,ge,L)||!1)?(oe||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(p,ge,L),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(p,ge,L)),typeof I.componentDidUpdate=="function"&&(s.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof I.componentDidUpdate!="function"||N===a.memoizedProps&&ie===a.memoizedState||(s.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&ie===a.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=ge),I.props=p,I.state=ge,I.context=L,p=G):(typeof I.componentDidUpdate!="function"||N===a.memoizedProps&&ie===a.memoizedState||(s.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&ie===a.memoizedState||(s.flags|=1024),p=!1)}return sp(a,s,c,p,g,m)}function sp(a,s,c,p,m,g){Pb(a,s);var I=(s.flags&128)!==0;if(!p&&!I)return m&&Uw(s,c,!1),ci(a,s,g);p=s.stateNode,$N.current=s;var N=I&&typeof c.getDerivedStateFromError!="function"?null:p.render();return s.flags|=1,a!==null&&I?(s.child=Ta(s,a.child,null,g),s.child=Ta(s,null,N,g)):zt(a,s,N,g),s.memoizedState=p.state,m&&Uw(s,c,!0),s.child}function kb(a){var s=a.stateNode;s.pendingContext?jw(a,s.pendingContext,s.pendingContext!==s.context):s.context&&jw(a,s.context,!1),Hh(a,s.containerInfo)}function Lb(a,s,c,p,m){return Ia(),Uh(m),s.flags|=256,zt(a,s,c,p),s.child}var up={dehydrated:null,treeContext:null,retryLane:0};function lp(a){return{baseLanes:a,cachePool:null,transitions:null}}function jb(a,s,c){var p=s.pendingProps,m=st.current,g=!1,I=(s.flags&128)!==0,N;if((N=I)||(N=a!==null&&a.memoizedState===null?!1:(m&2)!==0),N?(g=!0,s.flags&=-129):(a===null||a.memoizedState!==null)&&(m|=1),et(st,m&1),a===null)return Dh(s),a=s.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((s.mode&1)===0?s.lanes=1:a.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(I=p.children,a=p.fallback,g?(p=s.mode,g=s.child,I={mode:"hidden",children:I},(p&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=I):g=Tc(I,p,0,null),a=Oo(a,p,c,null),g.return=s,a.return=s,g.sibling=a,s.child=g,s.child.memoizedState=lp(c),s.memoizedState=up,a):cp(s,I));if(m=a.memoizedState,m!==null&&(N=m.dehydrated,N!==null))return WN(a,s,I,p,N,m,c);if(g){g=p.fallback,I=s.mode,m=a.child,N=m.sibling;var L={mode:"hidden",children:p.children};return(I&1)===0&&s.child!==m?(p=s.child,p.childLanes=0,p.pendingProps=L,s.deletions=null):(p=Hi(m,L),p.subtreeFlags=m.subtreeFlags&14680064),N!==null?g=Hi(N,g):(g=Oo(g,I,c,null),g.flags|=2),g.return=s,p.return=s,p.sibling=g,s.child=p,p=g,g=s.child,I=a.child.memoizedState,I=I===null?lp(c):{baseLanes:I.baseLanes|c,cachePool:null,transitions:I.transitions},g.memoizedState=I,g.childLanes=a.childLanes&~c,s.memoizedState=up,p}return g=a.child,a=g.sibling,p=Hi(g,{mode:"visible",children:p.children}),(s.mode&1)===0&&(p.lanes=c),p.return=s,p.sibling=null,a!==null&&(c=s.deletions,c===null?(s.deletions=[a],s.flags|=16):c.push(a)),s.child=p,s.memoizedState=null,p}function cp(a,s){return s=Tc({mode:"visible",children:s},a.mode,0,null),s.return=a,a.child=s}function dc(a,s,c,p){return p!==null&&Uh(p),Ta(s,a.child,null,c),a=cp(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function WN(a,s,c,p,m,g,I){if(c)return s.flags&256?(s.flags&=-257,p=ip(Error(r(422))),dc(a,s,I,p)):s.memoizedState!==null?(s.child=a.child,s.flags|=128,null):(g=p.fallback,m=s.mode,p=Tc({mode:"visible",children:p.children},m,0,null),g=Oo(g,m,I,null),g.flags|=2,p.return=s,g.return=s,p.sibling=g,s.child=p,(s.mode&1)!==0&&Ta(s,a.child,null,I),s.child.memoizedState=lp(I),s.memoizedState=up,g);if((s.mode&1)===0)return dc(a,s,I,null);if(m.data==="$!"){if(p=m.nextSibling&&m.nextSibling.dataset,p)var N=p.dgst;return p=N,g=Error(r(419)),p=ip(g,p,void 0),dc(a,s,I,p)}if(N=(I&a.childLanes)!==0,ir||N){if(p=Ot,p!==null){switch(I&-I){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(p.suspendedLanes|I))!==0?0:m,m!==0&&m!==g.retryLane&&(g.retryLane=m,ui(a,m),mn(p,a,m,-1))}return Op(),p=ip(Error(r(421))),dc(a,s,I,p)}return m.data==="$?"?(s.flags|=128,s.child=a.child,s=r3.bind(null,a),m._reactRetry=s,null):(a=g.treeContext,Or=ki(m.nextSibling),Tr=s,ot=!0,hn=null,a!==null&&(Ur[Fr++]=ai,Ur[Fr++]=si,Ur[Fr++]=mo,ai=a.id,si=a.overflow,mo=s),s=cp(s,p.children),s.flags|=4096,s)}function Db(a,s,c){a.lanes|=s;var p=a.alternate;p!==null&&(p.lanes|=s),qh(a.return,s,c)}function fp(a,s,c,p,m){var g=a.memoizedState;g===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:m}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=p,g.tail=c,g.tailMode=m)}function Ub(a,s,c){var p=s.pendingProps,m=p.revealOrder,g=p.tail;if(zt(a,s,p.children,c),p=st.current,(p&2)!==0)p=p&1|2,s.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Db(a,c,s);else if(a.tag===19)Db(a,c,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}p&=1}if(et(st,p),(s.mode&1)===0)s.memoizedState=null;else switch(m){case"forwards":for(c=s.child,m=null;c!==null;)a=c.alternate,a!==null&&oc(a)===null&&(m=c),c=c.sibling;c=m,c===null?(m=s.child,s.child=null):(m=c.sibling,c.sibling=null),fp(s,!1,m,c,g);break;case"backwards":for(c=null,m=s.child,s.child=null;m!==null;){if(a=m.alternate,a!==null&&oc(a)===null){s.child=m;break}a=m.sibling,m.sibling=c,c=m,m=a}fp(s,!0,c,null,g);break;case"together":fp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function hc(a,s){(s.mode&1)===0&&a!==null&&(a.alternate=null,s.alternate=null,s.flags|=2)}function ci(a,s,c){if(a!==null&&(s.dependencies=a.dependencies),Eo|=s.lanes,(c&s.childLanes)===0)return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,c=Hi(a,a.pendingProps),s.child=c,c.return=s;a.sibling!==null;)a=a.sibling,c=c.sibling=Hi(a,a.pendingProps),c.return=s;c.sibling=null}return s.child}function HN(a,s,c){switch(s.tag){case 3:kb(s),Ia();break;case 5:Qw(s);break;case 1:nr(s.type)&&Yl(s);break;case 4:Hh(s,s.stateNode.containerInfo);break;case 10:var p=s.type._context,m=s.memoizedProps.value;et(tc,p._currentValue),p._currentValue=m;break;case 13:if(p=s.memoizedState,p!==null)return p.dehydrated!==null?(et(st,st.current&1),s.flags|=128,null):(c&s.child.childLanes)!==0?jb(a,s,c):(et(st,st.current&1),a=ci(a,s,c),a!==null?a.sibling:null);et(st,st.current&1);break;case 19:if(p=(c&s.childLanes)!==0,(a.flags&128)!==0){if(p)return Ub(a,s,c);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),et(st,st.current),p)break;return null;case 22:case 23:return s.lanes=0,Cb(a,s,c)}return ci(a,s,c)}var Fb,dp,Mb,Bb;Fb=function(a,s){for(var c=s.child;c!==null;){if(c.tag===5||c.tag===6)a.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},dp=function(){},Mb=function(a,s,c,p){var m=a.memoizedProps;if(m!==p){a=s.stateNode,wo(Un.current);var g=null;switch(c){case"input":m=Sr(a,m),p=Sr(a,p),g=[];break;case"select":m=J({},m,{value:void 0}),p=J({},p,{value:void 0}),g=[];break;case"textarea":m=je(a,m),p=je(a,p),g=[];break;default:typeof m.onClick!="function"&&typeof p.onClick=="function"&&(a.onclick=zl)}zd(c,p);var I;c=null;for(G in m)if(!p.hasOwnProperty(G)&&m.hasOwnProperty(G)&&m[G]!=null)if(G==="style"){var N=m[G];for(I in N)N.hasOwnProperty(I)&&(c||(c={}),c[I]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(o.hasOwnProperty(G)?g||(g=[]):(g=g||[]).push(G,null));for(G in p){var L=p[G];if(N=m!=null?m[G]:void 0,p.hasOwnProperty(G)&&L!==N&&(L!=null||N!=null))if(G==="style")if(N){for(I in N)!N.hasOwnProperty(I)||L&&L.hasOwnProperty(I)||(c||(c={}),c[I]="");for(I in L)L.hasOwnProperty(I)&&N[I]!==L[I]&&(c||(c={}),c[I]=L[I])}else c||(g||(g=[]),g.push(G,c)),c=L;else G==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,N=N?N.__html:void 0,L!=null&&N!==L&&(g=g||[]).push(G,L)):G==="children"?typeof L!="string"&&typeof L!="number"||(g=g||[]).push(G,""+L):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(o.hasOwnProperty(G)?(L!=null&&G==="onScroll"&&tt("scroll",a),g||N===L||(g=[])):(g=g||[]).push(G,L))}c&&(g=g||[]).push("style",c);var G=g;(s.updateQueue=G)&&(s.flags|=4)}},Bb=function(a,s,c,p){c!==p&&(s.flags|=4)};function ou(a,s){if(!ot)switch(a.tailMode){case"hidden":s=a.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function Mt(a){var s=a.alternate!==null&&a.alternate.child===a.child,c=0,p=0;if(s)for(var m=a.child;m!==null;)c|=m.lanes|m.childLanes,p|=m.subtreeFlags&14680064,p|=m.flags&14680064,m.return=a,m=m.sibling;else for(m=a.child;m!==null;)c|=m.lanes|m.childLanes,p|=m.subtreeFlags,p|=m.flags,m.return=a,m=m.sibling;return a.subtreeFlags|=p,a.childLanes=c,s}function GN(a,s,c){var p=s.pendingProps;switch(Lh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(s),null;case 1:return nr(s.type)&&Kl(),Mt(s),null;case 3:return p=s.stateNode,Ra(),rt(rr),rt(Ut),Vh(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(a===null||a.child===null)&&(Zl(s)?s.flags|=4:a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,hn!==null&&(Sp(hn),hn=null))),dp(a,s),Mt(s),null;case 5:Gh(s);var m=wo(eu.current);if(c=s.type,a!==null&&s.stateNode!=null)Mb(a,s,c,p,m),a.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!p){if(s.stateNode===null)throw Error(r(166));return Mt(s),null}if(a=wo(Un.current),Zl(s)){p=s.stateNode,c=s.type;var g=s.memoizedProps;switch(p[Dn]=s,p[Ys]=g,a=(s.mode&1)!==0,c){case"dialog":tt("cancel",p),tt("close",p);break;case"iframe":case"object":case"embed":tt("load",p);break;case"video":case"audio":for(m=0;m<zs.length;m++)tt(zs[m],p);break;case"source":tt("error",p);break;case"img":case"image":case"link":tt("error",p),tt("load",p);break;case"details":tt("toggle",p);break;case"input":R(p,g),tt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!g.multiple},tt("invalid",p);break;case"textarea":De(p,g),tt("invalid",p)}zd(c,g),m=null;for(var I in g)if(g.hasOwnProperty(I)){var N=g[I];I==="children"?typeof N=="string"?p.textContent!==N&&(g.suppressHydrationWarning!==!0&&Gl(p.textContent,N,a),m=["children",N]):typeof N=="number"&&p.textContent!==""+N&&(g.suppressHydrationWarning!==!0&&Gl(p.textContent,N,a),m=["children",""+N]):o.hasOwnProperty(I)&&N!=null&&I==="onScroll"&&tt("scroll",p)}switch(c){case"input":Ye(p),P(p,g,!0);break;case"textarea":Ye(p),it(p);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(p.onclick=zl)}p=m,s.updateQueue=p,p!==null&&(s.flags|=4)}else{I=m.nodeType===9?m:m.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Je(c)),a==="http://www.w3.org/1999/xhtml"?c==="script"?(a=I.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof p.is=="string"?a=I.createElement(c,{is:p.is}):(a=I.createElement(c),c==="select"&&(I=a,p.multiple?I.multiple=!0:p.size&&(I.size=p.size))):a=I.createElementNS(a,c),a[Dn]=s,a[Ys]=p,Fb(a,s,!1,!1),s.stateNode=a;e:{switch(I=Vd(c,p),c){case"dialog":tt("cancel",a),tt("close",a),m=p;break;case"iframe":case"object":case"embed":tt("load",a),m=p;break;case"video":case"audio":for(m=0;m<zs.length;m++)tt(zs[m],a);m=p;break;case"source":tt("error",a),m=p;break;case"img":case"image":case"link":tt("error",a),tt("load",a),m=p;break;case"details":tt("toggle",a),m=p;break;case"input":R(a,p),m=Sr(a,p),tt("invalid",a);break;case"option":m=p;break;case"select":a._wrapperState={wasMultiple:!!p.multiple},m=J({},p,{value:void 0}),tt("invalid",a);break;case"textarea":De(a,p),m=je(a,p),tt("invalid",a);break;default:m=p}zd(c,m),N=m;for(g in N)if(N.hasOwnProperty(g)){var L=N[g];g==="style"?Ln(a,L):g==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&Ti(a,L)):g==="children"?typeof L=="string"?(c!=="textarea"||L!=="")&&Oi(a,L):typeof L=="number"&&Oi(a,""+L):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?L!=null&&g==="onScroll"&&tt("scroll",a):L!=null&&A(a,g,L,I))}switch(c){case"input":Ye(a),P(a,p,!1);break;case"textarea":Ye(a),it(a);break;case"option":p.value!=null&&a.setAttribute("value",""+de(p.value));break;case"select":a.multiple=!!p.multiple,g=p.value,g!=null?ae(a,!!p.multiple,g,!1):p.defaultValue!=null&&ae(a,!!p.multiple,p.defaultValue,!0);break;default:typeof m.onClick=="function"&&(a.onclick=zl)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Mt(s),null;case 6:if(a&&s.stateNode!=null)Bb(a,s,a.memoizedProps,p);else{if(typeof p!="string"&&s.stateNode===null)throw Error(r(166));if(c=wo(eu.current),wo(Un.current),Zl(s)){if(p=s.stateNode,c=s.memoizedProps,p[Dn]=s,(g=p.nodeValue!==c)&&(a=Tr,a!==null))switch(a.tag){case 3:Gl(p.nodeValue,c,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Gl(p.nodeValue,c,(a.mode&1)!==0)}g&&(s.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[Dn]=s,s.stateNode=p}return Mt(s),null;case 13:if(rt(st),p=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(ot&&Or!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Ww(),Ia(),s.flags|=98560,g=!1;else if(g=Zl(s),p!==null&&p.dehydrated!==null){if(a===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Dn]=s}else Ia(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Mt(s),g=!1}else hn!==null&&(Sp(hn),hn=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=c,s):(p=p!==null,p!==(a!==null&&a.memoizedState!==null)&&p&&(s.child.flags|=8192,(s.mode&1)!==0&&(a===null||(st.current&1)!==0?bt===0&&(bt=3):Op())),s.updateQueue!==null&&(s.flags|=4),Mt(s),null);case 4:return Ra(),dp(a,s),a===null&&Vs(s.stateNode.containerInfo),Mt(s),null;case 10:return Bh(s.type._context),Mt(s),null;case 17:return nr(s.type)&&Kl(),Mt(s),null;case 19:if(rt(st),g=s.memoizedState,g===null)return Mt(s),null;if(p=(s.flags&128)!==0,I=g.rendering,I===null)if(p)ou(g,!1);else{if(bt!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(I=oc(a),I!==null){for(s.flags|=128,ou(g,!1),p=I.updateQueue,p!==null&&(s.updateQueue=p,s.flags|=4),s.subtreeFlags=0,p=c,c=s.child;c!==null;)g=c,a=p,g.flags&=14680066,I=g.alternate,I===null?(g.childLanes=0,g.lanes=a,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=I.childLanes,g.lanes=I.lanes,g.child=I.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=I.memoizedProps,g.memoizedState=I.memoizedState,g.updateQueue=I.updateQueue,g.type=I.type,a=I.dependencies,g.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;return et(st,st.current&1|2),s.child}a=a.sibling}g.tail!==null&&dt()>Na&&(s.flags|=128,p=!0,ou(g,!1),s.lanes=4194304)}else{if(!p)if(a=oc(I),a!==null){if(s.flags|=128,p=!0,c=a.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),ou(g,!0),g.tail===null&&g.tailMode==="hidden"&&!I.alternate&&!ot)return Mt(s),null}else 2*dt()-g.renderingStartTime>Na&&c!==1073741824&&(s.flags|=128,p=!0,ou(g,!1),s.lanes=4194304);g.isBackwards?(I.sibling=s.child,s.child=I):(c=g.last,c!==null?c.sibling=I:s.child=I,g.last=I)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=dt(),s.sibling=null,c=st.current,et(st,p?c&1|2:c&1),s):(Mt(s),null);case 22:case 23:return Tp(),p=s.memoizedState!==null,a!==null&&a.memoizedState!==null!==p&&(s.flags|=8192),p&&(s.mode&1)!==0?(xr&1073741824)!==0&&(Mt(s),s.subtreeFlags&6&&(s.flags|=8192)):Mt(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function zN(a,s){switch(Lh(s),s.tag){case 1:return nr(s.type)&&Kl(),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return Ra(),rt(rr),rt(Ut),Vh(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 5:return Gh(s),null;case 13:if(rt(st),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ia()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return rt(st),null;case 4:return Ra(),null;case 10:return Bh(s.type._context),null;case 22:case 23:return Tp(),null;case 24:return null;default:return null}}var pc=!1,Bt=!1,VN=typeof WeakSet=="function"?WeakSet:Set,me=null;function Ca(a,s){var c=a.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){lt(a,s,p)}else c.current=null}function hp(a,s,c){try{c()}catch(p){lt(a,s,p)}}var qb=!1;function KN(a,s){if(Th=Ll,a=_w(),mh(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var m=p.anchorOffset,g=p.focusNode;p=p.focusOffset;try{c.nodeType,g.nodeType}catch{c=null;break e}var I=0,N=-1,L=-1,G=0,oe=0,se=a,ie=null;t:for(;;){for(var pe;se!==c||m!==0&&se.nodeType!==3||(N=I+m),se!==g||p!==0&&se.nodeType!==3||(L=I+p),se.nodeType===3&&(I+=se.nodeValue.length),(pe=se.firstChild)!==null;)ie=se,se=pe;for(;;){if(se===a)break t;if(ie===c&&++G===m&&(N=I),ie===g&&++oe===p&&(L=I),(pe=se.nextSibling)!==null)break;se=ie,ie=se.parentNode}se=pe}c=N===-1||L===-1?null:{start:N,end:L}}else c=null}c=c||{start:0,end:0}}else c=null;for(Oh={focusedElem:a,selectionRange:c},Ll=!1,me=s;me!==null;)if(s=me,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,me=a;else for(;me!==null;){s=me;try{var ge=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var _e=ge.memoizedProps,ht=ge.memoizedState,B=s.stateNode,D=B.getSnapshotBeforeUpdate(s.elementType===s.type?_e:pn(s.type,_e),ht);B.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var W=s.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(le){lt(s,s.return,le)}if(a=s.sibling,a!==null){a.return=s.return,me=a;break}me=s.return}return ge=qb,qb=!1,ge}function au(a,s,c){var p=s.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var m=p=p.next;do{if((m.tag&a)===a){var g=m.destroy;m.destroy=void 0,g!==void 0&&hp(s,c,g)}m=m.next}while(m!==p)}}function vc(a,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var c=s=s.next;do{if((c.tag&a)===a){var p=c.create;c.destroy=p()}c=c.next}while(c!==s)}}function pp(a){var s=a.ref;if(s!==null){var c=a.stateNode;switch(a.tag){case 5:a=c;break;default:a=c}typeof s=="function"?s(a):s.current=a}}function $b(a){var s=a.alternate;s!==null&&(a.alternate=null,$b(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&(delete s[Dn],delete s[Ys],delete s[Ch],delete s[CN],delete s[PN])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Wb(a){return a.tag===5||a.tag===3||a.tag===4}function Hb(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Wb(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function vp(a,s,c){var p=a.tag;if(p===5||p===6)a=a.stateNode,s?c.nodeType===8?c.parentNode.insertBefore(a,s):c.insertBefore(a,s):(c.nodeType===8?(s=c.parentNode,s.insertBefore(a,c)):(s=c,s.appendChild(a)),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=zl));else if(p!==4&&(a=a.child,a!==null))for(vp(a,s,c),a=a.sibling;a!==null;)vp(a,s,c),a=a.sibling}function yp(a,s,c){var p=a.tag;if(p===5||p===6)a=a.stateNode,s?c.insertBefore(a,s):c.appendChild(a);else if(p!==4&&(a=a.child,a!==null))for(yp(a,s,c),a=a.sibling;a!==null;)yp(a,s,c),a=a.sibling}var kt=null,vn=!1;function Mi(a,s,c){for(c=c.child;c!==null;)Gb(a,s,c),c=c.sibling}function Gb(a,s,c){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(Rl,c)}catch{}switch(c.tag){case 5:Bt||Ca(c,s);case 6:var p=kt,m=vn;kt=null,Mi(a,s,c),kt=p,vn=m,kt!==null&&(vn?(a=kt,c=c.stateNode,a.nodeType===8?a.parentNode.removeChild(c):a.removeChild(c)):kt.removeChild(c.stateNode));break;case 18:kt!==null&&(vn?(a=kt,c=c.stateNode,a.nodeType===8?Ah(a.parentNode,c):a.nodeType===1&&Ah(a,c),Fs(a)):Ah(kt,c.stateNode));break;case 4:p=kt,m=vn,kt=c.stateNode.containerInfo,vn=!0,Mi(a,s,c),kt=p,vn=m;break;case 0:case 11:case 14:case 15:if(!Bt&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){m=p=p.next;do{var g=m,I=g.destroy;g=g.tag,I!==void 0&&((g&2)!==0||(g&4)!==0)&&hp(c,s,I),m=m.next}while(m!==p)}Mi(a,s,c);break;case 1:if(!Bt&&(Ca(c,s),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(N){lt(c,s,N)}Mi(a,s,c);break;case 21:Mi(a,s,c);break;case 22:c.mode&1?(Bt=(p=Bt)||c.memoizedState!==null,Mi(a,s,c),Bt=p):Mi(a,s,c);break;default:Mi(a,s,c)}}function zb(a){var s=a.updateQueue;if(s!==null){a.updateQueue=null;var c=a.stateNode;c===null&&(c=a.stateNode=new VN),s.forEach(function(p){var m=n3.bind(null,a,p);c.has(p)||(c.add(p),p.then(m,m))})}}function yn(a,s){var c=s.deletions;if(c!==null)for(var p=0;p<c.length;p++){var m=c[p];try{var g=a,I=s,N=I;e:for(;N!==null;){switch(N.tag){case 5:kt=N.stateNode,vn=!1;break e;case 3:kt=N.stateNode.containerInfo,vn=!0;break e;case 4:kt=N.stateNode.containerInfo,vn=!0;break e}N=N.return}if(kt===null)throw Error(r(160));Gb(g,I,m),kt=null,vn=!1;var L=m.alternate;L!==null&&(L.return=null),m.return=null}catch(G){lt(m,s,G)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Vb(s,a),s=s.sibling}function Vb(a,s){var c=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(yn(s,a),Mn(a),p&4){try{au(3,a,a.return),vc(3,a)}catch(_e){lt(a,a.return,_e)}try{au(5,a,a.return)}catch(_e){lt(a,a.return,_e)}}break;case 1:yn(s,a),Mn(a),p&512&&c!==null&&Ca(c,c.return);break;case 5:if(yn(s,a),Mn(a),p&512&&c!==null&&Ca(c,c.return),a.flags&32){var m=a.stateNode;try{Oi(m,"")}catch(_e){lt(a,a.return,_e)}}if(p&4&&(m=a.stateNode,m!=null)){var g=a.memoizedProps,I=c!==null?c.memoizedProps:g,N=a.type,L=a.updateQueue;if(a.updateQueue=null,L!==null)try{N==="input"&&g.type==="radio"&&g.name!=null&&b(m,g),Vd(N,I);var G=Vd(N,g);for(I=0;I<L.length;I+=2){var oe=L[I],se=L[I+1];oe==="style"?Ln(m,se):oe==="dangerouslySetInnerHTML"?Ti(m,se):oe==="children"?Oi(m,se):A(m,oe,se,G)}switch(N){case"input":E(m,g);break;case"textarea":Ge(m,g);break;case"select":var ie=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!g.multiple;var pe=g.value;pe!=null?ae(m,!!g.multiple,pe,!1):ie!==!!g.multiple&&(g.defaultValue!=null?ae(m,!!g.multiple,g.defaultValue,!0):ae(m,!!g.multiple,g.multiple?[]:"",!1))}m[Ys]=g}catch(_e){lt(a,a.return,_e)}}break;case 6:if(yn(s,a),Mn(a),p&4){if(a.stateNode===null)throw Error(r(162));m=a.stateNode,g=a.memoizedProps;try{m.nodeValue=g}catch(_e){lt(a,a.return,_e)}}break;case 3:if(yn(s,a),Mn(a),p&4&&c!==null&&c.memoizedState.isDehydrated)try{Fs(s.containerInfo)}catch(_e){lt(a,a.return,_e)}break;case 4:yn(s,a),Mn(a);break;case 13:yn(s,a),Mn(a),m=a.child,m.flags&8192&&(g=m.memoizedState!==null,m.stateNode.isHidden=g,!g||m.alternate!==null&&m.alternate.memoizedState!==null||(_p=dt())),p&4&&zb(a);break;case 22:if(oe=c!==null&&c.memoizedState!==null,a.mode&1?(Bt=(G=Bt)||oe,yn(s,a),Bt=G):yn(s,a),Mn(a),p&8192){if(G=a.memoizedState!==null,(a.stateNode.isHidden=G)&&!oe&&(a.mode&1)!==0)for(me=a,oe=a.child;oe!==null;){for(se=me=oe;me!==null;){switch(ie=me,pe=ie.child,ie.tag){case 0:case 11:case 14:case 15:au(4,ie,ie.return);break;case 1:Ca(ie,ie.return);var ge=ie.stateNode;if(typeof ge.componentWillUnmount=="function"){p=ie,c=ie.return;try{s=p,ge.props=s.memoizedProps,ge.state=s.memoizedState,ge.componentWillUnmount()}catch(_e){lt(p,c,_e)}}break;case 5:Ca(ie,ie.return);break;case 22:if(ie.memoizedState!==null){Jb(se);continue}}pe!==null?(pe.return=ie,me=pe):Jb(se)}oe=oe.sibling}e:for(oe=null,se=a;;){if(se.tag===5){if(oe===null){oe=se;try{m=se.stateNode,G?(g=m.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(N=se.stateNode,L=se.memoizedProps.style,I=L!=null&&L.hasOwnProperty("display")?L.display:null,N.style.display=cn("display",I))}catch(_e){lt(a,a.return,_e)}}}else if(se.tag===6){if(oe===null)try{se.stateNode.nodeValue=G?"":se.memoizedProps}catch(_e){lt(a,a.return,_e)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===a)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===a)break e;for(;se.sibling===null;){if(se.return===null||se.return===a)break e;oe===se&&(oe=null),se=se.return}oe===se&&(oe=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:yn(s,a),Mn(a),p&4&&zb(a);break;case 21:break;default:yn(s,a),Mn(a)}}function Mn(a){var s=a.flags;if(s&2){try{e:{for(var c=a.return;c!==null;){if(Wb(c)){var p=c;break e}c=c.return}throw Error(r(160))}switch(p.tag){case 5:var m=p.stateNode;p.flags&32&&(Oi(m,""),p.flags&=-33);var g=Hb(a);yp(a,g,m);break;case 3:case 4:var I=p.stateNode.containerInfo,N=Hb(a);vp(a,N,I);break;default:throw Error(r(161))}}catch(L){lt(a,a.return,L)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function YN(a,s,c){me=a,Kb(a)}function Kb(a,s,c){for(var p=(a.mode&1)!==0;me!==null;){var m=me,g=m.child;if(m.tag===22&&p){var I=m.memoizedState!==null||pc;if(!I){var N=m.alternate,L=N!==null&&N.memoizedState!==null||Bt;N=pc;var G=Bt;if(pc=I,(Bt=L)&&!G)for(me=m;me!==null;)I=me,L=I.child,I.tag===22&&I.memoizedState!==null?Qb(m):L!==null?(L.return=I,me=L):Qb(m);for(;g!==null;)me=g,Kb(g),g=g.sibling;me=m,pc=N,Bt=G}Yb(a)}else(m.subtreeFlags&8772)!==0&&g!==null?(g.return=m,me=g):Yb(a)}}function Yb(a){for(;me!==null;){var s=me;if((s.flags&8772)!==0){var c=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Bt||vc(5,s);break;case 1:var p=s.stateNode;if(s.flags&4&&!Bt)if(c===null)p.componentDidMount();else{var m=s.elementType===s.type?c.memoizedProps:pn(s.type,c.memoizedProps);p.componentDidUpdate(m,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Jw(s,g,p);break;case 3:var I=s.updateQueue;if(I!==null){if(c=null,s.child!==null)switch(s.child.tag){case 5:c=s.child.stateNode;break;case 1:c=s.child.stateNode}Jw(s,I,c)}break;case 5:var N=s.stateNode;if(c===null&&s.flags&4){c=N;var L=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&c.focus();break;case"img":L.src&&(c.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var G=s.alternate;if(G!==null){var oe=G.memoizedState;if(oe!==null){var se=oe.dehydrated;se!==null&&Fs(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Bt||s.flags&512&&pp(s)}catch(ie){lt(s,s.return,ie)}}if(s===a){me=null;break}if(c=s.sibling,c!==null){c.return=s.return,me=c;break}me=s.return}}function Jb(a){for(;me!==null;){var s=me;if(s===a){me=null;break}var c=s.sibling;if(c!==null){c.return=s.return,me=c;break}me=s.return}}function Qb(a){for(;me!==null;){var s=me;try{switch(s.tag){case 0:case 11:case 15:var c=s.return;try{vc(4,s)}catch(L){lt(s,c,L)}break;case 1:var p=s.stateNode;if(typeof p.componentDidMount=="function"){var m=s.return;try{p.componentDidMount()}catch(L){lt(s,m,L)}}var g=s.return;try{pp(s)}catch(L){lt(s,g,L)}break;case 5:var I=s.return;try{pp(s)}catch(L){lt(s,I,L)}}}catch(L){lt(s,s.return,L)}if(s===a){me=null;break}var N=s.sibling;if(N!==null){N.return=s.return,me=N;break}me=s.return}}var JN=Math.ceil,yc=C.ReactCurrentDispatcher,mp=C.ReactCurrentOwner,qr=C.ReactCurrentBatchConfig,He=0,Ot=null,vt=null,Lt=0,xr=0,Pa=Li(0),bt=0,su=null,Eo=0,mc=0,gp=0,uu=null,or=null,_p=0,Na=1/0,fi=null,gc=!1,wp=null,Bi=null,_c=!1,qi=null,wc=0,lu=0,bp=null,bc=-1,Ec=0;function Vt(){return(He&6)!==0?dt():bc!==-1?bc:bc=dt()}function $i(a){return(a.mode&1)===0?1:(He&2)!==0&&Lt!==0?Lt&-Lt:kN.transition!==null?(Ec===0&&(Ec=H_()),Ec):(a=Ke,a!==0||(a=window.event,a=a===void 0?16:Z_(a.type)),a)}function mn(a,s,c,p){if(50<lu)throw lu=0,bp=null,Error(r(185));ks(a,c,p),((He&2)===0||a!==Ot)&&(a===Ot&&((He&2)===0&&(mc|=c),bt===4&&Wi(a,Lt)),ar(a,p),c===1&&He===0&&(s.mode&1)===0&&(Na=dt()+500,Jl&&Di()))}function ar(a,s){var c=a.callbackNode;kP(a,s);var p=Pl(a,a===Ot?Lt:0);if(p===0)c!==null&&q_(c),a.callbackNode=null,a.callbackPriority=0;else if(s=p&-p,a.callbackPriority!==s){if(c!=null&&q_(c),s===1)a.tag===0?NN(Zb.bind(null,a)):Fw(Zb.bind(null,a)),RN(function(){(He&6)===0&&Di()}),c=null;else{switch(G_(p)){case 1:c=eh;break;case 4:c=$_;break;case 16:c=xl;break;case 536870912:c=W_;break;default:c=xl}c=s1(c,Xb.bind(null,a))}a.callbackPriority=s,a.callbackNode=c}}function Xb(a,s){if(bc=-1,Ec=0,(He&6)!==0)throw Error(r(327));var c=a.callbackNode;if(ka()&&a.callbackNode!==c)return null;var p=Pl(a,a===Ot?Lt:0);if(p===0)return null;if((p&30)!==0||(p&a.expiredLanes)!==0||s)s=Sc(a,p);else{s=p;var m=He;He|=2;var g=t1();(Ot!==a||Lt!==s)&&(fi=null,Na=dt()+500,Io(a,s));do try{ZN();break}catch(N){e1(a,N)}while(!0);Mh(),yc.current=g,He=m,vt!==null?s=0:(Ot=null,Lt=0,s=bt)}if(s!==0){if(s===2&&(m=th(a),m!==0&&(p=m,s=Ep(a,m))),s===1)throw c=su,Io(a,0),Wi(a,p),ar(a,dt()),c;if(s===6)Wi(a,p);else{if(m=a.current.alternate,(p&30)===0&&!QN(m)&&(s=Sc(a,p),s===2&&(g=th(a),g!==0&&(p=g,s=Ep(a,g))),s===1))throw c=su,Io(a,0),Wi(a,p),ar(a,dt()),c;switch(a.finishedWork=m,a.finishedLanes=p,s){case 0:case 1:throw Error(r(345));case 2:To(a,or,fi);break;case 3:if(Wi(a,p),(p&130023424)===p&&(s=_p+500-dt(),10<s)){if(Pl(a,0)!==0)break;if(m=a.suspendedLanes,(m&p)!==p){Vt(),a.pingedLanes|=a.suspendedLanes&m;break}a.timeoutHandle=Rh(To.bind(null,a,or,fi),s);break}To(a,or,fi);break;case 4:if(Wi(a,p),(p&4194240)===p)break;for(s=a.eventTimes,m=-1;0<p;){var I=31-fn(p);g=1<<I,I=s[I],I>m&&(m=I),p&=~g}if(p=m,p=dt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*JN(p/1960))-p,10<p){a.timeoutHandle=Rh(To.bind(null,a,or,fi),p);break}To(a,or,fi);break;case 5:To(a,or,fi);break;default:throw Error(r(329))}}}return ar(a,dt()),a.callbackNode===c?Xb.bind(null,a):null}function Ep(a,s){var c=uu;return a.current.memoizedState.isDehydrated&&(Io(a,s).flags|=256),a=Sc(a,s),a!==2&&(s=or,or=c,s!==null&&Sp(s)),a}function Sp(a){or===null?or=a:or.push.apply(or,a)}function QN(a){for(var s=a;;){if(s.flags&16384){var c=s.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var m=c[p],g=m.getSnapshot;m=m.value;try{if(!dn(g(),m))return!1}catch{return!1}}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Wi(a,s){for(s&=~gp,s&=~mc,a.suspendedLanes|=s,a.pingedLanes&=~s,a=a.expirationTimes;0<s;){var c=31-fn(s),p=1<<c;a[c]=-1,s&=~p}}function Zb(a){if((He&6)!==0)throw Error(r(327));ka();var s=Pl(a,0);if((s&1)===0)return ar(a,dt()),null;var c=Sc(a,s);if(a.tag!==0&&c===2){var p=th(a);p!==0&&(s=p,c=Ep(a,p))}if(c===1)throw c=su,Io(a,0),Wi(a,s),ar(a,dt()),c;if(c===6)throw Error(r(345));return a.finishedWork=a.current.alternate,a.finishedLanes=s,To(a,or,fi),ar(a,dt()),null}function Ip(a,s){var c=He;He|=1;try{return a(s)}finally{He=c,He===0&&(Na=dt()+500,Jl&&Di())}}function So(a){qi!==null&&qi.tag===0&&(He&6)===0&&ka();var s=He;He|=1;var c=qr.transition,p=Ke;try{if(qr.transition=null,Ke=1,a)return a()}finally{Ke=p,qr.transition=c,He=s,(He&6)===0&&Di()}}function Tp(){xr=Pa.current,rt(Pa)}function Io(a,s){a.finishedWork=null,a.finishedLanes=0;var c=a.timeoutHandle;if(c!==-1&&(a.timeoutHandle=-1,xN(c)),vt!==null)for(c=vt.return;c!==null;){var p=c;switch(Lh(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Kl();break;case 3:Ra(),rt(rr),rt(Ut),Vh();break;case 5:Gh(p);break;case 4:Ra();break;case 13:rt(st);break;case 19:rt(st);break;case 10:Bh(p.type._context);break;case 22:case 23:Tp()}c=c.return}if(Ot=a,vt=a=Hi(a.current,null),Lt=xr=s,bt=0,su=null,gp=mc=Eo=0,or=uu=null,_o!==null){for(s=0;s<_o.length;s++)if(c=_o[s],p=c.interleaved,p!==null){c.interleaved=null;var m=p.next,g=c.pending;if(g!==null){var I=g.next;g.next=m,p.next=I}c.pending=p}_o=null}return a}function e1(a,s){do{var c=vt;try{if(Mh(),ac.current=cc,sc){for(var p=ut.memoizedState;p!==null;){var m=p.queue;m!==null&&(m.pending=null),p=p.next}sc=!1}if(bo=0,Tt=wt=ut=null,tu=!1,ru=0,mp.current=null,c===null||c.return===null){bt=1,su=s,vt=null;break}e:{var g=a,I=c.return,N=c,L=s;if(s=Lt,N.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var G=L,oe=N,se=oe.tag;if((oe.mode&1)===0&&(se===0||se===11||se===15)){var ie=oe.alternate;ie?(oe.updateQueue=ie.updateQueue,oe.memoizedState=ie.memoizedState,oe.lanes=ie.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var pe=Tb(I);if(pe!==null){pe.flags&=-257,Ob(pe,I,N,g,s),pe.mode&1&&Ib(g,G,s),s=pe,L=G;var ge=s.updateQueue;if(ge===null){var _e=new Set;_e.add(L),s.updateQueue=_e}else ge.add(L);break e}else{if((s&1)===0){Ib(g,G,s),Op();break e}L=Error(r(426))}}else if(ot&&N.mode&1){var ht=Tb(I);if(ht!==null){(ht.flags&65536)===0&&(ht.flags|=256),Ob(ht,I,N,g,s),Uh(Aa(L,N));break e}}g=L=Aa(L,N),bt!==4&&(bt=2),uu===null?uu=[g]:uu.push(g),g=I;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var B=Eb(g,L,s);Yw(g,B);break e;case 1:N=L;var D=g.type,W=g.stateNode;if((g.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Bi===null||!Bi.has(W)))){g.flags|=65536,s&=-s,g.lanes|=s;var le=Sb(g,N,s);Yw(g,le);break e}}g=g.return}while(g!==null)}n1(c)}catch(we){s=we,vt===c&&c!==null&&(vt=c=c.return);continue}break}while(!0)}function t1(){var a=yc.current;return yc.current=cc,a===null?cc:a}function Op(){(bt===0||bt===3||bt===2)&&(bt=4),Ot===null||(Eo&268435455)===0&&(mc&268435455)===0||Wi(Ot,Lt)}function Sc(a,s){var c=He;He|=2;var p=t1();(Ot!==a||Lt!==s)&&(fi=null,Io(a,s));do try{XN();break}catch(m){e1(a,m)}while(!0);if(Mh(),He=c,yc.current=p,vt!==null)throw Error(r(261));return Ot=null,Lt=0,bt}function XN(){for(;vt!==null;)r1(vt)}function ZN(){for(;vt!==null&&!IP();)r1(vt)}function r1(a){var s=a1(a.alternate,a,xr);a.memoizedProps=a.pendingProps,s===null?n1(a):vt=s,mp.current=null}function n1(a){var s=a;do{var c=s.alternate;if(a=s.return,(s.flags&32768)===0){if(c=GN(c,s,xr),c!==null){vt=c;return}}else{if(c=zN(c,s),c!==null){c.flags&=32767,vt=c;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{bt=6,vt=null;return}}if(s=s.sibling,s!==null){vt=s;return}vt=s=a}while(s!==null);bt===0&&(bt=5)}function To(a,s,c){var p=Ke,m=qr.transition;try{qr.transition=null,Ke=1,e3(a,s,c,p)}finally{qr.transition=m,Ke=p}return null}function e3(a,s,c,p){do ka();while(qi!==null);if((He&6)!==0)throw Error(r(327));c=a.finishedWork;var m=a.finishedLanes;if(c===null)return null;if(a.finishedWork=null,a.finishedLanes=0,c===a.current)throw Error(r(177));a.callbackNode=null,a.callbackPriority=0;var g=c.lanes|c.childLanes;if(LP(a,g),a===Ot&&(vt=Ot=null,Lt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||_c||(_c=!0,s1(xl,function(){return ka(),null})),g=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||g){g=qr.transition,qr.transition=null;var I=Ke;Ke=1;var N=He;He|=4,mp.current=null,KN(a,c),Vb(c,a),wN(Oh),Ll=!!Th,Oh=Th=null,a.current=c,YN(c),TP(),He=N,Ke=I,qr.transition=g}else a.current=c;if(_c&&(_c=!1,qi=a,wc=m),g=a.pendingLanes,g===0&&(Bi=null),RP(c.stateNode),ar(a,dt()),s!==null)for(p=a.onRecoverableError,c=0;c<s.length;c++)m=s[c],p(m.value,{componentStack:m.stack,digest:m.digest});if(gc)throw gc=!1,a=wp,wp=null,a;return(wc&1)!==0&&a.tag!==0&&ka(),g=a.pendingLanes,(g&1)!==0?a===bp?lu++:(lu=0,bp=a):lu=0,Di(),null}function ka(){if(qi!==null){var a=G_(wc),s=qr.transition,c=Ke;try{if(qr.transition=null,Ke=16>a?16:a,qi===null)var p=!1;else{if(a=qi,qi=null,wc=0,(He&6)!==0)throw Error(r(331));var m=He;for(He|=4,me=a.current;me!==null;){var g=me,I=g.child;if((me.flags&16)!==0){var N=g.deletions;if(N!==null){for(var L=0;L<N.length;L++){var G=N[L];for(me=G;me!==null;){var oe=me;switch(oe.tag){case 0:case 11:case 15:au(8,oe,g)}var se=oe.child;if(se!==null)se.return=oe,me=se;else for(;me!==null;){oe=me;var ie=oe.sibling,pe=oe.return;if($b(oe),oe===G){me=null;break}if(ie!==null){ie.return=pe,me=ie;break}me=pe}}}var ge=g.alternate;if(ge!==null){var _e=ge.child;if(_e!==null){ge.child=null;do{var ht=_e.sibling;_e.sibling=null,_e=ht}while(_e!==null)}}me=g}}if((g.subtreeFlags&2064)!==0&&I!==null)I.return=g,me=I;else e:for(;me!==null;){if(g=me,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:au(9,g,g.return)}var B=g.sibling;if(B!==null){B.return=g.return,me=B;break e}me=g.return}}var D=a.current;for(me=D;me!==null;){I=me;var W=I.child;if((I.subtreeFlags&2064)!==0&&W!==null)W.return=I,me=W;else e:for(I=D;me!==null;){if(N=me,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:vc(9,N)}}catch(we){lt(N,N.return,we)}if(N===I){me=null;break e}var le=N.sibling;if(le!==null){le.return=N.return,me=le;break e}me=N.return}}if(He=m,Di(),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(Rl,a)}catch{}p=!0}return p}finally{Ke=c,qr.transition=s}}return!1}function i1(a,s,c){s=Aa(c,s),s=Eb(a,s,1),a=Fi(a,s,1),s=Vt(),a!==null&&(ks(a,1,s),ar(a,s))}function lt(a,s,c){if(a.tag===3)i1(a,a,c);else for(;s!==null;){if(s.tag===3){i1(s,a,c);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Bi===null||!Bi.has(p))){a=Aa(c,a),a=Sb(s,a,1),s=Fi(s,a,1),a=Vt(),s!==null&&(ks(s,1,a),ar(s,a));break}}s=s.return}}function t3(a,s,c){var p=a.pingCache;p!==null&&p.delete(s),s=Vt(),a.pingedLanes|=a.suspendedLanes&c,Ot===a&&(Lt&c)===c&&(bt===4||bt===3&&(Lt&130023424)===Lt&&500>dt()-_p?Io(a,0):gp|=c),ar(a,s)}function o1(a,s){s===0&&((a.mode&1)===0?s=1:(s=Cl,Cl<<=1,(Cl&130023424)===0&&(Cl=4194304)));var c=Vt();a=ui(a,s),a!==null&&(ks(a,s,c),ar(a,c))}function r3(a){var s=a.memoizedState,c=0;s!==null&&(c=s.retryLane),o1(a,c)}function n3(a,s){var c=0;switch(a.tag){case 13:var p=a.stateNode,m=a.memoizedState;m!==null&&(c=m.retryLane);break;case 19:p=a.stateNode;break;default:throw Error(r(314))}p!==null&&p.delete(s),o1(a,c)}var a1;a1=function(a,s,c){if(a!==null)if(a.memoizedProps!==s.pendingProps||rr.current)ir=!0;else{if((a.lanes&c)===0&&(s.flags&128)===0)return ir=!1,HN(a,s,c);ir=(a.flags&131072)!==0}else ir=!1,ot&&(s.flags&1048576)!==0&&Mw(s,Xl,s.index);switch(s.lanes=0,s.tag){case 2:var p=s.type;hc(a,s),a=s.pendingProps;var m=ba(s,Ut.current);xa(s,c),m=Jh(null,s,p,a,m,c);var g=Qh();return s.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,nr(p)?(g=!0,Yl(s)):g=!1,s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Wh(s),m.updater=fc,s.stateNode=m,m._reactInternals=s,np(s,p,a,c),s=sp(null,s,p,!0,g,c)):(s.tag=0,ot&&g&&kh(s),zt(null,s,m,c),s=s.child),s;case 16:p=s.elementType;e:{switch(hc(a,s),a=s.pendingProps,m=p._init,p=m(p._payload),s.type=p,m=s.tag=o3(p),a=pn(p,a),m){case 0:s=ap(null,s,p,a,c);break e;case 1:s=Nb(null,s,p,a,c);break e;case 11:s=xb(null,s,p,a,c);break e;case 14:s=Rb(null,s,p,pn(p.type,a),c);break e}throw Error(r(306,p,""))}return s;case 0:return p=s.type,m=s.pendingProps,m=s.elementType===p?m:pn(p,m),ap(a,s,p,m,c);case 1:return p=s.type,m=s.pendingProps,m=s.elementType===p?m:pn(p,m),Nb(a,s,p,m,c);case 3:e:{if(kb(s),a===null)throw Error(r(387));p=s.pendingProps,g=s.memoizedState,m=g.element,Kw(a,s),ic(s,p,null,c);var I=s.memoizedState;if(p=I.element,g.isDehydrated)if(g={element:p,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){m=Aa(Error(r(423)),s),s=Lb(a,s,p,c,m);break e}else if(p!==m){m=Aa(Error(r(424)),s),s=Lb(a,s,p,c,m);break e}else for(Or=ki(s.stateNode.containerInfo.firstChild),Tr=s,ot=!0,hn=null,c=zw(s,null,p,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ia(),p===m){s=ci(a,s,c);break e}zt(a,s,p,c)}s=s.child}return s;case 5:return Qw(s),a===null&&Dh(s),p=s.type,m=s.pendingProps,g=a!==null?a.memoizedProps:null,I=m.children,xh(p,m)?I=null:g!==null&&xh(p,g)&&(s.flags|=32),Pb(a,s),zt(a,s,I,c),s.child;case 6:return a===null&&Dh(s),null;case 13:return jb(a,s,c);case 4:return Hh(s,s.stateNode.containerInfo),p=s.pendingProps,a===null?s.child=Ta(s,null,p,c):zt(a,s,p,c),s.child;case 11:return p=s.type,m=s.pendingProps,m=s.elementType===p?m:pn(p,m),xb(a,s,p,m,c);case 7:return zt(a,s,s.pendingProps,c),s.child;case 8:return zt(a,s,s.pendingProps.children,c),s.child;case 12:return zt(a,s,s.pendingProps.children,c),s.child;case 10:e:{if(p=s.type._context,m=s.pendingProps,g=s.memoizedProps,I=m.value,et(tc,p._currentValue),p._currentValue=I,g!==null)if(dn(g.value,I)){if(g.children===m.children&&!rr.current){s=ci(a,s,c);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var N=g.dependencies;if(N!==null){I=g.child;for(var L=N.firstContext;L!==null;){if(L.context===p){if(g.tag===1){L=li(-1,c&-c),L.tag=2;var G=g.updateQueue;if(G!==null){G=G.shared;var oe=G.pending;oe===null?L.next=L:(L.next=oe.next,oe.next=L),G.pending=L}}g.lanes|=c,L=g.alternate,L!==null&&(L.lanes|=c),qh(g.return,c,s),N.lanes|=c;break}L=L.next}}else if(g.tag===10)I=g.type===s.type?null:g.child;else if(g.tag===18){if(I=g.return,I===null)throw Error(r(341));I.lanes|=c,N=I.alternate,N!==null&&(N.lanes|=c),qh(I,c,s),I=g.sibling}else I=g.child;if(I!==null)I.return=g;else for(I=g;I!==null;){if(I===s){I=null;break}if(g=I.sibling,g!==null){g.return=I.return,I=g;break}I=I.return}g=I}zt(a,s,m.children,c),s=s.child}return s;case 9:return m=s.type,p=s.pendingProps.children,xa(s,c),m=Mr(m),p=p(m),s.flags|=1,zt(a,s,p,c),s.child;case 14:return p=s.type,m=pn(p,s.pendingProps),m=pn(p.type,m),Rb(a,s,p,m,c);case 15:return Ab(a,s,s.type,s.pendingProps,c);case 17:return p=s.type,m=s.pendingProps,m=s.elementType===p?m:pn(p,m),hc(a,s),s.tag=1,nr(p)?(a=!0,Yl(s)):a=!1,xa(s,c),wb(s,p,m),np(s,p,m,c),sp(null,s,p,!0,a,c);case 19:return Ub(a,s,c);case 22:return Cb(a,s,c)}throw Error(r(156,s.tag))};function s1(a,s){return B_(a,s)}function i3(a,s,c,p){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(a,s,c,p){return new i3(a,s,c,p)}function xp(a){return a=a.prototype,!(!a||!a.isReactComponent)}function o3(a){if(typeof a=="function")return xp(a)?1:0;if(a!=null){if(a=a.$$typeof,a===z)return 11;if(a===he)return 14}return 2}function Hi(a,s){var c=a.alternate;return c===null?(c=$r(a.tag,s,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=s,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&14680064,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,s=a.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c}function Ic(a,s,c,p,m,g){var I=2;if(p=a,typeof a=="function")xp(a)&&(I=1);else if(typeof a=="string")I=5;else e:switch(a){case K:return Oo(c.children,m,g,s);case V:I=8,m|=8;break;case k:return a=$r(12,c,s,m|2),a.elementType=k,a.lanes=g,a;case Q:return a=$r(13,c,s,m),a.elementType=Q,a.lanes=g,a;case ee:return a=$r(19,c,s,m),a.elementType=ee,a.lanes=g,a;case fe:return Tc(c,m,g,s);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case $:I=10;break e;case F:I=9;break e;case z:I=11;break e;case he:I=14;break e;case be:I=16,p=null;break e}throw Error(r(130,a==null?a:typeof a,""))}return s=$r(I,c,s,m),s.elementType=a,s.type=p,s.lanes=g,s}function Oo(a,s,c,p){return a=$r(7,a,p,s),a.lanes=c,a}function Tc(a,s,c,p){return a=$r(22,a,p,s),a.elementType=fe,a.lanes=c,a.stateNode={isHidden:!1},a}function Rp(a,s,c){return a=$r(6,a,null,s),a.lanes=c,a}function Ap(a,s,c){return s=$r(4,a.children!==null?a.children:[],a.key,s),s.lanes=c,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}function a3(a,s,c,p,m){this.tag=s,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rh(0),this.expirationTimes=rh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rh(0),this.identifierPrefix=p,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Cp(a,s,c,p,m,g,I,N,L){return a=new a3(a,s,c,N,L),s===1?(s=1,g===!0&&(s|=8)):s=0,g=$r(3,null,null,s),a.current=g,g.stateNode=a,g.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wh(g),a}function s3(a,s,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:p==null?null:""+p,children:a,containerInfo:s,implementation:c}}function u1(a){if(!a)return ji;a=a._reactInternals;e:{if(po(a)!==a||a.tag!==1)throw Error(r(170));var s=a;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(nr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(a.tag===1){var c=a.type;if(nr(c))return Dw(a,c,s)}return s}function l1(a,s,c,p,m,g,I,N,L){return a=Cp(c,p,!0,a,m,g,I,N,L),a.context=u1(null),c=a.current,p=Vt(),m=$i(c),g=li(p,m),g.callback=s??null,Fi(c,g,m),a.current.lanes=m,ks(a,m,p),ar(a,p),a}function Oc(a,s,c,p){var m=s.current,g=Vt(),I=$i(m);return c=u1(c),s.context===null?s.context=c:s.pendingContext=c,s=li(g,I),s.payload={element:a},p=p===void 0?null:p,p!==null&&(s.callback=p),a=Fi(m,s,I),a!==null&&(mn(a,m,I,g),nc(a,m,I)),I}function xc(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function c1(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<s?c:s}}function Pp(a,s){c1(a,s),(a=a.alternate)&&c1(a,s)}function u3(){return null}var f1=typeof reportError=="function"?reportError:function(a){console.error(a)};function Np(a){this._internalRoot=a}Rc.prototype.render=Np.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));Oc(a,s,null,null)},Rc.prototype.unmount=Np.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;So(function(){Oc(null,a,null,null)}),s[ii]=null}};function Rc(a){this._internalRoot=a}Rc.prototype.unstable_scheduleHydration=function(a){if(a){var s=K_();a={blockedOn:null,target:a,priority:s};for(var c=0;c<Ci.length&&s!==0&&s<Ci[c].priority;c++);Ci.splice(c,0,a),c===0&&Q_(a)}};function kp(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Ac(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function d1(){}function l3(a,s,c,p,m){if(m){if(typeof p=="function"){var g=p;p=function(){var G=xc(I);g.call(G)}}var I=l1(s,p,a,0,null,!1,!1,"",d1);return a._reactRootContainer=I,a[ii]=I.current,Vs(a.nodeType===8?a.parentNode:a),So(),I}for(;m=a.lastChild;)a.removeChild(m);if(typeof p=="function"){var N=p;p=function(){var G=xc(L);N.call(G)}}var L=Cp(a,0,!1,null,null,!1,!1,"",d1);return a._reactRootContainer=L,a[ii]=L.current,Vs(a.nodeType===8?a.parentNode:a),So(function(){Oc(s,L,c,p)}),L}function Cc(a,s,c,p,m){var g=c._reactRootContainer;if(g){var I=g;if(typeof m=="function"){var N=m;m=function(){var L=xc(I);N.call(L)}}Oc(s,I,a,m)}else I=l3(c,s,a,m,p);return xc(I)}z_=function(a){switch(a.tag){case 3:var s=a.stateNode;if(s.current.memoizedState.isDehydrated){var c=Ns(s.pendingLanes);c!==0&&(nh(s,c|1),ar(s,dt()),(He&6)===0&&(Na=dt()+500,Di()))}break;case 13:So(function(){var p=ui(a,1);if(p!==null){var m=Vt();mn(p,a,1,m)}}),Pp(a,1)}},ih=function(a){if(a.tag===13){var s=ui(a,134217728);if(s!==null){var c=Vt();mn(s,a,134217728,c)}Pp(a,134217728)}},V_=function(a){if(a.tag===13){var s=$i(a),c=ui(a,s);if(c!==null){var p=Vt();mn(c,a,s,p)}Pp(a,s)}},K_=function(){return Ke},Y_=function(a,s){var c=Ke;try{return Ke=a,s()}finally{Ke=c}},Jd=function(a,s,c){switch(s){case"input":if(E(a,c),s=c.name,c.type==="radio"&&s!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<c.length;s++){var p=c[s];if(p!==a&&p.form===a.form){var m=Vl(p);if(!m)throw Error(r(90));ft(p),E(p,m)}}}break;case"textarea":Ge(a,c);break;case"select":s=c.value,s!=null&&ae(a,!!c.multiple,s,!1)}},k_=Ip,L_=So;var c3={usingClientEntryPoint:!1,Events:[Js,_a,Vl,P_,N_,Ip]},cu={findFiberByHostInstance:vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},f3={bundleType:cu.bundleType,version:cu.version,rendererPackageName:cu.rendererPackageName,rendererConfig:cu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=F_(a),a===null?null:a.stateNode},findFiberByHostInstance:cu.findFiberByHostInstance||u3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{Rl=Pc.inject(f3),jn=Pc}catch{}}return sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c3,sr.createPortal=function(a,s){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kp(s))throw Error(r(200));return s3(a,s,null,c)},sr.createRoot=function(a,s){if(!kp(a))throw Error(r(299));var c=!1,p="",m=f1;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),s=Cp(a,1,!1,null,null,c,!1,p,m),a[ii]=s.current,Vs(a.nodeType===8?a.parentNode:a),new Np(s)},sr.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=F_(s),a=a===null?null:a.stateNode,a},sr.flushSync=function(a){return So(a)},sr.hydrate=function(a,s,c){if(!Ac(s))throw Error(r(200));return Cc(null,a,s,!0,c)},sr.hydrateRoot=function(a,s,c){if(!kp(a))throw Error(r(405));var p=c!=null&&c.hydratedSources||null,m=!1,g="",I=f1;if(c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onRecoverableError!==void 0&&(I=c.onRecoverableError)),s=l1(s,null,a,1,c??null,m,!1,g,I),a[ii]=s.current,Vs(a),p)for(a=0;a<p.length;a++)c=p[a],m=c._getVersion,m=m(c._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[c,m]:s.mutableSourceEagerHydrationData.push(c,m);return new Rc(s)},sr.render=function(a,s,c){if(!Ac(s))throw Error(r(200));return Cc(null,a,s,!1,c)},sr.unmountComponentAtNode=function(a){if(!Ac(a))throw Error(r(40));return a._reactRootContainer?(So(function(){Cc(null,null,a,!1,function(){a._reactRootContainer=null,a[ii]=null})}),!0):!1},sr.unstable_batchedUpdates=Ip,sr.unstable_renderSubtreeIntoContainer=function(a,s,c,p){if(!Ac(c))throw Error(r(200));if(a==null||a._reactInternals===void 0)throw Error(r(38));return Cc(a,s,c,!1,p)},sr.version="18.3.1-next-f1338f8080-20240426",sr}var w1;function N2(){if(w1)return Dp.exports;w1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Dp.exports=_3(),Dp.exports}var b1;function w3(){if(b1)return Nc;b1=1;var t=N2();return Nc.createRoot=t.createRoot,Nc.hydrateRoot=t.hydrateRoot,Nc}var b3=w3(),Le=pg();const du=fd(Le);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),S3=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),E1=t=>{const e=S3(t);return e.charAt(0).toUpperCase()+e.slice(1)},k2=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var I3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=Le.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:i,iconNode:l,...f},h)=>Le.createElement("svg",{ref:h,...I3,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:k2("lucide",o),...f},[...l.map(([u,d])=>Le.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=(t,e)=>{const r=Le.forwardRef(({className:n,...o},i)=>Le.createElement(T3,{ref:i,iconNode:e,className:k2(`lucide-${E3(E1(t))}`,`lucide-${t}`,n),...o}));return r.displayName=E1(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],x3=Nr("chevron-down",O3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],A3=Nr("chevron-up",R3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],P3=Nr("copy",C3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],k3=Nr("eye-off",N3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],j3=Nr("eye",L3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],U3=Nr("lock",D3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],M3=Nr("log-out",F3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],q3=Nr("pen",B3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],W3=Nr("refresh-cw",$3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],L2=Nr("rotate-ccw",H3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],z3=Nr("save",G3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],j2=Nr("search",V3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Y3=Nr("user",K3);function J3({onLogin:t}){const[e,r]=Le.useState(""),[n,o]=Le.useState(""),[i,l]=Le.useState(!1),[f,h]=Le.useState(""),[u,d]=Le.useState(!1),v="admin",y="123456",_=w=>{w.preventDefault(),h(""),d(!0);try{if(e===v&&n===y)localStorage.setItem("isLoggedIn","true"),localStorage.setItem("username",e),t();else throw new Error("")}catch(S){h(S instanceof Error?S.message:""),d(!1)}};return H.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:H.jsxs("div",{className:"w-[400px] bg-white border border-gray-200 rounded-lg p-8",children:[H.jsx("h1",{className:"text-center mb-8 text-blue-600",children:""}),H.jsxs("form",{onSubmit:_,className:"space-y-4",children:[H.jsx("div",{children:H.jsxs("div",{className:"relative",children:[H.jsx(Y3,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),H.jsx("input",{type:"text",value:e,onChange:w=>r(w.target.value),placeholder:"",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded focus:outline-none focus:border-blue-500"})]})}),H.jsx("div",{children:H.jsxs("div",{className:"relative",children:[H.jsx(U3,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),H.jsx("input",{type:i?"text":"password",value:n,onChange:w=>o(w.target.value),placeholder:"",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded focus:outline-none focus:border-blue-500"}),H.jsx("button",{type:"button",onClick:()=>l(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?H.jsx(k3,{size:20}):H.jsx(j3,{size:20})})]})}),f&&H.jsx("div",{className:"text-red-600 text-center",children:f}),H.jsx("button",{type:"submit",disabled:u,className:"w-full py-3 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-blue-400 transition-colors flex items-center justify-center",children:u?H.jsxs(H.Fragment,{children:[H.jsx("span",{className:"inline-block w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"..."]}):""})]}),H.jsx("div",{className:"mt-4 text-center text-gray-500",children:"admin / 123456"})]})})}N2();function Q3(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Array(12).fill(0);let I0=1;class X3{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:n,...o}=e,i=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:I0++,l=this.toasts.find(h=>h.id===i),f=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),l?this.toasts=this.toasts.map(h=>h.id===i?(this.publish({...h,...e,id:i,title:n}),{...h,...e,id:i,dismissible:f,title:n}):h):this.addToast({title:n,...o,dismissible:f,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const o=Promise.resolve(e instanceof Function?e():e);let i=n!==void 0,l;const f=o.then(async u=>{if(l=["resolve",u],du.isValidElement(u))i=!1,this.create({id:n,type:"default",message:u});else if(ek(u)&&!u.ok){i=!1;const v=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,y=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,w=typeof v=="object"&&!du.isValidElement(v)?v:{message:v};this.create({id:n,type:"error",description:y,...w})}else if(u instanceof Error){i=!1;const v=typeof r.error=="function"?await r.error(u):r.error,y=typeof r.description=="function"?await r.description(u):r.description,w=typeof v=="object"&&!du.isValidElement(v)?v:{message:v};this.create({id:n,type:"error",description:y,...w})}else if(r.success!==void 0){i=!1;const v=typeof r.success=="function"?await r.success(u):r.success,y=typeof r.description=="function"?await r.description(u):r.description,w=typeof v=="object"&&!du.isValidElement(v)?v:{message:v};this.create({id:n,type:"success",description:y,...w})}}).catch(async u=>{if(l=["reject",u],r.error!==void 0){i=!1;const d=typeof r.error=="function"?await r.error(u):r.error,v=typeof r.description=="function"?await r.description(u):r.description,_=typeof d=="object"&&!du.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:v,..._})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),h=()=>new Promise((u,d)=>f.then(()=>l[0]==="reject"?d(l[1]):u(l[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:h}:Object.assign(n,{unwrap:h})},this.custom=(e,r)=>{const n=(r==null?void 0:r.id)||I0++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Kr=new X3,Z3=(t,e)=>{const r=(e==null?void 0:e.id)||I0++;return Kr.addToast({title:t,...e,id:r}),r},ek=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",tk=Z3,rk=()=>Kr.toasts,nk=()=>Kr.getActiveToasts(),Tn=Object.assign(tk,{success:Kr.success,info:Kr.info,warning:Kr.warning,error:Kr.error,custom:Kr.custom,message:Kr.message,promise:Kr.promise,dismiss:Kr.dismiss,loading:Kr.loading},{getHistory:rk,getToasts:nk});Q3("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");var D2="@cloudbase/js-sdk";function ik(t){D2=t}function dd(){return D2}var U2="https:";function ok(t){U2=t}function ak(){return U2}var hd="https://support.qq.com/products/148793",_r={INVALID_PARAMS:"INVALID_PARAMS",INVALID_OPERATION:"INVALID_OPERATION",OPERATION_FAIL:"OPERATION_FAIL"},Qu;(function(t){t.local="local",t.none="none",t.session="session"})(Qu||(Qu={}));var vg=(function(){function t(){}return t})(),F2=(function(){function t(){}return t})();function Cu(t,e,r){r===void 0&&(r={});var n=/\?/.test(e),o="";for(var i in r)o===""?!n&&(e+="?"):o+="&",o+=i+"="+encodeURIComponent(r[i]);return e+=o,/^http(s)?\:\/\//.test(e)?e:""+t+e}const sk=Object.freeze(Object.defineProperty({__proto__:null,AbstractSDKRequest:vg,AbstractStorage:F2,get StorageType(){return Qu},formatUrl:Cu},Symbol.toStringTag,{value:"Module"}));function M2(t){return Object.prototype.toString.call(t)==="[object Array]"}function B2(t){return typeof t=="string"}function uk(t){return Object.prototype.toString.call(t)==="[object Object]"}function lk(t,e){return t instanceof e}function q2(t){return Object.prototype.toString.call(t)==="[object FormData]"}function ck(){return Math.random().toString(16).slice(2)}function $2(){var t=new Date().getTime(),e=(Date==null?void 0:Date.now)&&Date.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var n=Math.random()*16;return t>0?(n=(t+n)%16|0,t=Math.floor(t/16)):(n=(e+n)%16|0,e=Math.floor(e/16)),(r==="x"?n:n&7|8).toString(16)})}function W2(t,e,r){r===void 0&&(r={});var n=/\?/.test(e),o="";return Object.keys(r).forEach(function(i){o===""?!n&&(e+="?"):o+="&",o+="".concat(i,"=").concat(encodeURIComponent(r[i]))}),e+=o,/^http(s)?:\/\//.test(e)?e:"".concat(t).concat(e)}function fk(t){t===void 0&&(t={});var e=[];return Object.keys(t).forEach(function(r){e.push("".concat(r,"=").concat(encodeURIComponent(t[r])))}),e.join("&")}function H2(t,e,r){if(r===void 0&&(r=null),t&&typeof t=="function")return t(e,r);if(e)throw e;return r}function as(t,e){console.warn("[".concat(dd(),"][").concat(t,"]:").concat(e))}var dk=function(t){t=t.replace(/^\?/,"");var e={},r=t.split("&");return r.forEach(function(n){var o=n.split("="),i=o[0],l=o[1];i=decodeURIComponent(i),l=decodeURIComponent(l),i&&(e[i]?Array.isArray(e[i])?e[i].push(l):e[i]=[e[i],l]:e[i]=l)}),e},hk=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),qt=function(){return qt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},qt.apply(this,arguments)},Mp=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function h(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,h)}u((n=n.apply(t,e||[])).next())})},Bp=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return h([u,d])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},pk=(function(t){hk(e,t);function e(r){var n=t.call(this)||this,o=r.timeout,i=r.timeoutMsg,l=r.restrictedMethods;return n.timeout=o||0,n.timeoutMsg=i||"",n.restrictedMethods=l||["get","post","upload","download"],n}return e.prototype.get=function(r){return this.request(qt(qt({},r),{method:"get"}),this.restrictedMethods.includes("get"))},e.prototype.post=function(r){return this.request(qt(qt({},r),{method:"post"}),this.restrictedMethods.includes("post"))},e.prototype.put=function(r){return this.request(qt(qt({},r),{method:"put"}))},e.prototype.upload=function(r){var n=r.data,o=r.file,i=r.name,l=r.method,f=r.headers,h=f===void 0?{}:f,u={post:"post",put:"put"}[l==null?void 0:l.toLowerCase()]||"put",d=new FormData;return u==="post"?(Object.keys(n).forEach(function(v){d.append(v,n[v])}),d.append("key",i),d.append("file",o),this.request(qt(qt({},r),{data:d,method:u}),this.restrictedMethods.includes("upload"))):this.request(qt(qt({},r),{method:"put",headers:h,body:o}),this.restrictedMethods.includes("upload"))},e.prototype.download=function(r){return Mp(this,void 0,void 0,function(){var n,o,i,l;return Bp(this,function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),[4,this.get(qt(qt({},r),{headers:{},responseType:"blob"}))];case 1:return n=f.sent().data,o=window.URL.createObjectURL(new Blob([n])),i=decodeURIComponent(new URL(r.url).pathname.split("/").pop()||""),l=document.createElement("a"),l.href=o,l.setAttribute("download",i),l.style.display="none",document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(o),document.body.removeChild(l),[3,3];case 2:return f.sent(),[3,3];case 3:return[2,new Promise(function(h){h({statusCode:200,tempFilePath:r.url})})]}})})},e.prototype.fetch=function(r){var n;return Mp(this,void 0,void 0,function(){var o,i,l,f,h,u,d,v,y,_,w,S,T,O=this;return Bp(this,function(x){switch(x.label){case 0:return o=new AbortController,i=r.url,l=r.enableAbort,f=l===void 0?!1:l,h=r.stream,u=h===void 0?!1:h,d=r.signal,v=r.timeout,y=r.shouldThrowOnError,_=y===void 0?!0:y,w=v??this.timeout,d&&(d.aborted&&o.abort(),d.addEventListener("abort",function(){return o.abort()})),S=null,f&&w&&(S=setTimeout(function(){console.warn(O.timeoutMsg),o.abort(new Error(O.timeoutMsg))},w)),[4,fetch(i,qt(qt({},r),{signal:o.signal})).then(function(A){return Mp(O,void 0,void 0,function(){var C,U,q;return Bp(this,function(K){switch(K.label){case 0:return clearTimeout(S),_?A.ok?(C=A,[3,3]):[3,1]:[3,4];case 1:return q=(U=Promise).reject,[4,A.json()];case 2:C=q.apply(U,[K.sent()]),K.label=3;case 3:return[2,C];case 4:return[2,A]}})})}).catch(function(A){if(clearTimeout(S),_)return Promise.reject(A)})];case 1:return T=x.sent(),[2,{data:u?T.body:!((n=T.headers.get("content-type"))===null||n===void 0)&&n.includes("application/json")?T.json():T.text(),statusCode:T.status,header:T.headers}]}})})},e.prototype.request=function(r,n){var o=this;n===void 0&&(n=!1);var i=String(r.method).toLowerCase()||"get";return new Promise(function(l){var f=r.url,h=r.headers,u=h===void 0?{}:h,d=r.data,v=r.responseType,y=r.withCredentials,_=r.body,w=r.onUploadProgress,S=W2(ak(),f,i==="get"?d:{}),T=new XMLHttpRequest;T.open(i,S),v&&(T.responseType=v),Object.keys(u).forEach(function(A){T.setRequestHeader(A,u[A])});var O;w&&T.upload.addEventListener("progress",w),T.onreadystatechange=function(){var A={};if(T.readyState===4){var C=T.getAllResponseHeaders(),U=C.trim().split(/[\r\n]+/),q={};U.forEach(function(K){var V=K.split(": "),k=V.shift().toLowerCase(),$=V.join(": ");q[k]=$}),A.header=q,A.statusCode=T.status;try{A.data=v==="blob"?T.response:JSON.parse(T.responseText)}catch{A.data=v==="blob"?T.response:T.responseText}clearTimeout(O),l(A)}},n&&o.timeout&&(O=setTimeout(function(){console.warn(o.timeoutMsg),T.abort()},o.timeout));var x;q2(d)?x=d:u["content-type"]==="application/x-www-form-urlencoded"?x=fk(d):_?x=_:x=d?JSON.stringify(d):void 0,y&&(T.withCredentials=!0),T.send(x)})},e})(vg);function vk(){var t={type:"default",root:window,reqClass:pk,wsClass:WebSocket,localStorage};return t}var T0=function(){return T0=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},T0.apply(this,arguments)},O0;(function(t){t.WEB="web",t.WX_MP="wx_mp"})(O0||(O0={}));function yk(t,e){for(var r=M2(t)?t:[t],n=0,o=r;n<o.length;n++){var i=o[n],l=i.isMatch,f=i.genAdapter,h=i.runtime;if(l())return{adapter:T0({isMatch:l},f(e)),runtime:h}}}function mk(){return{adapter:vk(),runtime:O0.WEB}}var kc={},gk=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),qp=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function h(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,h)}u((n=n.apply(t,[])).next())})},$p=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return h([u,d])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Wp=(function(t){gk(e,t);function e(r){var n=t.call(this)||this;return n.root=r,r.tcbCacheObject||(r.tcbCacheObject={}),n}return e.prototype.setItem=function(r,n){this.root.tcbCacheObject[r]=n},e.prototype.getItem=function(r){return this.root.tcbCacheObject[r]},e.prototype.removeItem=function(r){delete this.root.tcbCacheObject[r]},e.prototype.clear=function(){delete this.root.tcbCacheObject},e})(F2);function _k(t,e){switch(t){case"local":return e.localStorage?e.localStorage:(as(_r.INVALID_PARAMS,"localStorage is not supported on current platform"),new Wp(e.root));case"none":return new Wp(e.root);default:return e.localStorage?e.localStorage:(as(_r.INVALID_PARAMS,"localStorage is not supported on current platform"),new Wp(e.root))}}var wk=(function(){function t(e){this.keys={};var r=e.persistence,n=e.platformInfo,o=n===void 0?{}:n,i=e.keys,l=i===void 0?{}:i;this.platformInfo=o,this.storage||(this.persistenceTag=this.platformInfo.adapter.primaryStorage||r,this.storage=_k(this.persistenceTag,this.platformInfo.adapter),this.keys=l)}return Object.defineProperty(t.prototype,"mode",{get:function(){return this.storage.mode||"sync"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"persistence",{get:function(){return this.persistenceTag},enumerable:!1,configurable:!0}),t.prototype.setStore=function(e,r,n){if(this.mode==="async"){as(_r.INVALID_OPERATION,"current platform's storage is asynchronous, please use setStoreAsync insteed");return}if(this.storage)try{var o={version:n||"localCachev1",content:r};this.storage.setItem(e,JSON.stringify(o))}catch(i){throw new Error(JSON.stringify({code:_r.OPERATION_FAIL,msg:"[".concat(dd(),"][").concat(_r.OPERATION_FAIL,"]setStore failed"),info:i}))}},t.prototype.setStoreAsync=function(e,r,n){return qp(this,void 0,void 0,function(){var o;return $p(this,function(i){switch(i.label){case 0:if(!this.storage)return[2];i.label=1;case 1:return i.trys.push([1,3,,4]),o={version:n||"localCachev1",content:r},[4,this.storage.setItem(e,JSON.stringify(o))];case 2:return i.sent(),[3,4];case 3:return i.sent(),[2];case 4:return[2]}})})},t.prototype.getStore=function(e,r){var n;if(this.mode==="async"){as(_r.INVALID_OPERATION,"current platform's storage is asynchronous, please use getStoreAsync insteed");return}try{if(typeof process<"u"&&(!((n=kc)===null||n===void 0)&&n.tcb_token))return kc.tcb_token;if(!this.storage)return""}catch{return""}r=r||"localCachev1";var o=this.storage.getItem(e);if(!o)return"";if(o.indexOf(r)>=0){var i=JSON.parse(o);return i.content}return""},t.prototype.getStoreAsync=function(e,r){var n;return qp(this,void 0,void 0,function(){var o,i;return $p(this,function(l){switch(l.label){case 0:try{if(typeof process<"u"&&(!((n=kc)===null||n===void 0)&&n.tcb_token))return[2,kc.tcb_token];if(!this.storage)return[2,""]}catch{return[2,""]}return r=r||"localCachev1",[4,this.storage.getItem(e)];case 1:return o=l.sent(),o?o.indexOf(r)>=0?(i=JSON.parse(o),[2,i.content]):[2,""]:[2,""]}})})},t.prototype.removeStore=function(e){if(this.mode==="async"){as(_r.INVALID_OPERATION,"current platform's storage is asynchronous, please use removeStoreAsync insteed");return}this.storage.removeItem(e)},t.prototype.removeStoreAsync=function(e){return qp(this,void 0,void 0,function(){return $p(this,function(r){switch(r.label){case 0:return[4,this.storage.removeItem(e)];case 1:return r.sent(),[2]}})})},t})(),bk=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Ek=function(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))};function Sk(t,e,r){r[t]=r[t]||[],r[t].push(e)}function Ik(t,e,r){if(r!=null&&r[t]){var n=r[t].indexOf(e);n!==-1&&r[t].splice(n,1)}}var G2=(function(){function t(e,r){this.data=r||null,this.name=e}return t})(),Tk=(function(t){bk(e,t);function e(r,n){var o=t.call(this,"error",{error:r,data:n})||this;return o.error=r,o}return e})(G2),z2=(function(){function t(){this.listeners={}}return t.prototype.on=function(e,r){return Sk(e,r,this.listeners),this},t.prototype.off=function(e,r){return Ik(e,r,this.listeners),this},t.prototype.fire=function(e,r){if(lk(e,Tk))return console.error(e.error),this;var n=B2(e)?new G2(e,r||{}):e,o=n.name;if(this.listens(o)){n.target=this;for(var i=this.listeners[o]?Ek([],this.listeners[o],!0):[],l=0,f=i;l<f.length;l++){var h=f[l];h.call(this,n)}}return this},t.prototype.listens=function(e){return this.listeners[e]&&this.listeners[e].length>0},t})(),pd=new z2,vd="lang_change";typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.indexOf("Firefox");function yd(t){return t.mode,t.customInfo,t.title,t.messages,function(e,r,n){}}function x0(t){this.message=t}x0.prototype=new Error,x0.prototype.name="InvalidCharacterError";typeof window<"u"&&window.atob&&window.atob.bind(window);function S1(t){this.message=t}S1.prototype=new Error,S1.prototype.name="InvalidTokenError";var Rf=function(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))},Af=_r,I1={};function Ok(t,e){var r=e.name,n=e.namespace,o=e.entity,i=e.injectEvents,l=e.IIFE,f=l===void 0?!1:l;if(I1[r]||n&&t[n])throw new Error(JSON.stringify({code:Af.INVALID_OPERATION,msg:"Duplicate component ".concat(r)}));if(f){if(!o||typeof o!="function")throw new Error(JSON.stringify({code:Af.INVALID_PARAMS,msg:"IIFE component's entity must be a function"}));o.call(t)}if(I1[r]=e,n?t.prototype[n]=o:V2(t.prototype,o),i){var h=i.bus,u=i.events;if(!h||!u||u.length===0)return;var d=t.prototype.fire||function(){};t.prototype.events||(t.prototype.events={});var v=t.prototype.events||{};v[r]?t.prototype.events[r].events=Rf(Rf([],t.prototype.events[r].events,!0),u,!0):t.prototype.events[r]={bus:h,events:u},t.prototype.fire=function(y,_){d(y,_);for(var w=Object.keys(this.events),S=0,T=w;S<T.length;S++){var O=T[S],x=this.events[O],A=x.bus,C=x.events;if(C.includes(y)){A.fire(y,_);break}}}}}function V2(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:{var r=e;return new Date(r.getTime())}case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(var n=Object.keys(e),o=0,i=n;o<i.length;o++){var l=i[o];Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=V2(t[l],e[l]))}return t}function xk(t,e){var r=e.entity,n=e.target;if(Object.prototype.hasOwnProperty.call(t,n))throw new Error(JSON.stringify({code:Af.INVALID_OPERATION,msg:"target:".concat(n," is not exist")}));var o=t.prototype[n];if(typeof o!="function")throw new Error(JSON.stringify({code:Af.INVALID_OPERATION,msg:"target:".concat(n," is not a function which is the only type supports hook")}));t.prototype[n]=function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];return r.call.apply(r,Rf([this],i,!1)),o.call.apply(o,Rf([this],i,!1))}}/**
 * @license
 * web-streams-polyfill v4.2.0
 * Copyright 2025 Mattias Buelens, Diwank Singh Tomer and other contributors.
 * This code is released under the MIT license.
 * SPDX-License-Identifier: MIT
 */function Xu(){}function It(t){return typeof t=="object"&&t!==null||typeof t=="function"}const K2=Xu;function $e(t,e){try{Object.defineProperty(t,"name",{value:e,configurable:!0})}catch{}}const yg=Promise,Rk=Promise.resolve.bind(yg),Ak=Promise.prototype.then,Ck=Promise.reject.bind(yg),Pk=Rk;function gt(t){return new yg(t)}function We(t){return gt(e=>e(t))}function Ee(t){return Ck(t)}function Qn(t,e,r){return Ak.call(t,e,r)}function wr(t,e,r){Qn(Qn(t,e,r),void 0,K2)}function Hp(t,e){wr(t,e)}function R0(t,e){wr(t,void 0,e)}function bi(t,e,r){return Qn(t,e,r)}function ws(t){Qn(t,void 0,K2)}let Vo=t=>{if(typeof queueMicrotask=="function")Vo=queueMicrotask;else{const e=We(void 0);Vo=r=>Qn(e,r)}return Vo(t)};function Xo(t,e,r){if(typeof t!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(t,e,r)}function Si(t,e,r){try{return We(Xo(t,e,r))}catch(n){return Ee(n)}}class on{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){const r=this._back;let n=r;r._elements.length===16383&&(n={_elements:[],_next:void 0}),r._elements.push(e),n!==r&&(this._back=n,r._next=n),++this._size}shift(){const e=this._front;let r=e;const n=this._cursor;let o=n+1;const i=e._elements,l=i[n];return o===16384&&(r=e._next,o=0),--this._size,this._cursor=o,e!==r&&(this._front=r),i[n]=void 0,l}forEach(e){let r=this._cursor,n=this._front,o=n._elements;for(;!(r===o.length&&n._next===void 0||r===o.length&&(n=n._next,o=n._elements,r=0,o.length===0));)e(o[r]),++r}peek(){const e=this._front,r=this._cursor;return e._elements[r]}}const Y2=Symbol("[[AbortSteps]]"),J2=Symbol("[[ErrorSteps]]"),mg=Symbol("[[CancelSteps]]"),gg=Symbol("[[PullSteps]]"),_g=Symbol("[[ReleaseSteps]]");function Q2(t,e){t._ownerReadableStream=e,e._reader=t,e._state==="readable"?A0(t):e._state==="closed"?(function(r){A0(r),Z2(r)})(t):X2(t,e._storedError)}function wg(t,e){return On(t._ownerReadableStream,e)}function _i(t){const e=t._ownerReadableStream;e._state==="readable"?bg(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):(function(r,n){X2(r,n)})(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._readableStreamController[_g](),e._reader=void 0,t._ownerReadableStream=void 0}function Cf(t){return new TypeError("Cannot "+t+" a stream using a released reader")}function A0(t){t._closedPromise=gt((e,r)=>{t._closedPromise_resolve=e,t._closedPromise_reject=r})}function X2(t,e){A0(t),bg(t,e)}function bg(t,e){t._closedPromise_reject!==void 0&&(ws(t._closedPromise),t._closedPromise_reject(e),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0)}function Z2(t){t._closedPromise_resolve!==void 0&&(t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0)}const T1=Number.isFinite||function(t){return typeof t=="number"&&isFinite(t)},Nk=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};function wi(t,e){if(t!==void 0&&typeof(r=t)!="object"&&typeof r!="function")throw new TypeError(`${e} is not an object.`);var r}function an(t,e){if(typeof t!="function")throw new TypeError(`${e} is not a function.`)}function ex(t,e){if(!(function(r){return typeof r=="object"&&r!==null||typeof r=="function"})(t))throw new TypeError(`${e} is not an object.`)}function Zo(t,e,r){if(t===void 0)throw new TypeError(`Parameter ${e} is required in '${r}'.`)}function O1(t,e,r){if(t===void 0)throw new TypeError(`${e} is required in '${r}'.`)}function tx(t){return Number(t)}function x1(t){return t===0?0:t}function Eg(t,e){const r=Number.MAX_SAFE_INTEGER;let n=Number(t);if(n=x1(n),!T1(n))throw new TypeError(`${e} is not a finite number`);if(n=(function(o){return x1(Nk(o))})(n),n<0||n>r)throw new TypeError(`${e} is outside the accepted range of 0 to ${r}, inclusive`);return T1(n)&&n!==0?n:0}function Sg(t,e){if(!Ki(t))throw new TypeError(`${e} is not a ReadableStream.`)}function ss(t){return new Do(t)}function rx(t,e){t._reader._readRequests.push(e)}function Ig(t,e,r){const n=t._reader._readRequests.shift();r?n._closeSteps():n._chunkSteps(e)}function md(t){return t._reader._readRequests.length}function nx(t){const e=t._reader;return e!==void 0&&!!eo(e)}class Do{constructor(e){if(Zo(e,1,"ReadableStreamDefaultReader"),Sg(e,"First parameter"),to(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");Q2(this,e),this._readRequests=new on}get closed(){return eo(this)?this._closedPromise:Ee(Lc("closed"))}cancel(e=void 0){return eo(this)?this._ownerReadableStream===void 0?Ee(Cf("cancel")):wg(this,e):Ee(Lc("cancel"))}read(){if(!eo(this))return Ee(Lc("read"));if(this._ownerReadableStream===void 0)return Ee(Cf("read from"));let e,r;const n=gt((o,i)=>{e=o,r=i});return Zu(this,{_chunkSteps:o=>e({value:o,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:o=>r(o)}),n}releaseLock(){if(!eo(this))throw Lc("releaseLock");this._ownerReadableStream!==void 0&&(function(e){_i(e);const r=new TypeError("Reader was released");ix(e,r)})(this)}}function eo(t){return!!It(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readRequests")&&t instanceof Do}function Zu(t,e){const r=t._ownerReadableStream;r._disturbed=!0,r._state==="closed"?e._closeSteps():r._state==="errored"?e._errorSteps(r._storedError):r._readableStreamController[gg](e)}function ix(t,e){const r=t._readRequests;t._readRequests=new on,r.forEach(n=>{n._errorSteps(e)})}function Lc(t){return new TypeError(`ReadableStreamDefaultReader.prototype.${t} can only be used on a ReadableStreamDefaultReader`)}var Gp,zp,Vp;function Pu(t){return t.slice()}function ox(t,e,r,n,o){new Uint8Array(t).set(new Uint8Array(r,n,o),e)}Object.defineProperties(Do.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),$e(Do.prototype.cancel,"cancel"),$e(Do.prototype.read,"read"),$e(Do.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Do.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});let ea=t=>(ea=typeof t.transfer=="function"?e=>e.transfer():typeof structuredClone=="function"?e=>structuredClone(e,{transfer:[e]}):e=>e,ea(t)),ta=t=>(ta=typeof t.detached=="boolean"?e=>e.detached:e=>e.byteLength===0,ta(t));function ax(t,e,r){if(t.slice)return t.slice(e,r);const n=r-e,o=new ArrayBuffer(n);return ox(o,0,t,e,n),o}function Nu(t,e){const r=t[e];if(r!=null){if(typeof r!="function")throw new TypeError(`${String(e)} is not a function`);return r}}function R1(t){try{const e=t.done,r=t.value;return Qn(Pk(r),n=>({done:e,value:n}))}catch(e){return Ee(e)}}const hl=(Vp=(Gp=Symbol.asyncIterator)!==null&&Gp!==void 0?Gp:(zp=Symbol.for)===null||zp===void 0?void 0:zp.call(Symbol,"Symbol.asyncIterator"))!==null&&Vp!==void 0?Vp:"@@asyncIterator";function sx(t,e="sync",r){if(r===void 0)if(e==="async"){if((r=Nu(t,hl))===void 0)return(function(o){const i={next(){let l;try{l=ux(o)}catch(f){return Ee(f)}return R1(l)},return(l){let f;try{const h=Nu(o.iterator,"return");if(h===void 0)return We({done:!0,value:l});f=Xo(h,o.iterator,[l])}catch(h){return Ee(h)}return It(f)?R1(f):Ee(new TypeError("The iterator.return() method must return an object"))}};return{iterator:i,nextMethod:i.next,done:!1}})(sx(t,"sync",Nu(t,Symbol.iterator)))}else r=Nu(t,Symbol.iterator);if(r===void 0)throw new TypeError("The object is not iterable");const n=Xo(r,t,[]);if(!It(n))throw new TypeError("The iterator method must return an object");return{iterator:n,nextMethod:n.next,done:!1}}function ux(t){const e=Xo(t.nextMethod,t.iterator,[]);if(!It(e))throw new TypeError("The iterator.next() method must return an object");return e}class lx{constructor(e,r){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=r}next(){const e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?bi(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){const r=()=>this._returnSteps(e);return this._ongoingPromise=this._ongoingPromise?bi(this._ongoingPromise,r,r):r(),this._ongoingPromise}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const e=this._reader;let r,n;const o=gt((i,l)=>{r=i,n=l});return Zu(e,{_chunkSteps:i=>{this._ongoingPromise=void 0,Vo(()=>r({value:i,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,_i(e),r({value:void 0,done:!0})},_errorSteps:i=>{this._ongoingPromise=void 0,this._isFinished=!0,_i(e),n(i)}}),o}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;const r=this._reader;if(!this._preventCancel){const n=wg(r,e);return _i(r),bi(n,()=>({value:e,done:!0}))}return _i(r),We({value:e,done:!0})}}const cx={next(){return A1(this)?this._asyncIteratorImpl.next():Ee(C1("next"))},return(t){return A1(this)?this._asyncIteratorImpl.return(t):Ee(C1("return"))},[hl](){return this}};function A1(t){if(!It(t)||!Object.prototype.hasOwnProperty.call(t,"_asyncIteratorImpl"))return!1;try{return t._asyncIteratorImpl instanceof lx}catch{return!1}}function C1(t){return new TypeError(`ReadableStreamAsyncIterator.${t} can only be used on a ReadableSteamAsyncIterator`)}Object.defineProperty(cx,hl,{enumerable:!1});const fx=Number.isNaN||function(t){return t!=t};function P1(t){const e=ax(t.buffer,t.byteOffset,t.byteOffset+t.byteLength);return new Uint8Array(e)}function C0(t){const e=t._queue.shift();return t._queueTotalSize-=e.size,t._queueTotalSize<0&&(t._queueTotalSize=0),e.value}function Tg(t,e,r){if(typeof(n=r)!="number"||fx(n)||n<0||r===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var n;t._queue.push({value:e,size:r}),t._queueTotalSize+=r}function co(t){t._queue=new on,t._queueTotalSize=0}function dx(t){return t===DataView}class Qa{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!Kp(this))throw Yp("view");return this._view}respond(e){if(!Kp(this))throw Yp("respond");if(Zo(e,1,"respond"),e=Eg(e,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(ta(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");hf(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!Kp(this))throw Yp("respondWithNewView");if(Zo(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(ta(e.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");pf(this._associatedReadableByteStreamController,e)}}Object.defineProperties(Qa.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),$e(Qa.prototype.respond,"respond"),$e(Qa.prototype.respondWithNewView,"respondWithNewView"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Qa.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class Xi{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!Uo(this))throw hu("byobRequest");return N0(this)}get desiredSize(){if(!Uo(this))throw hu("desiredSize");return Ix(this)}close(){if(!Uo(this))throw hu("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const e=this._controlledReadableByteStream._state;if(e!=="readable")throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);ku(this)}enqueue(e){if(!Uo(this))throw hu("enqueue");if(Zo(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(e.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(e.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const r=this._controlledReadableByteStream._state;if(r!=="readable")throw new TypeError(`The stream (in ${r} state) is not in the readable state and cannot be enqueued to`);df(this,e)}error(e=void 0){if(!Uo(this))throw hu("error");en(this,e)}[mg](e){hx(this),co(this);const r=this._cancelAlgorithm(e);return gd(this),r}[gg](e){const r=this._controlledReadableByteStream;if(this._queueTotalSize>0)return void Sx(this,e);const n=this._autoAllocateChunkSize;if(n!==void 0){let o;try{o=new ArrayBuffer(n)}catch(l){return void e._errorSteps(l)}const i={buffer:o,bufferByteLength:n,byteOffset:0,byteLength:n,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(i)}rx(r,e),ia(this)}[_g](){if(this._pendingPullIntos.length>0){const e=this._pendingPullIntos.peek();e.readerType="none",this._pendingPullIntos=new on,this._pendingPullIntos.push(e)}}}function Uo(t){return!!It(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledReadableByteStream")&&t instanceof Xi}function Kp(t){return!!It(t)&&!!Object.prototype.hasOwnProperty.call(t,"_associatedReadableByteStreamController")&&t instanceof Qa}function ia(t){if((function(r){const n=r._controlledReadableByteStream;return n._state!=="readable"||r._closeRequested||!r._started?!1:!!(nx(n)&&md(n)>0||xg(n)&&xx(n)>0||Ix(r)>0)})(t)){if(t._pulling)return void(t._pullAgain=!0);t._pulling=!0,wr(t._pullAlgorithm(),()=>(t._pulling=!1,t._pullAgain&&(t._pullAgain=!1,ia(t)),null),r=>(en(t,r),null))}}function hx(t){Og(t),t._pendingPullIntos=new on}function px(t,e){let r=!1;t._state==="closed"&&(r=!0);const n=vx(e);e.readerType==="default"?Ig(t,n,r):(function(o,i,l){const f=o._reader,h=f._readIntoRequests.shift();l?h._closeSteps(i):h._chunkSteps(i)})(t,n,r)}function cf(t,e){for(let r=0;r<e.length;++r)px(t,e[r])}function vx(t){const e=t.bytesFilled,r=t.elementSize;return new t.viewConstructor(t.buffer,t.byteOffset,e/r)}function ff(t,e,r,n){t._queue.push({buffer:e,byteOffset:r,byteLength:n}),t._queueTotalSize+=n}function yx(t,e,r,n){let o;try{o=ax(e,r,r+n)}catch(i){throw en(t,i),i}ff(t,o,0,n)}function mx(t,e){e.bytesFilled>0&&yx(t,e.buffer,e.byteOffset,e.bytesFilled),us(t)}function gx(t,e){const r=Math.min(t._queueTotalSize,e.byteLength-e.bytesFilled),n=e.bytesFilled+r;let o=r,i=!1;const l=n-n%e.elementSize;l>=e.minimumFill&&(o=l-e.bytesFilled,i=!0);const f=t._queue;for(;o>0;){const h=f.peek(),u=Math.min(o,h.byteLength),d=e.byteOffset+e.bytesFilled;ox(e.buffer,d,h.buffer,h.byteOffset,u),h.byteLength===u?f.shift():(h.byteOffset+=u,h.byteLength-=u),t._queueTotalSize-=u,_x(t,u,e),o-=u}return i}function _x(t,e,r){r.bytesFilled+=e}function bx(t){t._queueTotalSize===0&&t._closeRequested?(gd(t),pl(t._controlledReadableByteStream)):ia(t)}function Og(t){t._byobRequest!==null&&(t._byobRequest._associatedReadableByteStreamController=void 0,t._byobRequest._view=null,t._byobRequest=null)}function P0(t){const e=[];for(;t._pendingPullIntos.length>0&&t._queueTotalSize!==0;){const r=t._pendingPullIntos.peek();gx(t,r)&&(us(t),e.push(r))}return e}function kk(t,e,r,n){const o=t._controlledReadableByteStream,i=e.constructor,l=(function(y){return dx(y)?1:y.BYTES_PER_ELEMENT})(i),{byteOffset:f,byteLength:h}=e,u=r*l;let d;try{d=ea(e.buffer)}catch(y){return void n._errorSteps(y)}const v={buffer:d,bufferByteLength:d.byteLength,byteOffset:f,byteLength:h,bytesFilled:0,minimumFill:u,elementSize:l,viewConstructor:i,readerType:"byob"};if(t._pendingPullIntos.length>0)return t._pendingPullIntos.push(v),void N1(o,n);if(o._state==="closed"){const y=new i(v.buffer,v.byteOffset,0);return void n._closeSteps(y)}if(t._queueTotalSize>0){if(gx(t,v)){const y=vx(v);return bx(t),void n._chunkSteps(y)}if(t._closeRequested){const y=new TypeError("Insufficient bytes to fill elements in the given buffer");return en(t,y),void n._errorSteps(y)}}t._pendingPullIntos.push(v),N1(o,n),ia(t)}function Ex(t,e){const r=t._pendingPullIntos.peek();Og(t),t._controlledReadableByteStream._state==="closed"?(function(n,o){o.readerType==="none"&&us(n);const i=n._controlledReadableByteStream;if(xg(i)){const l=[];for(;l.length<xx(i);)l.push(us(n));cf(i,l)}})(t,r):(function(n,o,i){if(_x(0,o,i),i.readerType==="none"){mx(n,i);const h=P0(n);return void cf(n._controlledReadableByteStream,h)}if(i.bytesFilled<i.minimumFill)return;us(n);const l=i.bytesFilled%i.elementSize;if(l>0){const h=i.byteOffset+i.bytesFilled;yx(n,i.buffer,h-l,l)}i.bytesFilled-=l;const f=P0(n);px(n._controlledReadableByteStream,i),cf(n._controlledReadableByteStream,f)})(t,e,r),ia(t)}function us(t){return t._pendingPullIntos.shift()}function gd(t){t._pullAlgorithm=void 0,t._cancelAlgorithm=void 0}function ku(t){const e=t._controlledReadableByteStream;if(!t._closeRequested&&e._state==="readable")if(t._queueTotalSize>0)t._closeRequested=!0;else{if(t._pendingPullIntos.length>0){const r=t._pendingPullIntos.peek();if(r.bytesFilled%r.elementSize!==0){const n=new TypeError("Insufficient bytes to fill elements in the given buffer");throw en(t,n),n}}gd(t),pl(e)}}function df(t,e){const r=t._controlledReadableByteStream;if(t._closeRequested||r._state!=="readable")return;const{buffer:n,byteOffset:o,byteLength:i}=e;if(ta(n))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");const l=ea(n);if(t._pendingPullIntos.length>0){const f=t._pendingPullIntos.peek();if(ta(f.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");Og(t),f.buffer=ea(f.buffer),f.readerType==="none"&&mx(t,f)}nx(r)?((function(f){const h=f._controlledReadableByteStream._reader;for(;h._readRequests.length>0;){if(f._queueTotalSize===0)return;Sx(f,h._readRequests.shift())}})(t),md(r)===0?ff(t,l,o,i):(t._pendingPullIntos.length>0&&us(t),Ig(r,new Uint8Array(l,o,i),!1))):xg(r)?(ff(t,l,o,i),cf(r,P0(t))):ff(t,l,o,i),ia(t)}function en(t,e){const r=t._controlledReadableByteStream;r._state==="readable"&&(hx(t),co(t),gd(t),Vx(r,e))}function Sx(t,e){const r=t._queue.shift();t._queueTotalSize-=r.byteLength,bx(t);const n=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);e._chunkSteps(n)}function N0(t){if(t._byobRequest===null&&t._pendingPullIntos.length>0){const e=t._pendingPullIntos.peek(),r=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled),n=Object.create(Qa.prototype);(function(o,i,l){o._associatedReadableByteStreamController=i,o._view=l})(n,t,r),t._byobRequest=n}return t._byobRequest}function Ix(t){const e=t._controlledReadableByteStream._state;return e==="errored"?null:e==="closed"?0:t._strategyHWM-t._queueTotalSize}function hf(t,e){const r=t._pendingPullIntos.peek();if(t._controlledReadableByteStream._state==="closed"){if(e!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(e===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(r.bytesFilled+e>r.byteLength)throw new RangeError("bytesWritten out of range")}r.buffer=ea(r.buffer),Ex(t,e)}function pf(t,e){const r=t._pendingPullIntos.peek();if(t._controlledReadableByteStream._state==="closed"){if(e.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(e.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(r.byteOffset+r.bytesFilled!==e.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.bufferByteLength!==e.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(r.bytesFilled+e.byteLength>r.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");const n=e.byteLength;r.buffer=ea(e.buffer),Ex(t,n)}function Tx(t,e,r,n,o,i,l){e._controlledReadableByteStream=t,e._pullAgain=!1,e._pulling=!1,e._byobRequest=null,e._queue=e._queueTotalSize=void 0,co(e),e._closeRequested=!1,e._started=!1,e._strategyHWM=i,e._pullAlgorithm=n,e._cancelAlgorithm=o,e._autoAllocateChunkSize=l,e._pendingPullIntos=new on,t._readableStreamController=e,wr(We(r()),()=>(e._started=!0,ia(e),null),f=>(en(e,f),null))}function Yp(t){return new TypeError(`ReadableStreamBYOBRequest.prototype.${t} can only be used on a ReadableStreamBYOBRequest`)}function hu(t){return new TypeError(`ReadableByteStreamController.prototype.${t} can only be used on a ReadableByteStreamController`)}function Lk(t,e){if((t=`${t}`)!="byob")throw new TypeError(`${e} '${t}' is not a valid enumeration value for ReadableStreamReaderMode`);return t}function Ox(t){return new Fo(t)}function N1(t,e){t._reader._readIntoRequests.push(e)}function xx(t){return t._reader._readIntoRequests.length}function xg(t){const e=t._reader;return e!==void 0&&!!Ho(e)}Object.defineProperties(Xi.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),$e(Xi.prototype.close,"close"),$e(Xi.prototype.enqueue,"enqueue"),$e(Xi.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Xi.prototype,Symbol.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class Fo{constructor(e){if(Zo(e,1,"ReadableStreamBYOBReader"),Sg(e,"First parameter"),to(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Uo(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");Q2(this,e),this._readIntoRequests=new on}get closed(){return Ho(this)?this._closedPromise:Ee(jc("closed"))}cancel(e=void 0){return Ho(this)?this._ownerReadableStream===void 0?Ee(Cf("cancel")):wg(this,e):Ee(jc("cancel"))}read(e,r={}){if(!Ho(this))return Ee(jc("read"));if(!ArrayBuffer.isView(e))return Ee(new TypeError("view must be an array buffer view"));if(e.byteLength===0)return Ee(new TypeError("view must have non-zero byteLength"));if(e.buffer.byteLength===0)return Ee(new TypeError("view's buffer must have non-zero byteLength"));if(ta(e.buffer))return Ee(new TypeError("view's buffer has been detached"));let n;try{n=(function(h,u){var d;return wi(h,u),{min:Eg((d=h==null?void 0:h.min)!==null&&d!==void 0?d:1,`${u} has member 'min' that`)}})(r,"options")}catch(h){return Ee(h)}const o=n.min;if(o===0)return Ee(new TypeError("options.min must be greater than 0"));if((function(h){return dx(h.constructor)})(e)){if(o>e.byteLength)return Ee(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(o>e.length)return Ee(new RangeError("options.min must be less than or equal to view's length"));if(this._ownerReadableStream===void 0)return Ee(Cf("read from"));let i,l;const f=gt((h,u)=>{i=h,l=u});return Rx(this,e,o,{_chunkSteps:h=>i({value:h,done:!1}),_closeSteps:h=>i({value:h,done:!0}),_errorSteps:h=>l(h)}),f}releaseLock(){if(!Ho(this))throw jc("releaseLock");this._ownerReadableStream!==void 0&&(function(e){_i(e);const r=new TypeError("Reader was released");Ax(e,r)})(this)}}function Ho(t){return!!It(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readIntoRequests")&&t instanceof Fo}function Rx(t,e,r,n){const o=t._ownerReadableStream;o._disturbed=!0,o._state==="errored"?n._errorSteps(o._storedError):kk(o._readableStreamController,e,r,n)}function Ax(t,e){const r=t._readIntoRequests;t._readIntoRequests=new on,r.forEach(n=>{n._errorSteps(e)})}function jc(t){return new TypeError(`ReadableStreamBYOBReader.prototype.${t} can only be used on a ReadableStreamBYOBReader`)}function el(t,e){const{highWaterMark:r}=t;if(r===void 0)return e;if(fx(r)||r<0)throw new RangeError("Invalid highWaterMark");return r}function Pf(t){const{size:e}=t;return e||(()=>1)}function Nf(t,e){wi(t,e);const r=t==null?void 0:t.highWaterMark,n=t==null?void 0:t.size;return{highWaterMark:r===void 0?void 0:tx(r),size:n===void 0?void 0:jk(n,`${e} has member 'size' that`)}}function jk(t,e){return an(t,e),r=>tx(t(r))}function Dk(t,e,r){return an(t,r),n=>Si(t,e,[n])}function Uk(t,e,r){return an(t,r),()=>Si(t,e,[])}function Fk(t,e,r){return an(t,r),n=>Xo(t,e,[n])}function Mk(t,e,r){return an(t,r),(n,o)=>Si(t,e,[n,o])}function Cx(t,e){if(!Xa(t))throw new TypeError(`${e} is not a WritableStream.`)}Object.defineProperties(Fo.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),$e(Fo.prototype.cancel,"cancel"),$e(Fo.prototype.read,"read"),$e(Fo.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Fo.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});class Mo{constructor(e={},r={}){e===void 0?e=null:ex(e,"First parameter");const n=Nf(r,"Second parameter"),o=(function(l,f){wi(l,f);const h=l==null?void 0:l.abort,u=l==null?void 0:l.close,d=l==null?void 0:l.start,v=l==null?void 0:l.type,y=l==null?void 0:l.write;return{abort:h===void 0?void 0:Dk(h,l,`${f} has member 'abort' that`),close:u===void 0?void 0:Uk(u,l,`${f} has member 'close' that`),start:d===void 0?void 0:Fk(d,l,`${f} has member 'start' that`),write:y===void 0?void 0:Mk(y,l,`${f} has member 'write' that`),type:v}})(e,"First parameter");if(Nx(this),o.type!==void 0)throw new RangeError("Invalid type is specified");const i=Pf(n);(function(l,f,h,u){const d=Object.create(tl.prototype);let v,y,_,w;v=f.start!==void 0?()=>f.start(d):()=>{},y=f.write!==void 0?S=>f.write(S,d):()=>We(void 0),_=f.close!==void 0?()=>f.close():()=>We(void 0),w=f.abort!==void 0?S=>f.abort(S):()=>We(void 0),Mx(l,d,v,y,_,w,h,u)})(this,o,el(n,1),i)}get locked(){if(!Xa(this))throw Uc("locked");return ls(this)}abort(e=void 0){return Xa(this)?ls(this)?Ee(new TypeError("Cannot abort a stream that already has a writer")):kf(this,e):Ee(Uc("abort"))}close(){return Xa(this)?ls(this)?Ee(new TypeError("Cannot close a stream that already has a writer")):Xn(this)?Ee(new TypeError("Cannot close an already-closing stream")):kx(this):Ee(Uc("close"))}getWriter(){if(!Xa(this))throw Uc("getWriter");return Px(this)}}function Px(t){return new Yi(t)}function Nx(t){t._state="writable",t._storedError=void 0,t._writer=void 0,t._writableStreamController=void 0,t._writeRequests=new on,t._inFlightWriteRequest=void 0,t._closeRequest=void 0,t._inFlightCloseRequest=void 0,t._pendingAbortRequest=void 0,t._backpressure=!1}function Xa(t){return!!It(t)&&!!Object.prototype.hasOwnProperty.call(t,"_writableStreamController")&&t instanceof Mo}function ls(t){return t._writer!==void 0}function kf(t,e){var r;if(t._state==="closed"||t._state==="errored")return We(void 0);t._writableStreamController._abortReason=e,(r=t._writableStreamController._abortController)===null||r===void 0||r.abort(e);const n=t._state;if(n==="closed"||n==="errored")return We(void 0);if(t._pendingAbortRequest!==void 0)return t._pendingAbortRequest._promise;let o=!1;n==="erroring"&&(o=!0,e=void 0);const i=gt((l,f)=>{t._pendingAbortRequest={_promise:void 0,_resolve:l,_reject:f,_reason:e,_wasAlreadyErroring:o}});return t._pendingAbortRequest._promise=i,o||Rg(t,e),i}function kx(t){const e=t._state;if(e==="closed"||e==="errored")return Ee(new TypeError(`The stream (in ${e} state) is not in the writable state and cannot be closed`));const r=gt((i,l)=>{const f={_resolve:i,_reject:l};t._closeRequest=f}),n=t._writer;var o;return n!==void 0&&t._backpressure&&e==="writable"&&kg(n),Tg(o=t._writableStreamController,Fx,0),_d(o),r}function k0(t,e){t._state!=="writable"?Ag(t):Rg(t,e)}function Rg(t,e){const r=t._writableStreamController;t._state="erroring",t._storedError=e;const n=t._writer;n!==void 0&&jx(n,e),!(function(o){return!(o._inFlightWriteRequest===void 0&&o._inFlightCloseRequest===void 0)})(t)&&r._started&&Ag(t)}function Ag(t){t._state="errored",t._writableStreamController[J2]();const e=t._storedError;if(t._writeRequests.forEach(n=>{n._reject(e)}),t._writeRequests=new on,t._pendingAbortRequest===void 0)return void Dc(t);const r=t._pendingAbortRequest;if(t._pendingAbortRequest=void 0,r._wasAlreadyErroring)return r._reject(e),void Dc(t);wr(t._writableStreamController[Y2](r._reason),()=>(r._resolve(),Dc(t),null),n=>(r._reject(n),Dc(t),null))}function Xn(t){return t._closeRequest!==void 0||t._inFlightCloseRequest!==void 0}function Dc(t){t._closeRequest!==void 0&&(t._closeRequest._reject(t._storedError),t._closeRequest=void 0);const e=t._writer;e!==void 0&&Ng(e,t._storedError)}function Cg(t,e){const r=t._writer;r!==void 0&&e!==t._backpressure&&(e?(function(n){wd(n)})(r):kg(r)),t._backpressure=e}Object.defineProperties(Mo.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),$e(Mo.prototype.abort,"abort"),$e(Mo.prototype.close,"close"),$e(Mo.prototype.getWriter,"getWriter"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Mo.prototype,Symbol.toStringTag,{value:"WritableStream",configurable:!0});class Yi{constructor(e){if(Zo(e,1,"WritableStreamDefaultWriter"),Cx(e,"First parameter"),ls(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;const r=e._state;if(r==="writable")!Xn(e)&&e._backpressure?wd(this):k1(this),vf(this);else if(r==="erroring")L0(this,e._storedError),vf(this);else if(r==="closed")k1(this),vf(n=this),Wx(n);else{const o=e._storedError;L0(this,o),$x(this,o)}var n}get closed(){return xo(this)?this._closedPromise:Ee(Ro("closed"))}get desiredSize(){if(!xo(this))throw Ro("desiredSize");if(this._ownerWritableStream===void 0)throw Lu("desiredSize");return(function(e){const r=e._ownerWritableStream,n=r._state;return n==="errored"||n==="erroring"?null:n==="closed"?0:Bx(r._writableStreamController)})(this)}get ready(){return xo(this)?this._readyPromise:Ee(Ro("ready"))}abort(e=void 0){return xo(this)?this._ownerWritableStream===void 0?Ee(Lu("abort")):(function(r,n){return kf(r._ownerWritableStream,n)})(this,e):Ee(Ro("abort"))}close(){if(!xo(this))return Ee(Ro("close"));const e=this._ownerWritableStream;return e===void 0?Ee(Lu("close")):Xn(e)?Ee(new TypeError("Cannot close an already-closing stream")):Lx(this)}releaseLock(){if(!xo(this))throw Ro("releaseLock");this._ownerWritableStream!==void 0&&Dx(this)}write(e=void 0){return xo(this)?this._ownerWritableStream===void 0?Ee(Lu("write to")):Ux(this,e):Ee(Ro("write"))}}function xo(t){return!!It(t)&&!!Object.prototype.hasOwnProperty.call(t,"_ownerWritableStream")&&t instanceof Yi}function Lx(t){return kx(t._ownerWritableStream)}function Bk(t,e){t._closedPromiseState==="pending"?Ng(t,e):(function(r,n){$x(r,n)})(t,e)}function jx(t,e){t._readyPromiseState==="pending"?Hx(t,e):(function(r,n){L0(r,n)})(t,e)}function Dx(t){const e=t._ownerWritableStream,r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");jx(t,r),Bk(t,r),e._writer=void 0,t._ownerWritableStream=void 0}function Ux(t,e){const r=t._ownerWritableStream,n=r._writableStreamController,o=(function(f,h){if(f._strategySizeAlgorithm===void 0)return 1;try{return f._strategySizeAlgorithm(h)}catch(u){return rl(f,u),1}})(n,e);if(r!==t._ownerWritableStream)return Ee(Lu("write to"));const i=r._state;if(i==="errored")return Ee(r._storedError);if(Xn(r)||i==="closed")return Ee(new TypeError("The stream is closing or closed and cannot be written to"));if(i==="erroring")return Ee(r._storedError);const l=(function(f){return gt((h,u)=>{const d={_resolve:h,_reject:u};f._writeRequests.push(d)})})(r);return(function(f,h,u){try{Tg(f,h,u)}catch(v){return void rl(f,v)}const d=f._controlledWritableStream;!Xn(d)&&d._state==="writable"&&Cg(d,Pg(f)),_d(f)})(n,e,o),l}Object.defineProperties(Yi.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),$e(Yi.prototype.abort,"abort"),$e(Yi.prototype.close,"close"),$e(Yi.prototype.releaseLock,"releaseLock"),$e(Yi.prototype.write,"write"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Yi.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const Fx={};class tl{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!Jp(this))throw Qp("abortReason");return this._abortReason}get signal(){if(!Jp(this))throw Qp("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(e=void 0){if(!Jp(this))throw Qp("error");this._controlledWritableStream._state==="writable"&&qx(this,e)}[Y2](e){const r=this._abortAlgorithm(e);return Lf(this),r}[J2](){co(this)}}function Jp(t){return!!It(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledWritableStream")&&t instanceof tl}function Mx(t,e,r,n,o,i,l,f){e._controlledWritableStream=t,t._writableStreamController=e,e._queue=void 0,e._queueTotalSize=void 0,co(e),e._abortReason=void 0,e._abortController=(function(){if(typeof AbortController=="function")return new AbortController})(),e._started=!1,e._strategySizeAlgorithm=f,e._strategyHWM=l,e._writeAlgorithm=n,e._closeAlgorithm=o,e._abortAlgorithm=i;const h=Pg(e);Cg(t,h),wr(We(r()),()=>(e._started=!0,_d(e),null),u=>(e._started=!0,k0(t,u),null))}function Lf(t){t._writeAlgorithm=void 0,t._closeAlgorithm=void 0,t._abortAlgorithm=void 0,t._strategySizeAlgorithm=void 0}function Bx(t){return t._strategyHWM-t._queueTotalSize}function _d(t){const e=t._controlledWritableStream;if(!t._started||e._inFlightWriteRequest!==void 0)return;if(e._state==="erroring")return void Ag(e);if(t._queue.length===0)return;const r=t._queue.peek().value;r===Fx?(function(n){const o=n._controlledWritableStream;(function(l){l._inFlightCloseRequest=l._closeRequest,l._closeRequest=void 0})(o),C0(n);const i=n._closeAlgorithm();Lf(n),wr(i,()=>((function(l){l._inFlightCloseRequest._resolve(void 0),l._inFlightCloseRequest=void 0,l._state==="erroring"&&(l._storedError=void 0,l._pendingAbortRequest!==void 0&&(l._pendingAbortRequest._resolve(),l._pendingAbortRequest=void 0)),l._state="closed";const f=l._writer;f!==void 0&&Wx(f)})(o),null),l=>((function(f,h){f._inFlightCloseRequest._reject(h),f._inFlightCloseRequest=void 0,f._pendingAbortRequest!==void 0&&(f._pendingAbortRequest._reject(h),f._pendingAbortRequest=void 0),k0(f,h)})(o,l),null))})(t):(function(n,o){const i=n._controlledWritableStream;(function(f){f._inFlightWriteRequest=f._writeRequests.shift()})(i);const l=n._writeAlgorithm(o);wr(l,()=>{(function(h){h._inFlightWriteRequest._resolve(void 0),h._inFlightWriteRequest=void 0})(i);const f=i._state;if(C0(n),!Xn(i)&&f==="writable"){const h=Pg(n);Cg(i,h)}return _d(n),null},f=>(i._state==="writable"&&Lf(n),(function(h,u){h._inFlightWriteRequest._reject(u),h._inFlightWriteRequest=void 0,k0(h,u)})(i,f),null))})(t,r)}function rl(t,e){t._controlledWritableStream._state==="writable"&&qx(t,e)}function Pg(t){return Bx(t)<=0}function qx(t,e){const r=t._controlledWritableStream;Lf(t),Rg(r,e)}function Uc(t){return new TypeError(`WritableStream.prototype.${t} can only be used on a WritableStream`)}function Qp(t){return new TypeError(`WritableStreamDefaultController.prototype.${t} can only be used on a WritableStreamDefaultController`)}function Ro(t){return new TypeError(`WritableStreamDefaultWriter.prototype.${t} can only be used on a WritableStreamDefaultWriter`)}function Lu(t){return new TypeError("Cannot "+t+" a stream using a released writer")}function vf(t){t._closedPromise=gt((e,r)=>{t._closedPromise_resolve=e,t._closedPromise_reject=r,t._closedPromiseState="pending"})}function $x(t,e){vf(t),Ng(t,e)}function Ng(t,e){t._closedPromise_reject!==void 0&&(ws(t._closedPromise),t._closedPromise_reject(e),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="rejected")}function Wx(t){t._closedPromise_resolve!==void 0&&(t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="resolved")}function wd(t){t._readyPromise=gt((e,r)=>{t._readyPromise_resolve=e,t._readyPromise_reject=r}),t._readyPromiseState="pending"}function L0(t,e){wd(t),Hx(t,e)}function k1(t){wd(t),kg(t)}function Hx(t,e){t._readyPromise_reject!==void 0&&(ws(t._readyPromise),t._readyPromise_reject(e),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState="rejected")}function kg(t){t._readyPromise_resolve!==void 0&&(t._readyPromise_resolve(void 0),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState="fulfilled")}Object.defineProperties(tl.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(tl.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const L1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:void 0,qk=(function(){const t=L1==null?void 0:L1.DOMException;return(function(e){if(typeof e!="function"&&typeof e!="object"||e.name!=="DOMException")return!1;try{return new e,!0}catch{return!1}})(t)?t:void 0})()||(function(){const t=function(e,r){this.message=e||"",this.name=r||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return $e(t,"DOMException"),t.prototype=Object.create(Error.prototype),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,configurable:!0}),t})();function j1(t,e,r,n,o,i){const l=ss(t),f=Px(e);t._disturbed=!0;let h=!1,u=We(void 0);return gt((d,v)=>{let y;if(i!==void 0){if(y=()=>{const U=i.reason!==void 0?i.reason:new qk("Aborted","AbortError"),q=[];n||q.push(()=>e._state==="writable"?kf(e,U):We(void 0)),o||q.push(()=>t._state==="readable"?On(t,U):We(void 0)),x(()=>Promise.all(q.map(K=>K())),!0,U)},i.aborted)return void y();i.addEventListener("abort",y)}var _,w,S;if(O(t,l._closedPromise,U=>(n?A(!0,U):x(()=>kf(e,U),!0,U),null)),O(e,f._closedPromise,U=>(o?A(!0,U):x(()=>On(t,U),!0,U),null)),_=t,w=l._closedPromise,S=()=>(r?A():x(()=>(function(U){const q=U._ownerWritableStream,K=q._state;return Xn(q)||K==="closed"?We(void 0):K==="errored"?Ee(q._storedError):Lx(U)})(f)),null),_._state==="closed"?S():Hp(w,S),Xn(e)||e._state==="closed"){const U=new TypeError("the destination writable stream closed before all data could be piped to it");o?A(!0,U):x(()=>On(t,U),!0,U)}function T(){const U=u;return Qn(u,()=>U!==u?T():void 0)}function O(U,q,K){U._state==="errored"?K(U._storedError):R0(q,K)}function x(U,q,K){function V(){return wr(U(),()=>C(q,K),k=>C(!0,k)),null}h||(h=!0,e._state!=="writable"||Xn(e)?V():Hp(T(),V))}function A(U,q){h||(h=!0,e._state!=="writable"||Xn(e)?C(U,q):Hp(T(),()=>C(U,q)))}function C(U,q){return Dx(f),_i(l),i!==void 0&&i.removeEventListener("abort",y),U?v(q):d(void 0),null}ws(gt((U,q)=>{(function K(V){V?U():Qn(h?We(!0):Qn(f._readyPromise,()=>gt((k,$)=>{Zu(l,{_chunkSteps:F=>{u=Qn(Ux(f,F),void 0,Xu),k(!1)},_closeSteps:()=>k(!0),_errorSteps:$})})),K,q)})(!1)}))})}class Zi{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Fc(this))throw Mc("desiredSize");return Lg(this)}close(){if(!Fc(this))throw Mc("close");if(!vs(this))throw new TypeError("The stream is not in a state that permits close");ra(this)}enqueue(e=void 0){if(!Fc(this))throw Mc("enqueue");if(!vs(this))throw new TypeError("The stream is not in a state that permits enqueue");return ps(this,e)}error(e=void 0){if(!Fc(this))throw Mc("error");Pn(this,e)}[mg](e){co(this);const r=this._cancelAlgorithm(e);return jf(this),r}[gg](e){const r=this._controlledReadableStream;if(this._queue.length>0){const n=C0(this);this._closeRequested&&this._queue.length===0?(jf(this),pl(r)):nl(this),e._chunkSteps(n)}else rx(r,e),nl(this)}[_g](){}}function Fc(t){return!!It(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledReadableStream")&&t instanceof Zi}function nl(t){if(Gx(t)){if(t._pulling)return void(t._pullAgain=!0);t._pulling=!0,wr(t._pullAlgorithm(),()=>(t._pulling=!1,t._pullAgain&&(t._pullAgain=!1,nl(t)),null),e=>(Pn(t,e),null))}}function Gx(t){const e=t._controlledReadableStream;return!vs(t)||!t._started?!1:to(e)&&md(e)>0?!0:Lg(t)>0}function jf(t){t._pullAlgorithm=void 0,t._cancelAlgorithm=void 0,t._strategySizeAlgorithm=void 0}function ra(t){if(!vs(t))return;const e=t._controlledReadableStream;t._closeRequested=!0,t._queue.length===0&&(jf(t),pl(e))}function ps(t,e){if(!vs(t))return;const r=t._controlledReadableStream;if(to(r)&&md(r)>0)Ig(r,e,!1);else{let n;try{n=t._strategySizeAlgorithm(e)}catch(o){throw Pn(t,o),o}try{Tg(t,e,n)}catch(o){throw Pn(t,o),o}}nl(t)}function Pn(t,e){const r=t._controlledReadableStream;r._state==="readable"&&(co(t),jf(t),Vx(r,e))}function Lg(t){const e=t._controlledReadableStream._state;return e==="errored"?null:e==="closed"?0:t._strategyHWM-t._queueTotalSize}function vs(t){const e=t._controlledReadableStream._state;return!t._closeRequested&&e==="readable"}function zx(t,e,r,n,o,i,l){e._controlledReadableStream=t,e._queue=void 0,e._queueTotalSize=void 0,co(e),e._started=!1,e._closeRequested=!1,e._pullAgain=!1,e._pulling=!1,e._strategySizeAlgorithm=l,e._strategyHWM=i,e._pullAlgorithm=n,e._cancelAlgorithm=o,t._readableStreamController=e,wr(We(r()),()=>(e._started=!0,nl(e),null),f=>(Pn(e,f),null))}function Mc(t){return new TypeError(`ReadableStreamDefaultController.prototype.${t} can only be used on a ReadableStreamDefaultController`)}function $k(t,e){return Uo(t._readableStreamController)?(function(r){let n,o,i,l,f,h=ss(r),u=!1,d=!1,v=!1,y=!1,_=!1;const w=gt(K=>{f=K});function S(K){R0(K._closedPromise,V=>(K!==h||(en(i._readableStreamController,V),en(l._readableStreamController,V),y&&_||f(void 0)),null))}function T(){Ho(h)&&(_i(h),h=ss(r),S(h)),Zu(h,{_chunkSteps:K=>{Vo(()=>{d=!1,v=!1;const V=K;let k=K;if(!y&&!_)try{k=P1(K)}catch($){return en(i._readableStreamController,$),en(l._readableStreamController,$),void f(On(r,$))}y||df(i._readableStreamController,V),_||df(l._readableStreamController,k),u=!1,d?x():v&&A()})},_closeSteps:()=>{u=!1,y||ku(i._readableStreamController),_||ku(l._readableStreamController),i._readableStreamController._pendingPullIntos.length>0&&hf(i._readableStreamController,0),l._readableStreamController._pendingPullIntos.length>0&&hf(l._readableStreamController,0),y&&_||f(void 0)},_errorSteps:()=>{u=!1}})}function O(K,V){eo(h)&&(_i(h),h=Ox(r),S(h));const k=V?l:i,$=V?i:l;Rx(h,K,1,{_chunkSteps:F=>{Vo(()=>{d=!1,v=!1;const z=V?_:y;if(V?y:_)z||pf(k._readableStreamController,F);else{let Q;try{Q=P1(F)}catch(ee){return en(k._readableStreamController,ee),en($._readableStreamController,ee),void f(On(r,ee))}z||pf(k._readableStreamController,F),df($._readableStreamController,Q)}u=!1,d?x():v&&A()})},_closeSteps:F=>{u=!1;const z=V?_:y,Q=V?y:_;z||ku(k._readableStreamController),Q||ku($._readableStreamController),F!==void 0&&(z||pf(k._readableStreamController,F),!Q&&$._readableStreamController._pendingPullIntos.length>0&&hf($._readableStreamController,0)),z&&Q||f(void 0)},_errorSteps:()=>{u=!1}})}function x(){if(u)return d=!0,We(void 0);u=!0;const K=N0(i._readableStreamController);return K===null?T():O(K._view,!1),We(void 0)}function A(){if(u)return v=!0,We(void 0);u=!0;const K=N0(l._readableStreamController);return K===null?T():O(K._view,!0),We(void 0)}function C(K){if(y=!0,n=K,_){const V=Pu([n,o]),k=On(r,V);f(k)}return w}function U(K){if(_=!0,o=K,y){const V=Pu([n,o]),k=On(r,V);f(k)}return w}function q(){}return i=U1(q,x,C),l=U1(q,A,U),S(h),[i,l]})(t):(function(r){const n=ss(r);let o,i,l,f,h,u=!1,d=!1,v=!1,y=!1;const _=gt(x=>{h=x});function w(){return u?(d=!0,We(void 0)):(u=!0,Zu(n,{_chunkSteps:x=>{Vo(()=>{d=!1;const A=x,C=x;v||ps(l._readableStreamController,A),y||ps(f._readableStreamController,C),u=!1,d&&w()})},_closeSteps:()=>{u=!1,v||ra(l._readableStreamController),y||ra(f._readableStreamController),v&&y||h(void 0)},_errorSteps:()=>{u=!1}}),We(void 0))}function S(x){if(v=!0,o=x,y){const A=Pu([o,i]),C=On(r,A);h(C)}return _}function T(x){if(y=!0,i=x,v){const A=Pu([o,i]),C=On(r,A);h(C)}return _}function O(){}return l=il(O,w,S),f=il(O,w,T),R0(n._closedPromise,x=>(Pn(l._readableStreamController,x),Pn(f._readableStreamController,x),v&&y||h(void 0),null)),[l,f]})(t)}function Wk(t){return It(e=t)&&e.getReader!==void 0?(function(r){let n;function o(){let l;try{l=r.read()}catch(f){return Ee(f)}return bi(l,f=>{if(!It(f))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");if(f.done)ra(n._readableStreamController);else{const h=f.value;ps(n._readableStreamController,h)}})}function i(l){try{return We(r.cancel(l))}catch(f){return Ee(f)}}return n=il(Xu,o,i,0),n})(t.getReader()):(function(r){let n;const o=sx(r,"async");function i(){let f;try{f=ux(o)}catch(h){return Ee(h)}return bi(We(f),h=>{if(!It(h))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");if(h.done)ra(n._readableStreamController);else{const u=h.value;ps(n._readableStreamController,u)}})}function l(f){const h=o.iterator;let u;try{u=Nu(h,"return")}catch(d){return Ee(d)}return u===void 0?We(void 0):bi(Si(u,h,[f]),d=>{if(!It(d))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")})}return n=il(Xu,i,l,0),n})(t);var e}function Hk(t,e,r){return an(t,r),n=>Si(t,e,[n])}function Gk(t,e,r){return an(t,r),n=>Si(t,e,[n])}function zk(t,e,r){return an(t,r),n=>Xo(t,e,[n])}function Vk(t,e){if((t=`${t}`)!="bytes")throw new TypeError(`${e} '${t}' is not a valid enumeration value for ReadableStreamType`);return t}function D1(t,e){wi(t,e);const r=t==null?void 0:t.preventAbort,n=t==null?void 0:t.preventCancel,o=t==null?void 0:t.preventClose,i=t==null?void 0:t.signal;return i!==void 0&&(function(l,f){if(!(function(h){if(typeof h!="object"||h===null)return!1;try{return typeof h.aborted=="boolean"}catch{return!1}})(l))throw new TypeError(`${f} is not an AbortSignal.`)})(i,`${e} has member 'signal' that`),{preventAbort:!!r,preventCancel:!!n,preventClose:!!o,signal:i}}Object.defineProperties(Zi.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),$e(Zi.prototype.close,"close"),$e(Zi.prototype.enqueue,"enqueue"),$e(Zi.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Zi.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});let jt=class{constructor(e={},r={}){e===void 0?e=null:ex(e,"First parameter");const n=Nf(r,"Second parameter"),o=(function(i,l){wi(i,l);const f=i,h=f==null?void 0:f.autoAllocateChunkSize,u=f==null?void 0:f.cancel,d=f==null?void 0:f.pull,v=f==null?void 0:f.start,y=f==null?void 0:f.type;return{autoAllocateChunkSize:h===void 0?void 0:Eg(h,`${l} has member 'autoAllocateChunkSize' that`),cancel:u===void 0?void 0:Hk(u,f,`${l} has member 'cancel' that`),pull:d===void 0?void 0:Gk(d,f,`${l} has member 'pull' that`),start:v===void 0?void 0:zk(v,f,`${l} has member 'start' that`),type:y===void 0?void 0:Vk(y,`${l} has member 'type' that`)}})(e,"First parameter");if(jg(this),o.type==="bytes"){if(n.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");(function(i,l,f){const h=Object.create(Xi.prototype);let u,d,v;u=l.start!==void 0?()=>l.start(h):()=>{},d=l.pull!==void 0?()=>l.pull(h):()=>We(void 0),v=l.cancel!==void 0?_=>l.cancel(_):()=>We(void 0);const y=l.autoAllocateChunkSize;if(y===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");Tx(i,h,u,d,v,f,y)})(this,o,el(n,0))}else{const i=Pf(n);(function(l,f,h,u){const d=Object.create(Zi.prototype);let v,y,_;v=f.start!==void 0?()=>f.start(d):()=>{},y=f.pull!==void 0?()=>f.pull(d):()=>We(void 0),_=f.cancel!==void 0?w=>f.cancel(w):()=>We(void 0),zx(l,d,v,y,_,h,u)})(this,o,el(n,1),i)}}get locked(){if(!Ki(this))throw Ao("locked");return to(this)}cancel(e=void 0){return Ki(this)?to(this)?Ee(new TypeError("Cannot cancel a stream that already has a reader")):On(this,e):Ee(Ao("cancel"))}getReader(e=void 0){if(!Ki(this))throw Ao("getReader");return(function(r,n){wi(r,n);const o=r==null?void 0:r.mode;return{mode:o===void 0?void 0:Lk(o,`${n} has member 'mode' that`)}})(e,"First parameter").mode===void 0?ss(this):Ox(this)}pipeThrough(e,r={}){if(!Ki(this))throw Ao("pipeThrough");Zo(e,1,"pipeThrough");const n=(function(i,l){wi(i,l);const f=i==null?void 0:i.readable;O1(f,"readable","ReadableWritablePair"),Sg(f,`${l} has member 'readable' that`);const h=i==null?void 0:i.writable;return O1(h,"writable","ReadableWritablePair"),Cx(h,`${l} has member 'writable' that`),{readable:f,writable:h}})(e,"First parameter"),o=D1(r,"Second parameter");if(to(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(ls(n.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return ws(j1(this,n.writable,o.preventClose,o.preventAbort,o.preventCancel,o.signal)),n.readable}pipeTo(e,r={}){if(!Ki(this))return Ee(Ao("pipeTo"));if(e===void 0)return Ee("Parameter 1 is required in 'pipeTo'.");if(!Xa(e))return Ee(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let n;try{n=D1(r,"Second parameter")}catch(o){return Ee(o)}return to(this)?Ee(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):ls(e)?Ee(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):j1(this,e,n.preventClose,n.preventAbort,n.preventCancel,n.signal)}tee(){if(!Ki(this))throw Ao("tee");return Pu($k(this))}values(e=void 0){if(!Ki(this))throw Ao("values");return(function(r,n){const o=ss(r),i=new lx(o,n),l=Object.create(cx);return l._asyncIteratorImpl=i,l})(this,(function(r,n){return wi(r,n),{preventCancel:!!(r==null?void 0:r.preventCancel)}})(e,"First parameter").preventCancel)}[hl](e){return this.values(e)}static from(e){return Wk(e)}};function il(t,e,r,n=1,o=()=>1){const i=Object.create(jt.prototype);return jg(i),zx(i,Object.create(Zi.prototype),t,e,r,n,o),i}function U1(t,e,r){const n=Object.create(jt.prototype);return jg(n),Tx(n,Object.create(Xi.prototype),t,e,r,0,void 0),n}function jg(t){t._state="readable",t._reader=void 0,t._storedError=void 0,t._disturbed=!1}function Ki(t){return!!It(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readableStreamController")&&t instanceof jt}function to(t){return t._reader!==void 0}function On(t,e){if(t._disturbed=!0,t._state==="closed")return We(void 0);if(t._state==="errored")return Ee(t._storedError);pl(t);const r=t._reader;if(r!==void 0&&Ho(r)){const n=r._readIntoRequests;r._readIntoRequests=new on,n.forEach(o=>{o._closeSteps(void 0)})}return bi(t._readableStreamController[mg](e),Xu)}function pl(t){t._state="closed";const e=t._reader;if(e!==void 0&&(Z2(e),eo(e))){const r=e._readRequests;e._readRequests=new on,r.forEach(n=>{n._closeSteps()})}}function Vx(t,e){t._state="errored",t._storedError=e;const r=t._reader;r!==void 0&&(bg(r,e),eo(r)?ix(r,e):Ax(r,e))}function Ao(t){return new TypeError(`ReadableStream.prototype.${t} can only be used on a ReadableStream`)}Object.defineProperties(jt,{from:{enumerable:!0}}),Object.defineProperties(jt.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),$e(jt.from,"from"),$e(jt.prototype.cancel,"cancel"),$e(jt.prototype.getReader,"getReader"),$e(jt.prototype.pipeThrough,"pipeThrough"),$e(jt.prototype.pipeTo,"pipeTo"),$e(jt.prototype.tee,"tee"),$e(jt.prototype.values,"values"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(jt.prototype,Symbol.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(jt.prototype,hl,{value:jt.prototype.values,writable:!0,configurable:!0});const Kk=t=>t.byteLength;$e(Kk,"size");const Yk=()=>1;$e(Yk,"size");function Jk(t,e,r){return an(t,r),n=>Si(t,e,[n])}function Qk(t,e,r){return an(t,r),n=>Xo(t,e,[n])}function Xk(t,e,r){return an(t,r),(n,o)=>Si(t,e,[n,o])}function Zk(t,e,r){return an(t,r),n=>Si(t,e,[n])}let Df=class{constructor(e={},r={},n={}){e===void 0&&(e=null);const o=Nf(r,"Second parameter"),i=Nf(n,"Third parameter"),l=(function(y,_){wi(y,_);const w=y==null?void 0:y.cancel,S=y==null?void 0:y.flush,T=y==null?void 0:y.readableType,O=y==null?void 0:y.start,x=y==null?void 0:y.transform,A=y==null?void 0:y.writableType;return{cancel:w===void 0?void 0:Zk(w,y,`${_} has member 'cancel' that`),flush:S===void 0?void 0:Jk(S,y,`${_} has member 'flush' that`),readableType:T,start:O===void 0?void 0:Qk(O,y,`${_} has member 'start' that`),transform:x===void 0?void 0:Xk(x,y,`${_} has member 'transform' that`),writableType:A}})(e,"First parameter");if(l.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(l.writableType!==void 0)throw new RangeError("Invalid writableType specified");const f=el(i,0),h=Pf(i),u=el(o,1),d=Pf(o);let v;(function(y,_,w,S,T,O){function x(){return _}function A(V){return(function(k,$){const F=k._transformStreamController;return k._backpressure?bi(k._backpressureChangePromise,()=>{const z=k._writable;if(z._state==="erroring")throw z._storedError;return M1(F,$)}):M1(F,$)})(y,V)}function C(V){return(function(k,$){const F=k._transformStreamController;if(F._finishPromise!==void 0)return F._finishPromise;const z=k._readable;F._finishPromise=gt((ee,he)=>{F._finishPromise_resolve=ee,F._finishPromise_reject=he});const Q=F._cancelAlgorithm($);return yf(F),wr(Q,()=>(z._state==="errored"?La(F,z._storedError):(Pn(z._readableStreamController,$),Xp(F)),null),ee=>(Pn(z._readableStreamController,ee),La(F,ee),null)),F._finishPromise})(y,V)}function U(){return(function(V){const k=V._transformStreamController;if(k._finishPromise!==void 0)return k._finishPromise;const $=V._readable;k._finishPromise=gt((z,Q)=>{k._finishPromise_resolve=z,k._finishPromise_reject=Q});const F=k._flushAlgorithm();return yf(k),wr(F,()=>($._state==="errored"?La(k,$._storedError):(ra($._readableStreamController),Xp(k)),null),z=>(Pn($._readableStreamController,z),La(k,z),null)),k._finishPromise})(y)}function q(){return(function(V){return Uf(V,!1),V._backpressureChangePromise})(y)}function K(V){return(function(k,$){const F=k._transformStreamController;if(F._finishPromise!==void 0)return F._finishPromise;const z=k._writable;F._finishPromise=gt((ee,he)=>{F._finishPromise_resolve=ee,F._finishPromise_reject=he});const Q=F._cancelAlgorithm($);return yf(F),wr(Q,()=>(z._state==="errored"?La(F,z._storedError):(rl(z._writableStreamController,$),j0(k),Xp(F)),null),ee=>(rl(z._writableStreamController,ee),j0(k),La(F,ee),null)),F._finishPromise})(y,V)}y._writable=(function(V,k,$,F,z=1,Q=()=>1){const ee=Object.create(Mo.prototype);return Nx(ee),Mx(ee,Object.create(tl.prototype),V,k,$,F,z,Q),ee})(x,A,U,C,w,S),y._readable=il(x,q,K,T,O),y._backpressure=void 0,y._backpressureChangePromise=void 0,y._backpressureChangePromise_resolve=void 0,Uf(y,!0),y._transformStreamController=void 0})(this,gt(y=>{v=y}),u,d,f,h),(function(y,_){const w=Object.create(Bo.prototype);let S,T,O;S=_.transform!==void 0?x=>_.transform(x,w):x=>{try{return Yx(w,x),We(void 0)}catch(A){return Ee(A)}},T=_.flush!==void 0?()=>_.flush(w):()=>We(void 0),O=_.cancel!==void 0?x=>_.cancel(x):()=>We(void 0),(function(x,A,C,U,q){A._controlledTransformStream=x,x._transformStreamController=A,A._transformAlgorithm=C,A._flushAlgorithm=U,A._cancelAlgorithm=q,A._finishPromise=void 0,A._finishPromise_resolve=void 0,A._finishPromise_reject=void 0})(y,w,S,T,O)})(this,l),l.start!==void 0?v(l.start(this._transformStreamController)):v(void 0)}get readable(){if(!F1(this))throw B1("readable");return this._readable}get writable(){if(!F1(this))throw B1("writable");return this._writable}};function F1(t){return!!It(t)&&!!Object.prototype.hasOwnProperty.call(t,"_transformStreamController")&&t instanceof Df}function Kx(t,e){Pn(t._readable._readableStreamController,e),Dg(t,e)}function Dg(t,e){yf(t._transformStreamController),rl(t._writable._writableStreamController,e),j0(t)}function j0(t){t._backpressure&&Uf(t,!1)}function Uf(t,e){t._backpressureChangePromise!==void 0&&t._backpressureChangePromise_resolve(),t._backpressureChangePromise=gt(r=>{t._backpressureChangePromise_resolve=r}),t._backpressure=e}Object.defineProperties(Df.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Df.prototype,Symbol.toStringTag,{value:"TransformStream",configurable:!0});class Bo{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Bc(this))throw qc("desiredSize");return Lg(this._controlledTransformStream._readable._readableStreamController)}enqueue(e=void 0){if(!Bc(this))throw qc("enqueue");Yx(this,e)}error(e=void 0){if(!Bc(this))throw qc("error");var r;r=e,Kx(this._controlledTransformStream,r)}terminate(){if(!Bc(this))throw qc("terminate");(function(e){const r=e._controlledTransformStream;ra(r._readable._readableStreamController);const n=new TypeError("TransformStream terminated");Dg(r,n)})(this)}}function Bc(t){return!!It(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledTransformStream")&&t instanceof Bo}function yf(t){t._transformAlgorithm=void 0,t._flushAlgorithm=void 0,t._cancelAlgorithm=void 0}function Yx(t,e){const r=t._controlledTransformStream,n=r._readable._readableStreamController;if(!vs(n))throw new TypeError("Readable side is not in a state that permits enqueue");try{ps(n,e)}catch(i){throw Dg(r,i),r._readable._storedError}(function(i){return!Gx(i)})(n)!==r._backpressure&&Uf(r,!0)}function M1(t,e){return bi(t._transformAlgorithm(e),void 0,r=>{throw Kx(t._controlledTransformStream,r),r})}function qc(t){return new TypeError(`TransformStreamDefaultController.prototype.${t} can only be used on a TransformStreamDefaultController`)}function Xp(t){t._finishPromise_resolve!==void 0&&(t._finishPromise_resolve(),t._finishPromise_resolve=void 0,t._finishPromise_reject=void 0)}function La(t,e){t._finishPromise_reject!==void 0&&(ws(t._finishPromise),t._finishPromise_reject(e),t._finishPromise_resolve=void 0,t._finishPromise_reject=void 0)}function B1(t){return new TypeError(`TransformStream.prototype.${t} can only be used on a TransformStream`)}Object.defineProperties(Bo.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),$e(Bo.prototype.enqueue,"enqueue"),$e(Bo.prototype.error,"error"),$e(Bo.prototype.terminate,"terminate"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Bo.prototype,Symbol.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});var eL=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),ys=function(){return ys=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},ys.apply(this,arguments)},tL=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function h(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,h)}u((n=n.apply(t,e||[])).next())})},rL=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return h([u,d])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},nL=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r};function iL(){if(typeof wx>"u"||typeof Page>"u"||!wx.getSystemInfoSync||!wx.getStorageSync||!wx.setStorageSync||!wx.connectSocket||!wx.request)return!1;try{if(!wx.getSystemInfoSync()||wx.getSystemInfoSync().AppPlatform==="qq")return!1}catch{return!1}return!0}function oL(){return typeof App>"u"&&typeof getApp>"u"&&!wx.onAppHide&&!wx.offAppHide&&!wx.onAppShow&&!wx.offAppShow}var Zp="Error when aborting requestTask",D0=(function(t){eL(e,t);function e(r){r===void 0&&(r={});var n=t.call(this)||this,o=r.timeout,i=r.timeoutMsg,l=r.restrictedMethods;return n._timeout=o||0,n._timeoutMsg=i||"",n._restrictedMethods=l||["get","post","upload","download"],n}return e.prototype.post=function(r){var n=this;return new Promise(function(o,i){var l=r.url,f=r.data,h=r.headers,u=wx.request({url:Cu("https:",l),data:f,timeout:n._timeout,method:"POST",header:h,success:function(d){d.statusCode>=200&&d.statusCode<300?o({statusCode:d.statusCode,status:d.statusCode,data:d.data}):i(d)},fail:function(d){i(d)},complete:function(d){if(!(!d||!d.errMsg)&&!(!n._timeout||n._restrictedMethods.indexOf("post")===-1)){var v=d.errMsg;if(v==="request:fail timeout"){console.warn(n._timeoutMsg);try{u.abort()}catch{}}}}})})},e.prototype.get=function(r){var n=this;return new Promise(function(o,i){var l=r.url,f=r.body,h=r.headers,u=Cu("https:",l),d=wx.request({url:u,data:f,timeout:n._timeout,method:"GET",header:h,success:function(v){v.statusCode>=200&&v.statusCode<300?o({statusCode:v.statusCode,status:v.statusCode,data:v.data}):i(v)},fail:function(v){i(v)},complete:function(v){if(!(!v||!v.errMsg)&&!(!n._timeout||n._restrictedMethods.indexOf("get")===-1)){var y=v.errMsg;if(y.includes("timeout")){console.warn(n._timeoutMsg);try{d.abort()}catch(_){console.warn(Zp,_)}}}}})})},e.prototype.upload=function(r){var n=this,o=this;return new Promise(function(i){return tL(n,void 0,void 0,function(){var l,f,h,u,d,v;return rL(this,function(y){return l=r.url,f=r.file,h=r.data,u=r.headers,d=r.onUploadProgress,v=wx.uploadFile({url:l,filePath:f,name:"file",formData:ys({},h),header:u,timeout:this._timeout,success:function(_){var w={statusCode:_.statusCode,data:_.data||{}};_.statusCode===200&&h.success_action_status&&(w.statusCode=parseInt(h.success_action_status,10)),i(w)},fail:function(_){i(_)},complete:function(_){if(!(!_||!_.errMsg)&&!(!o._timeout||o._restrictedMethods.indexOf("upload")===-1)){var w=_.errMsg;if(w==="request:fail timeout"){console.warn(o._timeoutMsg);try{v.abort()}catch{}}}}}),d&&v.onProgressUpdate(function(_){d(_)}),[2]})})})},e.prototype.download=function(r){var n=this,o=this;return new Promise(function(i,l){var f=r.url,h=r.headers,u=wx.downloadFile({url:Cu("https:",f),header:h,timeout:n._timeout,success:function(d){d.statusCode===200&&d.tempFilePath?i({statusCode:200,tempFilePath:d.tempFilePath}):i(d)},fail:function(d){l(d)},complete:function(d){if(!(!d||!d.errMsg)&&!(!o._timeout||o._restrictedMethods.indexOf("download")===-1)){var v=d.errMsg;if(v==="request:fail timeout"){console.warn(o._timeoutMsg);try{u.abort()}catch{}}}}})})},e.prototype.fetch=function(r){var n=r.url,o=r.body,i=r.enableAbort,l=r.headers,f=r.method,h=r.stream,u=h===void 0?!1:h,d=r.signal,v=r.timeout,y=this,_=v??this._timeout,w=null,S=new jt({start:function(T){w=T},cancel:function(){w=null}});return new Promise(function(T,O){u&&T({data:S});var x=wx.request({url:Cu("https:",n),data:o,timeout:_,method:f.toUpperCase(),header:l,success:function(C){var U;(U=w)===null||U===void 0||U.close(),!u&&T(C)},fail:function(C){var U;if((U=w)===null||U===void 0||U.close(),O(C),u)throw C},complete:function(C){if(!(!C||!C.errMsg)&&!(!_||y._restrictedMethods.indexOf("post")===-1||!i)){var U=C.errMsg;if(U==="request:fail timeout"){console.warn(y._timeoutMsg);try{x.abort()}catch(q){console.warn(Zp,q)}}}},enableChunked:u});if(x.onChunkReceived(function(C){var U;(U=w)===null||U===void 0||U.enqueue(new Uint8Array(C.data))}),d){var A=function(){try{x.abort()}catch(C){console.warn(Zp,C)}};d.aborted?A():d.addEventListener("abort",function(){return A()})}})},e})(vg),Jx={setItem:function(t,e){wx.setStorageSync(t,e)},getItem:function(t){return wx.getStorageSync(t)},removeItem:function(t){wx.removeStorageSync(t)},clear:function(){wx.clearStorageSync()}},Qx=(function(){function t(e,r){r===void 0&&(r={});var n=wx.connectSocket(ys({url:e},r)),o={set onopen(i){n.onOpen(i)},set onmessage(i){n.onMessage(i)},set onclose(i){n.onClose(i)},set onerror(i){n.onError(i)},send:function(i){return n.send({data:i})},close:function(i,l){return n.close({code:i,reason:l})},get readyState(){return n.readyState},CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3};return o}return t})();function Xx(t){var e={},r=t.replace(/^[?#]/,"");if(!r)return e;var n=r.split("&");return n.forEach(function(o){var i=o.split("="),l=i[0],f=i[1];l=decodeURIComponent(l),f=decodeURIComponent(f),l&&(e[l]?Array.isArray(e[l])?e[l].push(f):e[l]=[e[l],f]:e[l]=f)}),e}function aL(t){var e={root:{globalThis:{}},reqClass:D0,wsClass:Qx,captchaOptions:{openURIWithCallback:function(r){var n=t.EventBus,o={},i=r;console.log("openURIWithCallback",r);var l=r.match(/^(data:.*?)(\?[^#\s]*)?$/);if(l){i=l[1],console.log("openURIWithCallback url",i);var f=l[2];f&&(o=Xx(f))}console.log("openURIWithCallback queryObj",o);var h=o.token,u=nL(o,["token"]);return/^data:/.test(i)&&!h?Promise.reject({error:"invalid_argument",error_description:"invalie captcha data: "+r}):h?new Promise(function(d){console.log("wait for captcha..."),n.$emit("CAPTCHA_DATA_CHANGE",ys(ys({},u),{token:h,url:i})),n.$once("RESOLVE_CAPTCHA_DATA",function(v){d(v)})}):Promise.reject({error:"unimplemented",error_description:"need to impl captcha data"})}},localStorage:Jx,primaryStorage:Qu.local,getAppSign:function(){var r=wx.getAccountInfoSync();return oL()?r&&r.plugin?r.plugin.appId:"":r&&r.miniProgram?r.miniProgram.appId:""}};return e}var Kn={genAdapter:aL,isMatch:iL,runtime:"wx_mp"},qu=function(){return qu=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},qu.apply(this,arguments)},sL=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r},vi={},uL=function(){D0.prototype.upload=function(e){var r=this,n=this;return new Promise(function(o){var i=e.url,l=e.file,f=e.data,h=e.headers,u=wx.getFileSystemManager(),d=wx.request({url:i,method:e.method,header:qu({"content-type":" "},h),data:u.readFileSync(l),timeout:r._timeout,success:function(v){var y={statusCode:v.statusCode,data:v.data||{}};v.statusCode===200&&(f!=null&&f.success_action_status)&&(y.statusCode=parseInt(f.success_action_status,10)),o(y)},fail:function(v){o(v)},complete:function(v){if(v!=null&&v.errMsg&&!(!n._timeout||n._restrictedMethods.indexOf("upload")===-1)){var y=v.errMsg;if(y==="request:fail timeout"){console.warn(n._timeoutMsg);try{d.abort()}catch{}}}}})})};function t(){return typeof App>"u"&&typeof getApp>"u"&&!wx.onAppHide&&!wx.offAppHide&&!wx.onAppShow&&!wx.offAppShow}return Kn.genAdapter=function(r){var n={root:{globalThis:{}},reqClass:D0,wsClass:Qx,captchaOptions:{openURIWithCallback:function(o){var i=r.EventBus,l={},f=o;console.log("openURIWithCallback",o);var h=o.match(/^(data:.*?)(\?[^#\s]*)?$/);if(h){f=h[1],console.log("openURIWithCallback url",f);var u=h[2];u&&(l=Xx(u))}console.log("openURIWithCallback queryObj",l);var d=l.token,v=sL(l,["token"]);return/^data:/.test(f)&&!d?Promise.reject({error:"invalid_argument",error_description:"invalie captcha data: ".concat(o)}):d?new Promise(function(y){console.log("wait for captcha..."),i.$emit("CAPTCHA_DATA_CHANGE",qu(qu({},v),{token:d,url:f})),i.$once("RESOLVE_CAPTCHA_DATA",function(_){y(_)})}):Promise.reject({error:"unimplemented",error_description:"need to impl captcha data"})}},localStorage:Jx,primaryStorage:Qu.local,getAppSign:function(){var o=wx.getAccountInfoSync();return t()?o&&o.plugin?o.plugin.appId:"":o&&o.miniProgram?o.miniProgram.appId:""}};return n},Kn},Za=function(){return Za=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Za.apply(this,arguments)},lL="user_info",q1=wk,U0={},F0={};function $1(t){var e=t.env,r=t.platformInfo,n="".concat(lL,"_").concat(e),o={userInfoKey:n};U0[e]=U0[e]||new q1(Za(Za({},t),{keys:o,platformInfo:r})),F0[e]=F0[e]||new q1(Za(Za({},t),{keys:o,platformInfo:r,persistence:"local"}))}function cL(t){return U0[t]}function Zx(t){return F0[t]}var Ff=function(){return Ff=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ff.apply(this,arguments)},fL=["ap-shanghai","ap-guangzhou","ap-shenzhen-fsi","ap-shanghai-fsi","ap-nanjing","ap-beijing","ap-chengdu","ap-chongqing","ap-hongkong"],dL=ik,hL=ok,eR="",tR="@cloudbase/js-sdk";function pL(t){eR=t}function Mf(){return eR}function vL(t){tR=t,dL(t)}function yL(){return tR}var mL="2020-01-10",rR=[],gL=["env","endPointKey","region"],M0="https:";function nR(t){return rR.find(function(e){return gL.filter(function(r){return t[r]!=null}).every(function(r){return e[r]===t[r]})})}function Bf(t){var e,r;t.protocol&&!/:$/.test(t.protocol)&&(t.protocol="".concat(t.protocol,":"));var n=nR(t);n?(t.baseUrl!=null&&(n.baseUrl=t.baseUrl),t.protocol!=null&&(n.protocol=t.protocol)):rR.push(Ff(Ff({},t),{protocol:(e=t.protocol)!==null&&e!==void 0?e:M0})),t.endPointKey==="CLOUD_API"&&hL((r=t.protocol)!==null&&r!==void 0?r:M0)}function qf(t,e,r){return nR({env:t,endPointKey:e,region:r})}function _L(t,e,r){r===void 0&&(r="ap-shanghai"),r=r||"ap-shanghai";var n="//".concat(t,".api.tcloudbasegateway.com/v1");fL.includes(r)||(n="//".concat(t,".api.intl.tcloudbasegateway.com/v1")),Bf({endPointKey:"GATEWAY",env:t,baseUrl:n,protocol:e})}function wL(t,e,r){var n="//".concat(t,".").concat(e||"ap-shanghai",".tcb-api.tencentcloudapi.com/web");Bf({env:t,region:e,baseUrl:n,protocol:r,endPointKey:"CLOUD_API"})}function W1(t,e){e===void 0&&(e="CLOUD_API");var r=qf(t,e||"CLOUD_API"),n=r.protocol,o=r.baseUrl,i="".concat(n).concat(o);return i.match(/(http(s)?:)?\/\/([^/?#]*)/)[0]}var H1;(function(t){t.NULL="NULL",t.ANONYMOUS="ANONYMOUS",t.WECHAT="WECHAT",t.WECHAT_PUBLIC="WECHAT-PUBLIC",t.WECHAT_OPEN="WECHAT-OPEN",t.CUSTOM="CUSTOM",t.EMAIL="EMAIL",t.USERNAME="USERNAME",t.PHONE="PHONE"})(H1||(H1={}));var Me=function(){return Me=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Me.apply(this,arguments)},Bn=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function h(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,h)}u((n=n.apply(t,e||[])).next())})},qn=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return h([u,d])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},bL=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r},ev=_r,EL=ck,SL=q2,G1=W2,IL=["auth.getJwt","auth.logout","auth.signInWithTicket","auth.signInAnonymously","auth.signIn","auth.fetchAccessTokenWithRefreshToken","auth.signUpWithEmailAndPassword","auth.activateEndUserMail","auth.sendPasswordResetEmail","auth.resetPasswordWithToken","auth.isUsernameRegistered"];function tv(t,e,r){var n=t[e];t[e]=function(o){var i={},l={};r.forEach(function(h){var u=h.call(t,o),d=u.data,v=u.headers;Object.assign(i,d),Object.assign(l,v)});var f=o.data;return f&&(function(){if(SL(f)){Object.keys(i).forEach(function(h){f.append(h,i[h])});return}o.data=Me(Me({},f),i)})(),o.headers=Me(Me({},o.headers||{}),l),n.call(t,o)}}function rv(){var t=EL();return{data:{seqId:t},headers:{"X-SDK-Version":"@cloudbase/js-sdk/".concat(Mf()),"x-seqid":t}}}var TL=(function(){function t(e){var r=this;this.throwWhenRequestFail=!1,this.config=e;var n={timeout:this.config.timeout,timeoutMsg:"[@cloudbase/js-sdk] ".concat(this.config.timeout/1e3,"s"),restrictedMethods:["post","put"]};this.reqClass=new vi.adapter.reqClass(n),this.throwWhenRequestFail=e.throw||!1,this.localCache=Zx(this.config.env),this.config.endPointMode!=="GATEWAY"&&(tv(this.reqClass,"post",[rv]),tv(this.reqClass,"upload",[rv]),tv(this.reqClass,"download",[rv])),pd.on(vd,function(o){var i;r.config.i18n=((i=o.data)===null||i===void 0?void 0:i.i18n)||r.config.i18n})}return t.prototype.getAccessToken=function(e){return e===void 0&&(e=null),Bn(this,void 0,void 0,function(){var r,n,o;return qn(this,function(i){switch(i.label){case 0:if(e!=null)return[2,e];if(r=this.config._fromApp,!r.oauthInstance)throw new Error("you can't request without auth");return n=r.oauthInstance,o=n.oauth2client,[4,this.getOauthAccessTokenV2(o)];case 1:return[2,i.sent().accessToken]}})})},t.prototype.getDefaultHeaders=function(){var e,r,n;return e={},e[(r=this.config.i18n)===null||r===void 0?void 0:r.LANG_HEADER_KEY]=(n=this.config.i18n)===null||n===void 0?void 0:n.lang,e["X-SDK-Version"]="@cloudbase/js-sdk/".concat(Mf()),e},t.prototype.post=function(e,r){return Bn(this,void 0,void 0,function(){var n;return qn(this,function(o){switch(o.label){case 0:return[4,this.reqClass.post(Me(Me({},e),{headers:Me(Me({},e.headers),this.getDefaultHeaders()),customReqOpts:r}))];case 1:return n=o.sent(),[2,n]}})})},t.prototype.upload=function(e){return Bn(this,void 0,void 0,function(){var r;return qn(this,function(n){switch(n.label){case 0:return[4,this.reqClass.upload(Me(Me({},e),{headers:Me(Me({},e.headers),this.getDefaultHeaders())}))];case 1:return r=n.sent(),[2,r]}})})},t.prototype.download=function(e){return Bn(this,void 0,void 0,function(){var r;return qn(this,function(n){switch(n.label){case 0:return[4,this.reqClass.download(Me(Me({},e),{headers:Me(Me({},e.headers),this.getDefaultHeaders())}))];case 1:return r=n.sent(),[2,r]}})})},t.prototype.getBaseEndPoint=function(e){return e===void 0&&(e="CLOUD_API"),W1(this.config.env,e)},t.prototype.getOauthAccessTokenV2=function(e){return Bn(this,void 0,void 0,function(){var r,n;return qn(this,function(o){switch(o.label){case 0:return[4,e.getAccessToken()];case 1:return r=o.sent(),[4,e.getCredentials()];case 2:return n=o.sent(),[2,{accessToken:r,accessTokenExpire:new Date(n.expires_at).getTime()}]}})})},t.prototype.request=function(e,r,n,o){var i,l;return Bn(this,void 0,void 0,function(){var f,h,u,d,v,y,_,w,S,T,O,x,A,C,U,q,K,V,k,$,F;return qn(this,function(z){switch(z.label){case 0:if(f="x-tcb-trace_".concat(this.config.env),h="application/x-www-form-urlencoded",u=Me({action:e,dataVersion:mL,env:this.config.env},r),IL.indexOf(e)!==-1)return[3,2];if(d=this.config._fromApp,!d.oauthInstance)throw new Error("you can't request without auth");return v=d.oauthInstance,y=v.oauth2client,_=u,[4,this.getOauthAccessTokenV2(y)];case 1:_.access_token=z.sent().accessToken,z.label=2;case 2:return e==="storage.uploadFile"?(w=new FormData,Object.keys(w).forEach(function(Q){Object.prototype.hasOwnProperty.call(w,Q)&&w[Q]!==void 0&&w.append(Q,u[Q])}),h="multipart/form-data"):(h="application/json;charset=UTF-8",w={},Object.keys(u).forEach(function(Q){u[Q]!==void 0&&(w[Q]=u[Q])})),S={headers:Me({"content-type":h},this.getDefaultHeaders())},n!=null&&n.onUploadProgress&&(S.onUploadProgress=n.onUploadProgress),this.config.region&&(S.headers["X-TCB-Region"]=this.config.region),T=this.localCache.getStore(f),T&&(S.headers["X-TCB-Trace"]=T),O=(n==null?void 0:n.parse)!==void 0?n.parse:r.parse,x=(n==null?void 0:n.inQuery)!==void 0?n.inQuery:r.inQuery,A=(n==null?void 0:n.search)!==void 0?n.search:r.search,C=Me(Me({},(n==null?void 0:n.defaultQuery)||{}),{env:this.config.env}),O&&(C.parse=!0),x&&(C=Me(Me({},x),C)),U=this.config.endPointMode||"CLOUD_API",q=qf(this.config.env,U),K=q.baseUrl,V=q.protocol,U==="GATEWAY"&&(e==="functions.invokeFunction"||/^(storage|database)\./.test(e))&&(K="".concat(K.match(/\/\/([^/?#]*)/)[0],"/web")),n.pathname?k=G1(V,"".concat((i=W1(this.config.env,U))===null||i===void 0?void 0:i.replace(/^https?:/,""),"/").concat(n.pathname),C):k=G1(V,K,C),A&&(k+=A),[4,this.post(Me({url:k,data:w},S),o)];case 3:if($=z.sent(),F=(l=$.header)===null||l===void 0?void 0:l["x-tcb-trace"],F&&this.localCache.setStore(f,F),Number($.status)!==200&&Number($.statusCode)!==200||!$.data)throw new Error("network request error");return[2,$]}})})},t.prototype.fetch=function(e){var r,n,o,i,l,f,h,u;return Bn(this,void 0,void 0,function(){var d,v,y,_,w,S,T,O=this;return qn(this,function(x){switch(x.label){case 0:d=e.token,v=e.headers,y=v===void 0?{}:v,_=bL(e,["token","headers"]),w=function(){return Bn(O,void 0,void 0,function(){var A,C,U,q,K;return qn(this,function(V){switch(V.label){case 0:return C=(A=this.reqClass).fetch,q={},K={"X-SDK-Version":"@cloudbase/js-sdk/".concat(Mf())},U="Bearer ".concat,[4,this.getAccessToken(d)];case 1:return[2,C.apply(A,[Me.apply(void 0,[(q.headers=Me.apply(void 0,[Me.apply(void 0,[(K.Authorization=U.apply("Bearer ",[V.sent()]),K),this.getDefaultHeaders()]),y]),q),_])])]}})})},x.label=1;case 1:return x.trys.push([1,3,,6]),[4,w()];case 2:return S=x.sent(),[2,S];case 3:if(T=x.sent(),(T==null?void 0:T.code)!=="ACCESS_TOKEN_EXPIRED")return[3,5];if(typeof((i=(o=(n=(r=this.config)===null||r===void 0?void 0:r._fromApp)===null||n===void 0?void 0:n.oauthInstance)===null||o===void 0?void 0:o.authApi)===null||i===void 0?void 0:i.refreshTokenForce)!="function")throw T;return[4,(u=(h=(f=(l=this.config)===null||l===void 0?void 0:l._fromApp)===null||f===void 0?void 0:f.oauthInstance)===null||h===void 0?void 0:h.authApi)===null||u===void 0?void 0:u.refreshTokenForce()];case 4:return x.sent(),[2,w()];case 5:throw T;case 6:return[2]}})})},t.prototype.send=function(e,r,n,o){return r===void 0&&(r={}),n===void 0&&(n={}),Bn(this,void 0,void 0,function(){var i;return qn(this,function(l){switch(l.label){case 0:return[4,this.request(e,r,Me(Me({},n),{onUploadProgress:r.onUploadProgress}),o)];case 1:if(i=l.sent(),i.data.code&&this.throwWhenRequestFail)throw new Error(JSON.stringify({code:ev.OPERATION_FAIL,msg:"[".concat(i.data.code,"] ").concat(i.data.message)}));return[2,i.data]}})})},t.prototype.gateWay=function(e,r){return Bn(this,void 0,void 0,function(){var n,o,i,l,f,h,u,d,v,y,_,w,S,T,O,x;return qn(this,function(A){switch(A.label){case 0:if(n=e.name,o=e.data,i=e.path,l=i===void 0?"":i,f=e.method,h=e.header,u=h===void 0?{}:h,!n||!l)throw new Error(JSON.stringify({code:ev.INVALID_PARAMS,msg:"[gateWay] invalid function name or path"}));try{d=o?JSON.stringify(o):""}catch{throw new Error(JSON.stringify({code:ev.INVALID_PARAMS,msg:"[gateWay] invalid data"}))}return v=$2(),y=qf(this.config.env,"GATEWAY"),_=y.baseUrl,w=y.protocol,S="".concat(w).concat(_,"/").concat(l,"/").concat(n),[4,this.fetch({method:f||"POST",headers:Me({"Content-Type":"application/json; charset=utf-8","X-Request-Id":v},u),body:d,url:S,customReqOpts:r})];case 1:return T=A.sent(),O=[Me({requestId:v},T)],x={},[4,T.data];case 2:return[2,Me.apply(void 0,O.concat([(x.data=A.sent(),x)]))]}})})},t})(),iR={};function OL(t){iR[t.env]=new TL(Me(Me({},t),{throw:!0}))}function xL(t){return iR[t]}var nv,$f;(function(t){t.ZH="zh-CN",t.EN="en-US"})($f||($f={}));var RL="Accept-Language",AL=(nv={},nv[$f.EN]={" AI+ ":"Please check the calling method or visit the AI+ homepage to view the documentation","AI+ ":"AI+ request error, error code",:"error message",:"not implemented"," wasm ":"wasm loading is not supported in mini programs"," js ":"dynamic js loading is not supported in mini programs",:"request timeout"," privatelink sdk ":"missing privatelink sdk address"},nv),z1=function(t,e){var r;return((r=AL[e])===null||r===void 0?void 0:r[t])||t},CL=function(t){return"lang_".concat(t.clientId||t.env)},PL=function(t,e){var r,n,o=CL(e),i=(t.adapter||{}).localStorage,l=e.lang||((r=i==null?void 0:i.getItem)===null||r===void 0?void 0:r.call(i,o))||$f.ZH;return(n=i==null?void 0:i.setItem)===null||n===void 0||n.call(i,o,l),new Proxy({t:function(f){return z1(f,l)},LANG_HEADER_KEY:RL,lang:l},{get:function(f,h){var u;return h==="lang"&&((u=i==null?void 0:i.getItem)===null||u===void 0?void 0:u.call(i,o))||f[h]},set:function(f,h,u){var d;return h==="lang"&&u!==f[h]&&(f[h]=u,f.t=function(v){return z1(v,u)},(d=i==null?void 0:i.setItem)===null||d===void 0||d.call(i,o,u),pd.fire(vd,{i18n:f})),f[h]=u,!0}})},Co={},Kt={},V1;function oR(){if(V1)return Kt;V1=1,Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.COMMUNITY_SITE_URL=Kt.IS_DEBUG_MODE=Kt.getProtocol=Kt.setProtocol=Kt.getSdkName=Kt.setSdkName=void 0;var t="@cloudbase/js-sdk";function e(l){t=l}Kt.setSdkName=e;function r(){return t}Kt.getSdkName=r;var n="https:";function o(l){n=l}Kt.setProtocol=o;function i(){return n}return Kt.getProtocol=i,Kt.IS_DEBUG_MODE=!1,Kt.COMMUNITY_SITE_URL="https://support.qq.com/products/148793",Kt}var pu={},K1;function NL(){return K1||(K1=1,Object.defineProperty(pu,"__esModule",{value:!0}),pu.ERRORS=void 0,pu.ERRORS={INVALID_PARAMS:"INVALID_PARAMS",INVALID_SYNTAX:"INVALID_SYNTAX",INVALID_OPERATION:"INVALID_OPERATION",OPERATION_FAIL:"OPERATION_FAIL",NETWORK_ERROR:"NETWORK_ERROR",UNKOWN_ERROR:"UNKOWN_ERROR"}),pu}var Y1;function bd(){return Y1||(Y1=1,(function(t){var e=Co&&Co.__createBinding||(Object.create?(function(n,o,i,l){l===void 0&&(l=i);var f=Object.getOwnPropertyDescriptor(o,i);(!f||("get"in f?!o.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return o[i]}}),Object.defineProperty(n,l,f)}):(function(n,o,i,l){l===void 0&&(l=i),n[l]=o[i]})),r=Co&&Co.__exportStar||function(n,o){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(o,i)&&e(o,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),t.OATUH_LOGINTYPE=void 0,r(oR(),t),r(NL(),t),t.OATUH_LOGINTYPE="constants"})(Co)),Co}var Be=bd(),ol=function(){return ol=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},ol.apply(this,arguments)},aR=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function h(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,h)}u((n=n.apply(t,e||[])).next())})},sR=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return h([u,d])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};function kL(t,e){var r,n,o;return aR(this,void 0,void 0,function(){var i,l,f,h,u,d,v,y,_,w,S,T,O,x,A,C;return sR(this,function(U){switch(U.label){case 0:if(i=t||{},l=i.name,f=i.body,h=i.path,u=h===void 0?"":h,d=i.method,v=d===void 0?"POST":d,y=i.headers,_=y===void 0?{}:y,w=i.token,!l)throw new Error(JSON.stringify({code:Be.ERRORS.INVALID_PARAMS,msg:"[apis] invalid api name"}));return S=this.getEndPointWithKey("GATEWAY"),T=S.BASE_URL,O=S.PROTOCOL,x="".concat(O).concat(T,"/apis/").concat(l),A=u.startsWith("/")?u:"/".concat(u),[4,this.request.fetch(ol({url:"".concat(x).concat(A),method:v||"POST",headers:ol({"Content-Type":"application/json; charset=utf-8"},_),body:f,token:((r=w==null?void 0:w.trim)===null||r===void 0?void 0:r.call(w))||((o=(n=_.Authorization)===null||n===void 0?void 0:n.replace)===null||o===void 0?void 0:o.call(n,/^Bearer /,""))||null},e))];case 1:return C=U.sent(),[4,C.data];case 2:return[2,U.sent()]}})})}var LL=["GET","POST","PUT","DELETE","HEAD","OPTIONS","PATCH","REQUEST"];function jL(t){var e=this;return new Proxy({},{get:function(r,n){if(typeof n!="string")throw new Error("[apis] method must be string");var o=n.toLocaleUpperCase();if(!LL.includes(o))throw new Error("[apis] invalid method: ".concat(n));return function(i,l){return aR(e,void 0,void 0,function(){return sR(this,function(f){switch(f.label){case 0:return[4,kL.call(this,ol({name:t,method:(o==="REQUEST"?i.method:o)||"POST"},i),l)];case 1:return[2,f.sent()]}})})}}})}function DL(){var t=this;return new Proxy({},{get:function(e,r){if(typeof r=="string")return jL.call(t,r)}})}var $u=function(){return $u=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},$u.apply(this,arguments)},J1=function(t,e,r,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var f=t.length-1;f>=0;f--)(l=t[f])&&(i=(o<3?l(i):o>3?l(e,r,i):l(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i},ja=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},UL=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function h(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,h)}u((n=n.apply(t,e||[])).next())})},FL=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return h([u,d])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},ML=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r},BL=yk,qL=mk,$c=_r,Q1=hd,X1=as,Z1=yd,$L={timeout:15e3,persistence:"local"},eE=1e3*60*10,tE=100,rE={},WL=(function(){function t(e){this.cloudbaseConfig=e||this.cloudbaseConfig,this.authInstance=null,this.oauthInstance=null,this.version=Mf()}return Object.defineProperty(t.prototype,"config",{get:function(){return this.cloudbaseConfig},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"platform",{get:function(){return vi},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cache",{get:function(){return cL(this.cloudbaseConfig.env)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localCache",{get:function(){return Zx(this.cloudbaseConfig.env)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"request",{get:function(){return xL(this.cloudbaseConfig.env)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"apis",{get:function(){return DL.call(this)},enumerable:!1,configurable:!0}),t.prototype.init=function(e){var r;if(!e.env)throw new Error(JSON.stringify({code:$c.INVALID_PARAMS,msg:"env must not be specified"}));vi.adapter||this.useDefaultAdapter();var n={timeout:e.timeout||5e3,timeoutMsg:"[".concat(yL(),"][REQUEST TIMEOUT] request had been abort since didn't finished within").concat(e.timeout/1e3,"s")};this.requestClient=new vi.adapter.reqClass(n),this.cloudbaseConfig=$u($u($u({},$L),e),{i18n:PL(vi,e)}),delete this.cloudbaseConfig.lang,this.cloudbaseConfig.timeout=this.formatTimeout(this.cloudbaseConfig.timeout);var o=this.cloudbaseConfig,i=o.env,l=o.persistence,f=o.debug,h=o.timeout,u=o.oauthClient,d=o.i18n;$1({env:i,persistence:l,debug:f,platformInfo:this.platform}),wL(i,e.region||""),_L(i,M0,e.region||"");var v=new t(this.cloudbaseConfig);return OL({env:i,region:e.region||"",timeout:h,oauthClient:u,_fromApp:v,i18n:d,endPointMode:e.endPointMode}),v.requestClient=this.requestClient,(r=this===null||this===void 0?void 0:this.fire)===null||r===void 0||r.call(this,"cloudbase_init",v),this.try2InitAuth(e,v),v},t.prototype.updateConfig=function(e){var r=e.persistence,n=e.debug;this.cloudbaseConfig.persistence=r,this.cloudbaseConfig.debug=n,$1({env:this.cloudbaseConfig.env,persistence:r,debug:n,platformInfo:this.platform})},t.prototype.updateLang=function(e){var r;!e||e===((r=this.cloudbaseConfig.i18n)===null||r===void 0?void 0:r.lang)||(this.cloudbaseConfig.i18n.lang=e)},t.prototype.registerExtension=function(e){rE[e.name]=e},t.prototype.invokeExtension=function(e,r){return UL(this,void 0,void 0,function(){var n;return FL(this,function(o){switch(o.label){case 0:if(n=rE[e],!n)throw new Error(JSON.stringify({code:$c.INVALID_PARAMS,msg:"extension:".concat(e," must be registered before invoke")}));return[4,n.invoke(r,this)];case 1:return[2,o.sent()]}})})},t.prototype.useAdapters=function(e,r){var n=BL(e,r)||{},o=n.adapter,i=n.runtime;o&&(vi.adapter=o),i&&(vi.runtime=i)},t.prototype.registerHook=function(e){xk(t,e)},t.prototype.registerComponent=function(e){Ok(t,e)},t.prototype.registerVersion=function(e){pL(e),this.version=e},t.prototype.registerSdkName=function(e){vL(e)},t.prototype.registerEndPoint=function(e,r){Bf({baseUrl:e,protocol:r,env:this.config.env,endPointKey:"CLOUD_API"})},t.prototype.registerEndPointWithKey=function(e){Bf({env:this.config.env,endPointKey:e.key,baseUrl:e.url,protocol:e.protocol})},t.prototype.getEndPointWithKey=function(e){var r=qf(this.config.env,e);return{BASE_URL:r.baseUrl,PROTOCOL:r.protocol}},t.prototype.parseCaptcha=function(e){var r={},n=e.match(/^(data:.*?)(\?[^#\s]*)?$/);if(n){e=n[1];var o=n[2];o&&(r=dk(o))}var i=r.token,l=ML(r,["token"]);return/^data:/.test(e)&&!i?{error:"invalid_argument",error_description:"invalid captcha data: ".concat(e)}:i?{state:l.state,token:i,captchaData:e}:{error:"unimplemented",error_description:"need to impl captcha data"}},t.prototype.useDefaultAdapter=function(){var e=qL(),r=e.adapter,n=e.runtime;vi.adapter=r,vi.runtime=n},t.prototype.formatTimeout=function(e){switch(!0){case e>eE:return X1($c.INVALID_PARAMS,"timeout is greater than maximum value[10min]"),eE;case e<tE:return X1($c.INVALID_PARAMS,"timeout is less than maximum value[100ms]"),tE;default:return e}},t.prototype.try2InitAuth=function(e,r){try{e.accessKey&&r.auth()}catch(n){console.log("try2InitAuth error:",n)}},J1([Z1({mode:"sync",title:"Cloudbase ",messages:["","  1 -  cloudbase.init() ","  2 - https://docs.cloudbase.net/api-reference/webv3/adapter#%E7%AC%AC-2-%E6%AD%A5%E9%85%8D%E7%BD%AE%E5%AE%89%E5%85%A8%E5%BA%94%E7%94%A8%E6%9D%A5%E6%BA%90","".concat(Q1)]}),ja("design:type",Function),ja("design:paramtypes",[Object]),ja("design:returntype",t)],t.prototype,"init",null),J1([Z1({title:"",messages:["","  1 -  invokeExtension() ","  2 -  registerExtension() ","".concat(Q1)]}),ja("design:type",Function),ja("design:paramtypes",[String,Object]),ja("design:returntype",Promise)],t.prototype,"invokeExtension",null),t})(),yr=new WL;yr.useAdapters(uL());const Ed="/auth";var ke;(function(t){t.AUTH_SIGN_UP_URL="/v1/signup",t.AUTH_TOKEN_URL="/v1/token",t.AUTH_REVOKE_URL="/v1/revoke",t.WEDA_USER_URL="/v1/plugin/weda/userinfo",t.AUTH_RESET_PASSWORD="/v1/reset",t.AUTH_GET_DEVICE_CODE="/v1/device/code",t.CHECK_USERNAME="/v1/checkUsername",t.CHECK_IF_USER_EXIST="/v1/checkIfUserExist",t.GET_PROVIDER_TYPE="/v1/mgr/provider/providerSubType",t.AUTH_SIGN_IN_URL="/v1/signin",t.AUTH_SIGN_IN_ANONYMOUSLY_URL="/v1/signin/anonymously",t.AUTH_SIGN_IN_WITH_PROVIDER_URL="/v1/signin/with/provider",t.AUTH_SIGN_IN_WITH_WECHAT_URL="/v1/signin/wechat/noauth",t.AUTH_SIGN_IN_CUSTOM="/v1/signin/custom",t.PROVIDER_TOKEN_URL="/v1/provider/token",t.PROVIDER_URI_URL="/v1/provider/uri",t.USER_ME_URL="/v1/user/me",t.AUTH_SIGNOUT_URL="/v1/user/signout",t.USER_QUERY_URL="/v1/user/query",t.USER_PRIFILE_URL="/v1/user/profile",t.USER_BASIC_EDIT_URL="/v1/user/basic/edit",t.USER_TRANS_BY_PROVIDER_URL="/v1/user/trans/by/provider",t.PROVIDER_LIST="/v1/user/provider",t.PROVIDER_BIND_URL="/v1/user/provider/bind",t.PROVIDER_UNBIND_URL="/v1/user/provider",t.CHECK_PWD_URL="/v1/user/sudo",t.SUDO_URL="/v1/user/sudo",t.BIND_CONTACT_URL="/v1/user/contact",t.AUTH_SET_PASSWORD="/v1/user/password",t.AUTHORIZE_DEVICE_URL="/v1/user/device/authorize",t.AUTHORIZE_URL="/v1/user/authorize",t.AUTHORIZE_INFO_URL="/v1/user/authorize/info",t.AUTHORIZED_DEVICES_DELETE_URL="/v1/user/authorized/devices/",t.AUTH_REVOKE_ALL_URL="/v1/user/revoke/all",t.GET_USER_BEHAVIOR_LOG="/v1/user/security/history",t.VERIFICATION_URL="/v1/verification",t.VERIFY_URL="/v1/verification/verify",t.CAPTCHA_DATA_URL="/v1/captcha/data",t.VERIFY_CAPTCHA_DATA_URL="/v1/captcha/data/verify",t.GET_CAPTCHA_URL="/v1/captcha/init",t.GET_MINIPROGRAM_QRCODE="/v1/qrcode/generate",t.GET_MINIPROGRAM_QRCODE_STATUS="/v1/qrcode/get/status"})(ke||(ke={}));var cs;(function(t){t.AUTH_SIGN_IN_URL="/v2/signin/username",t.AUTH_TOKEN_URL="/v2/token",t.USER_ME_URL="/v2/user/me",t.VERIFY_URL="/v2/signin/verificationcode",t.AUTH_SIGN_IN_WITH_PROVIDER_URL="/v2/signin/with/provider",t.AUTH_PUBLIC_KEY="/v2/signin/publichkey",t.AUTH_RESET_PASSWORD="/v2/signin/password/update"})(cs||(cs={}));var nE;(function(t){t.REGISTER="REGISTER",t.SIGN_IN="SIGN_IN",t.PASSWORD_RESET="PASSWORD_RESET",t.EMAIL_ADDRESS_CHANGE="EMAIL_ADDRESS_CHANGE",t.PHONE_NUMBER_CHANGE="PHONE_NUMBER_CHANGE"})(nE||(nE={}));var er;(function(t){t.UNREACHABLE="unreachable",t.LOCAL="local",t.CANCELLED="cancelled",t.UNKNOWN="unknown",t.UNAUTHENTICATED="unauthenticated",t.RESOURCE_EXHAUSTED="resource_exhausted",t.FAILED_PRECONDITION="failed_precondition",t.INVALID_ARGUMENT="invalid_argument",t.DEADLINE_EXCEEDED="deadline_exceeded",t.NOT_FOUND="not_found",t.ALREADY_EXISTS="already_exists",t.PERMISSION_DENIED="permission_denied",t.ABORTED="aborted",t.OUT_OF_RANGE="out_of_range",t.UNIMPLEMENTED="unimplemented",t.INTERNAL="internal",t.UNAVAILABLE="unavailable",t.DATA_LOSS="data_loss",t.INVALID_PASSWORD="invalid_password",t.PASSWORD_NOT_SET="password_not_set",t.INVALID_STATUS="invalid_status",t.USER_PENDING="user_pending",t.USER_BLOCKED="user_blocked",t.INVALID_VERIFICATION_CODE="invalid_verification_code",t.TWO_FACTOR_REQUIRED="two_factor_required",t.INVALID_TWO_FACTOR="invalid_two_factor",t.INVALID_TWO_FACTOR_RECOVERY="invalid_two_factor_recovery",t.UNDER_REVIEW="under_review",t.INVALID_REQUEST="invalid_request",t.UNAUTHORIZED_CLIENT="unauthorized_client",t.ACCESS_DENIED="access_denied",t.UNSUPPORTED_RESPONSE_TYPE="unsupported_response_type",t.INVALID_SCOPE="invalid_scope",t.INVALID_GRANT="invalid_grant",t.SERVER_ERROR="server_error",t.TEMPORARILY_UNAVAILABLE="temporarily_unavailable",t.INTERACTION_REQUIRED="interaction_required",t.LOGIN_REQUIRED="login_required",t.ACCOUNT_SELECTION_REQUIRED="account_selection_required",t.CONSENT_REQUIRED="consent_required",t.INVALID_REQUEST_URI="invalid_request_uri",t.INVALID_REQUEST_OBJECT="invalid_request_object",t.REQUEST_NOT_SUPPORTED="request_not_supported",t.REQUEST_URI_NOT_SUPPORTED="request_uri_not_supported",t.REGISTRATION_NOT_SUPPORTED="registration_not_supported",t.CAPTCHA_REQUIRED="captcha_required",t.CAPTCHA_INVALID="captcha_invalid"})(er||(er={}));var iE;(function(t){t.CLIENT_ID="client_id",t.CLIENT_SECRET="client_secret",t.RESPONSE_TYPE="response_type",t.SCOPE="scope",t.STATE="state",t.REDIRECT_URI="redirect_uri",t.ERROR="error",t.ERROR_DESCRIPTION="error_description",t.ERROR_URI="error_uri",t.GRANT_TYPE="grant_type",t.CODE="code",t.ACCESS_TOKEN="access_token",t.TOKEN_TYPE="token_type",t.EXPIRES_IN="expires_in",t.USERNAME="username",t.PASSWORD="password",t.REFRESH_TOKEN="refresh_token"})(iE||(iE={}));function uR(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}const mf=t=>{const e=n=>{for(const o in t)t.hasOwnProperty(o)&&(n[o]=mf(t[o]));return n},r=t==null?"NullOrUndefined":Object.prototype.toString.call(t).slice(8,-1);if(["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"].includes(r))return t.slice();switch(r){case"Object":return e(Object.create(Object.getPrototypeOf(t)));case"Array":return e([]);case"Date":return new Date(t.valueOf());case"RegExp":return new RegExp(t.source,(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.sticky?"y":"")+(t.unicode?"u":""));default:return t}},oE=t=>{const e=/^(?:http(s)?:\/\/[^\/]+)?(\/[^\?#]*)/,r=t.match(e);return r&&r[2]||""};let vu=new Map;class lR{constructor(e){this.clientId=(e==null?void 0:e.clientId)||"",vu=vu||new Map}async run(e,r){e=`${this.clientId}_${e}`;let n=vu.get(e);return n||(n=new Promise((o,i)=>{(async()=>{try{await this.runIdlePromise();const l=r();o(await l)}catch(l){i(l)}finally{vu.delete(e)}})()}),vu.set(e,n)),n}runIdlePromise(){return Promise.resolve()}}const Wc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function HL(t){t=String(t);let e,r,n,o,i="",l=0;const f=t.length%3;for(;l<t.length;){if((r=t.charCodeAt(l++))>255||(n=t.charCodeAt(l++))>255||(o=t.charCodeAt(l++))>255)throw new TypeError("Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.");e=r<<16|n<<8|o,i+=Wc.charAt(e>>18&63)+Wc.charAt(e>>12&63)+Wc.charAt(e>>6&63)+Wc.charAt(e&63)}return f?i.slice(0,f-3)+"===".substring(f):i}function Ug(){if(typeof globalThis>"u")return!1;const{wx:t}=globalThis;if(typeof t>"u"||globalThis.Page===void 0||!t.getSystemInfoSync||!t.getStorageSync||!t.setStorageSync||!t.connectSocket||!t.request)return!1;try{if(!t.getSystemInfoSync()||t.getSystemInfoSync().AppPlatform==="qq")return!1}catch{return!1}return!0}let al=!1;function aE(){al=al||typeof window!==void 0&&window.__wxjs_environment==="miniprogram"}try{Ug()||(al=al||!!navigator.userAgent.match(/miniprogram/i)||window.__wxjs_environment==="miniprogram",window&&window.WeixinJSBridge&&window.WeixinJSBridge.invoke?aE():typeof document<"u"&&document.addEventListener("WeixinJSBridgeReady",aE,!1))}catch{}function sE(){return al}const uE="x-request-id",lE="x-device-id",cE="device_id",GL=async function(t,e){let r=null,n=null;try{const o=Object.assign({},e);o.method||(o.method="GET"),o.body&&typeof o.body!="string"&&(o.body=JSON.stringify(o.body));const l=await(await fetch(t,o)).json();l!=null&&l.error?(n=l,n.error_uri=new URL(t).pathname):r=l}catch(o){n={error:er.UNREACHABLE,error_description:o.message,error_uri:new URL(t).pathname}}if(n)throw n;return r};function zL(){return uR()}class VL{constructor(e){this._env=(e==null?void 0:e.env)||""}async getItem(e){return window.localStorage.getItem(`${e}${this._env}`)}async removeItem(e){window.localStorage.removeItem(`${e}${this._env}`)}async setItem(e,r){window.localStorage.setItem(`${e}${this._env}`,r)}getItemSync(e){return window.localStorage.getItem(`${e}${this._env}`)}removeItemSync(e){window.localStorage.removeItem(`${e}${this._env}`)}setItemSync(e,r){window.localStorage.setItem(`${e}${this._env}`,r)}}const Fg=new VL;function cR(t){let e=!0;return t!=null&&t.expires_at&&(t!=null&&t.access_token)&&(e=t.expires_at<new Date),e}class KL{constructor(e){this.credentials=null,this.accessKeyCredentials=null,this.singlePromise=null,this.tokenSectionName=e.tokenSectionName,this.storage=e.storage,this.clientId=e.clientId,this.singlePromise=new lR({clientId:this.clientId}),this.credentials=e.credentials||null}getStorageCredentialsSync(){let e=null;const r=this.storage.getItemSync(this.tokenSectionName);if(r!=null)try{e=JSON.parse(r),e!=null&&e.expires_at&&(e.expires_at=new Date(e.expires_at))}catch{this.storage.removeItem(this.tokenSectionName),e=null}return e}async setCredentials(e){if(e!=null&&e.expires_in){if(e!=null&&e.expires_at||(e.expires_at=new Date(Date.now()+(e.expires_in-30)*1e3)),this.storage){const r=JSON.stringify(e);await this.storage.setItem(this.tokenSectionName,r)}this.credentials=e}else this.storage&&await this.storage.removeItem(this.tokenSectionName),this.credentials=null}setAccessKeyCredentials(e){this.accessKeyCredentials=e}async getCredentials(){return this.singlePromise.run("getCredentials",async()=>{if(cR(this.credentials)){const{credentials:e,isAccessKeyCredentials:r}=await this.getStorageCredentials();if(r)return e;this.credentials=e}return this.credentials})}async getStorageCredentials(){return this.singlePromise.run("_getStorageCredentials",async()=>{let e=null,r=!1;const n=await this.storage.getItem(this.tokenSectionName);if(n)try{e=JSON.parse(n),e!=null&&e.expires_at&&(e.expires_at=new Date(e.expires_at))}catch{await this.storage.removeItem(this.tokenSectionName),e=null}else e=this.accessKeyCredentials||null,r=!0;return{credentials:e,isAccessKeyCredentials:r}})}}class An{constructor(e){this.singlePromise=null,e.clientSecret||(e.clientSecret=""),!e.clientId&&e.env&&(e.clientId=e.env),this.apiOrigin=e.apiOrigin,this.apiPath=e.apiPath||Ed,this.clientId=e.clientId,this.i18n=e.i18n,this.singlePromise=new lR({clientId:this.clientId}),this.retry=this.formatRetry(e.retry,An.defaultRetry),e.baseRequest?this.baseRequest=e.baseRequest:this.baseRequest=GL,this.tokenInURL=e.tokenInURL,this.headers=e.headers,this.storage=e.storage||Fg,this.localCredentials=new KL({tokenSectionName:`credentials_${e.clientId}`,storage:this.storage,clientId:e.clientId}),this.clientSecret=e.clientSecret,e.clientId&&(this.basicAuth=`Basic ${HL(`${e.clientId}:${this.clientSecret}`)}`),this.wxCloud=e.wxCloud;try{Ug()&&(this.useWxCloud=e.useWxCloud,this.wxCloud===void 0&&e.env&&(wx.cloud.init({env:e.env}),this.wxCloud=wx.cloud))}catch{}this.refreshTokenFunc=e.refreshTokenFunc||this.defaultRefreshTokenFunc,this.anonymousSignInFunc=e.anonymousSignInFunc,this.onCredentialsError=e.onCredentialsError,pd.on(vd,r=>{var n;this.i18n=((n=r.data)==null?void 0:n.i18n)||this.i18n})}setCredentials(e){return this.localCredentials.setCredentials(e)}setAccessKeyCredentials(e){return this.localCredentials.setAccessKeyCredentials(e)}async getAccessToken(){const e=await this.getCredentials();if(e!=null&&e.access_token)return Promise.resolve(e.access_token);const r={error:er.UNAUTHENTICATED};return Promise.reject(r)}async request(e,r){var l,f;r||(r={});const n=this.formatRetry(r.retry,this.retry);if(r.headers={...r.headers,[(l=this.i18n)==null?void 0:l.LANG_HEADER_KEY]:(f=this.i18n)==null?void 0:f.lang},this.headers&&(r.headers={...this.headers,...r.headers}),r.headers[uE]||(r.headers[uE]=zL()),!r.headers[lE]){const h=await this.getDeviceId();r.headers[lE]=h}if(r!=null&&r.withBasicAuth&&this.basicAuth&&(r.headers.Authorization=this.basicAuth),r!=null&&r.withCredentials){const h=await this.getCredentials();h&&(this.tokenInURL?(e.indexOf("?")<0&&(e+="?"),e+=`access_token=${h.access_token}`):r.headers.Authorization=`${h.token_type} ${h.access_token}`)}else this.clientId&&e.indexOf("client_id")<0&&(e+=e.indexOf("?")<0?"?":"&",e+=`client_id=${this.clientId}`);e.startsWith("/")&&(e=`${this.apiOrigin}${this.apiPath}${e}`);let o=null;const i=n+1;for(let h=0;h<i;h++){try{r.useWxCloud||this.useWxCloud?o=await this.wxCloudCallFunction(e,r):o=await this.baseRequest(e,r);break}catch(u){if(r.withCredentials&&u&&u.error===er.UNAUTHENTICATED)return await this.setCredentials(null),Promise.reject(u);if(h===n||!u||u.error!=="unreachable")return Promise.reject(u)}await this.sleep(An.retryInterval)}return o}async wxCloudCallFunction(e,r){var i;let n=null,o=null;try{let l="";try{l=await wx.getRendererUserAgent()}catch{}const{result:f}=await this.wxCloud.callFunction({name:"httpOverCallFunction",data:{url:e,method:r.method,headers:{origin:"https://servicewechat.com","User-Agent":l,...r.headers},body:r.body}});(i=f==null?void 0:f.body)!=null&&i.error_code?(o=f==null?void 0:f.body,o.error_uri=oE(e)):n=f==null?void 0:f.body}catch(l){o={error:er.UNREACHABLE,error_description:l.message,error_uri:oE(e)}}if(o)throw o;return n}async getCredentials(){var r,n,o;let e=await this.localCredentials.getCredentials();if(!e){const i="credentials not found";return(r=this.onCredentialsError)==null||r.call(this,{msg:i}),this.unAuthenticatedError(i)}if(cR(e))if(e.refresh_token)try{e=await this.refreshToken(e)}catch(i){if(e.scope==="anonymous")e=await this.anonymousLogin(e);else return(n=this.onCredentialsError)==null||n.call(this,{msg:i.error_description}),Promise.reject(i)}else if(e.scope==="anonymous")e=await this.anonymousLogin(e);else{const i="no refresh token found in credentials";return(o=this.onCredentialsError)==null||o.call(this,{msg:i}),this.unAuthenticatedError(i)}return e}getCredentialsSync(){return this.localCredentials.getStorageCredentialsSync()}getCredentialsAsync(){return this.getCredentials()}async getScope(){var r;const e=await this.localCredentials.getCredentials();if(!e){const n="credentials not found";return(r=this.onCredentialsError)==null||r.call(this,{msg:n}),this.unAuthenticatedError(n)}return e.scope}async getGroups(){var r;const e=await this.localCredentials.getCredentials();if(!e){const n="credentials not found";return(r=this.onCredentialsError)==null||r.call(this,{msg:n}),this.unAuthenticatedError(n)}return e.groups}async refreshToken(e){return this.singlePromise.run("_refreshToken",async()=>{var r,n,o;if(!e||!e.refresh_token){const i="no refresh token found in credentials";return(r=this.onCredentialsError)==null||r.call(this,{msg:i}),this.unAuthenticatedError(i)}try{const i=await this.refreshTokenFunc(e.refresh_token,e);return await this.localCredentials.setCredentials(i),i}catch(i){if(i.error===er.INVALID_GRANT){await this.localCredentials.setCredentials(null);const l=i.error_description;return(n=this.onCredentialsError)==null||n.call(this,{msg:l}),this.unAuthenticatedError(l)}return(o=this.onCredentialsError)==null||o.call(this,{msg:i.error_description}),Promise.reject(i)}})}async anonymousLogin(e){return this.singlePromise.run("_anonymousLogin",async()=>(this.anonymousSignInFunc?e=await this.anonymousSignInFunc(e)||await this.localCredentials.getCredentials():e=await this.anonymousSignIn(e),e))}checkRetry(e){let r=null;if((typeof e!="number"||e<An.minRetry||e>An.maxRetry)&&(r={error:er.UNREACHABLE,error_description:"wrong options param: retry"}),r)throw r;return e}formatRetry(e,r){return typeof e>"u"?r:this.checkRetry(e)}async sleep(e){return new Promise(r=>{setTimeout(()=>{r()},e)})}async anonymousSignIn(e){return this.singlePromise.run("_anonymous",async()=>{if(!e||e.scope!=="anonymous")return this.unAuthenticatedError("no anonymous in credentials");try{const r=await this.request(ke.AUTH_SIGN_IN_ANONYMOUSLY_URL,{method:"POST",withBasicAuth:!0,body:{}});return await this.localCredentials.setCredentials(r),r}catch(r){return r.error===er.INVALID_GRANT?(await this.localCredentials.setCredentials(null),this.unAuthenticatedError(r.error_description)):Promise.reject(r)}})}async defaultRefreshTokenFunc(e,r){var i;if(e===void 0||e===""){const l="refresh token not found";return(i=this.onCredentialsError)==null||i.call(this,{msg:l}),this.unAuthenticatedError(l)}let n=ke.AUTH_TOKEN_URL;return(r==null?void 0:r.version)==="v2"&&(n=cs.AUTH_TOKEN_URL),{...await this.request(n,{method:"POST",body:{client_id:this.clientId,client_secret:this.clientSecret,grant_type:"refresh_token",refresh_token:e}}),version:(r==null?void 0:r.version)||"v1"}}async getDeviceId(){if(this.deviceID)return this.deviceID;let e=await this.storage.getItem(cE);return typeof e=="string"&&e.length>=16&&e.length<=48||(e=uR(),await this.storage.setItem(cE,e)),this.deviceID=e,e}unAuthenticatedError(e){const r={error:er.UNAUTHENTICATED,error_description:e};return Promise.reject(r)}}An.defaultRetry=2;An.minRetry=0;An.maxRetry=5;An.retryInterval=1e3;class ju{constructor(e){if(this.params={},typeof e=="string")this.parse(e);else if(e&&typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.append(r,e[r])}parse(e){e.split("&").forEach(n=>{const[o,i]=n.split("=").map(decodeURIComponent);this.append(o,i)})}append(e,r){this.params[e]?this.params[e]=this.params[e].concat([r]):this.params[e]=[r]}get(e){return this.params[e]?this.params[e][0]:null}getAll(e){return this.params[e]||[]}delete(e){delete this.params[e]}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}set(e,r){this.params[e]=[r]}toString(){const e=[];for(const r in this.params)Object.prototype.hasOwnProperty.call(this.params,r)&&this.params[r].forEach(n=>{e.push(`${encodeURIComponent(r)}=${encodeURIComponent(n)}`)});return e.join("&")}}class YL{constructor(e){e.openURIWithCallback||(e.openURIWithCallback=this.getDefaultOpenURIWithCallback()),e.storage||(e.storage=Fg),this.config=e,this.tokenSectionName=`captcha_${e.clientId}`}isMatch(){var e,r,n;return((n=(r=(e=this.config)==null?void 0:e.adapter)==null?void 0:r.isMatch)==null?void 0:n.call(r))||Ug()}async request(e,r){r||(r={}),r.method||(r.method="GET");const n=`${r.method}:${e}`;let o=e;r.withCaptcha&&(o=await this.appendCaptchaTokenToURL(e,n,!1));let i;try{i=await this.config.request(o,r)}catch(l){return l.error===er.CAPTCHA_REQUIRED||l.error===er.CAPTCHA_INVALID?(e=await this.appendCaptchaTokenToURL(e,n,l.error===er.CAPTCHA_INVALID),this.config.request(e,r)):Promise.reject(l)}return i}getDefaultOpenURIWithCallback(){if(!this.isMatch()&&!sE()&&(window.location.search.indexOf("__captcha")>0&&(document.body.style.display="none"),document.getElementById("captcha_panel_wrap")===null)){const e=document.createElement("div");e.style.cssText="background-color: rgba(0, 0, 0, 0.7);position: fixed;left: 0px;right: 0px;top: 0px;bottom: 0px;padding: 9vw 0 0 0;display: none;z-index:100;",e.setAttribute("id","captcha_panel_wrap"),setTimeout(()=>{document.body.appendChild(e)},0)}return this.defaultOpenURIWithCallback}async defaultOpenURIWithCallback(e,r){const{width:n="355px",height:o="355px"}=r||{};if(e.match(/^(data:.*)$/))return Promise.reject({error:er.UNIMPLEMENTED,error_description:"need to impl captcha data"});const l=document.getElementById("captcha_panel_wrap"),f=document.createElement("iframe");return l.innerHTML="",f.setAttribute("src",e),f.setAttribute("id","review-panel-iframe"),f.style.cssText=`min-width:${n};display:block;height:${o};margin:0 auto;background-color: rgb(255, 255, 255);border: none;`,l.appendChild(f),l.style.display="block",new Promise((h,u)=>{f.onload=function(){try{const d=window.location,v=f.contentWindow.location;if(v.host+v.pathname===d.host+d.pathname){l.style.display="none";const y=new ju(v.search),_=y.get("captcha_token");return _?h({captcha_token:_,expires_in:Number(y.get("expires_in"))}):u({error:y.get("error"),error_description:y.get("error_description")})}l.style.display="block"}catch{l.style.display="block"}}})}async getCaptchaToken(e,r){if(!e){const i=await this.findCaptchaToken();if(i)return i}let n;if(!this.isMatch()&&!sE()){const i=`${window.location.origin+window.location.pathname}?__captcha=on`;if(n=await this.config.request(ke.GET_CAPTCHA_URL,{method:"POST",body:{client_id:this.config.clientId,redirect_uri:i,state:r},withCredentials:!1}),n.captcha_token){const l={captcha_token:n.captcha_token,expires_in:n.expires_in};return this.saveCaptchaToken(l),n.captcha_token}}else{const i=await this.config.request(ke.CAPTCHA_DATA_URL,{method:"POST",body:{state:r,redirect_uri:""},withCredentials:!1});n={url:`${i.data}?state=${encodeURIComponent(r)}&token=${encodeURIComponent(i.token)}`}}const o=await this.config.openURIWithCallback(n.url);return this.saveCaptchaToken(o),o.captcha_token}async appendCaptchaTokenToURL(e,r,n){const o=await this.getCaptchaToken(n,r);return e.indexOf("?")>0?e+=`&captcha_token=${o}`:e+=`?captcha_token=${o}`,e}async saveCaptchaToken(e){e.expires_at=new Date(Date.now()+(e.expires_in-10)*1e3);const r=JSON.stringify(e);await this.config.storage.setItem(this.tokenSectionName,r)}async findCaptchaToken(){const e=await this.config.storage.getItem(this.tokenSectionName);if(e!=null)try{const r=JSON.parse(e);return r!=null&&r.expires_at&&(r.expires_at=new Date(r.expires_at)),r.expires_at<new Date?null:r.captcha_token}catch{return await this.config.storage.removeItem(this.tokenSectionName),null}return null}}var JL={};function iv(t,e){var n;const r=()=>{try{return require("../utils/encrypt")}catch{return}};try{if((((n=e==null?void 0:e.root)==null?void 0:n.globalThis)||globalThis).IS_MP_BUILD)return;if(!JL.IS_MP_BUILD&&t)return r()}catch{if(t)return r()}}let QL=class gf{static parseParamsToSearch(e){return Object.keys(e).forEach(n=>{e[n]||delete e[n]}),new ju(e).toString()}constructor(e){let{request:r}=e,n=e.credentialsClient;if(!n){const o={apiOrigin:e.apiOrigin,apiPath:e.apiPath,clientId:e.clientId,storage:e.storage,env:e.env,baseRequest:e.baseRequest,anonymousSignInFunc:e.anonymousSignInFunc,wxCloud:e.wxCloud,onCredentialsError:e.onCredentialsError,headers:e.headers||{},i18n:e.i18n};n=new An(o)}if(!r){const o=n.request.bind(n),i=new YL({clientId:e.clientId,request:o,storage:e.storage,adapter:e.adapter,...e.captchaOptions});r=i.request.bind(i)}this.config={env:e.env,apiOrigin:e.apiOrigin,apiPath:e.apiPath,clientId:e.clientId,request:r,credentialsClient:n,storage:e.storage||Fg,adapter:e.adapter}}getParamsByVersion(e,r){var i;const n=mf(e),o=((i={v2:cs}[n==null?void 0:n.version])==null?void 0:i[r])||ke[r];return n&&delete n.version,{params:n,url:o}}async signIn(e){const r=e.version||"v1",n=this.getParamsByVersion(e,"AUTH_SIGN_IN_URL");n.params.query&&delete n.params.query;const o=await this.getEncryptParams(n.params),i=await this.config.request(n.url,{method:"POST",body:o});return await this.config.credentialsClient.setCredentials({...i,version:r}),Promise.resolve(i)}async signInAnonymously(e={},r=!1){const n=await this.config.request(ke.AUTH_SIGN_IN_ANONYMOUSLY_URL,{method:"POST",body:e,useWxCloud:r});return await this.config.credentialsClient.setCredentials(n),Promise.resolve(n)}async signUp(e){const r=await this.config.request(ke.AUTH_SIGN_UP_URL,{method:"POST",body:e});return await this.config.credentialsClient.setCredentials(r),Promise.resolve(r)}async signOut(e){let r={};if(e){try{r=await this.config.request(ke.AUTH_SIGNOUT_URL,{method:"POST",withCredentials:!0,body:e})}catch(i){i.error!==er.UNAUTHENTICATED&&console.log("sign_out_error",i)}return await this.config.credentialsClient.setCredentials(),r}const n=await this.config.credentialsClient.getAccessToken(),o=await this.config.request(ke.AUTH_REVOKE_URL,{method:"POST",body:{token:n}});return await this.config.credentialsClient.setCredentials(),Promise.resolve(o)}async revokeAllDevices(){await this.config.request(ke.AUTH_REVOKE_ALL_URL,{method:"DELETE",withCredentials:!0})}async revokeDevice(e){await this.config.request(ke.AUTHORIZED_DEVICES_DELETE_URL+e.device_id,{method:"DELETE",withCredentials:!0})}async getVerification(e,r){let n=!1;(e.target==="CUR_USER"||await this.hasLoginState())&&(n=!0);const o=mf(e);return o.phone_number&&!/^\+\d{1,3}\s+\d+/.test(o.phone_number)&&(o.phone_number=`+86 ${o.phone_number}`),this.config.request(ke.VERIFICATION_URL,{method:"POST",body:o,withCaptcha:(r==null?void 0:r.withCaptcha)||!1,withCredentials:n})}async verify(e){const r=this.getParamsByVersion(e,"VERIFY_URL"),n=await this.config.request(r.url,{method:"POST",body:r.params});return(e==null?void 0:e.version)==="v2"&&await this.config.credentialsClient.setCredentials({...n,version:"v2"}),n}async genProviderRedirectUri(e){const{provider_redirect_uri:r,other_params:n={},...o}=e;r&&!o.redirect_uri&&(o.redirect_uri=r);let i=`${ke.PROVIDER_URI_URL}?${gf.parseParamsToSearch(o)}`;return Object.keys(n).forEach(l=>{const f=n[l];l==="sign_out_uri"&&!((f==null?void 0:f.length)>0)||(i+=`&other_params[${l}]=${encodeURIComponent(f)}`)}),this.config.request(i,{method:"GET"})}async grantProviderToken(e,r=!1){return this.config.request(ke.PROVIDER_TOKEN_URL,{method:"POST",body:e,useWxCloud:r})}async patchProviderToken(e){return this.config.request(ke.PROVIDER_TOKEN_URL,{method:"PATCH",body:e})}async signInWithProvider(e,r=!1){const n=this.getParamsByVersion(e,"AUTH_SIGN_IN_WITH_PROVIDER_URL"),o=await this.config.request(n.url,{method:"POST",body:n.params,useWxCloud:r});return await this.config.credentialsClient.setCredentials({...o,version:(e==null?void 0:e.version)||"v1"}),Promise.resolve(o)}async signInCustom(e){const r=await this.config.request(ke.AUTH_SIGN_IN_CUSTOM,{method:"POST",body:e});return await this.config.credentialsClient.setCredentials(r),Promise.resolve(r)}async signInWithWechat(e={}){const r=await this.config.request(ke.AUTH_SIGN_IN_WITH_WECHAT_URL,{method:"POST",body:e});return await this.config.credentialsClient.setCredentials(r),Promise.resolve(r)}async bindWithProvider(e){return this.config.request(ke.PROVIDER_BIND_URL,{method:"POST",body:e,withCredentials:!0})}async getUserProfile(e){return this.getUserInfo(e)}async getUserInfo(e={}){var o;const r=this.getParamsByVersion(e,"USER_ME_URL");if((o=r.params)!=null&&o.query){const i=new ju(r.params.query);r.url+=`?${i.toString()}`}const n=await this.config.request(r.url,{method:"GET",withCredentials:!0});return n.sub&&(n.uid=n.sub),n}async getWedaUserInfo(){return await this.config.request(ke.WEDA_USER_URL,{method:"GET",withCredentials:!0})}async deleteMe(e){const r=this.getParamsByVersion(e,"USER_ME_URL"),n=`${r.url}?${gf.parseParamsToSearch(r.params)}`;return this.config.request(n,{method:"DELETE",withCredentials:!0})}async hasLoginState(){try{return await this.config.credentialsClient.getAccessToken(),!0}catch{return!1}}hasLoginStateSync(){return this.config.credentialsClient.getCredentialsSync()}async getLoginState(){return this.config.credentialsClient.getCredentialsAsync()}async transByProvider(e){return this.config.request(ke.USER_TRANS_BY_PROVIDER_URL,{method:"PATCH",body:e,withCredentials:!0})}async grantToken(e){const r=this.getParamsByVersion(e,"AUTH_TOKEN_URL");return this.config.request(r.url,{method:"POST",body:r.params})}async getProviders(){return this.config.request(ke.PROVIDER_LIST,{method:"GET",withCredentials:!0})}async unbindProvider(e){return this.config.request(`${ke.PROVIDER_UNBIND_URL}/${e.provider_id}`,{method:"DELETE",withCredentials:!0})}async checkPassword(e){return this.config.request(`${ke.CHECK_PWD_URL}`,{method:"POST",withCredentials:!0,body:e})}async editContact(e){return this.config.request(`${ke.BIND_CONTACT_URL}`,{method:"PATCH",withCredentials:!0,body:e})}async setPassword(e){return this.config.request(`${ke.AUTH_SET_PASSWORD}`,{method:"PATCH",withCredentials:!0,body:e})}async updatePasswordByOld(e){const r=await this.sudo({password:e.old_password});return this.setPassword({sudo_token:r.sudo_token,new_password:e.new_password})}async sudo(e){return this.config.request(`${ke.SUDO_URL}`,{method:"POST",withCredentials:!0,body:e})}async sendVerificationCodeToCurrentUser(e){return e.target="CUR_USER",this.config.request(ke.VERIFICATION_URL,{method:"POST",body:e,withCredentials:!0,withCaptcha:!0})}async changeBoundProvider(e){return this.config.request(`${ke.PROVIDER_LIST}/${e.provider_id}/trans`,{method:"POST",body:{provider_trans_token:e.trans_token},withCredentials:!0})}async setUserProfile(e){return this.config.request(ke.USER_PRIFILE_URL,{method:"PATCH",body:e,withCredentials:!0})}async updateUserBasicInfo(e){return this.config.request(ke.USER_BASIC_EDIT_URL,{method:"POST",withCredentials:!0,body:e})}async queryUserProfile(e){const r=new ju(e);return this.config.request(`${ke.USER_QUERY_URL}?${r.toString()}`,{method:"GET",withCredentials:!0})}setCustomSignFunc(e){this.getCustomSignTicketFn=e}async signInWithCustomTicket(){const e=this.getCustomSignTicketFn;if(!e)return Promise.reject({error:"failed_precondition",error_description:"please use setCustomSignFunc to set custom sign function"});const r=await e();return this.signInCustom({provider_id:"custom",ticket:r})}async resetPassword(e){return this.config.request(ke.AUTH_RESET_PASSWORD,{method:"POST",body:e})}async authorize(e){return this.config.request(ke.AUTHORIZE_URL,{method:"POST",withCredentials:!0,body:e})}async authorizeDevice(e){return this.config.request(ke.AUTHORIZE_DEVICE_URL,{method:"POST",withCredentials:!0,body:e})}async deviceAuthorize(e){return this.config.request(ke.AUTH_GET_DEVICE_CODE,{method:"POST",body:e,withCredentials:!0})}async authorizeInfo(e){const r=`${ke.AUTHORIZE_INFO_URL}?${gf.parseParamsToSearch(e)}`;let n=!0,o=!1;return await this.hasLoginState()&&(o=!0,n=!1),this.config.request(r,{method:"GET",withBasicAuth:n,withCredentials:o})}async checkUsername(e){return this.config.request(ke.CHECK_USERNAME,{method:"GET",body:e,withCredentials:!0})}async checkIfUserExist(e){const r=new ju(e);return this.config.request(`${ke.CHECK_IF_USER_EXIST}?${r.toString()}`,{method:"GET"})}async loginScope(){return this.config.credentialsClient.getScope()}async loginGroups(){return this.config.credentialsClient.getGroups()}async refreshTokenForce(e){const r=await this.config.credentialsClient.getCredentials();return await this.config.credentialsClient.refreshToken({...r,version:(e==null?void 0:e.version)||"v1"})}async getCredentials(){return this.config.credentialsClient.getCredentials()}async getPublicKey(){return this.config.request(cs.AUTH_PUBLIC_KEY,{method:"POST",body:{}})}async getEncryptParams(e){const{isEncrypt:r}=e;delete e.isEncrypt;const n=mf(e),o=iv(r,this.config.adapter);if(!o)return e;let i="",l="";try{const f=await this.getPublicKey();if(i=f.public_key,l=f.public_key_thumbprint,!i||!l)throw f}catch(f){throw f}return{params:o.getEncryptInfo({publicKey:i,payload:n}),public_key_thumbprint:l}}async getProviderSubType(){return this.config.request(ke.GET_PROVIDER_TYPE,{method:"POST",body:{provider_id:"weda"}})}async verifyCaptchaData({token:e,key:r}){return this.config.request(ke.VERIFY_CAPTCHA_DATA_URL,{method:"POST",body:{token:e,key:r},withCredentials:!1})}async createCaptchaData({state:e,redirect_uri:r=void 0}){return this.config.request(ke.CAPTCHA_DATA_URL,{method:"POST",body:{state:e,redirect_uri:r},withCredentials:!1})}async getMiniProgramCode(e){return this.config.request(ke.GET_MINIPROGRAM_QRCODE,{method:"POST",body:e})}async getMiniProgramQrCodeStatus(e){return this.config.request(ke.GET_MINIPROGRAM_QRCODE_STATUS,{method:"POST",body:e})}async getUserBehaviorLog(e){const r={LOGIN:"query[action]=USER_LOGIN",MODIFY:"ne_query[action]=USER_LOGIN"},n=`${ke.GET_USER_BEHAVIOR_LOG}?${r[e.type]}&limit=${e.limit}${e.page_token?`&page_token=${e.page_token}`:""}`;return this.config.request(n,{method:"GET",withCredentials:!0})}async modifyPassword(e){let r="",n="";const o=iv(!0,this.config.adapter);if(!o)throw new Error("do not support encrypt, a encrypt util required.");try{const f=await this.getPublicKey();if(r=f.public_key,n=f.public_key_thumbprint,!r||!n)throw f}catch(f){throw f}const i=e.password?o.getEncryptInfo({publicKey:r,payload:e.password}):"",l=o.getEncryptInfo({publicKey:r,payload:e.new_password});return this.config.request(ke.USER_BASIC_EDIT_URL,{method:"POST",withCredentials:!0,body:{user_id:e.user_id,encrypt_password:i,encrypt_new_password:l,public_key_thumbprint:n}})}async modifyPasswordWithoutLogin(e){let r="",n="";const o=iv(!0,this.config.adapter);if(!o)throw new Error("do not support encrypt, a encrypt util required.");try{const f=await this.getPublicKey();if(r=f.public_key,n=f.public_key_thumbprint,!r||!n)throw f}catch(f){throw f}const i=e.password?o.getEncryptInfo({publicKey:r,payload:e.password}):"",l=o.getEncryptInfo({publicKey:r,payload:e.new_password});return this.config.request(cs.AUTH_RESET_PASSWORD,{method:"POST",body:{username:e.username,password:i,new_password:l,public_key_thumbprint:n}})}};class XL{constructor(e){const{apiOrigin:r,apiPath:n=Ed,clientId:o,env:i,storage:l,request:f,baseRequest:h,anonymousSignInFunc:u,wxCloud:d,adapter:v,onCredentialsError:y,headers:_,i18n:w,useWxCloud:S}=e;this.oauth2client=new An({apiOrigin:r,apiPath:n,clientId:o,env:i,storage:l,baseRequest:h||f,anonymousSignInFunc:u,wxCloud:d,onCredentialsError:y,headers:_||{},i18n:w,useWxCloud:S}),this.authApi=new QL({credentialsClient:this.oauth2client,...e,request:f?this.oauth2client.request.bind(this.oauth2client):void 0,adapter:v})}}var Re={},fE;function bs(){if(fE)return Re;fE=1,Object.defineProperty(Re,"__esModule",{value:!0}),Re.parseQueryString=Re.transformPhone=Re.sleep=Re.printGroupLog=Re.throwError=Re.printInfo=Re.printError=Re.printWarn=Re.execCallback=Re.createPromiseCallback=Re.removeParam=Re.getHash=Re.getQuery=Re.toQueryString=Re.formatUrl=Re.generateRequestId=Re.genSeqId=Re.isFormData=Re.isInstanceOf=Re.isNull=Re.isPalinObject=Re.isUndefined=Re.isString=Re.isArray=void 0;var t=bd();function e(k){return Object.prototype.toString.call(k)==="[object Array]"}Re.isArray=e;function r(k){return typeof k=="string"}Re.isString=r;function n(k){return typeof k>"u"}Re.isUndefined=n;function o(k){return Object.prototype.toString.call(k)==="[object Object]"}Re.isPalinObject=o;function i(k){return Object.prototype.toString.call(k)==="[object Null]"}Re.isNull=i;function l(k,$){return k instanceof $}Re.isInstanceOf=l;function f(k){return Object.prototype.toString.call(k)==="[object FormData]"}Re.isFormData=f;function h(){return Math.random().toString(16).slice(2)}Re.genSeqId=h;function u(){var k=new Date().getTime(),$=(Date==null?void 0:Date.now)&&Date.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(F){var z=Math.random()*16;return k>0?(z=(k+z)%16|0,k=Math.floor(k/16)):(z=($+z)%16|0,$=Math.floor($/16)),(F==="x"?z:z&7|8).toString(16)})}Re.generateRequestId=u;function d(k,$,F){F===void 0&&(F={});var z=/\?/.test($),Q="";return Object.keys(F).forEach(function(ee){Q===""?!z&&($+="?"):Q+="&",Q+="".concat(ee,"=").concat(encodeURIComponent(F[ee]))}),$+=Q,/^http(s)?:\/\//.test($)?$:"".concat(k).concat($)}Re.formatUrl=d;function v(k){k===void 0&&(k={});var $=[];return Object.keys(k).forEach(function(F){$.push("".concat(F,"=").concat(encodeURIComponent(k[F])))}),$.join("&")}Re.toQueryString=v;function y(k,$){if(typeof window>"u")return!1;var F=$||window.location.search,z=new RegExp("(^|&)".concat(k,"=([^&]*)(&|$)")),Q=F.substr(F.indexOf("?")+1).match(z);return Q!=null?Q[2]:""}Re.getQuery=y;var _=function(k){if(typeof window>"u")return"";var $=window.location.hash.match(new RegExp("[#?&/]".concat(k,"=([^&#]*)")));return $?$[1]:""};Re.getHash=_;function w(k,$){var F=$.split("?")[0],z,Q=[],ee=$.indexOf("?")!==-1?$.split("?")[1]:"";if(ee!==""){Q=ee.split("&");for(var he=Q.length-1;he>=0;he-=1)z=Q[he].split("=")[0],z===k&&Q.splice(he,1);F="".concat(F,"?").concat(Q.join("&"))}return F}Re.removeParam=w;function S(){var k;if(!Promise){k=function(){},k.promise={};var $=function(){throw new Error('Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.')};return Object.defineProperty(k.promise,"then",{get:$}),Object.defineProperty(k.promise,"catch",{get:$}),k}var F=new Promise(function(z,Q){k=function(ee,he){return ee?Q(ee):z(he)}});return k.promise=F,k}Re.createPromiseCallback=S;function T(k,$,F){if(F===void 0&&(F=null),k&&typeof k=="function")return k($,F);if($)throw $;return F}Re.execCallback=T;function O(k,$){console.warn("[".concat((0,t.getSdkName)(),"][").concat(k,"]:").concat($))}Re.printWarn=O;function x(k,$){console.error({code:k,msg:"[".concat((0,t.getSdkName)(),"][").concat(k,"]:").concat($)})}Re.printError=x;function A(k,$){console.log("[".concat((0,t.getSdkName)(),"][").concat(k,"]:").concat($))}Re.printInfo=A;function C(k,$){throw new Error(JSON.stringify({code:k,msg:"[".concat((0,t.getSdkName)(),"][").concat(k,"]:").concat($)}))}Re.throwError=C;function U(k){var $,F=k.title,z=k.subtitle,Q=z===void 0?"":z,ee=k.content,he=ee===void 0?[]:ee,be=k.printTrace,fe=be===void 0?!1:be,Y=k.collapsed,re=Y===void 0?!1:Y;re?(console.groupCollapsed||console.error)(F,Q):(console.group||console.error)(F,Q);for(var J=0,j=he;J<j.length;J++){var X=j[J],xe=X.type,Ae=X.body;switch(xe){case"info":console.log(Ae);break;case"warn":console.warn(Ae);break;case"error":console.error(Ae);break}}fe&&(console.trace||console.log)("stack trace:"),($=console.groupEnd)===null||$===void 0||$.call(console)}Re.printGroupLog=U;var q=function(k){return k===void 0&&(k=0),new Promise(function($){return setTimeout($,k)})};Re.sleep=q;function K(k){return"+86".concat(k)}Re.transformPhone=K;var V=function(k){k=k.replace(/^\?/,"");var $={},F=k.split("&");return F.forEach(function(z){var Q=z.split("="),ee=Q[0],he=Q[1];ee=decodeURIComponent(ee),he=decodeURIComponent(he),ee&&($[ee]?Array.isArray($[ee])?$[ee].push(he):$[ee]=[$[ee],he]:$[ee]=he)}),$};return Re.parseQueryString=V,Re}var fs=bs(),Po={},di={},dE;function ZL(){if(dE)return di;dE=1;var t=di&&di.__awaiter||function(d,v,y,_){function w(S){return S instanceof y?S:new y(function(T){T(S)})}return new(y||(y=Promise))(function(S,T){function O(C){try{A(_.next(C))}catch(U){T(U)}}function x(C){try{A(_.throw(C))}catch(U){T(U)}}function A(C){C.done?S(C.value):w(C.value).then(O,x)}A((_=_.apply(d,v||[])).next())})},e=di&&di.__generator||function(d,v){var y={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},_,w,S,T;return T={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function O(A){return function(C){return x([A,C])}}function x(A){if(_)throw new TypeError("Generator is already executing.");for(;T&&(T=0,A[0]&&(y=0)),y;)try{if(_=1,w&&(S=A[0]&2?w.return:A[0]?w.throw||((S=w.return)&&S.call(w),0):w.next)&&!(S=S.call(w,A[1])).done)return S;switch(w=0,S&&(A=[A[0]&2,S.value]),A[0]){case 0:case 1:S=A;break;case 4:return y.label++,{value:A[1],done:!1};case 5:y.label++,w=A[1],A=[0];continue;case 7:A=y.ops.pop(),y.trys.pop();continue;default:if(S=y.trys,!(S=S.length>0&&S[S.length-1])&&(A[0]===6||A[0]===2)){y=0;continue}if(A[0]===3&&(!S||A[1]>S[0]&&A[1]<S[3])){y.label=A[1];break}if(A[0]===6&&y.label<S[1]){y.label=S[1],S=A;break}if(S&&y.label<S[2]){y.label=S[2],y.ops.push(A);break}S[2]&&y.ops.pop(),y.trys.pop();continue}A=v.call(d,y)}catch(C){A=[6,C],w=0}finally{_=S=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}};Object.defineProperty(di,"__esModule",{value:!0}),di.catchErrorsDecorator=void 0;var r=bs(),n=bd(),o=!1;typeof navigator<"u"&&navigator.userAgent&&(o=navigator.userAgent.indexOf("Firefox")!==-1);var i=o?/(\.js\/)?__decorate(\$\d+)?<@.*\d$/:/(\/\w+\.js\.)?__decorate(\$\d+)?\s*\(.*\)$/,l=/https?:\/\/.+:\d*\/.*\.js:\d+:\d+/;function f(d){var v=d.mode,y=v===void 0?"async":v,_=d.customInfo,w=_===void 0?{}:_,S=d.title,T=d.messages,O=T===void 0?[]:T;return function(x,A,C){if(n.IS_DEBUG_MODE){var U=w.className||x.constructor.name,q=w.methodName||A,K=C.value,V=h(new Error);y==="sync"?C.value=function(){for(var k=[],$=0;$<arguments.length;$++)k[$]=arguments[$];var F=u({err:new Error,className:U,methodName:q,sourceLink:V});try{return K.apply(this,k)}catch(Y){var z=Y,Q=Y.message,ee=Y.error,he=Y.error_description,be={title:S||"".concat(U,".").concat(q," failed"),content:[{type:"error",body:Y}]};if(Q&&/^\{.*\}$/.test(Q)){var fe=JSON.parse(Q);be.subtitle=Q,fe.code&&(F?(F.code=fe.code,F.msg=fe.msg):(Y.code=fe.code,Y.message=fe.msg),z=F||Y,be.content=O.map(function(re){return{type:"info",body:re}}))}throw ee&&he&&(be.subtitle=he,F?(F.code=ee,F.msg=he):(Y.code=ee,Y.message=he),z=F||Y,be.content=O.map(function(re){return{type:"info",body:re}})),(0,r.printGroupLog)(be),z}}:C.value=function(){for(var k=[],$=0;$<arguments.length;$++)k[$]=arguments[$];return t(this,void 0,void 0,function(){var F,z,Q,ee,he,be,fe,Y;return e(this,function(re){switch(re.label){case 0:F=u({err:new Error,className:U,methodName:q,sourceLink:V}),re.label=1;case 1:return re.trys.push([1,3,,4]),[4,K.apply(this,k)];case 2:return[2,re.sent()];case 3:throw z=re.sent(),Q=z,ee=z.message,he=z.error,be=z.error_description,fe={title:S||"".concat(U,".").concat(q," failed"),content:[{type:"error",body:z}]},ee&&/^\{.*\}$/.test(ee)&&(Y=JSON.parse(ee),fe.subtitle=Y,Y.code&&(F?(F.code=Y.code,F.message=Y.msg):(z.code=Y.code,z.message=Y.msg),Q=F||z,fe.content=O.map(function(J){return{type:"info",body:J}}))),he&&be&&(fe.subtitle=be,F?(F.code=he,F.msg=be):(z.code=he,z.message=be),Q=F||z,fe.content=O.map(function(J){return{type:"info",body:J}})),(0,r.printGroupLog)(fe),Q;case 4:return[2]}})})}}}}di.catchErrorsDecorator=f;function h(d){var v="",y=d.stack.split(`
`),_=y.findIndex(function(S){return i.test(S)});if(_!==-1){var w=l.exec(y[_+1]||"");v=w?w[0]:""}return v}function u(d){var v=d.err,y=d.className,_=d.methodName,w=d.sourceLink;if(!w)return null;var S=v.stack.split(`
`),T=o?/^catchErrorsDecorator\/<\/descriptor.value@.*\d$/:new RegExp("".concat(y,"\\.descriptor.value\\s*\\[as\\s").concat(_,"\\]\\s*\\(.*\\)$")),O=o?/^catchErrorsDecorator\/<\/descriptor.value/:new RegExp("".concat(y,"\\.descriptor.value\\s*\\[as\\s").concat(_,"\\]")),x=S.findIndex(function(U){return T.test(U)}),A;if(x!==-1){var C=S.filter(function(U,q){return q>x});C.unshift(S[x].replace(O,"".concat(y,".").concat(_)).replace(l,w)),A=new Error,A.stack="".concat(o?"@debugger":"Error",`
`).concat(C.join(`
`))}return A}return di}var hE;function ej(){return hE||(hE=1,(function(t){var e=Po&&Po.__createBinding||(Object.create?(function(n,o,i,l){l===void 0&&(l=i);var f=Object.getOwnPropertyDescriptor(o,i);(!f||("get"in f?!o.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return o[i]}}),Object.defineProperty(n,l,f)}):(function(n,o,i,l){l===void 0&&(l=i),n[l]=o[i]})),r=Po&&Po.__exportStar||function(n,o){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(o,i)&&e(o,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(ZL(),t)})(Po)),Po}var Xe=ej(),Et={},pE;function tj(){if(pE)return Et;pE=1;var t=Et&&Et.__extends||(function(){var y=function(_,w){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,T){S.__proto__=T}||function(S,T){for(var O in T)Object.prototype.hasOwnProperty.call(T,O)&&(S[O]=T[O])},y(_,w)};return function(_,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");y(_,w);function S(){this.constructor=_}_.prototype=w===null?Object.create(w):(S.prototype=w.prototype,new S)}})(),e=Et&&Et.__spreadArray||function(y,_,w){if(w||arguments.length===2)for(var S=0,T=_.length,O;S<T;S++)(O||!(S in _))&&(O||(O=Array.prototype.slice.call(_,0,S)),O[S]=_[S]);return y.concat(O||Array.prototype.slice.call(_))};Object.defineProperty(Et,"__esModule",{value:!0}),Et.removeEventListener=Et.activateEvent=Et.addEventListener=Et.CloudbaseEventEmitter=Et.IErrorEvent=Et.CloudbaseEvent=void 0;var r=bs();function n(y,_,w){w[y]=w[y]||[],w[y].push(_)}function o(y,_,w){if(w!=null&&w[y]){var S=w[y].indexOf(_);S!==-1&&w[y].splice(S,1)}}var i=(function(){function y(_,w){this.data=w||null,this.name=_}return y})();Et.CloudbaseEvent=i;var l=(function(y){t(_,y);function _(w,S){var T=y.call(this,"error",{error:w,data:S})||this;return T.error=w,T}return _})(i);Et.IErrorEvent=l;var f=(function(){function y(){this.listeners={}}return y.prototype.on=function(_,w){return n(_,w,this.listeners),this},y.prototype.off=function(_,w){return o(_,w,this.listeners),this},y.prototype.fire=function(_,w){if((0,r.isInstanceOf)(_,l))return console.error(_.error),this;var S=(0,r.isString)(_)?new i(_,w||{}):_,T=S.name;if(this.listens(T)){S.target=this;for(var O=this.listeners[T]?e([],this.listeners[T],!0):[],x=0,A=O;x<A.length;x++){var C=A[x];C.call(this,S)}}return this},y.prototype.listens=function(_){return this.listeners[_]&&this.listeners[_].length>0},y})();Et.CloudbaseEventEmitter=f;var h=new f;function u(y,_){h.on(y,_)}Et.addEventListener=u;function d(y,_){_===void 0&&(_={}),h.fire(y,_)}Et.activateEvent=d;function v(y,_){h.off(y,_)}return Et.removeEventListener=v,Et}var rj=tj(),gn={};const fR=h3(sk);var vE;function nj(){if(vE)return gn;vE=1;var t={},e=gn&&gn.__extends||(function(){var d=function(v,y){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,w){_.__proto__=w}||function(_,w){for(var S in w)Object.prototype.hasOwnProperty.call(w,S)&&(_[S]=w[S])},d(v,y)};return function(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");d(v,y);function _(){this.constructor=v}v.prototype=y===null?Object.create(y):(_.prototype=y.prototype,new _)}})(),r=gn&&gn.__awaiter||function(d,v,y,_){function w(S){return S instanceof y?S:new y(function(T){T(S)})}return new(y||(y=Promise))(function(S,T){function O(C){try{A(_.next(C))}catch(U){T(U)}}function x(C){try{A(_.throw(C))}catch(U){T(U)}}function A(C){C.done?S(C.value):w(C.value).then(O,x)}A((_=_.apply(d,v||[])).next())})},n=gn&&gn.__generator||function(d,v){var y={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},_,w,S,T;return T={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function O(A){return function(C){return x([A,C])}}function x(A){if(_)throw new TypeError("Generator is already executing.");for(;T&&(T=0,A[0]&&(y=0)),y;)try{if(_=1,w&&(S=A[0]&2?w.return:A[0]?w.throw||((S=w.return)&&S.call(w),0):w.next)&&!(S=S.call(w,A[1])).done)return S;switch(w=0,S&&(A=[A[0]&2,S.value]),A[0]){case 0:case 1:S=A;break;case 4:return y.label++,{value:A[1],done:!1};case 5:y.label++,w=A[1],A=[0];continue;case 7:A=y.ops.pop(),y.trys.pop();continue;default:if(S=y.trys,!(S=S.length>0&&S[S.length-1])&&(A[0]===6||A[0]===2)){y=0;continue}if(A[0]===3&&(!S||A[1]>S[0]&&A[1]<S[3])){y.label=A[1];break}if(A[0]===6&&y.label<S[1]){y.label=S[1],S=A;break}if(S&&y.label<S[2]){y.label=S[2],y.ops.push(A);break}S[2]&&y.ops.pop(),y.trys.pop();continue}A=v.call(d,y)}catch(C){A=[6,C],w=0}finally{_=S=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}};Object.defineProperty(gn,"__esModule",{value:!0}),gn.CloudbaseCache=void 0;var o=fR,i=bs(),l=bd(),f=(function(d){e(v,d);function v(y){var _=d.call(this)||this;return _.root=y,y.tcbCacheObject||(y.tcbCacheObject={}),_}return v.prototype.setItem=function(y,_){this.root.tcbCacheObject[y]=_},v.prototype.getItem=function(y){return this.root.tcbCacheObject[y]},v.prototype.removeItem=function(y){delete this.root.tcbCacheObject[y]},v.prototype.clear=function(){delete this.root.tcbCacheObject},v})(o.AbstractStorage);function h(d,v){switch(d){case"local":return v.localStorage?v.localStorage:((0,i.printWarn)(l.ERRORS.INVALID_PARAMS,"localStorage is not supported on current platform"),new f(v.root));case"none":return new f(v.root);default:return v.localStorage?v.localStorage:((0,i.printWarn)(l.ERRORS.INVALID_PARAMS,"localStorage is not supported on current platform"),new f(v.root))}}var u=(function(){function d(v){this.keys={};var y=v.persistence,_=v.platformInfo,w=_===void 0?{}:_,S=v.keys,T=S===void 0?{}:S;this.platformInfo=w,this.storage||(this.persistenceTag=this.platformInfo.adapter.primaryStorage||y,this.storage=h(this.persistenceTag,this.platformInfo.adapter),this.keys=T)}return Object.defineProperty(d.prototype,"mode",{get:function(){return this.storage.mode||"sync"},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"persistence",{get:function(){return this.persistenceTag},enumerable:!1,configurable:!0}),d.prototype.setStore=function(v,y,_){if(this.mode==="async"){(0,i.printWarn)(l.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use setStoreAsync insteed");return}if(this.storage)try{var w={version:_||"localCachev1",content:y};this.storage.setItem(v,JSON.stringify(w))}catch(S){throw new Error(JSON.stringify({code:l.ERRORS.OPERATION_FAIL,msg:"[".concat((0,l.getSdkName)(),"][").concat(l.ERRORS.OPERATION_FAIL,"]setStore failed"),info:S}))}},d.prototype.setStoreAsync=function(v,y,_){return r(this,void 0,void 0,function(){var w;return n(this,function(S){switch(S.label){case 0:if(!this.storage)return[2];S.label=1;case 1:return S.trys.push([1,3,,4]),w={version:_||"localCachev1",content:y},[4,this.storage.setItem(v,JSON.stringify(w))];case 2:return S.sent(),[3,4];case 3:return S.sent(),[2];case 4:return[2]}})})},d.prototype.getStore=function(v,y){var _;if(this.mode==="async"){(0,i.printWarn)(l.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use getStoreAsync insteed");return}try{if(typeof process<"u"&&(!((_=t)===null||_===void 0)&&_.tcb_token))return t.tcb_token;if(!this.storage)return""}catch{return""}y=y||"localCachev1";var w=this.storage.getItem(v);if(!w)return"";if(w.indexOf(y)>=0){var S=JSON.parse(w);return S.content}return""},d.prototype.getStoreAsync=function(v,y){var _;return r(this,void 0,void 0,function(){var w,S;return n(this,function(T){switch(T.label){case 0:try{if(typeof process<"u"&&(!((_=t)===null||_===void 0)&&_.tcb_token))return[2,t.tcb_token];if(!this.storage)return[2,""]}catch{return[2,""]}return y=y||"localCachev1",[4,this.storage.getItem(v)];case 1:return w=T.sent(),w?w.indexOf(y)>=0?(S=JSON.parse(w),[2,S.content]):[2,""]:[2,""]}})})},d.prototype.removeStore=function(v){if(this.mode==="async"){(0,i.printWarn)(l.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use removeStoreAsync insteed");return}this.storage.removeItem(v)},d.prototype.removeStoreAsync=function(v){return r(this,void 0,void 0,function(){return n(this,function(y){switch(y.label){case 0:return[4,this.storage.removeItem(v)];case 1:return y.sent(),[2]}})})},d})();return gn.CloudbaseCache=u,gn}var ij=nj(),_n={},Yt={},yE;function oj(){if(yE)return Yt;yE=1;var t=Yt&&Yt.__extends||(function(){var u=function(d,v){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,_){y.__proto__=_}||function(y,_){for(var w in _)Object.prototype.hasOwnProperty.call(_,w)&&(y[w]=_[w])},u(d,v)};return function(d,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");u(d,v);function y(){this.constructor=d}d.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}})(),e=Yt&&Yt.__assign||function(){return e=Object.assign||function(u){for(var d,v=1,y=arguments.length;v<y;v++){d=arguments[v];for(var _ in d)Object.prototype.hasOwnProperty.call(d,_)&&(u[_]=d[_])}return u},e.apply(this,arguments)},r=Yt&&Yt.__awaiter||function(u,d,v,y){function _(w){return w instanceof v?w:new v(function(S){S(w)})}return new(v||(v=Promise))(function(w,S){function T(A){try{x(y.next(A))}catch(C){S(C)}}function O(A){try{x(y.throw(A))}catch(C){S(C)}}function x(A){A.done?w(A.value):_(A.value).then(T,O)}x((y=y.apply(u,d||[])).next())})},n=Yt&&Yt.__generator||function(u,d){var v={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},y,_,w,S;return S={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(S[Symbol.iterator]=function(){return this}),S;function T(x){return function(A){return O([x,A])}}function O(x){if(y)throw new TypeError("Generator is already executing.");for(;S&&(S=0,x[0]&&(v=0)),v;)try{if(y=1,_&&(w=x[0]&2?_.return:x[0]?_.throw||((w=_.return)&&w.call(_),0):_.next)&&!(w=w.call(_,x[1])).done)return w;switch(_=0,w&&(x=[x[0]&2,w.value]),x[0]){case 0:case 1:w=x;break;case 4:return v.label++,{value:x[1],done:!1};case 5:v.label++,_=x[1],x=[0];continue;case 7:x=v.ops.pop(),v.trys.pop();continue;default:if(w=v.trys,!(w=w.length>0&&w[w.length-1])&&(x[0]===6||x[0]===2)){v=0;continue}if(x[0]===3&&(!w||x[1]>w[0]&&x[1]<w[3])){v.label=x[1];break}if(x[0]===6&&v.label<w[1]){v.label=w[1],w=x;break}if(w&&v.label<w[2]){v.label=w[2],v.ops.push(x);break}w[2]&&v.ops.pop(),v.trys.pop();continue}x=d.call(u,v)}catch(A){x=[6,A],_=0}finally{y=w=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}};Object.defineProperty(Yt,"__esModule",{value:!0}),Yt.WebRequest=Yt.genAdapter=void 0;var o=fR,i=bs(),l=oR(),f=(function(u){t(d,u);function d(v){var y=u.call(this)||this,_=v.timeout,w=v.timeoutMsg,S=v.restrictedMethods;return y.timeout=_||0,y.timeoutMsg=w||"",y.restrictedMethods=S||["get","post","upload","download"],y}return d.prototype.get=function(v){return this.request(e(e({},v),{method:"get"}),this.restrictedMethods.includes("get"))},d.prototype.post=function(v){return this.request(e(e({},v),{method:"post"}),this.restrictedMethods.includes("post"))},d.prototype.put=function(v){return this.request(e(e({},v),{method:"put"}))},d.prototype.upload=function(v){var y=v.data,_=v.file,w=v.name,S=v.method,T=v.headers,O=T===void 0?{}:T,x={post:"post",put:"put"}[S==null?void 0:S.toLowerCase()]||"put",A=new FormData;return x==="post"?(Object.keys(y).forEach(function(C){A.append(C,y[C])}),A.append("key",w),A.append("file",_),this.request(e(e({},v),{data:A,method:x}),this.restrictedMethods.includes("upload"))):this.request(e(e({},v),{method:"put",headers:O,body:_}),this.restrictedMethods.includes("upload"))},d.prototype.download=function(v){return r(this,void 0,void 0,function(){var y,_,w,S;return n(this,function(T){switch(T.label){case 0:return T.trys.push([0,2,,3]),[4,this.get(e(e({},v),{headers:{},responseType:"blob"}))];case 1:return y=T.sent().data,_=window.URL.createObjectURL(new Blob([y])),w=decodeURIComponent(new URL(v.url).pathname.split("/").pop()||""),S=document.createElement("a"),S.href=_,S.setAttribute("download",w),S.style.display="none",document.body.appendChild(S),S.click(),window.URL.revokeObjectURL(_),document.body.removeChild(S),[3,3];case 2:return T.sent(),[3,3];case 3:return[2,new Promise(function(O){O({statusCode:200,tempFilePath:v.url})})]}})})},d.prototype.fetch=function(v){var y;return r(this,void 0,void 0,function(){var _,w,S,T,O,x,A,C,U,q,K,V,k,$=this;return n(this,function(F){switch(F.label){case 0:return _=new AbortController,w=v.url,S=v.enableAbort,T=S===void 0?!1:S,O=v.stream,x=O===void 0?!1:O,A=v.signal,C=v.timeout,U=v.shouldThrowOnError,q=U===void 0?!0:U,K=C??this.timeout,A&&(A.aborted&&_.abort(),A.addEventListener("abort",function(){return _.abort()})),V=null,T&&K&&(V=setTimeout(function(){console.warn($.timeoutMsg),_.abort(new Error($.timeoutMsg))},K)),[4,fetch(w,e(e({},v),{signal:_.signal})).then(function(z){return r($,void 0,void 0,function(){var Q,ee,he;return n(this,function(be){switch(be.label){case 0:return clearTimeout(V),q?z.ok?(Q=z,[3,3]):[3,1]:[3,4];case 1:return he=(ee=Promise).reject,[4,z.json()];case 2:Q=he.apply(ee,[be.sent()]),be.label=3;case 3:return[2,Q];case 4:return[2,z]}})})}).catch(function(z){if(clearTimeout(V),q)return Promise.reject(z)})];case 1:return k=F.sent(),[2,{data:x?k.body:!((y=k.headers.get("content-type"))===null||y===void 0)&&y.includes("application/json")?k.json():k.text(),statusCode:k.status,header:k.headers}]}})})},d.prototype.request=function(v,y){var _=this;y===void 0&&(y=!1);var w=String(v.method).toLowerCase()||"get";return new Promise(function(S){var T=v.url,O=v.headers,x=O===void 0?{}:O,A=v.data,C=v.responseType,U=v.withCredentials,q=v.body,K=v.onUploadProgress,V=(0,i.formatUrl)((0,l.getProtocol)(),T,w==="get"?A:{}),k=new XMLHttpRequest;k.open(w,V),C&&(k.responseType=C),Object.keys(x).forEach(function(z){k.setRequestHeader(z,x[z])});var $;K&&k.upload.addEventListener("progress",K),k.onreadystatechange=function(){var z={};if(k.readyState===4){var Q=k.getAllResponseHeaders(),ee=Q.trim().split(/[\r\n]+/),he={};ee.forEach(function(be){var fe=be.split(": "),Y=fe.shift().toLowerCase(),re=fe.join(": ");he[Y]=re}),z.header=he,z.statusCode=k.status;try{z.data=C==="blob"?k.response:JSON.parse(k.responseText)}catch{z.data=C==="blob"?k.response:k.responseText}clearTimeout($),S(z)}},y&&_.timeout&&($=setTimeout(function(){console.warn(_.timeoutMsg),k.abort()},_.timeout));var F;(0,i.isFormData)(A)?F=A:x["content-type"]==="application/x-www-form-urlencoded"?F=(0,i.toQueryString)(A):q?F=q:F=A?JSON.stringify(A):void 0,U&&(k.withCredentials=!0),k.send(F)})},d})(o.AbstractSDKRequest);Yt.WebRequest=f;function h(){var u={type:"default",root:window,reqClass:f,wsClass:WebSocket,localStorage};return u}return Yt.genAdapter=h,Yt}var mE;function aj(){return mE||(mE=1,(function(t){var e=_n&&_n.__assign||function(){return e=Object.assign||function(d){for(var v,y=1,_=arguments.length;y<_;y++){v=arguments[y];for(var w in v)Object.prototype.hasOwnProperty.call(v,w)&&(d[w]=v[w])}return d},e.apply(this,arguments)},r=_n&&_n.__createBinding||(Object.create?(function(d,v,y,_){_===void 0&&(_=y);var w=Object.getOwnPropertyDescriptor(v,y);(!w||("get"in w?!v.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return v[y]}}),Object.defineProperty(d,_,w)}):(function(d,v,y,_){_===void 0&&(_=y),d[_]=v[y]})),n=_n&&_n.__setModuleDefault||(Object.create?(function(d,v){Object.defineProperty(d,"default",{enumerable:!0,value:v})}):function(d,v){d.default=v}),o=_n&&_n.__importStar||function(d){if(d&&d.__esModule)return d;var v={};if(d!=null)for(var y in d)y!=="default"&&Object.prototype.hasOwnProperty.call(d,y)&&r(v,d,y);return n(v,d),v};Object.defineProperty(t,"__esModule",{value:!0}),t.useDefaultAdapter=t.useAdapters=t.RUNTIME=void 0;var i=o(oj()),l=bs(),f;(function(d){d.WEB="web",d.WX_MP="wx_mp"})(f=t.RUNTIME||(t.RUNTIME={}));function h(d,v){for(var y=(0,l.isArray)(d)?d:[d],_=0,w=y;_<w.length;_++){var S=w[_],T=S.isMatch,O=S.genAdapter,x=S.runtime;if(T())return{adapter:e({isMatch:T},O(v)),runtime:x}}}t.useAdapters=h;function u(){return{adapter:i.genAdapter(),runtime:f.WEB}}t.useDefaultAdapter=u})(_n)),_n}var sj=aj(),Cn=function(){return Cn=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Cn.apply(this,arguments)},Wu=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function h(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,h)}u((n=n.apply(t,e||[])).next())})},Hu=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return h([u,d])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},dR=(function(){function t(e){var r,n;try{this.localStorage=(e==null?void 0:e.localStorage)||(((n=(r=e==null?void 0:e.adapter)===null||r===void 0?void 0:r.root)===null||n===void 0?void 0:n.globalThis)||globalThis).localStorage}catch{this.localStorage=(e==null?void 0:e.localStorage)||{}}}return t.prototype.getItem=function(e){return Wu(this,void 0,void 0,function(){return Hu(this,function(r){return[2,this.localStorage.getItem(e)]})})},t.prototype.removeItem=function(e){return Wu(this,void 0,void 0,function(){return Hu(this,function(r){return this.localStorage.removeItem(e),[2]})})},t.prototype.setItem=function(e,r){return Wu(this,void 0,void 0,function(){return Hu(this,function(n){return this.localStorage.setItem(e,r),[2]})})},t.prototype.getItemSync=function(e){return this.localStorage.getItem(e)},t.prototype.setItemSync=function(e,r){this.localStorage.setItem(e,r)},t.prototype.removeItemSync=function(e){this.localStorage.removeItem(e)},t})(),uj=/^[^:]+:\/\/[^/]+(\/[^?#]+)/,hR=function(t,e){var r,n,o,i=(r=e==null?void 0:e.headers)===null||r===void 0?void 0:r["x-request-id"];return t||(t={}),(t!=null&&t.code||!((n=t==null?void 0:t.data)===null||n===void 0)&&n.error_code)&&(t={error:t.code||t.data.error,error_description:t.data.error_description||t.message||t.code||t.data.error_code,request_id:t.requestId,error_code:(o=t.data)===null||o===void 0?void 0:o.error_code}),t!=null&&t.request_id||(t.request_id=t.request_id||i),t!=null&&t.error?(t.error_uri=cj(e==null?void 0:e.url),t):(t==null?void 0:t.data)||{}};function lj(t){return function(e,r){return Wu(this,void 0,void 0,function(){return Hu(this,function(n){return[2,new Promise(function(o,i){var l=Object.assign({},r);l.body&&typeof l.body!="string"&&(l.body=JSON.stringify(l.body));var f=wx.request({url:e,data:l.body,timeout:t._timeout,method:l.method||"GET",header:l.headers,success:function(h){h=hR(h,Cn(Cn({},r),{url:e})),h.error&&i(h),o(h)},fail:function(h){i({error:"unreachable",error_description:h.message})},complete:function(h){if(!(!h||!h.errMsg)&&!(!t._timeout||t._restrictedMethods.indexOf("request")===-1)){var u=h.errMsg;if(u==="request:fail timeout"){console.warn(t._timeoutMsg);try{f.abort()}catch{}}}}})})]})})}}function cj(t){return uj.test(t)?RegExp.$1:t}var fj=function(t,e){var r=Cn({},t);try{if(!(t!=null&&t.storage)&&(e!=null&&e.localStorage)&&(r.storage=new dR({localStorage:e.localStorage,adapter:e})),!t.captchaOptions&&(e!=null&&e.captchaOptions)&&(r.captchaOptions=e.captchaOptions),!t.baseRequest&&!t.request&&(e!=null&&e.reqClass)){var n={timeout:1e4,restrictedMethods:["get","post","upload","download","request"]},o=new e.reqClass(n);r.baseRequest=function(i,l){var f,h,u,d,v;return Wu(this,void 0,void 0,function(){var y,_,w,S;return Hu(this,function(T){switch(T.label){case 0:if(y={},_=((f=l.method)===null||f===void 0?void 0:f.toLocaleLowerCase())||"post",w=(u=(h=o==null?void 0:o[_])===null||h===void 0?void 0:h.bind)===null||u===void 0?void 0:u.call(h,o),typeof w!="function")throw new Error("invalid ".concat(_," request method"));T.label=1;case 1:return T.trys.push([1,3,,4]),(!(!((d=l.headers)===null||d===void 0)&&d["content-type"])||!((v=l.headers)===null||v===void 0)&&v["content-type"].includes("application/json"))&&!["string","undefined"].includes(typeof l.body)&&(l.data=l.data||l.body,l.body=JSON.stringify(l.body)),[4,w(Cn({url:i},l))];case 2:return y=T.sent(),y=hR(y,Cn(Cn({},l),{url:i})),[3,4];case 3:throw S=T.sent(),y=S,S;case 4:if(y!=null&&y.error)throw y;return[2,y]}})})}}}catch(i){console.error("user adapter generate fail:",i)}return r},dj=function(t,e){if(!Kn.isMatch()||t.storage&&t.baseRequest)return t;var r=Cn({},t),n={};try{var o=Kn.genAdapter({}),i=o.localStorage,l=o.reqClass;if(i&&(n.storage=new dR({localStorage:i,adapter:e})),l){var f=new l({timeout:1e4,restrictedMethods:["get","post","upload","download","request"]});n.request=lj(f)}return r.captchaOptions&&(n.baseRequest=n.request,n.request=void 0),Cn(Cn({},r),n)}catch(h){console.error("adapter generate fail:",h)}return r},hj=function(t){return t.adapter&&t.adapter.type!=="default"?fj(t,t.adapter):dj(t,t.adapter)},Dt=function(){return Dt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Dt.apply(this,arguments)},Ze=function(t,e,r,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var f=t.length-1;f>=0;f--)(l=t[f])&&(i=(o<3?l(i):o>3?l(e,r,i):l(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i},ce=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},ve=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function h(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,h)}u((n=n.apply(t,e||[])).next())})},ye=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return h([u,d])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},pj="auth",_f={SIGN_OUT:"sign_out",SIGN_IN:"sign_in",CREDENTIALS_ERROR:"credentials_error"},wf={LOGIN_STATE_CHANGED:"loginStateChanged"},bf=new rj.CloudbaseEventEmitter,vj=function(t){bf.fire(wf.LOGIN_STATE_CHANGED,Dt(Dt({},t),{eventType:_f.CREDENTIALS_ERROR}))},yj=(function(){function t(e){var r=e.cache,n=e.oauthInstance;this.cache=r,this.oauthInstance=n,this.setUserInfo()}return t.prototype.checkLocalInfo=function(){return ve(this,void 0,void 0,function(){return ye(this,function(e){return this.uid=this.getLocalUserInfo("uid"),this.gender=this.getLocalUserInfo("gender"),this.picture=this.getLocalUserInfo("picture"),this.email=this.getLocalUserInfo("email"),this.emailVerified=this.getLocalUserInfo("email_verified"),this.phoneNumber=this.getLocalUserInfo("phone_number"),this.username=this.getLocalUserInfo("username"),this.name=this.getLocalUserInfo("name"),this.birthdate=this.getLocalUserInfo("birthdate"),this.zoneinfo=this.getLocalUserInfo("zoneinfo"),this.locale=this.getLocalUserInfo("locale"),this.sub=this.getLocalUserInfo("sub"),this.createdFrom=this.getLocalUserInfo("created_from"),this.providers=this.getLocalUserInfo("providers"),[2]})})},t.prototype.checkLocalInfoAsync=function(){return ve(this,void 0,void 0,function(){var e,r,n,o;return ye(this,function(i){switch(i.label){case 0:return e=this,[4,this.getLocalUserInfoAsync("uid")];case 1:return e.uid=i.sent(),r=this,[4,this.getLocalUserInfoAsync("gender")];case 2:return r.gender=i.sent(),this.picture=this.getLocalUserInfo("picture"),n=this,[4,this.getLocalUserInfoAsync("email")];case 3:return n.email=i.sent(),this.emailVerified=this.getLocalUserInfo("email_verified"),this.phoneNumber=this.getLocalUserInfo("phone_number"),o=this,[4,this.getLocalUserInfoAsync("username")];case 4:return o.username=i.sent(),this.name=this.getLocalUserInfo("name"),this.birthdate=this.getLocalUserInfo("birthdate"),this.zoneinfo=this.getLocalUserInfo("zoneinfo"),this.locale=this.getLocalUserInfo("locale"),this.sub=this.getLocalUserInfo("sub"),this.createdFrom=this.getLocalUserInfo("created_from"),this.providers=this.getLocalUserInfo("providers"),[2]}})})},t.prototype.update=function(e){return ve(this,void 0,void 0,function(){var r;return ye(this,function(n){switch(n.label){case 0:return[4,this.oauthInstance.authApi.setUserProfile(Dt({},e))];case 1:return r=n.sent(),this.setLocalUserInfo(r),[2]}})})},t.prototype.updateUserBasicInfo=function(e){return ve(this,void 0,void 0,function(){return ye(this,function(r){switch(r.label){case 0:return[4,this.oauthInstance.authApi.updateUserBasicInfo(Dt({},e))];case 1:return r.sent(),this.setLocalUserInfo({username:e.username}),[2]}})})},t.prototype.updatePassword=function(e,r){return this.oauthInstance.authApi.updatePasswordByOld({old_password:r,new_password:e})},t.prototype.updateUsername=function(e){return typeof e!="string"&&fs.throwError(Be.ERRORS.INVALID_PARAMS,"username must be a string"),this.update({username:e})},t.prototype.refresh=function(e){return ve(this,void 0,void 0,function(){var r;return ye(this,function(n){switch(n.label){case 0:return[4,this.oauthInstance.authApi.getUserInfo(e)];case 1:if(r=n.sent(),r.code==="INVALID_ACCESS_TOKEN")throw this.setLocalUserInfo({}),r;return this.setLocalUserInfo(r),[2,r]}})})},t.prototype.getLocalUserInfo=function(e){var r=this.cache.keys.userInfoKey,n=this.cache.getStore(r);return n[e]},t.prototype.getLocalUserInfoAsync=function(e){return ve(this,void 0,void 0,function(){var r,n;return ye(this,function(o){switch(o.label){case 0:return r=this.cache.keys.userInfoKey,[4,this.cache.getStoreAsync(r)];case 1:return n=o.sent(),[2,n[e]]}})})},t.prototype.setUserInfo=function(){var e=this,r=this.cache.keys.userInfoKey,n=this.cache.getStore(r);["uid","email","name","gender","picture","email_verified","phone_number","birthdate","zoneinfo","locale","sub","created_from","providers","username"].forEach(function(o){e[o]=n[o]})},t.prototype.setLocalUserInfo=function(e){var r=this.cache.keys.userInfoKey;this.cache.setStore(r,e),this.setUserInfo()},Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 -  User.update() ","  2 - ","".concat(Be.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[Object]),ce("design:returntype",Promise)],t.prototype,"update",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 -  User.updatePassword() ","  3 - ","".concat(Be.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[String,String]),ce("design:returntype",void 0)],t.prototype,"updatePassword",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 -  User.updateUsername() ","  2 - ","".concat(Be.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[String]),ce("design:returntype",void 0)],t.prototype,"updateUsername",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 -  User.refresh() ","".concat(Be.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[Object]),ce("design:returntype",Promise)],t.prototype,"refresh",null),t})(),ov=(function(){function t(e){var r=e.envId,n=e.cache,o=e.oauthInstance;r||fs.throwError(Be.ERRORS.INVALID_PARAMS,"envId is not defined"),this.cache=n,this.oauthInstance=o,this.user=new yj({cache:this.cache,oauthInstance:o})}return t.prototype.checkLocalState=function(){var e;this.oauthLoginState=(e=this.oauthInstance)===null||e===void 0?void 0:e.authApi.hasLoginStateSync(),this.user.checkLocalInfo()},t.prototype.checkLocalStateAsync=function(){var e;return ve(this,void 0,void 0,function(){return ye(this,function(r){switch(r.label){case 0:return[4,(e=this.oauthInstance)===null||e===void 0?void 0:e.authApi.getLoginState()];case 1:return r.sent(),[4,this.user.checkLocalInfoAsync()];case 2:return r.sent(),[2]}})})},t})(),mj=(function(){function t(e){this.config=e,this.cache=e.cache,this.oauthInstance=e.oauthInstance,this.setAccessKey()}return t.prototype.bindPhoneNumber=function(e){return ve(this,void 0,void 0,function(){return ye(this,function(r){return[2,this.oauthInstance.authApi.editContact(e)]})})},t.prototype.unbindProvider=function(e){return ve(this,void 0,void 0,function(){return ye(this,function(r){return[2,this.oauthInstance.authApi.unbindProvider(e)]})})},t.prototype.bindEmail=function(e){return this.oauthInstance.authApi.editContact(e)},t.prototype.verify=function(e){return ve(this,void 0,void 0,function(){return ye(this,function(r){return[2,this.oauthInstance.authApi.verify(e)]})})},t.prototype.getVerification=function(e,r){return ve(this,void 0,void 0,function(){return ye(this,function(n){return[2,this.oauthInstance.authApi.getVerification(e,r)]})})},Object.defineProperty(t.prototype,"currentUser",{get:function(){if(this.cache.mode==="async"){fs.printWarn(Be.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use getCurrentUser instead");return}var e=this.hasLoginState();return e&&e.user||null},enumerable:!1,configurable:!0}),t.prototype.getCurrentUser=function(){return ve(this,void 0,void 0,function(){var e;return ye(this,function(r){switch(r.label){case 0:return[4,this.getLoginState()];case 1:return e=r.sent(),e?[4,e.user.checkLocalInfoAsync()]:[3,3];case 2:return r.sent(),[2,e.user||null];case 3:return[2,null]}})})},t.prototype.signInAnonymously=function(e){return e===void 0&&(e={}),ve(this,void 0,void 0,function(){return ye(this,function(r){switch(r.label){case 0:return[4,this.oauthInstance.authApi.signInAnonymously(e)];case 1:return r.sent(),[2,this.createLoginState()]}})})},t.prototype.signInAnonymouslyInWx=function(e){var r=e===void 0?{}:e,n=r.useWxCloud;return ve(this,void 0,void 0,function(){var o,i,l=this;return ye(this,function(f){switch(f.label){case 0:if(!Kn.isMatch())throw Error("wx api undefined");return o=wx.getAccountInfoSync().miniProgram,i=function(h){return ve(l,void 0,void 0,function(){var u,d,v;return ye(this,function(y){switch(y.label){case 0:u=void 0,d=void 0,y.label=1;case 1:return y.trys.push([1,4,,5]),[4,this.oauthInstance.authApi.grantProviderToken({provider_id:o==null?void 0:o.appId,provider_code:h,provider_params:{provider_code_type:"open_id",appid:o==null?void 0:o.appId}},n)];case 2:if(u=y.sent(),u!=null&&u.error_code||!u.provider_token)throw u;return[4,this.oauthInstance.authApi.signInAnonymously({provider_token:u.provider_token},n)];case 3:if(d=y.sent(),d!=null&&d.error_code)throw d;return[3,5];case 4:throw v=y.sent(),v;case 5:return[2]}})})},[4,new Promise(function(h,u){wx.login({success:function(d){return ve(l,void 0,void 0,function(){var v;return ye(this,function(y){switch(y.label){case 0:return y.trys.push([0,2,,3]),[4,i(d.code)];case 1:return y.sent(),h(!0),[3,3];case 2:return v=y.sent(),u(v),[3,3];case 3:return[2]}})})},fail:function(d){var v=new Error(d==null?void 0:d.errMsg);v.code=d==null?void 0:d.errno,u(v)}})})];case 1:return f.sent(),[2,this.createLoginState(void 0,{asyncRefreshUser:!0})]}})})},t.prototype.bindOpenId=function(){return ve(this,void 0,void 0,function(){var e,r,n=this;return ye(this,function(o){switch(o.label){case 0:if(!Kn.isMatch())throw Error("wx api undefined");return e=wx.getAccountInfoSync().miniProgram,r=function(i){return ve(n,void 0,void 0,function(){var l,f;return ye(this,function(h){switch(h.label){case 0:l=void 0,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,this.oauthInstance.authApi.grantProviderToken({provider_id:e==null?void 0:e.appId,provider_code:i,provider_params:{provider_code_type:"open_id",appid:e==null?void 0:e.appId}})];case 2:if(l=h.sent(),l!=null&&l.error_code||!l.provider_token)throw l;return[4,this.oauthInstance.authApi.bindWithProvider({provider_token:l.provider_token})];case 3:return h.sent(),[3,5];case 4:throw f=h.sent(),f;case 5:return[2]}})})},[4,new Promise(function(i,l){wx.login({success:function(f){return ve(n,void 0,void 0,function(){var h;return ye(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,r(f.code)];case 1:return u.sent(),i(!0),[3,3];case 2:return h=u.sent(),l(h),[3,3];case 3:return[2]}})})},fail:function(f){var h=new Error(f==null?void 0:f.errMsg);h.code=f==null?void 0:f.errno,l(h)}})})];case 1:return o.sent(),[2]}})})},t.prototype.signInWithOpenId=function(e){var r=e===void 0?{}:e,n=r.useWxCloud,o=n===void 0?!0:n;return ve(this,void 0,void 0,function(){var i,l,f=this;return ye(this,function(h){switch(h.label){case 0:if(!Kn.isMatch())throw Error("wx api undefined");return i=wx.getAccountInfoSync().miniProgram,l=function(u){return ve(f,void 0,void 0,function(){var d,v,y;return ye(this,function(_){switch(_.label){case 0:d=void 0,v=void 0,_.label=1;case 1:return _.trys.push([1,4,,5]),[4,this.oauthInstance.authApi.grantProviderToken({provider_id:i==null?void 0:i.appId,provider_code:u,provider_params:{provider_code_type:"open_id",appid:i==null?void 0:i.appId}},o)];case 2:if(d=_.sent(),d!=null&&d.error_code||!d.provider_token)throw d;return[4,this.oauthInstance.authApi.signInWithProvider({provider_token:d.provider_token},o)];case 3:if(v=_.sent(),v!=null&&v.error_code)throw v;return[3,5];case 4:throw y=_.sent(),y;case 5:return[4,this.oauthInstance.oauth2client.setCredentials(v)];case 6:return _.sent(),[2]}})})},[4,new Promise(function(u,d){wx.login({success:function(v){return ve(f,void 0,void 0,function(){var y;return ye(this,function(_){switch(_.label){case 0:return _.trys.push([0,2,,3]),[4,l(v.code)];case 1:return _.sent(),u(!0),[3,3];case 2:return y=_.sent(),d(y),[3,3];case 3:return[2]}})})},fail:function(v){var y=new Error(v==null?void 0:v.errMsg);y.code=v==null?void 0:v.errno,d(y)}})})];case 1:return h.sent(),[2,this.createLoginState()]}})})},t.prototype.signInWithUnionId=function(){return ve(this,void 0,void 0,function(){var e,r=this;return ye(this,function(n){switch(n.label){case 0:if(!Kn.isMatch())throw Error("wx api undefined");n.label=1;case 1:return n.trys.push([1,3,,4]),[4,new Promise(function(o,i){var l=wx.getAccountInfoSync().miniProgram;wx.login({success:function(f){return ve(r,void 0,void 0,function(){var h,u,d,v,y;return ye(this,function(_){switch(_.label){case 0:h=l==null?void 0:l.appId,_.label=1;case 1:return _.trys.push([1,4,,5]),[4,this.oauthInstance.authApi.grantProviderToken({provider_code:f.code,provider_id:h,provider_params:{provider_code_type:"union_id",appid:l==null?void 0:l.appId}})];case 2:return u=_.sent(),d=u.provider_token,d?[4,this.oauthInstance.authApi.signInWithProvider({provider_id:h,provider_token:d})]:(i(u),[2]);case 3:return v=_.sent(),v!=null&&v.error_code?(i(v),[2]):(o(!0),[3,5]);case 4:return y=_.sent(),i(y),[3,5];case 5:return[2]}})})},fail:function(f){var h=new Error(f==null?void 0:f.errMsg);h.code=f==null?void 0:f.errno,i(h)}})})];case 2:return n.sent(),[3,4];case 3:throw e=n.sent(),e;case 4:return[2,this.createLoginState()]}})})},t.prototype.signInWithPhoneAuth=function(e){var r=e.phoneCode,n=r===void 0?"":r;return ve(this,void 0,void 0,function(){var o,i,l,f,h,u;return ye(this,function(d){switch(d.label){case 0:if(!Kn.isMatch())throw Error("wx api undefined");return o=wx.getAccountInfoSync().miniProgram,i={provider_params:{provider_code_type:"phone"},provider_id:o.appId},[4,wx.login()];case 1:l=d.sent().code,i.provider_code=l,d.label=2;case 2:return d.trys.push([2,6,,7]),[4,this.oauthInstance.authApi.grantProviderToken(i)];case 3:if(f=d.sent(),f.error_code)throw f;return[4,this.oauthInstance.authApi.patchProviderToken({provider_token:f.provider_token,provider_id:o.appId,provider_params:{code:n,provider_code_type:"phone"}})];case 4:if(f=d.sent(),f.error_code)throw f;return[4,this.oauthInstance.authApi.signInWithProvider({provider_token:f.provider_token})];case 5:if(h=d.sent(),h!=null&&h.error_code)throw h;return[3,7];case 6:throw u=d.sent(),u;case 7:return[2,this.createLoginState()]}})})},t.prototype.signInWithSms=function(e){var r=e.verificationInfo,n=r===void 0?{verification_id:"",is_user:!1}:r,o=e.verificationCode,i=o===void 0?"":o,l=e.phoneNum,f=l===void 0?"":l,h=e.bindInfo,u=h===void 0?void 0:h;return ve(this,void 0,void 0,function(){return ye(this,function(d){try{return[2,this.signInWithUsername({verificationInfo:n,verificationCode:i,bindInfo:u,username:f,loginType:"sms"})]}catch(v){throw v}return[2]})})},t.prototype.signInWithEmail=function(e){var r=e.verificationInfo,n=r===void 0?{verification_id:"",is_user:!1}:r,o=e.verificationCode,i=o===void 0?"":o,l=e.bindInfo,f=l===void 0?void 0:l,h=e.email,u=h===void 0?"":h;return ve(this,void 0,void 0,function(){return ye(this,function(d){try{return[2,this.signInWithUsername({verificationInfo:n,verificationCode:i,bindInfo:f,username:u,loginType:"email"})]}catch(v){throw v}return[2]})})},t.prototype.setCustomSignFunc=function(e){this.oauthInstance.authApi.setCustomSignFunc(e)},t.prototype.signInWithCustomTicket=function(){return ve(this,void 0,void 0,function(){return ye(this,function(e){switch(e.label){case 0:return[4,this.oauthInstance.authApi.signInWithCustomTicket()];case 1:return e.sent(),[2,this.createLoginState()]}})})},t.prototype.signIn=function(e){return ve(this,void 0,void 0,function(){return ye(this,function(r){switch(r.label){case 0:return[4,this.oauthInstance.authApi.signIn(e)];case 1:return r.sent(),[2,this.createLoginState(e)]}})})},t.prototype.signUp=function(e){return ve(this,void 0,void 0,function(){return ye(this,function(r){switch(r.label){case 0:return[4,this.oauthInstance.authApi.signUp(e)];case 1:return r.sent(),[2,this.createLoginState()]}})})},t.prototype.setPassword=function(e){return ve(this,void 0,void 0,function(){return ye(this,function(r){return[2,this.oauthInstance.authApi.setPassword(e)]})})},t.prototype.isUsernameRegistered=function(e){return ve(this,void 0,void 0,function(){var r;return ye(this,function(n){switch(n.label){case 0:return typeof e!="string"&&fs.throwError(Be.ERRORS.INVALID_PARAMS,"username must be a string"),[4,this.oauthInstance.authApi.checkIfUserExist({username:e})];case 1:return r=n.sent().exist,[2,r]}})})},t.prototype.signOut=function(e){return ve(this,void 0,void 0,function(){var r,n;return ye(this,function(o){switch(o.label){case 0:return r=this.cache.keys.userInfoKey,[4,this.oauthInstance.authApi.signOut(e)];case 1:return n=o.sent(),[4,this.cache.removeStoreAsync(r)];case 2:return o.sent(),bf.fire(wf.LOGIN_STATE_CHANGED,{eventType:_f.SIGN_OUT}),[2,n]}})})},t.prototype.hasLoginState=function(){var e;if(this.cache.mode==="async"){fs.printWarn(Be.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use getLoginState insteed");return}var r=(e=this.oauthInstance)===null||e===void 0?void 0:e.authApi.hasLoginStateSync();if(r){var n=new ov({envId:this.config.env,cache:this.cache,oauthInstance:this.oauthInstance});return n}return null},t.prototype.getLoginState=function(){return ve(this,void 0,void 0,function(){var e,r;return ye(this,function(n){switch(n.label){case 0:e=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.oauthInstance.authApi.getLoginState()];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[2,null];case 4:return e?(r=new ov({envId:this.config.env,cache:this.cache,oauthInstance:this.oauthInstance}),[2,r]):[2,null]}})})},t.prototype.getUserInfo=function(e){return ve(this,void 0,void 0,function(){return ye(this,function(r){return[2,this.oauthInstance.authApi.getUserInfo(e)]})})},t.prototype.getWedaUserInfo=function(){return ve(this,void 0,void 0,function(){return ye(this,function(e){return[2,this.oauthInstance.authApi.getWedaUserInfo()]})})},t.prototype.updateUserBasicInfo=function(e){return ve(this,void 0,void 0,function(){var r;return ye(this,function(n){switch(n.label){case 0:return[4,this.getLoginState()];case 1:return r=n.sent(),r?[4,r.user.updateUserBasicInfo(e)]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.getAuthHeader=function(){return console.error("Auth.getAuthHeader API "),{}},t.prototype.bindWithProvider=function(e){return ve(this,void 0,void 0,function(){return ye(this,function(r){return[2,this.oauthInstance.authApi.bindWithProvider(e)]})})},t.prototype.queryUser=function(e){return ve(this,void 0,void 0,function(){return ye(this,function(r){return[2,this.oauthInstance.authApi.queryUserProfile(e)]})})},t.prototype.getAccessToken=function(){return ve(this,void 0,void 0,function(){var e;return ye(this,function(r){switch(r.label){case 0:return[4,this.oauthInstance.oauth2client.getAccessToken()];case 1:return e=r.sent(),[2,{accessToken:e,env:this.config.env}]}})})},t.prototype.grantProviderToken=function(e){return ve(this,void 0,void 0,function(){return ye(this,function(r){return[2,this.oauthInstance.authApi.grantProviderToken(e)]})})},t.prototype.patchProviderToken=function(e){return ve(this,void 0,void 0,function(){return ye(this,function(r){return[2,this.oauthInstance.authApi.patchProviderToken(e)]})})},t.prototype.signInWithProvider=function(e){return ve(this,void 0,void 0,function(){return ye(this,function(r){switch(r.label){case 0:return[4,this.oauthInstance.authApi.signInWithProvider(e)];case 1:return r.sent(),[2,this.createLoginState(e)]}})})},t.prototype.signInWithWechat=function(e){return e===void 0&&(e={}),ve(this,void 0,void 0,function(){return ye(this,function(r){switch(r.label){case 0:return[4,this.oauthInstance.authApi.signInWithWechat(e)];case 1:return r.sent(),[2,this.createLoginState(e)]}})})},t.prototype.grantToken=function(e){return ve(this,void 0,void 0,function(){return ye(this,function(r){switch(r.label){case 0:return[4,this.oauthInstance.authApi.grantToken(e)];case 1:return r.sent(),[2,this.createLoginState()]}})})},t.prototype.genProviderRedirectUri=function(e){return ve(this,void 0,void 0,function(){return ye(this,function(r){return[2,this.oauthInstance.authApi.genProviderRedirectUri(e)]})})},t.prototype.resetPassword=function(e){return ve(this,void 0,void 0,function(){return ye(this,function(r){return[2,this.oauthInstance.authApi.resetPassword(e)]})})},t.prototype.deviceAuthorize=function(e){return ve(this,void 0,void 0,function(){return ye(this,function(r){return[2,this.oauthInstance.authApi.deviceAuthorize(e)]})})},t.prototype.sudo=function(e){return ve(this,void 0,void 0,function(){return ye(this,function(r){return[2,this.oauthInstance.authApi.sudo(e)]})})},t.prototype.deleteMe=function(e){return ve(this,void 0,void 0,function(){return ye(this,function(r){return[2,this.oauthInstance.authApi.deleteMe(e)]})})},t.prototype.getProviders=function(){return ve(this,void 0,void 0,function(){return ye(this,function(e){return[2,this.oauthInstance.authApi.getProviders()]})})},t.prototype.loginScope=function(){return ve(this,void 0,void 0,function(){return ye(this,function(e){return[2,this.oauthInstance.authApi.loginScope()]})})},t.prototype.loginGroups=function(){return ve(this,void 0,void 0,function(){return ye(this,function(e){return[2,this.oauthInstance.authApi.loginGroups()]})})},t.prototype.onLoginStateChanged=function(e){return ve(this,void 0,void 0,function(){var r,n=this;return ye(this,function(o){switch(o.label){case 0:return bf.on(wf.LOGIN_STATE_CHANGED,function(i){return ve(n,void 0,void 0,function(){var l,f,h;return ye(this,function(u){switch(u.label){case 0:return((h=i==null?void 0:i.data)===null||h===void 0?void 0:h.eventType)===_f.CREDENTIALS_ERROR?[3,2]:[4,this.getLoginState()];case 1:return f=u.sent(),[3,3];case 2:f={},u.label=3;case 3:return l=f,e.call(this,Dt(Dt({},i),l)),[2]}})})}),[4,this.getLoginState()];case 1:return r=o.sent(),e.call(this,r),[2]}})})},t.prototype.refreshTokenForce=function(e){return ve(this,void 0,void 0,function(){return ye(this,function(r){return[2,this.oauthInstance.authApi.refreshTokenForce(e)]})})},t.prototype.getCredentials=function(){return ve(this,void 0,void 0,function(){return ye(this,function(e){return[2,this.oauthInstance.authApi.getCredentials()]})})},t.prototype.setCredentials=function(e){return ve(this,void 0,void 0,function(){return ye(this,function(r){switch(r.label){case 0:return[4,this.oauthInstance.oauth2client.setCredentials(e)];case 1:return r.sent(),[2]}})})},t.prototype.getProviderSubType=function(){return ve(this,void 0,void 0,function(){return ye(this,function(e){return[2,this.oauthInstance.authApi.getProviderSubType()]})})},t.prototype.createCaptchaData=function(e){return ve(this,void 0,void 0,function(){return ye(this,function(r){return[2,this.oauthInstance.authApi.createCaptchaData(e)]})})},t.prototype.verifyCaptchaData=function(e){return ve(this,void 0,void 0,function(){return ye(this,function(r){return[2,this.oauthInstance.authApi.verifyCaptchaData(e)]})})},t.prototype.getMiniProgramQrCode=function(e){return ve(this,void 0,void 0,function(){return ye(this,function(r){return[2,this.oauthInstance.authApi.getMiniProgramCode(e)]})})},t.prototype.getMiniProgramQrCodeStatus=function(e){return ve(this,void 0,void 0,function(){return ye(this,function(r){return[2,this.oauthInstance.authApi.getMiniProgramQrCodeStatus(e)]})})},t.prototype.modifyPassword=function(e){return ve(this,void 0,void 0,function(){return ye(this,function(r){return[2,this.oauthInstance.authApi.modifyPassword(e)]})})},t.prototype.modifyPasswordWithoutLogin=function(e){return ve(this,void 0,void 0,function(){return ye(this,function(r){return[2,this.oauthInstance.authApi.modifyPasswordWithoutLogin(e)]})})},t.prototype.getUserBehaviorLog=function(e){return ve(this,void 0,void 0,function(){return ye(this,function(r){return[2,this.oauthInstance.authApi.getUserBehaviorLog(e)]})})},t.prototype.toDefaultLoginPage=function(e){return e===void 0&&(e={}),ve(this,void 0,void 0,function(){var r,n,o,i,l;return ye(this,function(f){return r=e.config_version||"env",n=Object.keys(e.query||{}).map(function(h){return"".concat(h,"=").concat(e.query[h])}).join("&"),Kn.isMatch()?wx.navigateTo({url:"/packages/$wd_system/pages/login/index".concat(n?"?".concat(n):"")}):(o=e.redirect_uri||window.location.href,i=new URL(o),l="".concat(i.origin,"/__auth/?app_id=").concat(e.app_id||"","&env_id=").concat(this.config.env,"&client_id=").concat(this.config.clientId||this.config.env,"&config_version=").concat(r,"&redirect_uri=").concat(encodeURIComponent(o)).concat(n?"&".concat(n):""),window.location.href=l),[2]})})},t.prototype.createLoginState=function(e,r){return ve(this,void 0,void 0,function(){var n;return ye(this,function(o){switch(o.label){case 0:return n=new ov({envId:this.config.env,cache:this.cache,oauthInstance:this.oauthInstance}),[4,n.checkLocalStateAsync()];case 1:return o.sent(),r!=null&&r.asyncRefreshUser?(n.user.refresh(e),[3,4]):[3,2];case 2:return[4,n.user.refresh(e)];case 3:o.sent(),o.label=4;case 4:return bf.fire(wf.LOGIN_STATE_CHANGED,{eventType:_f.SIGN_IN}),[2,n]}})})},t.prototype.signInWithUsername=function(e){var r=e.verificationInfo,n=r===void 0?{verification_id:"",is_user:!1}:r,o=e.verificationCode,i=o===void 0?"":o,l=e.username,f=l===void 0?"":l,h=e.bindInfo,u=h===void 0?void 0:h,d=e.loginType,v=d===void 0?"":d;return ve(this,void 0,void 0,function(){var y,_,w,S,T,O,x,A;return ye(this,function(C){switch(C.label){case 0:return C.trys.push([0,8,,9]),[4,this.oauthInstance.authApi.verify({verification_id:n.verification_id,verification_code:i})];case 1:if(y=C.sent(),y!=null&&y.error_code)throw y;return _=y.verification_token,w=/^\+\d{1,3}\s+\d+/.test(f)?f:"+86 ".concat(f),S={phone_number:w},v==="email"&&(w=f,S={email:w}),n.is_user?[4,this.oauthInstance.authApi.signIn({username:w,verification_token:_})]:[3,5];case 2:if(T=C.sent(),T!=null&&T.error_code)throw T;return u?[4,this.oauthInstance.authApi.bindWithProvider({provider_token:u==null?void 0:u.providerToken})]:[3,4];case 3:if(O=C.sent(),O!=null&&O.error_code)throw O;C.label=4;case 4:return[3,7];case 5:return[4,this.oauthInstance.authApi.signUp(Dt(Dt({},S),{verification_token:_,provider_token:u==null?void 0:u.providerId}))];case 6:if(x=C.sent(),x!=null&&x.error_code)throw x;C.label=7;case 7:return[2,this.createLoginState()];case 8:throw A=C.sent(),A;case 9:return[2]}})})},t.prototype.setAccessKey=function(){return ve(this,void 0,void 0,function(){return ye(this,function(e){if(this.config.accessKey)try{this.oauthInstance.oauth2client.setAccessKeyCredentials({access_token:this.config.accessKey,token_type:"Bearer",scope:"accessKey",expires_at:new Date(+new Date+ +new Date),expires_in:+new Date+ +new Date})}catch(r){console.warn("accessKey error: ",r)}return[2]})})},Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 -  auth().bindPhoneNumber() ","  2 - ","".concat(Be.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[Object]),ce("design:returntype",Promise)],t.prototype,"bindPhoneNumber",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 -  auth().unbindProvider() ","  2 - ","".concat(Be.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[Object]),ce("design:returntype",Promise)],t.prototype,"unbindProvider",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 -  auth().bindEmail() ","  2 - ","".concat(Be.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[Object]),ce("design:returntype",void 0)],t.prototype,"bindEmail",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 -  auth().verify() ","  2 - /","".concat(Be.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[Object]),ce("design:returntype",Promise)],t.prototype,"verify",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 -  auth().getVerification() ","  2 - /","".concat(Be.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[Object,Object]),ce("design:returntype",Promise)],t.prototype,"getVerification",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 -  auth().getCurrentUser() ","".concat(Be.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[]),ce("design:returntype",Promise)],t.prototype,"getCurrentUser",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 - ","  2 -  auth().signInAnonymously() ","".concat(Be.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[Object]),ce("design:returntype",Promise)],t.prototype,"signInAnonymously",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 - ","  2 -  auth().signInAnonymouslyInWx() ","".concat(Be.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[Object]),ce("design:returntype",Promise)],t.prototype,"signInAnonymouslyInWx",null),Ze([Xe.catchErrorsDecorator({title:"OpenID",messages:["","  1 - openId","  2 -  auth().bindOpenId() ","".concat(Be.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[]),ce("design:returntype",Promise)],t.prototype,"bindOpenId",null),Ze([Xe.catchErrorsDecorator({title:"openId",messages:["","  1 - openId","  2 -  auth().signInWithOpenId() ","".concat(Be.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[Object]),ce("design:returntype",Promise)],t.prototype,"signInWithOpenId",null),Ze([Xe.catchErrorsDecorator({title:"unionId",messages:["","  1 - unionId","  2 -  auth().signInWithUnionId() ","".concat(Be.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[]),ce("design:returntype",Promise)],t.prototype,"signInWithUnionId",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 - ","  2 -  auth().signInWithPhoneAuth() ","".concat(Be.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[Object]),ce("design:returntype",Promise)],t.prototype,"signInWithPhoneAuth",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 - ","  2 -  auth().signInWithSms() ","".concat(Be.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[Object]),ce("design:returntype",Promise)],t.prototype,"signInWithSms",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 - ","  2 -  auth().signInWithEmail() ","".concat(Be.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[Object]),ce("design:returntype",Promise)],t.prototype,"signInWithEmail",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 - ","  2 -  auth().signInWithCustomTicket() ","  3 - ticket ","  4 -  ticket ","".concat(Be.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[]),ce("design:returntype",Promise)],t.prototype,"signInWithCustomTicket",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 - ","  2 -  auth().signUp() ","".concat(Be.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[Object]),ce("design:returntype",Promise)],t.prototype,"signUp",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 -  auth().isUsernameRegistered() ","".concat(Be.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[String]),ce("design:returntype",Promise)],t.prototype,"isUsernameRegistered",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 -  auth().signOut() ","  2 - signOut","".concat(Be.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[Object]),ce("design:returntype",Promise)],t.prototype,"signOut",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 -  auth().getLoginState() ","".concat(Be.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[]),ce("design:returntype",Promise)],t.prototype,"getLoginState",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 - ","  2 -  auth().getUserInfo() ","".concat(Be.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[Object]),ce("design:returntype",Promise)],t.prototype,"getUserInfo",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 - ","  2 -  auth().getWedaUserInfo() ","".concat(Be.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[]),ce("design:returntype",Promise)],t.prototype,"getWedaUserInfo",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 -  auth().bindWithProvider() ","  2 - ","".concat(Be.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[Object]),ce("design:returntype",Promise)],t.prototype,"bindWithProvider",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 -  auth().getProviderSubType() ","".concat(Be.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[]),ce("design:returntype",Promise)],t.prototype,"getProviderSubType",null),t})();function gj(t,e){var r=t.region,n=r===void 0?"ap-shanghai":r,o=t.i18n,i=t.accessKey,l=t.useWxCloud,f=(e==null?void 0:e.platform)||sj.useDefaultAdapter(),h=f.runtime,u=f.adapter,d=e||{},v=d.env,y=d.clientId,_=d.debug,w=d.cache,S=d.app,T=(e||{}).apiOrigin;T||(T="https://".concat(v,".").concat(n,".tcb-api.tencentcloudapi.com"));var O={env:v,clientId:y,i18n:o,accessKey:i,useWxCloud:l},x=new XL(hj(Dt(Dt({},O),{apiOrigin:T,apiPath:(t==null?void 0:t.apiPath)||Ed,storage:t==null?void 0:t.storage,baseRequest:t==null?void 0:t.baseRequest,request:t==null?void 0:t.request,anonymousSignInFunc:t==null?void 0:t.anonymousSignInFunc,captchaOptions:t==null?void 0:t.captchaOptions,wxCloud:t==null?void 0:t.wxCloud,adapter:u,onCredentialsError:vj,headers:Dt({"X-SDK-Version":"@cloudbase/js-sdk/".concat(t.sdkVersion)},t.headers||{})}))),A=new mj(Dt(Dt({},O),{region:n,persistence:t.persistence,debug:_,cache:w||new ij.CloudbaseCache({persistence:t.persistence,keys:{userInfoKey:"user_info_".concat(v)},platformInfo:f}),runtime:h||"web",_fromApp:S,oauthInstance:x}));return{authInstance:A,oauthInstance:x}}var pR={name:pj,namespace:"auth",entity:function(t){if(t===void 0&&(t={region:"",persistence:"local",apiPath:Ed}),this.authInstance)return fs.printWarn(Be.ERRORS.INVALID_OPERATION,"every cloudbase instance should has only one auth object"),this.authInstance;var e=this.platform.adapter,r=t.persistence||e.primaryStorage;r&&r!==this.config.persistence&&this.updateConfig({persistence:r});var n=gj(Dt(Dt({wxCloud:this.config.wxCloud,storage:this.config.storage},t),{persistence:this.config.persistence,i18n:this.config.i18n,accessKey:this.config.accessKey,useWxCloud:this.config.useWxCloud,sdkVersion:this.version}),{env:this.config.env,clientId:this.config.clientId,apiOrigin:this.request.getBaseEndPoint(this.config.endPointMode||"CLOUD_API"),platform:this.platform,cache:this.cache,app:this,debug:this.config.debug}),o=n.authInstance,i=n.oauthInstance;return this.oauthInstance=i,this.authInstance=o,this.authInstance}};try{cloudbase.registerComponent(pR)}catch{}function _j(t){try{t.registerComponent(pR)}catch(e){console.warn(e)}}var Wf=function(){return Wf=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Wf.apply(this,arguments)},vR=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function h(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,h)}u((n=n.apply(t,e||[])).next())})},yR=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return h([u,d])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},gE=_r,B0="cloudrun",wj=(function(){function t(){}return t.prototype.callContainer=function(e,r){return vR(this,void 0,void 0,function(){var n,o,i;return yR(this,function(l){switch(l.label){case 0:if(n=e.name,o=e.data,!n)throw new Error(JSON.stringify({code:gE.INVALID_PARAMS,msg:"[".concat(B0,".callContainer] invalid name")}));try{i=o?JSON.stringify(o):""}catch{throw new Error(JSON.stringify({code:gE.INVALID_PARAMS,msg:"[".concat(B0,".callContainer] invalid data")}))}return[4,mR.call(this,Wf(Wf({},e),{data:i}),r)];case 1:return[2,l.sent()]}})})},t})();function mR(t,e){return vR(this,void 0,void 0,function(){var r,n,o,i,l,f,h,u,d,v,y,_,w;return yR(this,function(S){switch(S.label){case 0:return r=t.name,n=t.data,o=t.path,i=o===void 0?"":o,l=t.method,f=t.header,h=f===void 0?{}:f,u=this.getEndPointWithKey("GATEWAY"),d=u.BASE_URL,v=u.PROTOCOL,y="".concat(v).concat(d,"/cloudrun/").concat(r),_=i.startsWith("/")?i:"/".concat(i),[4,this.request.fetch({method:l||"POST",headers:Object.assign({},{"Content-Type":"application/json; charset=utf-8"},h),body:n,url:"".concat(y).concat(_),customReqOpts:e})];case 1:return w=S.sent(),e.from==="node-sdk"?[2,w]:[4,w.data];case 2:return[2,S.sent()]}})})}var bj=new wj,gR={name:B0,entity:{callContainer:bj.callContainer}};try{cloudbase.registerComponent(gR)}catch{}function _R(t){try{t.registerComponent(gR)}catch(e){console.warn(e)}}try{window.registerCloudrun=_R}catch{}var qo=function(){return qo=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},qo.apply(this,arguments)},Ej=function(t,e,r,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var f=t.length-1;f>=0;f--)(l=t[f])&&(i=(o<3?l(i):o>3?l(e,r,i):l(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i},av=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},Sj=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function h(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,h)}u((n=n.apply(t,e||[])).next())})},Ij=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return h([u,d])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Tj=dd,sv=_r,Oj=hd,yu=H2,xj=yd,Ef="functions",Rj=(function(){function t(){}return t.prototype.callFunction=function(e,r,n){var o,i,l;return Sj(this,void 0,void 0,function(){var f,h,u,d,v,y,_,w,S,T,O,x,A,F,C,U,q,K,V,k,$,F,z;return Ij(this,function(Q){switch(Q.label){case 0:if(f=e.name,h=e.data,u=e.query,d=e.parse,v=e.search,y=e.type,_=e.path,w=_===void 0?"":_,S=e.method,T=e.header,O=T===void 0?{}:T,!f)throw new Error(JSON.stringify({code:sv.INVALID_PARAMS,msg:"[".concat(Ef,".callFunction] invalid function name")}));try{x=h?JSON.stringify(h):""}catch{throw new Error(JSON.stringify({code:sv.INVALID_PARAMS,msg:"[".concat(Ef,".callFunction] invalid data")}))}return y!=="cloudrun"?[3,2]:(A=$2(),[4,mR.call(this,{name:f,data:x,path:w,method:S,header:qo(qo({},O),{"X-Request-Id":A})})]);case 1:return F=Q.sent(),[2,{result:F,requestId:A}];case 2:C=this,U=C.request,q=C.config,K="functions.invokeFunction",V={inQuery:u,parse:d,search:v,function_name:f,request_data:x},k={},Q.label=3;case 3:return Q.trys.push([3,8,,9]),q.endPointMode!=="GATEWAY"?[3,5]:[4,U.gateWay(qo(qo({},e),{path:"functions"}),n)];case 4:return $=Q.sent(),k=qo({requestId:$.requestId},!((o=$.data)===null||o===void 0)&&o.code?$.data:{data:{response_data:$.data}}),[3,7];case 5:return[4,U.send(K,V,{defaultQuery:!((i=h==null?void 0:h.params)===null||i===void 0)&&i.action?{action:(l=h==null?void 0:h.params)===null||l===void 0?void 0:l.action}:{}},n)];case 6:k=Q.sent(),Q.label=7;case 7:if(k.code)return[2,yu(r,null,k)];if(F=k.data.response_data,d||q.endPointMode==="GATEWAY")return[2,yu(r,null,{result:F,requestId:k.requestId})];try{return F=JSON.parse(k.data.response_data),[2,yu(r,null,{result:F,requestId:k.requestId})]}catch{yu(r,new Error("[".concat(Tj(),"][").concat(sv.INVALID_PARAMS,"][").concat(Ef,".callFunction] response data must be json")))}return[3,9];case 8:return z=Q.sent(),yu(r,z),[3,9];case 9:return[2]}})})},Ej([xj({customInfo:{},title:"",messages:["","  1 -  callFunction() ","  2 - ","  3 - ","".concat(Oj)]}),av("design:type",Function),av("design:paramtypes",[Object,Function,Object]),av("design:returntype",Promise)],t.prototype,"callFunction",null),t})(),Aj=new Rj,wR={name:Ef,entity:{callFunction:Aj.callFunction}};try{cloudbase.registerComponent(wR)}catch{}function Cj(t){try{t.registerComponent(wR)}catch(e){console.warn(e)}}var yt=function(){return yt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},yt.apply(this,arguments)},Da=function(t,e,r,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var f=t.length-1;f>=0;f--)(l=t[f])&&(i=(o<3?l(i):o>3?l(e,r,i):l(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i},Rt=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},Qr=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function h(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,h)}u((n=n.apply(t,e||[])).next())})},Xr=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return h([u,d])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},zn;(function(t){t.put="put",t.post="post"})(zn||(zn={}));var _E=dd,ur=_r,Ua=hd,uv=M2,mu=B2,Pj=uk,Rr=H2,Fa=yd,Jt="storage";function wE(t){var e=t.lastIndexOf("/");return e===-1?t:t.slice(e+1)}var gu={getUploadInfo:function(t,e,r){return Qr(void 0,void 0,void 0,function(){var n,o,i;return Xr(this,function(l){switch(l.label){case 0:return[4,t.gateWay({path:"storages",name:"get-objects-upload-info",data:[yt({objectId:e.path},e.headers?{signedHeader:e.headers}:{})]},r)];case 1:return n=l.sent(),o=((i=n.data)===null||i===void 0?void 0:i[0])||{},n=yt(yt({},n),{data:yt(yt({},o.code?yt({},o):{}),{authorization:o.authorization,token:o.token,url:o.uploadUrl,fileId:o.cloudObjectId,cosFileId:o.cloudObjectMeta,download_url:o.downloadUrl})}),[2,n]}})})},getDownLoadInfo:function(t,e,r){return Qr(void 0,void 0,void 0,function(){var n,o;return Xr(this,function(i){switch(i.label){case 0:return[4,t.gateWay({path:"storages",name:"get-objects-download-info",data:e.convertedFileList.map(function(l){return{cloudObjectId:l.fileid}})},r)];case 1:return n=i.sent(),n=yt(yt({},n),{data:{download_list:(o=n.data)===null||o===void 0?void 0:o.map(function(l){return{code:l.code||"SUCCESS",message:l.message,fileid:l.cloudObjectId,download_url:l.downloadUrl,fileID:l.cloudObjectId,tempFileURL:l.downloadUrl}})}}),[2,n]}})})},delete:function(t,e,r){return Qr(void 0,void 0,void 0,function(){var n,o;return Xr(this,function(i){switch(i.label){case 0:return[4,t.gateWay({path:"storages",name:"delete-objects",data:e.fileList.map(function(l){return{cloudObjectId:l}})},r)];case 1:return n=i.sent(),n=yt(yt({},n),{data:{delete_list:(o=n.data)===null||o===void 0?void 0:o.map(function(l){return{code:l.code||"SUCCESS",fileID:l.cloudObjectId,message:l.message}})}}),[2,n]}})})},copyFile:function(t,e,r){return Qr(void 0,void 0,void 0,function(){var n,o;return Xr(this,function(i){switch(i.label){case 0:return[4,t.gateWay({path:"storages",name:"copy-objects",data:e.convertedFileList.map(function(l){return{srcPath:l.src_path,dstPath:l.dst_path,overwrite:l.overwrite,removeOriginal:l.remove_original}})},r)];case 1:return n=i.sent(),n=yt(yt({},n),{data:{copy_list:(o=n.data)===null||o===void 0?void 0:o.map(function(l){return{code:l.code||"SUCCESS",fileID:l.cloudObjectId,message:l.message}})}}),[2,n]}})})}},Nj=(function(){function t(){}return t.prototype.isGateWay=function(){var e=this.config,r=e.endPointMode||"CLOUD_API";return r==="GATEWAY"},t.prototype.uploadFile=function(e,r){var n;return Qr(this,void 0,void 0,function(){var o,i,l,f,h,u,d,v,y,_,w,S,T,O,x,A,C,U,q,K,V,k,$,F,z,Q,ee;return Xr(this,function(he){switch(he.label){case 0:if(o=e.cloudPath,i=e.filePath,l=e.onUploadProgress,f=e.method,h=f===void 0?"put":f,u=e.headers,d=u===void 0?{}:u,v=e.fileContent,!mu(o)||!i&&!v)throw new Error(JSON.stringify({code:ur.INVALID_PARAMS,msg:"[".concat(Jt,".uploadFile] invalid params")}));return y={put:zn.put,post:zn.post}[h.toLocaleLowerCase()]||zn.put,_="storage.getUploadMetadata",w=this.request,S={path:o,method:y},y===zn.put&&(S.headers=d),T={},this.isGateWay()?[4,gu.getUploadInfo(w,S,e.customReqOpts)]:[3,2];case 1:return T=he.sent(),[3,4];case 2:return[4,w.send(_,S,e.customReqOpts)];case 3:T=he.sent(),he.label=4;case 4:return O=T.data,x=O.url,A=O.authorization,C=O.token,U=O.fileId,q=O.cosFileId,K=O.download_url,V=T.requestId,!((n=T.data)===null||n===void 0)&&n.code?[2,Rr(r,new Error("[".concat(_E(),"][").concat(ur.OPERATION_FAIL,"][").concat(Jt,"]:").concat(T.data)))]:(k={url:x,file:i,name:o,onUploadProgress:l,fileContent:v,fileId:U,requestId:V},$=yt(yt({},k),{method:zn.put,headers:yt(yt({},d),{authorization:A,"x-cos-meta-fileid":q,"x-cos-security-token":C})}),F=yt(yt({},k),{method:zn.post,data:{key:o,signature:A,"x-cos-meta-fileid":q,success_action_status:"201","x-cos-security-token":C}}),z=(ee={},ee[zn.put]={params:$,isSuccess:function(be){return be>=200&&be<300}},ee[zn.post]={params:F,isSuccess:function(be){return be===201}},ee),[4,w.upload(z[y].params)]);case 5:return Q=he.sent(),z[y].isSuccess(Q.statusCode)?[2,Rr(r,null,{fileID:U,download_url:K,requestId:V})]:[2,Rr(r,new Error("[".concat(_E(),"][").concat(ur.OPERATION_FAIL,"][").concat(Jt,"]:").concat(Q.data)))]}})})},t.prototype.getUploadMetadata=function(e,r){return Qr(this,void 0,void 0,function(){var n,o,i,l,f;return Xr(this,function(h){switch(h.label){case 0:if(n=e.cloudPath,!mu(n))throw new Error(JSON.stringify({code:ur.INVALID_PARAMS,msg:"[".concat(Jt,".getUploadMetadata] invalid cloudPath")}));o=this.request,i="storage.getUploadMetadata",h.label=1;case 1:return h.trys.push([1,6,,7]),l={},this.isGateWay()?[4,gu.getUploadInfo(o,{path:n},e.customReqOpts)]:[3,3];case 2:return l=h.sent(),[3,5];case 3:return[4,o.send(i,{path:n},e.customReqOpts)];case 4:l=h.sent(),h.label=5;case 5:return[2,Rr(r,null,l)];case 6:return f=h.sent(),[2,Rr(r,f)];case 7:return[2]}})})},t.prototype.deleteFile=function(e,r){return Qr(this,void 0,void 0,function(){var n,o,i,l,f,h,u,d;return Xr(this,function(v){switch(v.label){case 0:if(n=e.fileList,!n||!uv(n)||n.length===0)throw new Error(JSON.stringify({code:ur.INVALID_PARAMS,msg:"[".concat(Jt,".deleteFile] fileList must not be empty")}));for(o=0,i=n;o<i.length;o++)if(l=i[o],!l||!mu(l))throw new Error(JSON.stringify({code:ur.INVALID_PARAMS,msg:"[".concat(Jt,".deleteFile] fileID must be string")}));return f="storage.batchDeleteFile",h=this.request,u={},this.isGateWay()?[4,gu.delete(h,{fileList:n},e.customReqOpts)]:[3,2];case 1:return u=v.sent(),[3,4];case 2:return[4,h.send(f,{fileid_list:n},e.customReqOpts)];case 3:u=v.sent(),v.label=4;case 4:return u.code?[2,Rr(r,null,u)]:(d={fileList:u.data.delete_list,requestId:u.requestId},[2,Rr(r,null,d)])}})})},t.prototype.getTempFileURL=function(e,r){return Qr(this,void 0,void 0,function(){var n,o,i,l,f,h,u,d;return Xr(this,function(v){switch(v.label){case 0:if(n=e.fileList,!n||!uv(n)||n.length===0)throw new Error(JSON.stringify({code:ur.INVALID_PARAMS,msg:"[".concat(Jt,".getTempFileURL] fileList must not be empty")}));for(o=[],i=0,l=n;i<l.length;i++)if(f=l[i],Pj(f)){if(!Object.prototype.hasOwnProperty.call(f,"fileID")||!Object.prototype.hasOwnProperty.call(f,"maxAge"))throw new Error(JSON.stringify({code:ur.INVALID_PARAMS,msg:"[".concat(Jt,".getTempFileURL] file info must include fileID and maxAge")}));o.push({fileid:f.fileID,max_age:f.maxAge})}else if(mu(f))o.push({fileid:f});else throw new Error(JSON.stringify({code:ur.INVALID_PARAMS,msg:"[".concat(Jt,".getTempFileURL] invalid fileList")}));return h="storage.batchGetDownloadUrl",u=this.request,d={},this.isGateWay()?[4,gu.getDownLoadInfo(u,{convertedFileList:o},e.customReqOpts)]:[3,2];case 1:return d=v.sent(),[3,4];case 2:return[4,u.send(h,{file_list:o},e.customReqOpts)];case 3:d=v.sent(),v.label=4;case 4:return d.code?[2,Rr(r,null,d)]:[2,Rr(r,null,{fileList:d.data.download_list,requestId:d.requestId})]}})})},t.prototype.downloadFile=function(e,r){return Qr(this,void 0,void 0,function(){var n,o,i,l,f,h;return Xr(this,function(u){switch(u.label){case 0:if(n=e.fileID,!mu(n))throw new Error(JSON.stringify({code:ur.INVALID_PARAMS,msg:"[".concat(Jt,".getTempFileURL] fileID must be string")}));return[4,this.getTempFileURL.call(this,{fileList:[{fileID:n,maxAge:600}],customReqOpts:e.customReqOpts})];case 1:return o=u.sent(),i=o.fileList[0],i.code!=="SUCCESS"?[2,Rr(r,i)]:(l=this.request,f=encodeURI(i.download_url),[4,l.download({url:f,tempFilePath:e.tempFilePath})]);case 2:return h=u.sent(),[2,Rr(r,null,h)]}})})},t.prototype.copyFile=function(e,r){return Qr(this,void 0,void 0,function(){var n,o,i,l,f,h,u,d,v,y;return Xr(this,function(_){switch(_.label){case 0:if(n=e.fileList,!n||!uv(n)||n.length===0)throw new Error(JSON.stringify({code:ur.INVALID_PARAMS,msg:"[".concat(Jt,".copyFile] fileList must not be empty")}));for(o=[],i=0,l=n;i<l.length;i++){if(f=l[i],h=f.srcPath,u=f.dstPath,!h||!u||typeof h!="string"||typeof u!="string")throw new Error(JSON.stringify({code:ur.INVALID_PARAMS,msg:"[".concat(Jt,".copyFile] srcPath and dstPath may not be empty")}));if(h===u)throw new Error(JSON.stringify({code:ur.INVALID_PARAMS,msg:"[".concat(Jt,".copyFile] srcPath and dstPath can not be the same")}));if(wE(h)!==wE(u))throw new Error(JSON.stringify({code:ur.INVALID_PARAMS,msg:"[".concat(Jt,".copyFile] srcPath and dstPath file name must be the same")}));o.push({src_path:h,dst_path:u,overwrite:f.overwrite,remove_original:f.removeOriginal})}return d="storage.batchCopyFile",v=this.request,y={},this.isGateWay()?[4,gu.copyFile(v,{convertedFileList:o},e.customReqOpts)]:[3,2];case 1:return y=_.sent(),[3,4];case 2:return[4,v.send(d,{file_list:o},e.customReqOpts)];case 3:y=_.sent(),_.label=4;case 4:return y.code?[2,Rr(r,null,y)]:[2,Rr(r,null,{fileList:y.data.copy_list,requestId:y.requestId})]}})})},t.prototype.getFileInfo=function(e){var r;return Qr(this,void 0,void 0,function(){var n,o,i=this;return Xr(this,function(l){switch(l.label){case 0:return[4,this.getTempFileURL(e)];case 1:return n=l.sent(),n!=null&&n.fileList&&((r=n==null?void 0:n.fileList)===null||r===void 0?void 0:r.length)>0?[4,Promise.all(n.fileList.map(function(f){return Qr(i,void 0,void 0,function(){var h,u,d,v,y;return Xr(this,function(_){switch(_.label){case 0:if(f.code!=="SUCCESS")return[2,{code:f.code,fileID:f.fileID,tempFileURL:f.tempFileURL}];_.label=1;case 1:return _.trys.push([1,3,,4]),h=this.request,[4,h.fetch({url:f.tempFileURL,method:"HEAD"})];case 2:return u=_.sent(),d=parseInt(u.headers["content-length"])||0,v=u.headers["content-type"]||"",y={code:f.code,fileID:f.fileID,tempFileURL:f.tempFileURL,cloudId:f.fileID,fileName:f.fileID.split("/").pop(),contentType:v,mime:v.split(";")[0].trim(),size:d},[2,y];case 3:return _.sent(),[2,{code:"FETCH_FILE_INFO_ERROR",fileID:f.fileID,tempFileURL:f.tempFileURL}];case 4:return[2]}})})}))]:[3,3];case 2:return o=l.sent(),[2,{fileList:o,requestId:n.requestId}];case 3:return[2,{fileList:[],requestId:n.requestId}]}})})},Da([Fa({customInfo:{},title:"",messages:["","  1 -  uploadFile() ","  2 - https://console.cloud.tencent.com/tcb/env/safety","  3 - ","".concat(Ua)]}),Rt("design:type",Function),Rt("design:paramtypes",[Object,Function]),Rt("design:returntype",Promise)],t.prototype,"uploadFile",null),Da([Fa({customInfo:{},title:"",messages:["","  1 -  getUploadMetadata() ","  2 - https://console.cloud.tencent.com/tcb/env/safety","  3 - ","".concat(Ua)]}),Rt("design:type",Function),Rt("design:paramtypes",[Object,Function]),Rt("design:returntype",Promise)],t.prototype,"getUploadMetadata",null),Da([Fa({customInfo:{},title:"",messages:["","  1 -  deleteFile() ","  2 - https://console.cloud.tencent.com/tcb/env/safety","  3 - ","".concat(Ua)]}),Rt("design:type",Function),Rt("design:paramtypes",[Object,Function]),Rt("design:returntype",Promise)],t.prototype,"deleteFile",null),Da([Fa({customInfo:{},title:"",messages:["","  1 -  getTempFileURL() ","  2 - https://console.cloud.tencent.com/tcb/env/safety","  3 - ","".concat(Ua)]}),Rt("design:type",Function),Rt("design:paramtypes",[Object,Function]),Rt("design:returntype",Promise)],t.prototype,"getTempFileURL",null),Da([Fa({customInfo:{},title:"",messages:["","  1 -  downloadFile() ","  2 - https://console.cloud.tencent.com/tcb/env/safety","  3 - ","".concat(Ua)]}),Rt("design:type",Function),Rt("design:paramtypes",[Object,Function]),Rt("design:returntype",Promise)],t.prototype,"downloadFile",null),Da([Fa({customInfo:{},title:"",messages:["","  1 -  copyFile() ","  2 - https://console.cloud.tencent.com/tcb/env/safety","  3 - ","".concat(Ua)]}),Rt("design:type",Function),Rt("design:paramtypes",[Object,Function]),Rt("design:returntype",Promise)],t.prototype,"copyFile",null),t})(),zi=new Nj,bR={name:Jt,entity:{uploadFile:zi.uploadFile,deleteFile:zi.deleteFile,getTempFileURL:zi.getTempFileURL,downloadFile:zi.downloadFile,getUploadMetadata:zi.getUploadMetadata,copyFile:zi.copyFile,getFileInfo:zi.getFileInfo,isGateWay:zi.isGateWay}};try{cloudbase.registerComponent(bR)}catch{}function ER(t){try{t.registerComponent(bR)}catch(e){console.warn(e)}}try{window.registerStorage=ER}catch{}var lv,bE;function SR(){if(bE)return lv;bE=1;var t=typeof Ja=="object"&&Ja&&Ja.Object===Object&&Ja;return lv=t,lv}var cv,EE;function ti(){if(EE)return cv;EE=1;var t=SR(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return cv=r,cv}var fv,SE;function Sd(){if(SE)return fv;SE=1;var t=ti(),e=t.Symbol;return fv=e,fv}var dv,IE;function kj(){if(IE)return dv;IE=1;var t=Sd(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,o=t?t.toStringTag:void 0;function i(l){var f=r.call(l,o),h=l[o];try{l[o]=void 0;var u=!0}catch{}var d=n.call(l);return u&&(f?l[o]=h:delete l[o]),d}return dv=i,dv}var hv,TE;function Lj(){if(TE)return hv;TE=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return hv=r,hv}var pv,OE;function vl(){if(OE)return pv;OE=1;var t=Sd(),e=kj(),r=Lj(),n="[object Null]",o="[object Undefined]",i=t?t.toStringTag:void 0;function l(f){return f==null?f===void 0?o:n:i&&i in Object(f)?e(f):r(f)}return pv=l,pv}var vv,xE;function Es(){if(xE)return vv;xE=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return vv=t,vv}var yv,RE;function IR(){if(RE)return yv;RE=1;var t=vl(),e=Es(),r="[object AsyncFunction]",n="[object Function]",o="[object GeneratorFunction]",i="[object Proxy]";function l(f){if(!e(f))return!1;var h=t(f);return h==n||h==o||h==r||h==i}return yv=l,yv}var mv,AE;function jj(){if(AE)return mv;AE=1;var t=ti(),e=t["__core-js_shared__"];return mv=e,mv}var gv,CE;function Dj(){if(CE)return gv;CE=1;var t=jj(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return gv=r,gv}var _v,PE;function TR(){if(PE)return _v;PE=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return _v=r,_v}var wv,NE;function Uj(){if(NE)return wv;NE=1;var t=IR(),e=Dj(),r=Es(),n=TR(),o=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,l=Function.prototype,f=Object.prototype,h=l.toString,u=f.hasOwnProperty,d=RegExp("^"+h.call(u).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v(y){if(!r(y)||e(y))return!1;var _=t(y)?d:i;return _.test(n(y))}return wv=v,wv}var bv,kE;function Fj(){if(kE)return bv;kE=1;function t(e,r){return e==null?void 0:e[r]}return bv=t,bv}var Ev,LE;function oa(){if(LE)return Ev;LE=1;var t=Uj(),e=Fj();function r(n,o){var i=e(n,o);return t(i)?i:void 0}return Ev=r,Ev}var Sv,jE;function Mj(){if(jE)return Sv;jE=1;var t=oa(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Sv=e,Sv}var Iv,DE;function OR(){if(DE)return Iv;DE=1;var t=Mj();function e(r,n,o){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:o,writable:!0}):r[n]=o}return Iv=e,Iv}var Tv,UE;function xR(){if(UE)return Tv;UE=1;function t(e,r){return e===r||e!==e&&r!==r}return Tv=t,Tv}var Ov,FE;function Mg(){if(FE)return Ov;FE=1;var t=OR(),e=xR(),r=Object.prototype,n=r.hasOwnProperty;function o(i,l,f){var h=i[l];(!(n.call(i,l)&&e(h,f))||f===void 0&&!(l in i))&&t(i,l,f)}return Ov=o,Ov}var xv,ME;function Ss(){if(ME)return xv;ME=1;var t=Array.isArray;return xv=t,xv}var Rv,BE;function Is(){if(BE)return Rv;BE=1;function t(e){return e!=null&&typeof e=="object"}return Rv=t,Rv}var Av,qE;function Bg(){if(qE)return Av;qE=1;var t=vl(),e=Is(),r="[object Symbol]";function n(o){return typeof o=="symbol"||e(o)&&t(o)==r}return Av=n,Av}var Cv,$E;function Bj(){if($E)return Cv;$E=1;var t=Ss(),e=Bg(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function o(i,l){if(t(i))return!1;var f=typeof i;return f=="number"||f=="symbol"||f=="boolean"||i==null||e(i)?!0:n.test(i)||!r.test(i)||l!=null&&i in Object(l)}return Cv=o,Cv}var Pv,WE;function Id(){if(WE)return Pv;WE=1;var t=oa(),e=t(Object,"create");return Pv=e,Pv}var Nv,HE;function qj(){if(HE)return Nv;HE=1;var t=Id();function e(){this.__data__=t?t(null):{},this.size=0}return Nv=e,Nv}var kv,GE;function $j(){if(GE)return kv;GE=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return kv=t,kv}var Lv,zE;function Wj(){if(zE)return Lv;zE=1;var t=Id(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function o(i){var l=this.__data__;if(t){var f=l[i];return f===e?void 0:f}return n.call(l,i)?l[i]:void 0}return Lv=o,Lv}var jv,VE;function Hj(){if(VE)return jv;VE=1;var t=Id(),e=Object.prototype,r=e.hasOwnProperty;function n(o){var i=this.__data__;return t?i[o]!==void 0:r.call(i,o)}return jv=n,jv}var Dv,KE;function Gj(){if(KE)return Dv;KE=1;var t=Id(),e="__lodash_hash_undefined__";function r(n,o){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=t&&o===void 0?e:o,this}return Dv=r,Dv}var Uv,YE;function zj(){if(YE)return Uv;YE=1;var t=qj(),e=$j(),r=Wj(),n=Hj(),o=Gj();function i(l){var f=-1,h=l==null?0:l.length;for(this.clear();++f<h;){var u=l[f];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=o,Uv=i,Uv}var Fv,JE;function Vj(){if(JE)return Fv;JE=1;function t(){this.__data__=[],this.size=0}return Fv=t,Fv}var Mv,QE;function Td(){if(QE)return Mv;QE=1;var t=xR();function e(r,n){for(var o=r.length;o--;)if(t(r[o][0],n))return o;return-1}return Mv=e,Mv}var Bv,XE;function Kj(){if(XE)return Bv;XE=1;var t=Td(),e=Array.prototype,r=e.splice;function n(o){var i=this.__data__,l=t(i,o);if(l<0)return!1;var f=i.length-1;return l==f?i.pop():r.call(i,l,1),--this.size,!0}return Bv=n,Bv}var qv,ZE;function Yj(){if(ZE)return qv;ZE=1;var t=Td();function e(r){var n=this.__data__,o=t(n,r);return o<0?void 0:n[o][1]}return qv=e,qv}var $v,eS;function Jj(){if(eS)return $v;eS=1;var t=Td();function e(r){return t(this.__data__,r)>-1}return $v=e,$v}var Wv,tS;function Qj(){if(tS)return Wv;tS=1;var t=Td();function e(r,n){var o=this.__data__,i=t(o,r);return i<0?(++this.size,o.push([r,n])):o[i][1]=n,this}return Wv=e,Wv}var Hv,rS;function Od(){if(rS)return Hv;rS=1;var t=Vj(),e=Kj(),r=Yj(),n=Jj(),o=Qj();function i(l){var f=-1,h=l==null?0:l.length;for(this.clear();++f<h;){var u=l[f];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=o,Hv=i,Hv}var Gv,nS;function qg(){if(nS)return Gv;nS=1;var t=oa(),e=ti(),r=t(e,"Map");return Gv=r,Gv}var zv,iS;function Xj(){if(iS)return zv;iS=1;var t=zj(),e=Od(),r=qg();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return zv=n,zv}var Vv,oS;function Zj(){if(oS)return Vv;oS=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Vv=t,Vv}var Kv,aS;function xd(){if(aS)return Kv;aS=1;var t=Zj();function e(r,n){var o=r.__data__;return t(n)?o[typeof n=="string"?"string":"hash"]:o.map}return Kv=e,Kv}var Yv,sS;function eD(){if(sS)return Yv;sS=1;var t=xd();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Yv=e,Yv}var Jv,uS;function tD(){if(uS)return Jv;uS=1;var t=xd();function e(r){return t(this,r).get(r)}return Jv=e,Jv}var Qv,lS;function rD(){if(lS)return Qv;lS=1;var t=xd();function e(r){return t(this,r).has(r)}return Qv=e,Qv}var Xv,cS;function nD(){if(cS)return Xv;cS=1;var t=xd();function e(r,n){var o=t(this,r),i=o.size;return o.set(r,n),this.size+=o.size==i?0:1,this}return Xv=e,Xv}var Zv,fS;function RR(){if(fS)return Zv;fS=1;var t=Xj(),e=eD(),r=tD(),n=rD(),o=nD();function i(l){var f=-1,h=l==null?0:l.length;for(this.clear();++f<h;){var u=l[f];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=o,Zv=i,Zv}var ey,dS;function iD(){if(dS)return ey;dS=1;var t=RR(),e="Expected a function";function r(n,o){if(typeof n!="function"||o!=null&&typeof o!="function")throw new TypeError(e);var i=function(){var l=arguments,f=o?o.apply(this,l):l[0],h=i.cache;if(h.has(f))return h.get(f);var u=n.apply(this,l);return i.cache=h.set(f,u)||h,u};return i.cache=new(r.Cache||t),i}return r.Cache=t,ey=r,ey}var ty,hS;function oD(){if(hS)return ty;hS=1;var t=iD(),e=500;function r(n){var o=t(n,function(l){return i.size===e&&i.clear(),l}),i=o.cache;return o}return ty=r,ty}var ry,pS;function aD(){if(pS)return ry;pS=1;var t=oD(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(o){var i=[];return o.charCodeAt(0)===46&&i.push(""),o.replace(e,function(l,f,h,u){i.push(h?u.replace(r,"$1"):f||l)}),i});return ry=n,ry}var ny,vS;function sD(){if(vS)return ny;vS=1;function t(e,r){for(var n=-1,o=e==null?0:e.length,i=Array(o);++n<o;)i[n]=r(e[n],n,e);return i}return ny=t,ny}var iy,yS;function uD(){if(yS)return iy;yS=1;var t=Sd(),e=sD(),r=Ss(),n=Bg(),o=t?t.prototype:void 0,i=o?o.toString:void 0;function l(f){if(typeof f=="string")return f;if(r(f))return e(f,l)+"";if(n(f))return i?i.call(f):"";var h=f+"";return h=="0"&&1/f==-1/0?"-0":h}return iy=l,iy}var oy,mS;function lD(){if(mS)return oy;mS=1;var t=uD();function e(r){return r==null?"":t(r)}return oy=e,oy}var ay,gS;function $g(){if(gS)return ay;gS=1;var t=Ss(),e=Bj(),r=aD(),n=lD();function o(i,l){return t(i)?i:e(i,l)?[i]:r(n(i))}return ay=o,ay}var sy,_S;function AR(){if(_S)return sy;_S=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,o){var i=typeof n;return o=o??t,!!o&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<o}return sy=r,sy}var uy,wS;function Wg(){if(wS)return uy;wS=1;var t=Bg();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return uy=e,uy}var ly,bS;function cD(){if(bS)return ly;bS=1;var t=Mg(),e=$g(),r=AR(),n=Es(),o=Wg();function i(l,f,h,u){if(!n(l))return l;f=e(f,l);for(var d=-1,v=f.length,y=v-1,_=l;_!=null&&++d<v;){var w=o(f[d]),S=h;if(w==="__proto__"||w==="constructor"||w==="prototype")return l;if(d!=y){var T=_[w];S=u?u(T,w,_):void 0,S===void 0&&(S=n(T)?T:r(f[d+1])?[]:{})}t(_,w,S),_=_[w]}return l}return ly=i,ly}var cy,ES;function fD(){if(ES)return cy;ES=1;var t=cD();function e(r,n,o){return r==null?r:t(r,n,o)}return cy=e,cy}var dD=fD();const hD=fd(dD);var fy,SS;function pD(){if(SS)return fy;SS=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return fy=t,fy}var dy,IS;function vD(){if(IS)return dy;IS=1;var t=$g(),e=Wg();function r(n,o){o=t(o,n);for(var i=0,l=o.length;n!=null&&i<l;)n=n[e(o[i++])];return i&&i==l?n:void 0}return dy=r,dy}var hy,TS;function yD(){if(TS)return hy;TS=1;function t(e,r,n){var o=-1,i=e.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var l=Array(i);++o<i;)l[o]=e[o+r];return l}return hy=t,hy}var py,OS;function mD(){if(OS)return py;OS=1;var t=vD(),e=yD();function r(n,o){return o.length<2?n:t(n,e(o,0,-1))}return py=r,py}var vy,xS;function gD(){if(xS)return vy;xS=1;var t=$g(),e=pD(),r=mD(),n=Wg();function o(i,l){return l=t(l,i),i=r(i,l),i==null||delete i[n(e(l))]}return vy=o,vy}var yy,RS;function _D(){if(RS)return yy;RS=1;var t=gD();function e(r,n){return r==null?!0:t(r,n)}return yy=e,yy}var wD=_D();const bD=fd(wD);var my,AS;function ED(){if(AS)return my;AS=1;var t=Od();function e(){this.__data__=new t,this.size=0}return my=e,my}var gy,CS;function SD(){if(CS)return gy;CS=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return gy=t,gy}var _y,PS;function ID(){if(PS)return _y;PS=1;function t(e){return this.__data__.get(e)}return _y=t,_y}var wy,NS;function TD(){if(NS)return wy;NS=1;function t(e){return this.__data__.has(e)}return wy=t,wy}var by,kS;function OD(){if(kS)return by;kS=1;var t=Od(),e=qg(),r=RR(),n=200;function o(i,l){var f=this.__data__;if(f instanceof t){var h=f.__data__;if(!e||h.length<n-1)return h.push([i,l]),this.size=++f.size,this;f=this.__data__=new r(h)}return f.set(i,l),this.size=f.size,this}return by=o,by}var Ey,LS;function xD(){if(LS)return Ey;LS=1;var t=Od(),e=ED(),r=SD(),n=ID(),o=TD(),i=OD();function l(f){var h=this.__data__=new t(f);this.size=h.size}return l.prototype.clear=e,l.prototype.delete=r,l.prototype.get=n,l.prototype.has=o,l.prototype.set=i,Ey=l,Ey}var Sy,jS;function RD(){if(jS)return Sy;jS=1;function t(e,r){for(var n=-1,o=e==null?0:e.length;++n<o&&r(e[n],n,e)!==!1;);return e}return Sy=t,Sy}var Iy,DS;function Rd(){if(DS)return Iy;DS=1;var t=Mg(),e=OR();function r(n,o,i,l){var f=!i;i||(i={});for(var h=-1,u=o.length;++h<u;){var d=o[h],v=l?l(i[d],n[d],d,i,n):void 0;v===void 0&&(v=n[d]),f?e(i,d,v):t(i,d,v)}return i}return Iy=r,Iy}var Ty,US;function AD(){if(US)return Ty;US=1;function t(e,r){for(var n=-1,o=Array(e);++n<e;)o[n]=r(n);return o}return Ty=t,Ty}var Oy,FS;function CD(){if(FS)return Oy;FS=1;var t=vl(),e=Is(),r="[object Arguments]";function n(o){return e(o)&&t(o)==r}return Oy=n,Oy}var xy,MS;function PD(){if(MS)return xy;MS=1;var t=CD(),e=Is(),r=Object.prototype,n=r.hasOwnProperty,o=r.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(l){return e(l)&&n.call(l,"callee")&&!o.call(l,"callee")};return xy=i,xy}var Du={exports:{}},Ry,BS;function ND(){if(BS)return Ry;BS=1;function t(){return!1}return Ry=t,Ry}Du.exports;var qS;function CR(){return qS||(qS=1,(function(t,e){var r=ti(),n=ND(),o=e&&!e.nodeType&&e,i=o&&!0&&t&&!t.nodeType&&t,l=i&&i.exports===o,f=l?r.Buffer:void 0,h=f?f.isBuffer:void 0,u=h||n;t.exports=u})(Du,Du.exports)),Du.exports}var Ay,$S;function PR(){if($S)return Ay;$S=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return Ay=e,Ay}var Cy,WS;function kD(){if(WS)return Cy;WS=1;var t=vl(),e=PR(),r=Is(),n="[object Arguments]",o="[object Array]",i="[object Boolean]",l="[object Date]",f="[object Error]",h="[object Function]",u="[object Map]",d="[object Number]",v="[object Object]",y="[object RegExp]",_="[object Set]",w="[object String]",S="[object WeakMap]",T="[object ArrayBuffer]",O="[object DataView]",x="[object Float32Array]",A="[object Float64Array]",C="[object Int8Array]",U="[object Int16Array]",q="[object Int32Array]",K="[object Uint8Array]",V="[object Uint8ClampedArray]",k="[object Uint16Array]",$="[object Uint32Array]",F={};F[x]=F[A]=F[C]=F[U]=F[q]=F[K]=F[V]=F[k]=F[$]=!0,F[n]=F[o]=F[T]=F[i]=F[O]=F[l]=F[f]=F[h]=F[u]=F[d]=F[v]=F[y]=F[_]=F[w]=F[S]=!1;function z(Q){return r(Q)&&e(Q.length)&&!!F[t(Q)]}return Cy=z,Cy}var Py,HS;function Hg(){if(HS)return Py;HS=1;function t(e){return function(r){return e(r)}}return Py=t,Py}var Uu={exports:{}};Uu.exports;var GS;function Gg(){return GS||(GS=1,(function(t,e){var r=SR(),n=e&&!e.nodeType&&e,o=n&&!0&&t&&!t.nodeType&&t,i=o&&o.exports===n,l=i&&r.process,f=(function(){try{var h=o&&o.require&&o.require("util").types;return h||l&&l.binding&&l.binding("util")}catch{}})();t.exports=f})(Uu,Uu.exports)),Uu.exports}var Ny,zS;function LD(){if(zS)return Ny;zS=1;var t=kD(),e=Hg(),r=Gg(),n=r&&r.isTypedArray,o=n?e(n):t;return Ny=o,Ny}var ky,VS;function NR(){if(VS)return ky;VS=1;var t=AD(),e=PD(),r=Ss(),n=CR(),o=AR(),i=LD(),l=Object.prototype,f=l.hasOwnProperty;function h(u,d){var v=r(u),y=!v&&e(u),_=!v&&!y&&n(u),w=!v&&!y&&!_&&i(u),S=v||y||_||w,T=S?t(u.length,String):[],O=T.length;for(var x in u)(d||f.call(u,x))&&!(S&&(x=="length"||_&&(x=="offset"||x=="parent")||w&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||o(x,O)))&&T.push(x);return T}return ky=h,ky}var Ly,KS;function zg(){if(KS)return Ly;KS=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,o=typeof n=="function"&&n.prototype||t;return r===o}return Ly=e,Ly}var jy,YS;function kR(){if(YS)return jy;YS=1;function t(e,r){return function(n){return e(r(n))}}return jy=t,jy}var Dy,JS;function jD(){if(JS)return Dy;JS=1;var t=kR(),e=t(Object.keys,Object);return Dy=e,Dy}var Uy,QS;function DD(){if(QS)return Uy;QS=1;var t=zg(),e=jD(),r=Object.prototype,n=r.hasOwnProperty;function o(i){if(!t(i))return e(i);var l=[];for(var f in Object(i))n.call(i,f)&&f!="constructor"&&l.push(f);return l}return Uy=o,Uy}var Fy,XS;function LR(){if(XS)return Fy;XS=1;var t=IR(),e=PR();function r(n){return n!=null&&e(n.length)&&!t(n)}return Fy=r,Fy}var My,ZS;function Vg(){if(ZS)return My;ZS=1;var t=NR(),e=DD(),r=LR();function n(o){return r(o)?t(o):e(o)}return My=n,My}var By,eI;function UD(){if(eI)return By;eI=1;var t=Rd(),e=Vg();function r(n,o){return n&&t(o,e(o),n)}return By=r,By}var qy,tI;function FD(){if(tI)return qy;tI=1;function t(e){var r=[];if(e!=null)for(var n in Object(e))r.push(n);return r}return qy=t,qy}var $y,rI;function MD(){if(rI)return $y;rI=1;var t=Es(),e=zg(),r=FD(),n=Object.prototype,o=n.hasOwnProperty;function i(l){if(!t(l))return r(l);var f=e(l),h=[];for(var u in l)u=="constructor"&&(f||!o.call(l,u))||h.push(u);return h}return $y=i,$y}var Wy,nI;function Kg(){if(nI)return Wy;nI=1;var t=NR(),e=MD(),r=LR();function n(o){return r(o)?t(o,!0):e(o)}return Wy=n,Wy}var Hy,iI;function BD(){if(iI)return Hy;iI=1;var t=Rd(),e=Kg();function r(n,o){return n&&t(o,e(o),n)}return Hy=r,Hy}var Fu={exports:{}};Fu.exports;var oI;function qD(){return oI||(oI=1,(function(t,e){var r=ti(),n=e&&!e.nodeType&&e,o=n&&!0&&t&&!t.nodeType&&t,i=o&&o.exports===n,l=i?r.Buffer:void 0,f=l?l.allocUnsafe:void 0;function h(u,d){if(d)return u.slice();var v=u.length,y=f?f(v):new u.constructor(v);return u.copy(y),y}t.exports=h})(Fu,Fu.exports)),Fu.exports}var Gy,aI;function $D(){if(aI)return Gy;aI=1;function t(e,r){var n=-1,o=e.length;for(r||(r=Array(o));++n<o;)r[n]=e[n];return r}return Gy=t,Gy}var zy,sI;function WD(){if(sI)return zy;sI=1;function t(e,r){for(var n=-1,o=e==null?0:e.length,i=0,l=[];++n<o;){var f=e[n];r(f,n,e)&&(l[i++]=f)}return l}return zy=t,zy}var Vy,uI;function jR(){if(uI)return Vy;uI=1;function t(){return[]}return Vy=t,Vy}var Ky,lI;function Yg(){if(lI)return Ky;lI=1;var t=WD(),e=jR(),r=Object.prototype,n=r.propertyIsEnumerable,o=Object.getOwnPropertySymbols,i=o?function(l){return l==null?[]:(l=Object(l),t(o(l),function(f){return n.call(l,f)}))}:e;return Ky=i,Ky}var Yy,cI;function HD(){if(cI)return Yy;cI=1;var t=Rd(),e=Yg();function r(n,o){return t(n,e(n),o)}return Yy=r,Yy}var Jy,fI;function DR(){if(fI)return Jy;fI=1;function t(e,r){for(var n=-1,o=r.length,i=e.length;++n<o;)e[i+n]=r[n];return e}return Jy=t,Jy}var Qy,dI;function UR(){if(dI)return Qy;dI=1;var t=kR(),e=t(Object.getPrototypeOf,Object);return Qy=e,Qy}var Xy,hI;function FR(){if(hI)return Xy;hI=1;var t=DR(),e=UR(),r=Yg(),n=jR(),o=Object.getOwnPropertySymbols,i=o?function(l){for(var f=[];l;)t(f,r(l)),l=e(l);return f}:n;return Xy=i,Xy}var Zy,pI;function GD(){if(pI)return Zy;pI=1;var t=Rd(),e=FR();function r(n,o){return t(n,e(n),o)}return Zy=r,Zy}var em,vI;function MR(){if(vI)return em;vI=1;var t=DR(),e=Ss();function r(n,o,i){var l=o(n);return e(n)?l:t(l,i(n))}return em=r,em}var tm,yI;function zD(){if(yI)return tm;yI=1;var t=MR(),e=Yg(),r=Vg();function n(o){return t(o,r,e)}return tm=n,tm}var rm,mI;function VD(){if(mI)return rm;mI=1;var t=MR(),e=FR(),r=Kg();function n(o){return t(o,r,e)}return rm=n,rm}var nm,gI;function KD(){if(gI)return nm;gI=1;var t=oa(),e=ti(),r=t(e,"DataView");return nm=r,nm}var im,_I;function YD(){if(_I)return im;_I=1;var t=oa(),e=ti(),r=t(e,"Promise");return im=r,im}var om,wI;function JD(){if(wI)return om;wI=1;var t=oa(),e=ti(),r=t(e,"Set");return om=r,om}var am,bI;function QD(){if(bI)return am;bI=1;var t=oa(),e=ti(),r=t(e,"WeakMap");return am=r,am}var sm,EI;function Jg(){if(EI)return sm;EI=1;var t=KD(),e=qg(),r=YD(),n=JD(),o=QD(),i=vl(),l=TR(),f="[object Map]",h="[object Object]",u="[object Promise]",d="[object Set]",v="[object WeakMap]",y="[object DataView]",_=l(t),w=l(e),S=l(r),T=l(n),O=l(o),x=i;return(t&&x(new t(new ArrayBuffer(1)))!=y||e&&x(new e)!=f||r&&x(r.resolve())!=u||n&&x(new n)!=d||o&&x(new o)!=v)&&(x=function(A){var C=i(A),U=C==h?A.constructor:void 0,q=U?l(U):"";if(q)switch(q){case _:return y;case w:return f;case S:return u;case T:return d;case O:return v}return C}),sm=x,sm}var um,SI;function XD(){if(SI)return um;SI=1;var t=Object.prototype,e=t.hasOwnProperty;function r(n){var o=n.length,i=new n.constructor(o);return o&&typeof n[0]=="string"&&e.call(n,"index")&&(i.index=n.index,i.input=n.input),i}return um=r,um}var lm,II;function ZD(){if(II)return lm;II=1;var t=ti(),e=t.Uint8Array;return lm=e,lm}var cm,TI;function Qg(){if(TI)return cm;TI=1;var t=ZD();function e(r){var n=new r.constructor(r.byteLength);return new t(n).set(new t(r)),n}return cm=e,cm}var fm,OI;function e4(){if(OI)return fm;OI=1;var t=Qg();function e(r,n){var o=n?t(r.buffer):r.buffer;return new r.constructor(o,r.byteOffset,r.byteLength)}return fm=e,fm}var dm,xI;function t4(){if(xI)return dm;xI=1;var t=/\w*$/;function e(r){var n=new r.constructor(r.source,t.exec(r));return n.lastIndex=r.lastIndex,n}return dm=e,dm}var hm,RI;function r4(){if(RI)return hm;RI=1;var t=Sd(),e=t?t.prototype:void 0,r=e?e.valueOf:void 0;function n(o){return r?Object(r.call(o)):{}}return hm=n,hm}var pm,AI;function n4(){if(AI)return pm;AI=1;var t=Qg();function e(r,n){var o=n?t(r.buffer):r.buffer;return new r.constructor(o,r.byteOffset,r.length)}return pm=e,pm}var vm,CI;function i4(){if(CI)return vm;CI=1;var t=Qg(),e=e4(),r=t4(),n=r4(),o=n4(),i="[object Boolean]",l="[object Date]",f="[object Map]",h="[object Number]",u="[object RegExp]",d="[object Set]",v="[object String]",y="[object Symbol]",_="[object ArrayBuffer]",w="[object DataView]",S="[object Float32Array]",T="[object Float64Array]",O="[object Int8Array]",x="[object Int16Array]",A="[object Int32Array]",C="[object Uint8Array]",U="[object Uint8ClampedArray]",q="[object Uint16Array]",K="[object Uint32Array]";function V(k,$,F){var z=k.constructor;switch($){case _:return t(k);case i:case l:return new z(+k);case w:return e(k,F);case S:case T:case O:case x:case A:case C:case U:case q:case K:return o(k,F);case f:return new z;case h:case v:return new z(k);case u:return r(k);case d:return new z;case y:return n(k)}}return vm=V,vm}var ym,PI;function o4(){if(PI)return ym;PI=1;var t=Es(),e=Object.create,r=(function(){function n(){}return function(o){if(!t(o))return{};if(e)return e(o);n.prototype=o;var i=new n;return n.prototype=void 0,i}})();return ym=r,ym}var mm,NI;function a4(){if(NI)return mm;NI=1;var t=o4(),e=UR(),r=zg();function n(o){return typeof o.constructor=="function"&&!r(o)?t(e(o)):{}}return mm=n,mm}var gm,kI;function s4(){if(kI)return gm;kI=1;var t=Jg(),e=Is(),r="[object Map]";function n(o){return e(o)&&t(o)==r}return gm=n,gm}var _m,LI;function u4(){if(LI)return _m;LI=1;var t=s4(),e=Hg(),r=Gg(),n=r&&r.isMap,o=n?e(n):t;return _m=o,_m}var wm,jI;function l4(){if(jI)return wm;jI=1;var t=Jg(),e=Is(),r="[object Set]";function n(o){return e(o)&&t(o)==r}return wm=n,wm}var bm,DI;function c4(){if(DI)return bm;DI=1;var t=l4(),e=Hg(),r=Gg(),n=r&&r.isSet,o=n?e(n):t;return bm=o,bm}var Em,UI;function f4(){if(UI)return Em;UI=1;var t=xD(),e=RD(),r=Mg(),n=UD(),o=BD(),i=qD(),l=$D(),f=HD(),h=GD(),u=zD(),d=VD(),v=Jg(),y=XD(),_=i4(),w=a4(),S=Ss(),T=CR(),O=u4(),x=Es(),A=c4(),C=Vg(),U=Kg(),q=1,K=2,V=4,k="[object Arguments]",$="[object Array]",F="[object Boolean]",z="[object Date]",Q="[object Error]",ee="[object Function]",he="[object GeneratorFunction]",be="[object Map]",fe="[object Number]",Y="[object Object]",re="[object RegExp]",J="[object Set]",j="[object String]",X="[object Symbol]",xe="[object WeakMap]",Ae="[object ArrayBuffer]",te="[object DataView]",Z="[object Float32Array]",Ie="[object Float64Array]",de="[object Int8Array]",Ce="[object Int16Array]",Fe="[object Int32Array]",Ye="[object Uint8Array]",ft="[object Uint8ClampedArray]",Nt="[object Uint16Array]",Sr="[object Uint32Array]",R={};R[k]=R[$]=R[Ae]=R[te]=R[F]=R[z]=R[Z]=R[Ie]=R[de]=R[Ce]=R[Fe]=R[be]=R[fe]=R[Y]=R[re]=R[J]=R[j]=R[X]=R[Ye]=R[ft]=R[Nt]=R[Sr]=!0,R[Q]=R[ee]=R[xe]=!1;function b(E,P,M,ne,ae,je){var De,Ge=P&q,it=P&K,Je=P&V;if(M&&(De=ae?M(E,ne,ae,je):M(E)),De!==void 0)return De;if(!x(E))return E;var ln=S(E);if(ln){if(De=y(E),!Ge)return l(E,De)}else{var tr=v(E),Ti=tr==ee||tr==he;if(T(E))return i(E,Ge);if(tr==Y||tr==k||Ti&&!ae){if(De=it||Ti?{}:w(E),!Ge)return it?h(E,o(De,E)):f(E,n(De,E))}else{if(!R[tr])return ae?E:{};De=_(E,tr,Ge)}}je||(je=new t);var Oi=je.get(E);if(Oi)return Oi;je.set(E,De),A(E)?E.forEach(function(cn){De.add(b(cn,P,M,cn,E,je))}):O(E)&&E.forEach(function(cn,Ln){De.set(Ln,b(cn,P,M,Ln,E,je))});var ho=Je?it?d:u:it?U:C,Il=ln?void 0:ho(E);return e(Il||E,function(cn,Ln){Il&&(Ln=cn,cn=E[Ln]),r(De,Ln,b(cn,P,M,Ln,E,je))}),De}return Em=b,Em}var Sm,FI;function d4(){if(FI)return Sm;FI=1;var t=f4(),e=1,r=4;function n(o){return t(o,e|r)}return Sm=n,Sm}var h4=d4();const p4=fd(h4);function es(t){return t===void 0&&(t=""),"".concat(t?"".concat(t,"_"):"").concat(+new Date,"_").concat(Math.random())}var v4=(function(){function t(e){this.close=e.close,this.onChange=e.onChange,this.onError=e.onError,e.debug&&Object.defineProperty(this,"virtualClient",{get:function(){return e.virtualClient}})}return t})(),MI=(function(){function t(e){var r=e.id,n=e.docChanges,o=e.docs,i=e.msgType,l=e.type,f,h;Object.defineProperties(this,{id:{get:function(){return r},enumerable:!0},docChanges:{get:function(){return f||(f=JSON.parse(JSON.stringify(n))),f},enumerable:!0},docs:{get:function(){return h||(h=JSON.parse(JSON.stringify(o))),h},enumerable:!0},msgType:{get:function(){return i},enumerable:!0},type:{get:function(){return l},enumerable:!0}})}return t})(),Ad=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),y4=(function(t){Ad(e,t);function e(r){var n=t.call(this,"Watch Error ".concat(JSON.stringify(r.msgData)," (requestid: ").concat(r.requestId,")"))||this;return n.isRealtimeErrorMessageError=!0,n.payload=r,n}return e})(Error),BI=function(t){return t==null?void 0:t.isRealtimeErrorMessageError},m4=(function(t){Ad(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="timeout",r.payload=null,r.generic=!0,r}return e})(Error),g4=function(t){return t.type==="timeout"},_4=(function(t){Ad(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="cancelled",r.payload=null,r.generic=!0,r}return e})(Error),w4=function(t){return t.type==="cancelled"},Yr=(function(t){Ad(e,t);function e(r){var n=t.call(this,r.errMsg)||this;return n.errCode="UNKNOWN_ERROR",Object.defineProperties(n,{message:{get:function(){return"errCode: ".concat(this.errCode," ").concat(mr[this.errCode]||""," | errMsg: ").concat(this.errMsg)},set:function(o){this.errMsg=o}}}),n.errCode=r.errCode||"UNKNOWN_ERROR",n.errMsg=r.errMsg,n}return Object.defineProperty(e.prototype,"message",{get:function(){return"errCode: ".concat(this.errCode," | errMsg: ").concat(this.errMsg)},set:function(r){this.errMsg=r},enumerable:!1,configurable:!0}),e})(Error),mr={UNKNOWN_ERROR:"UNKNOWN_ERROR",SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG:"SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG",SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA:"SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA",SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR:"SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR",SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED:"SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED",SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL:"SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL",SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR:"SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR"},q0=function(t){return t===void 0&&(t=0),new Promise(function(e){return setTimeout(e,t)})},Ar=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function h(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,h)}u((n=n.apply(t,e||[])).next())})},lr=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return h([u,d])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},qI=function(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))},Qe;(function(t){t.LOGGINGIN="LOGGINGIN",t.INITING="INITING",t.REBUILDING="REBUILDING",t.ACTIVE="ACTIVE",t.ERRORED="ERRORED",t.CLOSING="CLOSING",t.CLOSED="CLOSED",t.PAUSED="PAUSED",t.RESUMING="RESUMING"})(Qe||(Qe={}));var b4=100,Hc=2,E4=2,S4=10*1e3,I4=10*1e3,T4=10*1e3,O4=(function(){function t(e){var r=this;this.watchStatus=Qe.INITING,this.wsLogin=function(n,o){return Ar(r,void 0,void 0,function(){var i;return lr(this,function(l){switch(l.label){case 0:return this.watchStatus=Qe.LOGGINGIN,[4,this.login(n,o)];case 1:return i=l.sent(),this.envId||(this.envId=i.envId),[2,i]}})})},this.initWatch=function(n){return Ar(r,void 0,void 0,function(){var o,i=this;return lr(this,function(l){switch(l.label){case 0:if(this.initWatchPromise!==null&&this.initWatchPromise!==void 0)return[2,this.initWatchPromise];this.initWatchPromise=new Promise(function(f,h){(function(){return Ar(i,void 0,void 0,function(){var u,d,v,y,_,w,S,T,O,x,A;return lr(this,function(C){switch(C.label){case 0:return C.trys.push([0,3,,4]),this.watchStatus===Qe.PAUSED?(console.log("[realtime] initWatch cancelled on pause"),[2,f()]):[4,this.wsLogin(this.envId,n)];case 1:return u=C.sent().envId,this.watchStatus===Qe.PAUSED?(console.log("[realtime] initWatch cancelled on pause"),[2,f()]):(this.watchStatus=Qe.INITING,d={watchId:this.watchId,requestId:es(),msgType:"INIT_WATCH",msgData:{envId:u,collName:this.collectionName,query:this.query,limit:this.limit,orderBy:this.orderBy}},[4,this.send({msg:d,waitResponse:!0,skipOnMessage:!0,timeout:I4})]);case 2:if(v=C.sent(),y=v.msgData,_=y.events,w=y.currEvent,this.sessionInfo={queryID:v.msgData.queryID,currentEventId:w-1,currentDocs:[]},_.length>0){for(S=0,T=_;S<T.length;S++)O=T[S],O.ID=w;this.handleServerEvents(v)}else this.sessionInfo.currentEventId=w,x=new MI({id:w,docChanges:[],docs:[],type:"init"}),this.listener.onChange(x),this.scheduleSendACK();return this.onWatchStart(this,this.sessionInfo.queryID),this.watchStatus=Qe.ACTIVE,this.availableRetries.INIT_WATCH=Hc,f(),[3,4];case 3:return A=C.sent(),this.handleWatchEstablishmentError(A,{operationName:"INIT_WATCH",resolve:f,reject:h}),[3,4];case 4:return[2]}})})})()}),o=!1,l.label=1;case 1:return l.trys.push([1,,3,4]),[4,this.initWatchPromise];case 2:return l.sent(),o=!0,[3,4];case 3:return this.initWatchPromise=void 0,[7];case 4:return console.log("[realtime] initWatch ".concat(o?"success":"fail")),[2]}})})},this.rebuildWatch=function(n){return Ar(r,void 0,void 0,function(){var o,i=this;return lr(this,function(l){switch(l.label){case 0:if(this.rebuildWatchPromise!==null&&this.rebuildWatchPromise!==void 0)return[2,this.rebuildWatchPromise];this.rebuildWatchPromise=new Promise(function(f,h){(function(){return Ar(i,void 0,void 0,function(){var u,d,v,y;return lr(this,function(_){switch(_.label){case 0:return _.trys.push([0,3,,4]),this.watchStatus===Qe.PAUSED?(console.log("[realtime] rebuildWatch cancelled on pause"),[2,f()]):[4,this.wsLogin(this.envId,n)];case 1:if(u=_.sent().envId,!this.sessionInfo)throw new Error("can not rebuildWatch without a successful initWatch (lack of sessionInfo)");return this.watchStatus===Qe.PAUSED?(console.log("[realtime] rebuildWatch cancelled on pause"),[2,f()]):(this.watchStatus=Qe.REBUILDING,d={watchId:this.watchId,requestId:es(),msgType:"REBUILD_WATCH",msgData:{envId:u,collName:this.collectionName,queryID:this.sessionInfo.queryID,eventID:this.sessionInfo.currentEventId}},[4,this.send({msg:d,waitResponse:!0,skipOnMessage:!1,timeout:T4})]);case 2:return v=_.sent(),this.handleServerEvents(v),this.watchStatus=Qe.ACTIVE,this.availableRetries.REBUILD_WATCH=Hc,f(),[3,4];case 3:return y=_.sent(),this.handleWatchEstablishmentError(y,{operationName:"REBUILD_WATCH",resolve:f,reject:h}),[3,4];case 4:return[2]}})})})()}),o=!1,l.label=1;case 1:return l.trys.push([1,,3,4]),[4,this.rebuildWatchPromise];case 2:return l.sent(),o=!0,[3,4];case 3:return this.rebuildWatchPromise=void 0,[7];case 4:return console.log("[realtime] rebuildWatch ".concat(o?"success":"fail")),[2]}})})},this.handleWatchEstablishmentError=function(n,o){return Ar(r,void 0,void 0,function(){var i,l,f,h=this;return lr(this,function(u){return i=o.operationName==="INIT_WATCH",l=function(){h.closeWithError(new Yr({errCode:i?mr.SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL:mr.SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL,errMsg:n})),o.reject(n)},f=function(d){h.useRetryTicket(o.operationName)?i?(h.initWatchPromise=void 0,o.resolve(h.initWatch(d))):(h.rebuildWatchPromise=void 0,o.resolve(h.rebuildWatch(d))):l()},this.handleCommonError(n,{onSignError:function(){return f(!0)},onTimeoutError:function(){return f(!1)},onNotRetryableError:l,onCancelledError:o.reject,onUnknownError:function(){(function(){return Ar(h,void 0,void 0,function(){var d,v=this;return lr(this,function(y){switch(y.label){case 0:return y.trys.push([0,8,,9]),d=function(){return Ar(v,void 0,void 0,function(){return lr(this,function(_){switch(_.label){case 0:return this.pause(),[4,this.onceWSConnected()];case 1:return _.sent(),f(!0),[2]}})})},this.isWSConnected()?[3,2]:[4,d()];case 1:return y.sent(),[3,7];case 2:return[4,q0(b4)];case 3:return y.sent(),this.watchStatus!==Qe.PAUSED?[3,4]:(o.reject(new _4("".concat(o.operationName," cancelled due to pause after unknownError"))),[3,7]);case 4:return this.isWSConnected()?[3,6]:[4,d()];case 5:return y.sent(),[3,7];case 6:f(!1),y.label=7;case 7:return[3,9];case 8:return y.sent(),f(!0),[3,9];case 9:return[2]}})})})()}}),[2]})})},this.closeWatch=function(){return Ar(r,void 0,void 0,function(){var n,o,i;return lr(this,function(l){switch(l.label){case 0:if(n=this.sessionInfo?this.sessionInfo.queryID:"",this.watchStatus!==Qe.ACTIVE)return this.watchStatus=Qe.CLOSED,this.onWatchClose(this,n),[2];l.label=1;case 1:return l.trys.push([1,3,4,5]),this.watchStatus=Qe.CLOSING,o={watchId:this.watchId,requestId:es(),msgType:"CLOSE_WATCH",msgData:null},[4,this.send({msg:o})];case 2:return l.sent(),this.sessionInfo=void 0,this.watchStatus=Qe.CLOSED,[3,5];case 3:return i=l.sent(),this.closeWithError(new Yr({errCode:mr.SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL,errMsg:i})),[3,5];case 4:return this.onWatchClose(this,n),[7];case 5:return[2]}})})},this.scheduleSendACK=function(){r.clearACKSchedule(),r.ackTimeoutId=setTimeout(function(){r.waitExpectedTimeoutId?r.scheduleSendACK():r.sendACK()},S4)},this.clearACKSchedule=function(){r.ackTimeoutId&&clearTimeout(r.ackTimeoutId)},this.sendACK=function(){return Ar(r,void 0,void 0,function(){var n,o,i;return lr(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),this.watchStatus!==Qe.ACTIVE?(this.scheduleSendACK(),[2]):this.sessionInfo?(n={watchId:this.watchId,requestId:es(),msgType:"CHECK_LAST",msgData:{queryID:this.sessionInfo.queryID,eventID:this.sessionInfo.currentEventId}},[4,this.send({msg:n})]):(console.warn("[realtime listener] can not send ack without a successful initWatch (lack of sessionInfo)"),[2]);case 1:return l.sent(),this.scheduleSendACK(),[3,3];case 2:if(o=l.sent(),BI(o))switch(i=o.payload,i.msgData.code){case"CHECK_LOGIN_FAILED":case"SIGN_EXPIRED_ERROR":case"SIGN_INVALID_ERROR":case"SIGN_PARAM_INVALID":return this.rebuildWatch(),[2];case"QUERYID_INVALID_ERROR":case"SYS_ERR":case"INVALIID_ENV":case"COLLECTION_PERMISSION_DENIED":return this.closeWithError(new Yr({errCode:mr.SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL,errMsg:i.msgData.code})),[2]}return this.availableRetries.CHECK_LAST&&this.availableRetries.CHECK_LAST>0?(this.availableRetries.CHECK_LAST-=1,this.scheduleSendACK()):this.closeWithError(new Yr({errCode:mr.SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL,errMsg:o})),[3,3];case 3:return[2]}})})},this.handleCommonError=function(n,o){if(BI(n)){var i=n.payload;switch(i.msgData.code){case"CHECK_LOGIN_FAILED":case"SIGN_EXPIRED_ERROR":case"SIGN_INVALID_ERROR":case"SIGN_PARAM_INVALID":{o.onSignError(n);return}case"QUERYID_INVALID_ERROR":case"SYS_ERR":case"INVALIID_ENV":case"COLLECTION_PERMISSION_DENIED":{o.onNotRetryableError(n);return}default:{o.onNotRetryableError(n);return}}}else if(g4(n)){o.onTimeoutError(n);return}else if(w4(n)){o.onCancelledError(n);return}o.onUnknownError(n)},this.watchId="watchid_".concat(+new Date,"_").concat(Math.random()),this.envId=e.envId,this.collectionName=e.collectionName,this.query=e.query,this.limit=e.limit,this.orderBy=e.orderBy,this.send=e.send,this.login=e.login,this.isWSConnected=e.isWSConnected,this.onceWSConnected=e.onceWSConnected,this.getWaitExpectedTimeoutLength=e.getWaitExpectedTimeoutLength,this.onWatchStart=e.onWatchStart,this.onWatchClose=e.onWatchClose,this.debug=e.debug,this.availableRetries={INIT_WATCH:Hc,REBUILD_WATCH:Hc,CHECK_LAST:E4},this.listener=new v4({close:function(){r.closeWatch()},onChange:e.onChange,onError:e.onError,debug:this.debug,virtualClient:this}),this.initWatch()}return t.prototype.onMessage=function(e){var r=this;switch(this.watchStatus){case Qe.PAUSED:{if(e.msgType!=="ERROR")return;break}case Qe.LOGGINGIN:case Qe.INITING:case Qe.REBUILDING:{console.warn("[realtime listener] internal non-fatal error: unexpected message received while ".concat(this.watchStatus));return}case Qe.CLOSED:{console.warn("[realtime listener] internal non-fatal error: unexpected message received when the watch has closed");return}case Qe.ERRORED:{console.warn("[realtime listener] internal non-fatal error: unexpected message received when the watch has ended with error");return}}if(!this.sessionInfo){console.warn("[realtime listener] internal non-fatal error: sessionInfo not found while message is received.");return}switch(this.scheduleSendACK(),e.msgType){case"NEXT_EVENT":{console.warn("nextevent ".concat(e.msgData.currEvent," ignored"),e),this.handleServerEvents(e);break}case"CHECK_EVENT":{this.sessionInfo.currentEventId<e.msgData.currEvent&&(this.sessionInfo.expectEventId=e.msgData.currEvent,this.clearWaitExpectedEvent(),this.waitExpectedTimeoutId=setTimeout(function(){r.rebuildWatch()},this.getWaitExpectedTimeoutLength()),console.log("[realtime] waitExpectedTimeoutLength ".concat(this.getWaitExpectedTimeoutLength())));break}case"ERROR":{this.closeWithError(new Yr({errCode:mr.SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG,errMsg:"".concat(e.msgData.code," - ").concat(e.msgData.message)}));break}default:{console.warn("[realtime listener] virtual client receive unexpected msg ".concat(e.msgType,": "),e);break}}},t.prototype.closeWithError=function(e){var r;this.watchStatus=Qe.ERRORED,this.clearACKSchedule(),this.listener.onError(e),this.onWatchClose(this,((r=this.sessionInfo)===null||r===void 0?void 0:r.queryID)||""),console.log("[realtime] client closed (".concat(this.collectionName," ").concat(this.query,") (watchId ").concat(this.watchId,")"))},t.prototype.pause=function(){this.watchStatus=Qe.PAUSED,console.log("[realtime] client paused (".concat(this.collectionName," ").concat(this.query,") (watchId ").concat(this.watchId,")"))},t.prototype.resume=function(){return Ar(this,void 0,void 0,function(){var e;return lr(this,function(r){switch(r.label){case 0:this.watchStatus=Qe.RESUMING,console.log("[realtime] client resuming with ".concat(this.sessionInfo?"REBUILD_WATCH":"INIT_WATCH"," (").concat(this.collectionName," ").concat(this.query,") (").concat(this.watchId,")")),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.sessionInfo?this.rebuildWatch():this.initWatch()];case 2:return r.sent(),console.log("[realtime] client successfully resumed (".concat(this.collectionName," ").concat(this.query,") (").concat(this.watchId,")")),[3,4];case 3:return e=r.sent(),console.error("[realtime] client resume failed (".concat(this.collectionName," ").concat(this.query,") (").concat(this.watchId,")"),e),[3,4];case 4:return[2]}})})},t.prototype.useRetryTicket=function(e){return this.availableRetries[e]&&this.availableRetries[e]>0?(this.availableRetries[e]-=1,console.log("[realtime] ".concat(e," use a retry ticket, now only ").concat(this.availableRetries[e]," retry left")),!0):!1},t.prototype.handleServerEvents=function(e){return Ar(this,void 0,void 0,function(){var r;return lr(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),this.scheduleSendACK(),[4,this.handleServerEventsInternel(e)];case 1:return n.sent(),this.postHandleServerEventsValidityCheck(e),[3,3];case 2:throw r=n.sent(),console.error("[realtime listener] internal non-fatal error: handle server events failed with error: ",r),r;case 3:return[2]}})})},t.prototype.handleServerEventsInternel=function(e){return Ar(this,void 0,void 0,function(){var r,n,o,i,l,f,h,u,d,v,y,_;return lr(this,function(w){switch(w.label){case 0:if(r=e.requestId,n=e.msgData.events,o=e.msgType,!n.length||!this.sessionInfo)return[2];i=this.sessionInfo;try{l=n.map(x4)}catch(S){return this.closeWithError(new Yr({errCode:mr.SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA,errMsg:S})),[2]}f=qI([],i.currentDocs,!0),h=!1,u=function(S,T){var O,x,A,C,U,q,V,V,K,K,V,k,k,$,F,z;return lr(this,function(Q){switch(Q.label){case 0:return O=l[S],i.currentEventId>=O.id?(!l[S-1]||O.id>l[S-1].id?console.warn("[realtime] duplicate event received, cur ".concat(i.currentEventId," but got ").concat(O.id)):console.error("[realtime listener] server non-fatal error: events out of order (the latter event's id is smaller than that of the former) (requestId ".concat(r,")")),[2,"continue"]):[3,1];case 1:if(i.currentEventId!==O.id-1)return[3,2];switch(O.dataType){case"update":{if(!O.doc)switch(O.queueType){case"update":case"dequeue":{if(x=f.find(function(ee){return ee._id===O.docId}),x){if(A=p4(x),O.updatedFields&&Object.keys(O.updatedFields).forEach(function(ee){hD(A,ee,O.updatedFields[ee])}),O.removedFields)for(C=0,U=O.removedFields;C<U.length;C++)q=U[C],bD(A,q);O.doc=A}else console.error("[realtime listener] internal non-fatal server error: unexpected update dataType event where no doc is associated.");break}case"enqueue":throw V=new Yr({errCode:mr.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:'HandleServerEvents: full doc is not provided with dataType="update" and queueType="enqueue" (requestId '.concat(e.requestId,")")}),d.closeWithError(V),V}break}case"replace":{if(!O.doc)throw V=new Yr({errCode:mr.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:'HandleServerEvents: full doc is not provided with dataType="replace" (requestId '.concat(e.requestId,")")}),d.closeWithError(V),V;break}case"remove":{K=f.find(function(ee){return ee._id===O.docId}),K?O.doc=K:console.error("[realtime listener] internal non-fatal server error: unexpected remove event where no doc is associated.");break}case"limit":{if(!O.doc)switch(O.queueType){case"dequeue":{K=f.find(function(ee){return ee._id===O.docId}),K?O.doc=K:console.error("[realtime listener] internal non-fatal server error: unexpected limit dataType event where no doc is associated.");break}case"enqueue":throw V=new Yr({errCode:mr.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:'HandleServerEvents: full doc is not provided with dataType="limit" and queueType="enqueue" (requestId '.concat(e.requestId,")")}),d.closeWithError(V),V}break}}switch(O.queueType){case"init":{h?f.push(O.doc):(h=!0,f=[O.doc]);break}case"enqueue":{f.push(O.doc);break}case"dequeue":{k=f.findIndex(function(ee){return ee._id===O.docId}),k>-1?f.splice(k,1):console.error("[realtime listener] internal non-fatal server error: unexpected dequeue event where no doc is associated.");break}case"update":{k=f.findIndex(function(ee){return ee._id===O.docId}),k>-1?f[k]=O.doc:console.error("[realtime listener] internal non-fatal server error: unexpected queueType update event where no doc is associated.");break}}return(S===T-1||l[S+1]&&l[S+1].id!==O.id)&&($=qI([],f,!0),F=l.slice(0,S+1).filter(function(ee){return ee.id===O.id}),d.sessionInfo.currentEventId=O.id,d.sessionInfo.currentDocs=f,z=new MI({id:O.id,docChanges:F,docs:$,msgType:o}),d.listener.onChange(z)),[3,4];case 2:return console.warn("[realtime listener] event received is out of order, cur ".concat(d.sessionInfo.currentEventId," but got ").concat(O.id)),[4,d.rebuildWatch()];case 3:return Q.sent(),[2,{value:void 0}];case 4:return[2]}})},d=this,v=0,y=l.length,w.label=1;case 1:return v<y?[5,u(v,y)]:[3,4];case 2:if(_=w.sent(),typeof _=="object")return[2,_.value];w.label=3;case 3:return v++,[3,1];case 4:return[2]}})})},t.prototype.postHandleServerEventsValidityCheck=function(e){if(!this.sessionInfo){console.error("[realtime listener] internal non-fatal error: sessionInfo lost after server event handling, this should never occur");return}if(this.sessionInfo.expectEventId&&this.sessionInfo.currentEventId>=this.sessionInfo.expectEventId&&this.clearWaitExpectedEvent(),this.sessionInfo.currentEventId<e.msgData.currEvent){console.warn("[realtime listener] internal non-fatal error: client eventId does not match with server event id after server event handling");return}},t.prototype.clearWaitExpectedEvent=function(){this.waitExpectedTimeoutId&&(clearTimeout(this.waitExpectedTimeoutId),this.waitExpectedTimeoutId=void 0)},t})();function x4(t){var e={id:t.ID,dataType:t.DataType,queueType:t.QueueType,docId:t.DocID,doc:t.Doc&&t.Doc!=="{}"?JSON.parse(t.Doc):void 0};return t.DataType==="update"&&(t.UpdatedFields&&(e.updatedFields=JSON.parse(t.UpdatedFields)),(t.removedFields||t.RemovedFields)&&(e.removedFields=JSON.parse(t.removedFields))),e}var BR={1e3:{code:1e3,name:"Normal Closure",description:"Normal closure; the connection successfully completed whatever purpose for which it was created."},1001:{code:1001,name:"Going Away",description:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection."},1002:{code:1002,name:"Protocol Error",description:"The endpoint is terminating the connection due to a protocol error."},1003:{code:1003,name:"Unsupported Data",description:"The connection is being terminated because the endpoint received data of a type it cannot accept (for example, a text-only endpoint received binary data)."},1005:{code:1005,name:"No Status Received",description:"Indicates that no status code was provided even though one was expected."},1006:{code:1006,name:"Abnormal Closure",description:"Used to indicate that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected."},1007:{code:1007,name:"Invalid frame payload data",description:"The endpoint is terminating the connection because a message was received that contained inconsistent data (e.g., non-UTF-8 data within a text message)."},1008:{code:1008,name:"Policy Violation",description:"The endpoint is terminating the connection because it received a message that violates its policy. This is a generic status code, used when codes 1003 and 1009 are not suitable."},1009:{code:1009,name:"Message too big",description:"The endpoint is terminating the connection because a data frame was received that is too large."},1010:{code:1010,name:"Missing Extension",description:"The client is terminating the connection because it expected the server to negotiate one or more extension, but the server didn't."},1011:{code:1011,name:"Internal Error",description:"The server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request."},1012:{code:1012,name:"Service Restart",description:"The server is terminating the connection because it is restarting."},1013:{code:1013,name:"Try Again Later",description:"The server is terminating the connection due to a temporary condition, e.g. it is overloaded and is casting off some of its clients."},1014:{code:1014,name:"Bad Gateway",description:"The server was acting as a gateway or proxy and received an invalid response from the upstream server. This is similar to 502 HTTP Status Code."},1015:{code:1015,name:"TLS Handshake",description:"Indicates that the connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified)."},3e3:{code:3e3,name:"Reconnect WebSocket",description:"The client is terminating the connection because it wants to reconnect"},3001:{code:3001,name:"No Realtime Listeners",description:"The client is terminating the connection because no more realtime listeners exist"},3002:{code:3002,name:"Heartbeat Ping Error",description:"The client is terminating the connection due to its failure in sending heartbeat messages"},3003:{code:3003,name:"Heartbeat Pong Timeout Error",description:"The client is terminating the connection because no heartbeat response is received from the server"},3050:{code:3050,name:"Server Close",description:"The client is terminating the connection because no heartbeat response is received from the server"}},Vr;(function(t){t[t.NormalClosure=1e3]="NormalClosure",t[t.GoingAway=1001]="GoingAway",t[t.ProtocolError=1002]="ProtocolError",t[t.UnsupportedData=1003]="UnsupportedData",t[t.NoStatusReceived=1005]="NoStatusReceived",t[t.AbnormalClosure=1006]="AbnormalClosure",t[t.InvalidFramePayloadData=1007]="InvalidFramePayloadData",t[t.PolicyViolation=1008]="PolicyViolation",t[t.MessageTooBig=1009]="MessageTooBig",t[t.MissingExtension=1010]="MissingExtension",t[t.InternalError=1011]="InternalError",t[t.ServiceRestart=1012]="ServiceRestart",t[t.TryAgainLater=1013]="TryAgainLater",t[t.BadGateway=1014]="BadGateway",t[t.TLSHandshake=1015]="TLSHandshake",t[t.ReconnectWebSocket=3e3]="ReconnectWebSocket",t[t.NoRealtimeListeners=3001]="NoRealtimeListeners",t[t.HeartbeatPingError=3002]="HeartbeatPingError",t[t.HeartbeatPongTimeoutError=3003]="HeartbeatPongTimeoutError",t[t.NoAuthentication=3050]="NoAuthentication"})(Vr||(Vr={}));var Im=function(t,e){var r=BR[t],n=r?"".concat(r.name,", code ").concat(t,", reason ").concat(e||r.description):"code ".concat(t);return new Yr({errCode:mr.SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED,errMsg:n})},qR=null,$R="web";function R4(){return qR}function A4(t){qR=t}function $I(){return $R}function C4(t){$R=t}var Hf=function(){return Hf=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Hf.apply(this,arguments)},wn=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function h(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,h)}u((n=n.apply(t,e||[])).next())})},bn=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return h([u,d])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Tm={OPEN:1},WI=3,P4=5e3,N4=1e4,k4=5,L4=1e4,j4=2,D4=2,U4=5e3,F4=(function(){function t(e){var r=this;this.virtualWSClient=new Set,this.queryIdClientMap=new Map,this.watchIdClientMap=new Map,this.pingFailed=0,this.pongMissed=0,this.logins=new Map,this.wsReadySubsribers=[],this.wsResponseWait=new Map,this.rttObserved=[],this.send=function(n){return wn(r,void 0,void 0,function(){var o=this;return bn(this,function(i){return[2,new Promise(function(l,f){(function(){return wn(o,void 0,void 0,function(){var h,u,d,v,y,_,w,S,T=this;return bn(this,function(O){switch(O.label){case 0:u=!1,d=!1,v=function(x){u=!0,h&&clearTimeout(h),l(x)},y=function(x){d=!0,h&&clearTimeout(h),f(x)},n.timeout&&(h=setTimeout(function(){(function(){return wn(T,void 0,void 0,function(){return bn(this,function(x){switch(x.label){case 0:return!u||!d?[4,q0(0)]:[3,2];case 1:x.sent(),(!u||!d)&&y(new m4("wsclient.send timedout")),x.label=2;case 2:return[2]}})})})()},n.timeout)),O.label=1;case 1:return O.trys.push([1,8,,9]),this.wsInitPromise!==void 0||this.wsInitPromise!==null?[4,this.wsInitPromise]:[3,3];case 2:O.sent(),O.label=3;case 3:if(!this.ws)return y(new Error("invalid state: ws connection not exists, can not send message")),[2];if(this.ws.readyState!==Tm.OPEN)return y(new Error("ws readyState invalid: ".concat(this.ws.readyState,", can not send message"))),[2];n.waitResponse&&(_={resolve:v,reject:y,skipOnMessage:n.skipOnMessage},this.wsResponseWait.set(n.msg.requestId,_)),O.label=4;case 4:return O.trys.push([4,6,,7]),[4,this.ws.send(JSON.stringify(n.msg))];case 5:return O.sent(),n.waitResponse||v(void 0),[3,7];case 6:return w=O.sent(),w&&(y(w),n.waitResponse&&this.wsResponseWait.delete(n.msg.requestId)),[3,7];case 7:return[3,9];case 8:return S=O.sent(),y(S),[3,9];case 9:return[2]}})})})()})]})})},this.closeAllClients=function(n){r.virtualWSClient.forEach(function(o){o.closeWithError(n)})},this.pauseClients=function(n){(n||r.virtualWSClient).forEach(function(o){o.pause()})},this.resumeClients=function(n){(n||r.virtualWSClient).forEach(function(o){o.resume()})},this.initWebSocketConnection=function(n,o){return o===void 0&&(o=r.maxReconnect),wn(r,void 0,void 0,function(){var i=this;return bn(this,function(l){switch(l.label){case 0:if(n&&this.reconnectState)return[2];if(n&&(this.reconnectState=!0),this.wsInitPromise!==void 0&&this.wsInitPromise!==null)return[2,this.wsInitPromise];n&&this.pauseClients(),this.close(Vr.ReconnectWebSocket),this.wsInitPromise=new Promise(function(f,h){(function(){return wn(i,void 0,void 0,function(){var u,d,v,y=this;return bn(this,function(_){switch(_.label){case 0:return _.trys.push([0,6,,11]),[4,this.getWsSign()];case 1:return u=_.sent(),[4,new Promise(function(w){var S=u.wsUrl||"wss://tcb-ws.tencentcloudapi.com",T=R4();y.ws=T?new T(S):new WebSocket(S),w(void 0)})];case 2:return _.sent(),this.ws.connect?[4,this.ws.connect()]:[3,4];case 3:_.sent(),_.label=4;case 4:return[4,this.initWebSocketEvent()];case 5:return _.sent(),f(),n&&(this.resumeClients(),this.reconnectState=!1),[3,11];case 6:return d=_.sent(),console.error("[realtime] initWebSocketConnection connect fail",d),o>0?(v=!0,this.wsInitPromise=void 0,v?[4,q0(this.reconnectInterval)]:[3,8]):[3,9];case 7:_.sent(),n&&(this.reconnectState=!1),_.label=8;case 8:return f(this.initWebSocketConnection(n,o-1)),[3,10];case 9:h(d),n&&this.closeAllClients(new Yr({errCode:mr.SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WATCH_FAIL,errMsg:d})),_.label=10;case 10:return[3,11];case 11:return[2]}})})})()}),l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,this.wsInitPromise];case 2:return l.sent(),this.wsReadySubsribers.forEach(function(f){var h=f.resolve;return h()}),[3,5];case 3:return l.sent(),this.wsReadySubsribers.forEach(function(f){var h=f.reject;return h()}),[3,5];case 4:return this.wsInitPromise=void 0,this.wsReadySubsribers=[],[7];case 5:return[2]}})})},this.initWebSocketEvent=function(){return new Promise(function(n,o){if(!r.ws)throw new Error("can not initWebSocketEvent, ws not exists");var i=!1;r.ws.onopen=function(l){console.warn("[realtime] ws event: open",l),i=!0,n()},r.ws.onerror=function(l){r.logins=new Map,i?(console.error("[realtime] ws event: error",l),r.clearHeartbeat(),r.virtualWSClient.forEach(function(f){return f.closeWithError(new Yr({errCode:mr.SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR,errMsg:l}))})):(console.error("[realtime] ws open failed with ws event: error",l),o(l))},r.ws.onclose=function(l){switch(console.warn("[realtime] ws event: close",l),r.logins=new Map,r.clearHeartbeat(),l.code){case Vr.ReconnectWebSocket:break;case Vr.NoRealtimeListeners:break;case Vr.HeartbeatPingError:case Vr.HeartbeatPongTimeoutError:case Vr.NormalClosure:case Vr.AbnormalClosure:{r.maxReconnect>0?r.initWebSocketConnection(!0,r.maxReconnect):r.closeAllClients(Im(l.code));break}case Vr.NoAuthentication:{r.closeAllClients(Im(l.code,l.reason));break}default:r.maxReconnect>0?r.initWebSocketConnection(!0,r.maxReconnect):r.closeAllClients(Im(l.code))}},r.ws.onmessage=function(l){var f,h=((f=l.data)===null||f===void 0?void 0:f.data)||l.data;r.heartbeat();var u;try{u=typeof h=="string"?JSON.parse(h):h}catch(x){throw new Error("[realtime] onMessage parse res.data error: ".concat(x))}if(u.msgType==="ERROR"){var d=null;r.virtualWSClient.forEach(function(x){x.watchId===u.watchId&&(d=x)}),d&&d.listener.onError(u)}var v=r.wsResponseWait.get(u.requestId);if(v){try{u.msgType==="ERROR"?v.reject(new y4(u)):v.resolve(u)}catch(x){console.error("ws onMessage responseWaitSpec.resolve(msg) errored:",x)}finally{r.wsResponseWait.delete(u.requestId)}if(v.skipOnMessage)return}if(u.msgType==="PONG"){if(r.lastPingSendTS){var y=Date.now()-r.lastPingSendTS;if(y>N4){console.warn("[realtime] untrusted rtt observed: ".concat(y));return}r.rttObserved.length>=WI&&r.rttObserved.splice(0,r.rttObserved.length-WI+1),r.rttObserved.push(y)}return}var _=u.watchId&&r.watchIdClientMap.get(u.watchId);if(_)_.onMessage(u);else switch(console.error("[realtime] no realtime listener found responsible for watchId ".concat(u.watchId,": "),u),u.msgType){case"INIT_EVENT":case"NEXT_EVENT":case"CHECK_EVENT":{_=r.queryIdClientMap.get(u.msgData.queryID),_&&_.onMessage(u);break}default:for(var w=0,S=Array.from(r.watchIdClientMap.entries());w<S.length;w++){var T=S[w],O=T[1];O.onMessage(u);break}}},r.heartbeat()})},this.isWSConnected=function(){return!!(r.ws&&r.ws.readyState===Tm.OPEN)},this.onceWSConnected=function(){return wn(r,void 0,void 0,function(){var n=this;return bn(this,function(o){return this.isWSConnected()?[2]:this.wsInitPromise!==null&&this.wsInitPromise!==void 0?[2,this.wsInitPromise]:[2,new Promise(function(i,l){n.wsReadySubsribers.push({resolve:i,reject:l})})]})})},this.webLogin=function(n,o){return wn(r,void 0,void 0,function(){var i,l,f,h,u,d,v,y,_=this;return bn(this,function(w){switch(w.label){case 0:if(!o){if(n){if(i=this.logins.get(n),i){if(i.loggedIn&&i.loginResult)return[2,i.loginResult];if(i.loggingInPromise!==null&&i.loggingInPromise!==void 0)return[2,i.loggingInPromise]}}else if(l=this.logins.get(""),(l==null?void 0:l.loggingInPromise)!==null&&(l==null?void 0:l.loggingInPromise)!==void 0)return[2,l.loggingInPromise]}f=new Promise(function(S,T){(function(){return wn(_,void 0,void 0,function(){var O,x,A,C,U;return bn(this,function(q){switch(q.label){case 0:return q.trys.push([0,3,,4]),[4,this.getWsSign()];case 1:return O=q.sent(),x={envId:O.envId||"",accessToken:"",referrer:"web",sdkVersion:"",dataVersion:""},A={watchId:void 0,requestId:es(),msgType:"LOGIN",msgData:x,exMsgData:{runtime:$I(),signStr:O.signStr,secretVersion:O.secretVersion}},[4,this.send({msg:A,waitResponse:!0,skipOnMessage:!0,timeout:U4})];case 2:return C=q.sent(),C.msgData.code?T(new Error("".concat(C.msgData.code," ").concat(C.msgData.message))):S({envId:O.envId}),[3,4];case 3:return U=q.sent(),T(U),[3,4];case 4:return[2]}})})})()}),h=n&&this.logins.get(n),u=Date.now(),h?(h.loggedIn=!1,h.loggingInPromise=f,h.loginStartTS=u):(h={loggedIn:!1,loggingInPromise:f,loginStartTS:u},this.logins.set(n||"",h)),w.label=1;case 1:return w.trys.push([1,3,,4]),[4,f];case 2:if(d=w.sent(),v=n&&this.logins.get(n),v&&v===h&&v.loginStartTS===u)return h.loggedIn=!0,h.loggingInPromise=void 0,h.loginStartTS=void 0,h.loginResult=d,[2,d];if(v){if(v.loggedIn&&v.loginResult)return[2,v.loginResult];if(v.loggingInPromise!==null&&v.loggingInPromise!==void 0)return[2,v.loggingInPromise];throw new Error("ws unexpected login info")}else throw new Error("ws login info reset");case 3:throw y=w.sent(),h.loggedIn=!1,h.loggingInPromise=void 0,h.loginStartTS=void 0,h.loginResult=void 0,y;case 4:return[2]}})})},this.getWsSign=function(){return wn(r,void 0,void 0,function(){var n,o,i,l,f,h,u;return bn(this,function(d){switch(d.label){case 0:return this.wsSign&&this.wsSign.expiredTs>Date.now()?[2,this.wsSign]:(n=Date.now()+6e4,[4,this.context.appConfig.request.send("auth.wsWebSign",{runtime:$I()})]);case 1:if(o=d.sent(),o.code)throw new Error("[tcb-js-sdk] : ".concat(o.code));if(o.data)return i=o.data,l=i.signStr,f=i.wsUrl,h=i.secretVersion,u=i.envId,[2,{signStr:l,wsUrl:f,secretVersion:h,envId:u,expiredTs:n}];throw new Error("[tcb-js-sdk] ")}})})},this.getWaitExpectedTimeoutLength=function(){return r.rttObserved.length?r.rttObserved.reduce(function(n,o){return n+o})/r.rttObserved.length*1.5:P4},this.ping=function(){return wn(r,void 0,void 0,function(){var n;return bn(this,function(o){switch(o.label){case 0:return n={watchId:void 0,requestId:es(),msgType:"PING",msgData:null},[4,this.send({msg:n})];case 1:return o.sent(),[2]}})})},this.onWatchStart=function(n,o){r.queryIdClientMap.set(o,n)},this.onWatchClose=function(n,o){o&&r.queryIdClientMap.delete(o),r.watchIdClientMap.delete(n.watchId),r.virtualWSClient.delete(n),r.virtualWSClient.size||r.close(Vr.NoRealtimeListeners)},this.maxReconnect=e.maxReconnect||k4,this.reconnectInterval=e.reconnectInterval||L4,this.context=e.context}return t.prototype.clearHeartbeat=function(){this.pingTimeoutId&&clearTimeout(this.pingTimeoutId),this.pongTimeoutId&&clearTimeout(this.pongTimeoutId)},t.prototype.close=function(e){this.clearHeartbeat(),this.ws&&(this.ws.close(e,BR[e].name),this.ws=void 0)},t.prototype.watch=function(e){!this.ws&&(this.wsInitPromise===void 0||this.wsInitPromise===null)&&this.initWebSocketConnection(!1);var r=new O4(Hf(Hf({},e),{send:this.send,login:this.webLogin,isWSConnected:this.isWSConnected,onceWSConnected:this.onceWSConnected,getWaitExpectedTimeoutLength:this.getWaitExpectedTimeoutLength,onWatchStart:this.onWatchStart,onWatchClose:this.onWatchClose,debug:!0}));return this.virtualWSClient.add(r),this.watchIdClientMap.set(r.watchId,r),r.listener},t.prototype.heartbeat=function(e){var r=this;this.clearHeartbeat(),this.pingTimeoutId=setTimeout(function(){(function(){return wn(r,void 0,void 0,function(){var n=this;return bn(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),!this.ws||this.ws.readyState!==Tm.OPEN?[2]:(this.lastPingSendTS=Date.now(),[4,this.ping()]);case 1:return o.sent(),this.pingFailed=0,this.pongTimeoutId=setTimeout(function(){console.error("pong timed out"),n.pongMissed<D4?(n.pongMissed+=1,n.heartbeat(!0)):n.initWebSocketConnection(!0)},this.context.appConfig.realtimePongWaitTimeout),[3,3];case 2:return o.sent(),this.pingFailed<j4?(this.pingFailed+=1,this.heartbeat()):this.close(Vr.HeartbeatPingError),[3,3];case 3:return[2]}})})})()},e?0:this.context.appConfig.realtimePingInterval)},t})(),WR={target:"database",entity:function(){var t=this.platform,e=t.adapter,r=t.runtime;A4(e.wsClass),C4(r)}},HR={name:"realtime",IIFE:!0,entity:function(){this.prototype.wsClientClass=F4}};try{cloudbase.registerComponent(HR),cloudbase.registerHook(WR)}catch{}function M4(t){try{t.registerComponent(HR),t.registerHook(WR)}catch(e){console.warn(e)}}var B4=function(t,e,r,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var f=t.length-1;f>=0;f--)(l=t[f])&&(i=(o<3?l(i):o>3?l(e,r,i):l(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i},Om=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},q4=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function h(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,h)}u((n=n.apply(t,e||[])).next())})},$4=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return h([u,d])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},W4=_r,H4=hd,G4=yd,GR="analytics",z4=["mall"];function V4(t){if(Object.prototype.toString.call(t).slice(8,-1)!=="Object")return!1;var e=t.report_data,r=t.report_type;return!(z4.includes(r)===!1||Object.prototype.toString.call(e).slice(8,-1)!=="Object"||e.action_time!==void 0&&!Number.isInteger(e.action_time)||typeof e.action_type!="string")}var K4=(function(){function t(){}return t.prototype.analytics=function(e){return q4(this,void 0,void 0,function(){var r,n,o,i,l;return $4(this,function(f){if(!V4(e))throw new Error(JSON.stringify({code:W4.INVALID_PARAMS,msg:"[".concat(GR,".analytics] invalid report data")}));return r="analytics.report",n=e.report_data.action_time===void 0?Math.floor(Date.now()/1e3):e.report_data.action_time,o={analytics_scene:e.report_type,analytics_data:Object.assign({},e.report_data,{action_time:n})},i={requestData:o},l=this.request,l.send(r,i),[2]})})},B4([G4({customInfo:{},title:"",messages:["","  1 -  analytics() ","".concat(H4)]}),Om("design:type",Function),Om("design:paramtypes",[Object]),Om("design:returntype",Promise)],t.prototype,"analytics",null),t})(),Y4=new K4,zR={name:GR,entity:{analytics:Y4.analytics}};try{cloudbase.registerComponent(zR)}catch{}function J4(t){try{t.registerComponent(zR)}catch(e){console.warn(e)}}var $0=function(t,e){return $0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},$0(t,e)};function yl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");$0(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var mt=function(){return mt=Object.assign||function(e){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},mt.apply(this,arguments)};function so(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function h(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,h)}u((n=n.apply(t,[])).next())})}function uo(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return h([u,d])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Go=(function(t){yl(e,t);function e(r,n){var o=t.call(this,r)||this;return o.name="WxCloudSDKError",o.code=n==null?void 0:n.code,o.requestId=n==null?void 0:n.requestId,o.originError=n==null?void 0:n.originError,o}return e})(Error);function W0(){return typeof window<"u"&&window||typeof globalThis<"u"&&globalThis}function Q4(){try{var t=W0();return t?typeof wx>"u"?W0().location.href:t.__wxRoute:void 0}catch{}}function X4(){var t=W0();if(t!=null&&t.navigator)return t.navigator.userAgent;if(typeof wx<"u"&&wx.getSystemInfo){var e;return wx.getSystemInfo({success:function(r){r&&(e=["brand","model","version","system","platform","SDKVersion","language"].map(function(n){return"".concat(n,": ").concat(r[n])}).join(", "))}}),e}}var Z4="1.7.2",e5=function(t){var e=t.dataSourceName,r=t.methodName,n=t.params,o=t.realMethodName,i=t.callFunction,l=t.envType,f=l===void 0?"prod":l,h=t.mode;return so(void 0,void 0,void 0,function(){var u,d,v,y,_,w;return uo(this,function(S){switch(S.label){case 0:u={data:{},requestId:""},S.label=1;case 1:return S.trys.push([1,3,,4]),[4,i({name:"lowcode-datasource",data:{dataSourceName:e,methodName:r,params:n,userAgent:X4(),referrer:Q4(),"x-sdk-version":Z4,envType:f,mode:h}})];case 2:if(d=S.sent(),v=((_=d==null?void 0:d.result)===null||_===void 0?void 0:_.requestId)||(d==null?void 0:d.requestId)||(d==null?void 0:d.requestID),d!=null&&d.result.code)throw new Go("".concat(d==null?void 0:d.result.message,`
 models.`).concat(e?"".concat(e,"."):"").concat(o,`
`).concat(d==null?void 0:d.result.code,`
ID`).concat(v||"N/A"),{code:d==null?void 0:d.result.code,requestId:v});return u.data=((w=d==null?void 0:d.result)===null||w===void 0?void 0:w.data)||{},u.requestId=v,[3,4];case 3:throw y=S.sent(),y.name==="WxCloudSDKError"?y:(console.log(y),new Go("".concat(y.message,`
       models.`).concat(e?"".concat(e,"."):"").concat(o,`
      IDN/A`),{code:"UnknownError",originError:y}));case 4:return[2,u]}})})},HI=function(t){var e=t.sql,r=t.params,n=t.config,o=t.callFunction,i=t.unsafe,l=i===void 0?!1:i;return so(void 0,void 0,void 0,function(){return uo(this,function(f){return[2,e5({realMethodName:"$runSQL",methodName:"callWedaApi",params:{action:"RunMysqlCommand",data:{sqlTemplate:e,config:n,parameter:l?"":Object.entries(r||{}).reduce(function(h,u){var d=u[0],v=u[1];if(v!==void 0){var y="OBJECT",_=typeof v;switch(_){case"boolean":{y="BOOLEAN";break}case"number":{y="NUMBER";break}case"string":{y="STRING";break}default:Array.isArray(v)?y="ARRAY":y="OBJECT"}h.push({key:d,type:y,value:y==="STRING"?v:JSON.stringify(v)})}return h},[])||[]}},callFunction:o,mode:"sdk"})]})})},t5=function(t){return{$runSQL:function(e,r,n){return so(this,void 0,void 0,function(){var o;return uo(this,function(i){switch(i.label){case 0:return[4,HI({sql:e,params:r,config:mt(mt({},n),{preparedStatements:!0}),callFunction:t})];case 1:return o=i.sent(),[2,o]}})})},$runSQLRaw:function(e,r){return so(this,void 0,void 0,function(){var n;return uo(this,function(o){switch(o.label){case 0:return[4,HI({sql:e,params:[],config:mt(mt({},r),{preparedStatements:!1}),callFunction:t})];case 1:return n=o.sent(),[2,n]}})})}}},GI={filter:{where:{}},select:{$master:!0}};function hi(t){return{getUrl:function(e){return"".concat(e,"/").concat(t)},method:"post"}}var r5={get:mt(mt({},hi("get")),{defaultParams:mt({},GI)}),list:mt(mt({},hi("list")),{defaultParams:mt({},GI)}),create:hi("create"),createMany:hi("createMany"),update:mt(mt({},hi("update")),{method:"put"}),updateMany:mt(mt({},hi("updateMany")),{method:"put"}),upsert:hi("upsert"),delete:hi("delete"),deleteMany:hi("deleteMany")},Gc="Unknown error occurred",zI="NotSupported",n5=function(t,e,r,n){var o=t5(t);return new Proxy({},{get:function(i,l){if(typeof l=="string")return Object.prototype.hasOwnProperty.call(o,l)?o[l]:i5(r,l,e,n)}})},VI=function(t,e,r,n,o){return new Go("".concat(t,`
 models.`).concat(e,".").concat(r,`
`).concat(n,`
ID`).concat(o),{code:n,requestId:o})},i5=function(t,e,r,n){var o=new Proxy({},{get:function(i,l){if(l!=="runSQLTemplate"){var f=r5[l];if(!f){var h=new Error(": ".concat(l));throw new Go(h.message||Gc,{originError:h,code:zI,requestId:"N/A"})}return function(u){return u===void 0&&(u={}),so(void 0,void 0,void 0,function(){var d,v,y,_,w,S,T,O,x,A;return uo(this,function(C){switch(C.label){case 0:d=f.getUrl,v=f.method,y=f.defaultParams,_=y===void 0?{}:y,w=Object.assign({},_,u),S=w.envType==="pre"?"pre":"prod",T=[t,S,d(e)].join("/"),C.label=1;case 1:return C.trys.push([1,3,,4]),[4,r({url:T,body:JSON.stringify(w),method:v})];case 2:if(O=C.sent(),O.code)throw VI(O==null?void 0:O.message,e,l,O==null?void 0:O.code,O==null?void 0:O.requestId);return l==="get"&&Object.assign(O,{data:(A=O.data.record)!==null&&A!==void 0?A:O.data}),[2,O];case 3:throw x=C.sent(),new Go((x==null?void 0:x.message)||Gc,{originError:x});case 4:return[2]}})})}}else{if(!(n!=null&&n.sqlBaseUrl)){var h=new Error(": ".concat(l));throw new Go(h.message||Gc,{originError:h,code:zI,requestId:"N/A"})}return function(u){return so(void 0,void 0,void 0,function(){var d,v,y,_,w,S,T,O,x,A,C,U,q,K,V,k;return uo(this,function($){switch($.label){case 0:d=u.params,v=u.templateName,y=u.envType,_=y==="pre"?"pre":"prod",w=[n.sqlBaseUrl,_,v,"run"].join("/"),S=Object.entries(d||{}).reduce(function(F,z){var Q=z[0],ee=z[1];if(ee!==void 0){var he="OBJECT",be=typeof ee;switch(be){case"boolean":{he="BOOLEAN";break}case"number":{he="NUMBER";break}case"string":{he="STRING";break}default:Array.isArray(ee)?he="ARRAY":he="OBJECT"}F.push({key:Q,type:he,value:he==="STRING"?ee:JSON.stringify(ee)})}return F},[]),$.label=1;case 1:return $.trys.push([1,3,,4]),[4,r({url:w,body:JSON.stringify({parameter:S}),method:"POST"})];case 2:if(T=$.sent(),!((x=T==null?void 0:T.Response)===null||x===void 0)&&x.Error)throw VI((C=(A=T==null?void 0:T.Response)===null||A===void 0?void 0:A.Error)===null||C===void 0?void 0:C.Message,e,l,(q=(U=T==null?void 0:T.Response)===null||U===void 0?void 0:U.Error)===null||q===void 0?void 0:q.Code,(K=T==null?void 0:T.Response)===null||K===void 0?void 0:K.RequestId);return[2,mt(mt({},(V=T==null?void 0:T.Response)!==null&&V!==void 0?V:{}),{data:(k=T==null?void 0:T.Response)===null||k===void 0?void 0:k.Data})];case 3:throw O=$.sent(),new Go((O==null?void 0:O.message)||Gc,{originError:O});case 4:return[2]}})})}}}});return o},o5=(function(){function t(e){var r=this;this.map=new Map,e&&(e instanceof Headers?e.forEach(function(n,o){r.append(o,n)}):Array.isArray(e)?e.forEach(function(n){var o=n[0],i=n[1];r.append(o,i)}):typeof e=="object"&&Object.keys(e).forEach(function(n){r.append(n,e[n])}))}return t.prototype.append=function(e,r){var n=e.toLowerCase(),o=this.map.get(n);o?this.map.set(n,"".concat(o,", ").concat(r)):this.map.set(n,String(r))},t.prototype.delete=function(e){this.map.delete(e.toLowerCase())},t.prototype.forEach=function(e,r){var n=this;this.map.forEach(function(o,i){e.call(r,o,i,n)})},t.prototype.get=function(e){return this.map.get(e.toLowerCase())||null},t.prototype.has=function(e){return this.map.has(e.toLowerCase())},t.prototype.set=function(e,r){this.map.set(e.toLowerCase(),String(r))},t.prototype.entries=function(){return this.map.entries()},t.prototype.keys=function(){return this.map.keys()},t.prototype.values=function(){return this.map.values()},t.prototype.getSetCookie=function(){var e=[];return this.map.forEach(function(r,n){n==="set-cookie"&&e.push(r)}),e},t.prototype.toJSON=function(){var e={};return this.map.forEach(function(r,n){e[n]=r}),e},t.prototype[Symbol.iterator]=function(){return this.entries()},t})();typeof globalThis=="object"&&!globalThis.Headers&&(globalThis.Headers=o5);var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function a5(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kr=function(t){try{return!!t()}catch{return!0}},s5=kr,Cd=!s5(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),VR=Cd,KR=Function.prototype,H0=KR.call,u5=VR&&KR.bind.bind(H0,H0),Gt=VR?u5:function(t){return function(){return H0.apply(t,arguments)}},YR=Gt,l5=YR({}.toString),c5=YR("".slice),Xg=function(t){return c5(l5(t),8,-1)},f5=Gt,d5=kr,h5=Xg,xm=Object,p5=f5("".split),JR=d5(function(){return!xm("z").propertyIsEnumerable(0)})?function(t){return h5(t)==="String"?p5(t,""):xm(t)}:xm,Zg=function(t){return t==null},v5=Zg,y5=TypeError,e_=function(t){if(v5(t))throw new y5("Can't call method on "+t);return t},m5=JR,g5=e_,ml=function(t){return m5(g5(t))},gl={},_u=function(t){return t&&t.Math===Math&&t},br=_u(typeof globalThis=="object"&&globalThis)||_u(typeof window=="object"&&window)||_u(typeof self=="object"&&self)||_u(typeof zc=="object"&&zc)||_u(typeof zc=="object"&&zc)||(function(){return this})()||Function("return this")(),Rm=typeof document=="object"&&document.all,Er=typeof Rm>"u"&&Rm!==void 0?function(t){return typeof t=="function"||t===Rm}:function(t){return typeof t=="function"},_5=br,w5=Er,KI=_5.WeakMap,b5=w5(KI)&&/native code/.test(String(KI)),E5=Er,aa=function(t){return typeof t=="object"?t!==null:E5(t)},S5=kr,Lr=!S5(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),sa={},I5=br,YI=aa,G0=I5.document,T5=YI(G0)&&YI(G0.createElement),QR=function(t){return T5?G0.createElement(t):{}},O5=Lr,x5=kr,R5=QR,XR=!O5&&!x5(function(){return Object.defineProperty(R5("div"),"a",{get:function(){return 7}}).a!==7}),A5=Lr,C5=kr,ZR=A5&&C5(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),P5=aa,N5=String,k5=TypeError,ua=function(t){if(P5(t))return t;throw new k5(N5(t)+" is not an object")},L5=Cd,Vc=Function.prototype.call,Ii=L5?Vc.bind(Vc):function(){return Vc.apply(Vc,arguments)},t_={},Am=t_,Cm=br,j5=Er,JI=function(t){return j5(t)?t:void 0},Ts=function(t,e){return arguments.length<2?JI(Am[t])||JI(Cm[t]):Am[t]&&Am[t][e]||Cm[t]&&Cm[t][e]},D5=Gt,eA=D5({}.isPrototypeOf),U5=br,QI=U5.navigator,XI=QI&&QI.userAgent,F5=XI?String(XI):"",tA=br,Pm=F5,ZI=tA.process,eT=tA.Deno,tT=ZI&&ZI.versions||eT&&eT.version,rT=tT&&tT.v8,xn,Gf;rT&&(xn=rT.split("."),Gf=xn[0]>0&&xn[0]<4?1:+(xn[0]+xn[1]));!Gf&&Pm&&(xn=Pm.match(/Edge\/(\d+)/),(!xn||xn[1]>=74)&&(xn=Pm.match(/Chrome\/(\d+)/),xn&&(Gf=+xn[1])));var M5=Gf,nT=M5,B5=kr,q5=br,$5=q5.String,rA=!!Object.getOwnPropertySymbols&&!B5(function(){var t=Symbol("symbol detection");return!$5(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&nT&&nT<41}),W5=rA,nA=W5&&!Symbol.sham&&typeof Symbol.iterator=="symbol",H5=Ts,G5=Er,z5=eA,V5=nA,K5=Object,iA=V5?function(t){return typeof t=="symbol"}:function(t){var e=H5("Symbol");return G5(e)&&z5(e.prototype,K5(t))},Y5=String,oA=function(t){try{return Y5(t)}catch{return"Object"}},J5=Er,Q5=oA,X5=TypeError,r_=function(t){if(J5(t))return t;throw new X5(Q5(t)+" is not a function")},Z5=r_,eU=Zg,n_=function(t,e){var r=t[e];return eU(r)?void 0:Z5(r)},Nm=Ii,km=Er,Lm=aa,tU=TypeError,rU=function(t,e){var r,n;if(e==="string"&&km(r=t.toString)&&!Lm(n=Nm(r,t))||km(r=t.valueOf)&&!Lm(n=Nm(r,t))||e!=="string"&&km(r=t.toString)&&!Lm(n=Nm(r,t)))return n;throw new tU("Can't convert object to primitive value")},aA={exports:{}},nU=!0,iT=br,iU=Object.defineProperty,oU=function(t,e){try{iU(iT,t,{value:e,configurable:!0,writable:!0})}catch{iT[t]=e}return e},aU=br,sU=oU,oT="__core-js_shared__",aT=aA.exports=aU[oT]||sU(oT,{});(aT.versions||(aT.versions=[])).push({version:"3.45.0",mode:"pure",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.45.0/LICENSE",source:"https://github.com/zloirock/core-js"});var i_=aA.exports,sT=i_,sA=function(t,e){return sT[t]||(sT[t]=e||{})},uU=e_,lU=Object,Pd=function(t){return lU(uU(t))},cU=Gt,fU=Pd,dU=cU({}.hasOwnProperty),ri=Object.hasOwn||function(e,r){return dU(fU(e),r)},hU=Gt,pU=0,vU=Math.random(),yU=hU(1.1.toString),uA=function(t){return"Symbol("+(t===void 0?"":t)+")_"+yU(++pU+vU,36)},mU=br,gU=sA,uT=ri,_U=uA,wU=rA,bU=nA,ts=mU.Symbol,jm=gU("wks"),EU=bU?ts.for||ts:ts&&ts.withoutSetter||_U,ni=function(t){return uT(jm,t)||(jm[t]=wU&&uT(ts,t)?ts[t]:EU("Symbol."+t)),jm[t]},SU=Ii,lT=aa,cT=iA,IU=n_,TU=rU,OU=ni,xU=TypeError,RU=OU("toPrimitive"),AU=function(t,e){if(!lT(t)||cT(t))return t;var r=IU(t,RU),n;if(r){if(e===void 0&&(e="default"),n=SU(r,t,e),!lT(n)||cT(n))return n;throw new xU("Can't convert object to primitive value")}return e===void 0&&(e="number"),TU(t,e)},CU=AU,PU=iA,lA=function(t){var e=CU(t,"string");return PU(e)?e:e+""},NU=Lr,kU=XR,LU=ZR,Kc=ua,fT=lA,jU=TypeError,Dm=Object.defineProperty,DU=Object.getOwnPropertyDescriptor,Um="enumerable",Fm="configurable",Mm="writable";sa.f=NU?LU?function(e,r,n){if(Kc(e),r=fT(r),Kc(n),typeof e=="function"&&r==="prototype"&&"value"in n&&Mm in n&&!n[Mm]){var o=DU(e,r);o&&o[Mm]&&(e[r]=n.value,n={configurable:Fm in n?n[Fm]:o[Fm],enumerable:Um in n?n[Um]:o[Um],writable:!1})}return Dm(e,r,n)}:Dm:function(e,r,n){if(Kc(e),r=fT(r),Kc(n),kU)try{return Dm(e,r,n)}catch{}if("get"in n||"set"in n)throw new jU("Accessors not supported");return"value"in n&&(e[r]=n.value),e};var _l=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},UU=Lr,FU=sa,MU=_l,Nd=UU?function(t,e,r){return FU.f(t,e,MU(1,r))}:function(t,e,r){return t[e]=r,t},BU=sA,qU=uA,dT=BU("keys"),o_=function(t){return dT[t]||(dT[t]=qU(t))},a_={},$U=b5,cA=br,WU=aa,HU=Nd,Bm=ri,qm=i_,GU=o_,zU=a_,hT="Object already initialized",z0=cA.TypeError,VU=cA.WeakMap,zf,sl,Vf,KU=function(t){return Vf(t)?sl(t):zf(t,{})},YU=function(t){return function(e){var r;if(!WU(e)||(r=sl(e)).type!==t)throw new z0("Incompatible receiver, "+t+" required");return r}};if($U||qm.state){var $n=qm.state||(qm.state=new VU);$n.get=$n.get,$n.has=$n.has,$n.set=$n.set,zf=function(t,e){if($n.has(t))throw new z0(hT);return e.facade=t,$n.set(t,e),e},sl=function(t){return $n.get(t)||{}},Vf=function(t){return $n.has(t)}}else{var Ma=GU("state");zU[Ma]=!0,zf=function(t,e){if(Bm(t,Ma))throw new z0(hT);return e.facade=t,HU(t,Ma,e),e},sl=function(t){return Bm(t,Ma)?t[Ma]:{}},Vf=function(t){return Bm(t,Ma)}}var kd={set:zf,get:sl,has:Vf,enforce:KU,getterFor:YU},JU=Cd,fA=Function.prototype,pT=fA.apply,vT=fA.call,QU=typeof Reflect=="object"&&Reflect.apply||(JU?vT.bind(pT):function(){return vT.apply(pT,arguments)}),XU=Xg,ZU=Gt,dA=function(t){if(XU(t)==="Function")return ZU(t)},hA={},s_={},pA={}.propertyIsEnumerable,vA=Object.getOwnPropertyDescriptor,eF=vA&&!pA.call({1:2},1);s_.f=eF?function(e){var r=vA(this,e);return!!r&&r.enumerable}:pA;var tF=Lr,rF=Ii,nF=s_,iF=_l,oF=ml,aF=lA,sF=ri,uF=XR,yT=Object.getOwnPropertyDescriptor;hA.f=tF?yT:function(e,r){if(e=oF(e),r=aF(r),uF)try{return yT(e,r)}catch{}if(sF(e,r))return iF(!rF(nF.f,e,r),e[r])};var lF=kr,cF=Er,fF=/#|\.prototype\./,wl=function(t,e){var r=hF[dF(t)];return r===vF?!0:r===pF?!1:cF(e)?lF(e):!!e},dF=wl.normalize=function(t){return String(t).replace(fF,".").toLowerCase()},hF=wl.data={},pF=wl.NATIVE="N",vF=wl.POLYFILL="P",yF=wl,mT=dA,mF=r_,gF=Cd,_F=mT(mT.bind),Ld=function(t,e){return mF(t),e===void 0?t:gF?_F(t,e):function(){return t.apply(e,arguments)}},wu=br,wF=QU,bF=dA,EF=Er,SF=hA.f,IF=yF,Ba=t_,TF=Ld,qa=Nd,gT=ri,OF=function(t){var e=function(r,n,o){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(r);case 2:return new t(r,n)}return new t(r,n,o)}return wF(t,this,arguments)};return e.prototype=t.prototype,e},Os=function(t,e){var r=t.target,n=t.global,o=t.stat,i=t.proto,l=n?wu:o?wu[r]:wu[r]&&wu[r].prototype,f=n?Ba:Ba[r]||qa(Ba,r,{})[r],h=f.prototype,u,d,v,y,_,w,S,T,O;for(y in e)u=IF(n?y:r+(o?".":"#")+y,t.forced),d=!u&&l&&gT(l,y),w=f[y],d&&(t.dontCallGetSet?(O=SF(l,y),S=O&&O.value):S=l[y]),_=d&&S?S:e[y],!(!u&&!i&&typeof w==typeof _)&&(t.bind&&d?T=TF(_,wu):t.wrap&&d?T=OF(_):i&&EF(_)?T=bF(_):T=_,(t.sham||_&&_.sham||w&&w.sham)&&qa(T,"sham",!0),qa(f,y,T),i&&(v=r+"Prototype",gT(Ba,v)||qa(Ba,v,{}),qa(Ba[v],y,_),t.real&&h&&(u||!h[y])&&qa(h,y,_)))},V0=Lr,xF=ri,yA=Function.prototype,RF=V0&&Object.getOwnPropertyDescriptor,mA=xF(yA,"name"),AF=mA&&(function(){}).name==="something";mA&&(!V0||V0&&RF(yA,"name").configurable);var CF={PROPER:AF},gA={},PF=Math.ceil,NF=Math.floor,kF=Math.trunc||function(e){var r=+e;return(r>0?NF:PF)(r)},LF=kF,u_=function(t){var e=+t;return e!==e||e===0?0:LF(e)},jF=u_,DF=Math.max,UF=Math.min,_A=function(t,e){var r=jF(t);return r<0?DF(r+e,0):UF(r,e)},FF=u_,MF=Math.min,BF=function(t){var e=FF(t);return e>0?MF(e,9007199254740991):0},qF=BF,wA=function(t){return qF(t.length)},$F=ml,WF=_A,HF=wA,GF=function(t){return function(e,r,n){var o=$F(e),i=HF(o);if(i===0)return!t&&-1;var l=WF(n,i),f;if(t&&r!==r){for(;i>l;)if(f=o[l++],f!==f)return!0}else for(;i>l;l++)if((t||l in o)&&o[l]===r)return t||l||0;return!t&&-1}},zF={indexOf:GF(!1)},VF=Gt,$m=ri,KF=ml,YF=zF.indexOf,JF=a_,_T=VF([].push),QF=function(t,e){var r=KF(t),n=0,o=[],i;for(i in r)!$m(JF,i)&&$m(r,i)&&_T(o,i);for(;e.length>n;)$m(r,i=e[n++])&&(~YF(o,i)||_T(o,i));return o},bA=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],XF=QF,ZF=bA,EA=Object.keys||function(e){return XF(e,ZF)},e6=Lr,t6=ZR,r6=sa,n6=ua,i6=ml,o6=EA;gA.f=e6&&!t6?Object.defineProperties:function(e,r){n6(e);for(var n=i6(r),o=o6(r),i=o.length,l=0,f;i>l;)r6.f(e,f=o[l++],n[f]);return e};var a6=Ts,s6=a6("document","documentElement"),u6=ua,l6=gA,wT=bA,c6=a_,f6=s6,d6=QR,h6=o_,bT=">",ET="<",K0="prototype",Y0="script",SA=h6("IE_PROTO"),Wm=function(){},IA=function(t){return ET+Y0+bT+t+ET+"/"+Y0+bT},ST=function(t){t.write(IA("")),t.close();var e=t.parentWindow.Object;return t=null,e},p6=function(){var t=d6("iframe"),e="java"+Y0+":",r;return t.style.display="none",f6.appendChild(t),t.src=String(e),r=t.contentWindow.document,r.open(),r.write(IA("document.F=Object")),r.close(),r.F},Yc,Sf=function(){try{Yc=new ActiveXObject("htmlfile")}catch{}Sf=typeof document<"u"?document.domain&&Yc?ST(Yc):p6():ST(Yc);for(var t=wT.length;t--;)delete Sf[K0][wT[t]];return Sf()};c6[SA]=!0;var l_=Object.create||function(e,r){var n;return e!==null?(Wm[K0]=u6(e),n=new Wm,Wm[K0]=null,n[SA]=e):n=Sf(),r===void 0?n:l6.f(n,r)},v6=kr,y6=!v6(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),m6=ri,g6=Er,_6=Pd,w6=o_,b6=y6,IT=w6("IE_PROTO"),J0=Object,E6=J0.prototype,TA=b6?J0.getPrototypeOf:function(t){var e=_6(t);if(m6(e,IT))return e[IT];var r=e.constructor;return g6(r)&&e instanceof r?r.prototype:e instanceof J0?E6:null},S6=Nd,bl=function(t,e,r,n){return n&&n.enumerable?t[e]=r:S6(t,e,r),t},I6=kr,T6=Er,O6=aa,x6=l_,TT=TA,R6=bl,A6=ni,Q0=A6("iterator"),OA=!1,Ei,Hm,Gm;[].keys&&(Gm=[].keys(),"next"in Gm?(Hm=TT(TT(Gm)),Hm!==Object.prototype&&(Ei=Hm)):OA=!0);var C6=!O6(Ei)||I6(function(){var t={};return Ei[Q0].call(t)!==t});C6?Ei={}:Ei=x6(Ei);T6(Ei[Q0])||R6(Ei,Q0,function(){return this});var xA={IteratorPrototype:Ei,BUGGY_SAFARI_ITERATORS:OA},P6=ni,N6=P6("toStringTag"),RA={};RA[N6]="z";var c_=String(RA)==="[object z]",k6=c_,L6=Er,If=Xg,j6=ni,D6=j6("toStringTag"),U6=Object,F6=If((function(){return arguments})())==="Arguments",M6=function(t,e){try{return t[e]}catch{}},El=k6?If:function(t){var e,r,n;return t===void 0?"Undefined":t===null?"Null":typeof(r=M6(e=U6(t),D6))=="string"?r:F6?If(e):(n=If(e))==="Object"&&L6(e.callee)?"Arguments":n},B6=c_,q6=El,$6=B6?{}.toString:function(){return"[object "+q6(this)+"]"},W6=c_,H6=sa.f,G6=Nd,z6=ri,V6=$6,K6=ni,OT=K6("toStringTag"),jd=function(t,e,r,n){var o=r?t:t&&t.prototype;o&&(z6(o,OT)||H6(o,OT,{configurable:!0,value:e}),n&&!W6&&G6(o,"toString",V6))},Y6=xA.IteratorPrototype,J6=l_,Q6=_l,X6=jd,Z6=gl,eM=function(){return this},AA=function(t,e,r,n){var o=e+" Iterator";return t.prototype=J6(Y6,{next:Q6(+!n,r)}),X6(t,o,!1,!0),Z6[o]=eM,t},tM=Os,rM=Ii,nM=CF,iM=AA,oM=TA,aM=jd,xT=bl,sM=ni,RT=gl,uM=xA,lM=nM.PROPER,Jc=uM.BUGGY_SAFARI_ITERATORS,zm=sM("iterator"),AT="keys",Qc="values",CT="entries",cM=function(){return this},CA=function(t,e,r,n,o,i,l){iM(r,e,n);var f=function(O){if(O===o&&y)return y;if(!Jc&&O&&O in d)return d[O];switch(O){case AT:return function(){return new r(this,O)};case Qc:return function(){return new r(this,O)};case CT:return function(){return new r(this,O)}}return function(){return new r(this)}},h=e+" Iterator",u=!1,d=t.prototype,v=d[zm]||d["@@iterator"]||o&&d[o],y=!Jc&&v||f(o),_=e==="Array"&&d.entries||v,w,S,T;if(_&&(w=oM(_.call(new t)),w!==Object.prototype&&w.next&&(aM(w,h,!0,!0),RT[h]=cM)),lM&&o===Qc&&v&&v.name!==Qc&&(u=!0,y=function(){return rM(v,this)}),o)if(S={values:f(Qc),keys:i?y:f(AT),entries:f(CT)},l)for(T in S)(Jc||u||!(T in d))&&xT(d,T,S[T]);else tM({target:e,proto:!0,forced:Jc||u},S);return l&&d[zm]!==y&&xT(d,zm,y,{}),RT[e]=y,S},f_=function(t,e){return{value:t,done:e}},fM=ml,PT=gl,PA=kd;sa.f;var dM=CA,Xc=f_,NA="Array Iterator",hM=PA.set,pM=PA.getterFor(NA);dM(Array,"Array",function(t,e){hM(this,{type:NA,target:fM(t),index:0,kind:e})},function(){var t=pM(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=null,Xc(void 0,!0);switch(t.kind){case"keys":return Xc(r,!1);case"values":return Xc(e[r],!1)}return Xc([r,e[r]],!1)},"values");PT.Arguments=PT.Array;var vM=Os,yM=Gt,mM=_A,gM=RangeError,NT=String.fromCharCode,kT=String.fromCodePoint,_M=yM([].join),wM=!!kT&&kT.length!==1;vM({target:"String",stat:!0,forced:wM},{fromCodePoint:function(e){for(var r=[],n=arguments.length,o=0,i;n>o;){if(i=+arguments[o++],mM(i,1114111)!==i)throw new gM(i+" is not a valid code point");r[o]=i<65536?NT(i):NT(((i-=65536)>>10)+55296,i%1024+56320)}return _M(r,"")}});var LT=br,bM=Lr,EM=Object.getOwnPropertyDescriptor,SM=function(t){if(!bM)return LT[t];var e=EM(LT,t);return e&&e.value},IM=kr,TM=ni,OM=Lr,jT=nU,xM=TM("iterator"),Dd=!IM(function(){var t=new URL("b?a=1&b=2&c=3","https://a"),e=t.searchParams,r=new URLSearchParams("a=1&a=2&b=3"),n="";return t.pathname="c%20d",e.forEach(function(o,i){e.delete("b"),n+=i+o}),r.delete("a",2),r.delete("b",void 0),jT&&(!t.toJSON||!r.has("a",1)||r.has("a",2)||!r.has("a",void 0)||r.has("b"))||!e.size&&(jT||!OM)||!e.sort||t.href!=="https://a/c%20d?a=1&c=3"||e.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!e[xM]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("https://").host!=="xn--e1aybc"||new URL("https://a#").hash!=="#%D0%B1"||n!=="a1c3"||new URL("https://x",void 0).host!=="x"}),RM=sa,kA=function(t,e,r){return RM.f(t,e,r)},AM=bl,CM=function(t,e,r){for(var n in e)r&&r.unsafe&&t[n]?t[n]=e[n]:AM(t,n,e[n],r);return t},PM=eA,NM=TypeError,LA=function(t,e){if(PM(e,t))return t;throw new NM("Incorrect invocation")},kM=El,LM=String,xs=function(t){if(kM(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return LM(t)},jM=El,DT=n_,DM=Zg,UM=gl,FM=ni,MM=FM("iterator"),d_=function(t){if(!DM(t))return DT(t,MM)||DT(t,"@@iterator")||UM[jM(t)]},BM=Ii,qM=r_,$M=ua,WM=oA,HM=d_,GM=TypeError,jA=function(t,e){var r=arguments.length<2?HM(t):e;if(qM(r))return $M(BM(r,t));throw new GM(WM(t)+" is not iterable")},zM=TypeError,Ud=function(t,e){if(t<e)throw new zM("Not enough arguments");return t},VM=Gt,DA=VM([].slice),UT=DA,KM=Math.floor,X0=function(t,e){var r=t.length;if(r<8)for(var n=1,o,i;n<r;){for(i=n,o=t[n];i&&e(t[i-1],o)>0;)t[i]=t[--i];i!==n++&&(t[i]=o)}else for(var l=KM(r/2),f=X0(UT(t,0,l),e),h=X0(UT(t,l),e),u=f.length,d=h.length,v=0,y=0;v<u||y<d;)t[v+y]=v<u&&y<d?e(f[v],h[y])<=0?f[v++]:h[y++]:v<u?f[v++]:h[y++];return t},YM=X0,Z0=Os,UA=br,h_=SM,JM=Ts,Zc=Ii,Nn=Gt,Gu=Lr,FA=Dd,MA=bl,QM=kA,XM=CM,ZM=jd,eB=AA,p_=kd,BA=LA,Vm=Er,tB=ri,rB=Ld,nB=El,iB=ua,qA=aa,Xt=xs,oB=l_,FT=_l,MT=jA,aB=d_,ef=f_,$a=Ud,sB=ni,uB=YM,lB=sB("iterator"),Rs="URLSearchParams",$A=Rs+"Iterator",WA=p_.set,Zr=p_.getterFor(Rs),cB=p_.getterFor($A),BT=h_("fetch"),Kf=h_("Request"),zu=h_("Headers"),Km=Kf&&Kf.prototype,qT=zu&&zu.prototype,fB=UA.TypeError,dB=UA.encodeURIComponent,hB=String.fromCharCode,pB=JM("String","fromCodePoint"),vB=parseInt,Tf=Nn("".charAt),$T=Nn([].join),ro=Nn([].push),HA=Nn("".replace),yB=Nn([].shift),WT=Nn([].splice),HT=Nn("".split),GA=Nn("".slice),mB=Nn(/./.exec),gB=/\+/g,Ym="",_B=/^[0-9a-f]+$/i,GT=function(t,e){var r=GA(t,e,e+2);return mB(_B,r)?vB(r,16):NaN},wB=function(t){for(var e=0,r=128;r>0&&(t&r)!==0;r>>=1)e++;return e},bB=function(t){var e=null;switch(t.length){case 1:e=t[0];break;case 2:e=(t[0]&31)<<6|t[1]&63;break;case 3:e=(t[0]&15)<<12|(t[1]&63)<<6|t[2]&63;break;case 4:e=(t[0]&7)<<18|(t[1]&63)<<12|(t[2]&63)<<6|t[3]&63;break}return e>1114111?null:e},zT=function(t){t=HA(t,gB," ");for(var e=t.length,r="",n=0;n<e;){var o=Tf(t,n);if(o==="%"){if(Tf(t,n+1)==="%"||n+3>e){r+="%",n++;continue}var i=GT(t,n+1);if(i!==i){r+=o,n++;continue}n+=2;var l=wB(i);if(l===0)o=hB(i);else{if(l===1||l>4){r+=Ym,n++;continue}for(var f=[i],h=1;h<l&&(n++,!(n+3>e||Tf(t,n)!=="%"));){var u=GT(t,n+1);if(u!==u){n+=3;break}if(u>191||u<128)break;ro(f,u),n+=2,h++}if(f.length!==l){r+=Ym;continue}var d=bB(f);d===null?r+=Ym:o=pB(d)}}r+=o,n++}return r},EB=/[!'()~]|%20/g,SB={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},IB=function(t){return SB[t]},VT=function(t){return HA(dB(t),EB,IB)},Jm=eB(function(e,r){WA(this,{type:$A,target:Zr(e).entries,index:0,kind:r})},Rs,function(){var e=cB(this),r=e.target,n=e.index++;if(!r||n>=r.length)return e.target=null,ef(void 0,!0);var o=r[n];switch(e.kind){case"keys":return ef(o.key,!1);case"values":return ef(o.value,!1)}return ef([o.key,o.value],!1)},!0),zA=function(t){this.entries=[],this.url=null,t!==void 0&&(qA(t)?this.parseObject(t):this.parseQuery(typeof t=="string"?Tf(t,0)==="?"?GA(t,1):t:Xt(t)))};zA.prototype={type:Rs,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e=this.entries,r=aB(t),n,o,i,l,f,h,u;if(r)for(n=MT(t,r),o=n.next;!(i=Zc(o,n)).done;){if(l=MT(iB(i.value)),f=l.next,(h=Zc(f,l)).done||(u=Zc(f,l)).done||!Zc(f,l).done)throw new fB("Expected sequence with length 2");ro(e,{key:Xt(h.value),value:Xt(u.value)})}else for(var d in t)tB(t,d)&&ro(e,{key:d,value:Xt(t[d])})},parseQuery:function(t){if(t)for(var e=this.entries,r=HT(t,"&"),n=0,o,i;n<r.length;)o=r[n++],o.length&&(i=HT(o,"="),ro(e,{key:zT(yB(i)),value:zT($T(i,"="))}))},serialize:function(){for(var t=this.entries,e=[],r=0,n;r<t.length;)n=t[r++],ro(e,VT(n.key)+"="+VT(n.value));return $T(e,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var Fd=function(){BA(this,ms);var e=arguments.length>0?arguments[0]:void 0,r=WA(this,new zA(e));Gu||(this.size=r.entries.length)},ms=Fd.prototype;XM(ms,{append:function(e,r){var n=Zr(this);$a(arguments.length,2),ro(n.entries,{key:Xt(e),value:Xt(r)}),Gu||this.length++,n.updateURL()},delete:function(t){for(var e=Zr(this),r=$a(arguments.length,1),n=e.entries,o=Xt(t),i=r<2?void 0:arguments[1],l=i===void 0?i:Xt(i),f=0;f<n.length;){var h=n[f];if(h.key===o&&(l===void 0||h.value===l)){if(WT(n,f,1),l!==void 0)break}else f++}Gu||(this.size=n.length),e.updateURL()},get:function(e){var r=Zr(this).entries;$a(arguments.length,1);for(var n=Xt(e),o=0;o<r.length;o++)if(r[o].key===n)return r[o].value;return null},getAll:function(e){var r=Zr(this).entries;$a(arguments.length,1);for(var n=Xt(e),o=[],i=0;i<r.length;i++)r[i].key===n&&ro(o,r[i].value);return o},has:function(e){for(var r=Zr(this).entries,n=$a(arguments.length,1),o=Xt(e),i=n<2?void 0:arguments[1],l=i===void 0?i:Xt(i),f=0;f<r.length;){var h=r[f++];if(h.key===o&&(l===void 0||h.value===l))return!0}return!1},set:function(e,r){var n=Zr(this);$a(arguments.length,1);for(var o=n.entries,i=!1,l=Xt(e),f=Xt(r),h=0,u;h<o.length;h++)u=o[h],u.key===l&&(i?WT(o,h--,1):(i=!0,u.value=f));i||ro(o,{key:l,value:f}),Gu||(this.size=o.length),n.updateURL()},sort:function(){var e=Zr(this);uB(e.entries,function(r,n){return r.key>n.key?1:-1}),e.updateURL()},forEach:function(e){for(var r=Zr(this).entries,n=rB(e,arguments.length>1?arguments[1]:void 0),o=0,i;o<r.length;)i=r[o++],n(i.value,i.key,this)},keys:function(){return new Jm(this,"keys")},values:function(){return new Jm(this,"values")},entries:function(){return new Jm(this,"entries")}},{enumerable:!0});MA(ms,lB,ms.entries,{});MA(ms,"toString",function(){return Zr(this).serialize()},{enumerable:!0});Gu&&QM(ms,"size",{get:function(){return Zr(this).entries.length},configurable:!0,enumerable:!0});ZM(Fd,Rs);Z0({global:!0,forced:!FA},{URLSearchParams:Fd});if(!FA&&Vm(zu)){var TB=Nn(qT.has),OB=Nn(qT.set),KT=function(t){if(qA(t)){var e=t.body,r;if(nB(e)===Rs)return r=t.headers?new zu(t.headers):new zu,TB(r,"content-type")||OB(r,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),oB(t,{body:FT(0,Xt(e)),headers:FT(0,r)})}return t};if(Vm(BT)&&Z0({global:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return BT(e,arguments.length>1?KT(arguments[1]):{})}}),Vm(Kf)){var Qm=function(e){return BA(this,Km),new Kf(e,arguments.length>1?KT(arguments[1]):{})};Km.constructor=Qm,Qm.prototype=Km,Z0({global:!0,dontCallGetSet:!0,forced:!0},{Request:Qm})}}var xB={URLSearchParams:Fd,getState:Zr},v_=Gt,RB=u_,AB=xs,CB=e_,PB=v_("".charAt),YT=v_("".charCodeAt),NB=v_("".slice),JT=function(t){return function(e,r){var n=AB(CB(e)),o=RB(r),i=n.length,l,f;return o<0||o>=i?t?"":void 0:(l=YT(n,o),l<55296||l>56319||o+1===i||(f=YT(n,o+1))<56320||f>57343?t?PB(n,o):l:t?NB(n,o,o+2):(l-55296<<10)+(f-56320)+65536)}},VA={codeAt:JT(!1),charAt:JT(!0)},kB=VA.charAt,LB=xs,KA=kd,jB=CA,QT=f_,YA="String Iterator",DB=KA.set,UB=KA.getterFor(YA);jB(String,"String",function(t){DB(this,{type:YA,string:LB(t),index:0})},function(){var e=UB(this),r=e.string,n=e.index,o;return n>=r.length?QT(void 0,!0):(o=kB(r,n),e.index+=o.length,QT(o,!1))});var JA={};JA.f=Object.getOwnPropertySymbols;var XT=Lr,FB=Gt,MB=Ii,BB=kr,Xm=EA,qB=JA,$B=s_,WB=Pd,HB=JR,Wa=Object.assign,ZT=Object.defineProperty,GB=FB([].concat),zB=!Wa||BB(function(){if(XT&&Wa({b:1},Wa(ZT({},"a",{enumerable:!0,get:function(){ZT(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var t={},e={},r=Symbol("assign detection"),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach(function(o){e[o]=o}),Wa({},t)[r]!==7||Xm(Wa({},e)).join("")!==n})?function(e,r){for(var n=WB(e),o=arguments.length,i=1,l=qB.f,f=$B.f;o>i;)for(var h=HB(arguments[i++]),u=l?GB(Xm(h),l(h)):Xm(h),d=u.length,v=0,y;d>v;)y=u[v++],(!XT||MB(f,h,y))&&(n[y]=h[y]);return n}:Wa,VB=Ii,eO=ua,KB=n_,YB=function(t,e,r){var n,o;eO(t);try{if(n=KB(t,"return"),!n){if(e==="throw")throw r;return r}n=VB(n,t)}catch(i){o=!0,n=i}if(e==="throw")throw r;if(o)throw n;return eO(n),r},JB=ua,QB=YB,XB=function(t,e,r,n){try{return n?e(JB(r)[0],r[1]):e(r)}catch(o){QB(t,"throw",o)}},ZB=ni,eq=gl,tq=ZB("iterator"),rq=Array.prototype,nq=function(t){return t!==void 0&&(eq.Array===t||rq[tq]===t)},iq=Gt,oq=Er,eg=i_,aq=iq(Function.toString);oq(eg.inspectSource)||(eg.inspectSource=function(t){return aq(t)});var sq=eg.inspectSource,uq=Gt,lq=kr,QA=Er,cq=El,fq=Ts,dq=sq,XA=function(){},ZA=fq("Reflect","construct"),y_=/^\s*(?:class|function)\b/,hq=uq(y_.exec),pq=!y_.test(XA),bu=function(e){if(!QA(e))return!1;try{return ZA(XA,[],e),!0}catch{return!1}},eC=function(e){if(!QA(e))return!1;switch(cq(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return pq||!!hq(y_,dq(e))}catch{return!0}};eC.sham=!0;var vq=!ZA||lq(function(){var t;return bu(bu.call)||!bu(Object)||!bu(function(){t=!0})||t})?eC:bu,yq=Lr,mq=sa,gq=_l,_q=function(t,e,r){yq?mq.f(t,e,gq(0,r)):t[e]=r},wq=Ld,bq=Ii,Eq=Pd,Sq=XB,Iq=nq,Tq=vq,Oq=wA,tO=_q,xq=jA,Rq=d_,rO=Array,Aq=function(e){var r=Eq(e),n=Tq(this),o=arguments.length,i=o>1?arguments[1]:void 0,l=i!==void 0;l&&(i=wq(i,o>2?arguments[2]:void 0));var f=Rq(r),h=0,u,d,v,y,_,w;if(f&&!(this===rO&&Iq(f)))for(d=n?new this:[],y=xq(r,f),_=y.next;!(v=bq(_,y)).done;h++)w=l?Sq(y,i,[v.value,h],!0):v.value,tO(d,h,w);else for(u=Oq(r),d=n?new this(u):rO(u);u>h;h++)w=l?i(r[h],h):r[h],tO(d,h,w);return d.length=h,d},la=Gt,Zm=2147483647,Vu=36,tC=1,tg=26,Cq=38,Pq=700,Nq=72,kq=128,Lq="-",jq=/[^\0-\u007E]/,rC=/[.\u3002\uFF0E\uFF61]/g,nO="Overflow: input needs wider integers to process",e0=Vu-tC,iO=RangeError,Dq=la(rC.exec),rs=Math.floor,t0=String.fromCharCode,oO=la("".charCodeAt),nC=la([].join),no=la([].push),Uq=la("".replace),Fq=la("".split),Mq=la("".toLowerCase),Bq=function(t){for(var e=[],r=0,n=t.length;r<n;){var o=oO(t,r++);if(o>=55296&&o<=56319&&r<n){var i=oO(t,r++);(i&64512)===56320?no(e,((o&1023)<<10)+(i&1023)+65536):(no(e,o),r--)}else no(e,o)}return e},aO=function(t){return t+22+75*(t<26)},qq=function(t,e,r){var n=0;for(t=r?rs(t/Pq):t>>1,t+=rs(t/e);t>e0*tg>>1;)t=rs(t/e0),n+=Vu;return rs(n+(e0+1)*t/(t+Cq))},$q=function(t){var e=[];t=Bq(t);var r=t.length,n=kq,o=0,i=Nq,l,f;for(l=0;l<t.length;l++)f=t[l],f<128&&no(e,t0(f));var h=e.length,u=h;for(h&&no(e,Lq);u<r;){var d=Zm;for(l=0;l<t.length;l++)f=t[l],f>=n&&f<d&&(d=f);var v=u+1;if(d-n>rs((Zm-o)/v))throw new iO(nO);for(o+=(d-n)*v,n=d,l=0;l<t.length;l++){if(f=t[l],f<n&&++o>Zm)throw new iO(nO);if(f===n){for(var y=o,_=Vu;;){var w=_<=i?tC:_>=i+tg?tg:_-i;if(y<w)break;var S=y-w,T=Vu-w;no(e,t0(aO(w+S%T))),y=rs(S/T),_+=Vu}no(e,t0(aO(y))),i=qq(o,v,u===h),o=0,u++}}o++,n++}return nC(e,"")},Wq=function(t){var e=[],r=Fq(Uq(Mq(t),rC,"."),"."),n,o;for(n=0;n<r.length;n++)o=r[n],no(e,Dq(jq,o)?"xn--"+$q(o):o);return nC(e,".")},Hq=Os,m_=Lr,Gq=Dd,g_=br,sO=Ld,sn=Gt,Yf=bl,Wr=kA,zq=LA,rg=ri,__=zB,Ha=Aq,En=DA,Vq=VA.codeAt,Kq=Wq,yi=xs,Yq=jd,Jq=Ud,iC=xB,oC=kd,Qq=oC.set,Jf=oC.getterFor("URL"),Xq=iC.URLSearchParams,Zq=iC.getState,Eu=g_.URL,ng=g_.TypeError,Qf=g_.parseInt,e$=Math.floor,uO=Math.pow,tn=sn("".charAt),Rn=sn(/./.exec),Mu=sn([].join),t$=sn(1.1.toString),r$=sn([].pop),Ya=sn([].push),r0=sn("".replace),n$=sn([].shift),i$=sn("".split),Ku=sn("".slice),Xf=sn("".toLowerCase),o$=sn([].unshift),a$="Invalid authority",n0="Invalid scheme",No="Invalid host",lO="Invalid port",aC=/[a-z]/i,s$=/[\d+-.a-z]/i,ig=/\d/,u$=/^0x/i,l$=/^[0-7]+$/,c$=/^\d+$/,sC=/^[\da-f]+$/i,f$=/[\0\t\n\r #%/:<>?@[\\\]^|]/,d$=/[\0\t\n\r #/:<>?@[\\\]^|]/,h$=/^[\u0000-\u0020]+/,p$=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,v$=/[\t\n\r]/g,Hr,y$=function(t){var e=i$(t,"."),r,n,o,i,l,f,h;if(e.length&&e[e.length-1]===""&&e.length--,r=e.length,r>4)return t;for(n=[],o=0;o<r;o++){if(i=e[o],i==="")return t;if(l=10,i.length>1&&tn(i,0)==="0"&&(l=Rn(u$,i)?16:8,i=Ku(i,l===8?1:2)),i==="")f=0;else{if(!Rn(l===10?c$:l===8?l$:sC,i))return t;f=Qf(i,l)}Ya(n,f)}for(o=0;o<r;o++)if(f=n[o],o===r-1){if(f>=uO(256,5-r))return null}else if(f>255)return null;for(h=r$(n),o=0;o<n.length;o++)h+=n[o]*uO(256,3-o);return h},m$=function(t){var e=[0,0,0,0,0,0,0,0],r=0,n=null,o=0,i,l,f,h,u,d,v,y=function(){return tn(t,o)};if(y()===":"){if(tn(t,1)!==":")return;o+=2,r++,n=r}for(;y();){if(r===8)return;if(y()===":"){if(n!==null)return;o++,r++,n=r;continue}for(i=l=0;l<4&&Rn(sC,y());)i=i*16+Qf(y(),16),o++,l++;if(y()==="."){if(l===0||(o-=l,r>6))return;for(f=0;y();){if(h=null,f>0)if(y()==="."&&f<4)o++;else return;if(!Rn(ig,y()))return;for(;Rn(ig,y());){if(u=Qf(y(),10),h===null)h=u;else{if(h===0)return;h=h*10+u}if(h>255)return;o++}e[r]=e[r]*256+h,f++,(f===2||f===4)&&r++}if(f!==4)return;break}else if(y()===":"){if(o++,!y())return}else if(y())return;e[r++]=i}if(n!==null)for(d=r-n,r=7;r!==0&&d>0;)v=e[r],e[r--]=e[n+d-1],e[n+--d]=v;else if(r!==8)return;return e},g$=function(t){for(var e=null,r=1,n=null,o=0,i=0;i<8;i++)t[i]!==0?(o>r&&(e=n,r=o),n=null,o=0):(n===null&&(n=i),++o);return o>r?n:e},Su=function(t){var e,r,n,o;if(typeof t=="number"){for(e=[],r=0;r<4;r++)o$(e,t%256),t=e$(t/256);return Mu(e,".")}if(typeof t=="object"){for(e="",n=g$(t),r=0;r<8;r++)o&&t[r]===0||(o&&(o=!1),n===r?(e+=r?":":"::",o=!0):(e+=t$(t[r],16),r<7&&(e+=":")));return"["+e+"]"}return t},Of={},uC=__({},Of,{" ":1,'"':1,"<":1,">":1,"`":1}),lC=__({},uC,{"#":1,"?":1,"{":1,"}":1}),i0=__({},lC,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Vi=function(t,e){var r=Vq(t,0);return r>32&&r<127&&!rg(e,t)?t:encodeURIComponent(t)},tf={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Bu=function(t,e){var r;return t.length===2&&Rn(aC,tn(t,0))&&((r=tn(t,1))===":"||!e&&r==="|")},cO=function(t){var e;return t.length>1&&Bu(Ku(t,0,2))&&(t.length===2||(e=tn(t,2))==="/"||e==="\\"||e==="?"||e==="#")},_$=function(t){return t==="."||Xf(t)==="%2e"},w$=function(t){return t=Xf(t),t===".."||t==="%2e."||t===".%2e"||t==="%2e%2e"},o0={},fO={},a0={},dO={},hO={},s0={},pO={},vO={},rf={},nf={},u0={},l0={},c0={},f0={},yO={},d0={},Ga={},Wn={},mO={},ko={},pi={},w_=function(t,e,r){var n=yi(t),o,i,l;if(e){if(i=this.parse(n),i)throw new ng(i);this.searchParams=null}else{if(r!==void 0&&(o=new w_(r,!0)),i=this.parse(n,null,o),i)throw new ng(i);l=Zq(new Xq),l.bindURL(this),this.searchParams=l}};w_.prototype={type:"URL",parse:function(t,e,r){var n=this,o=e||o0,i=0,l="",f=!1,h=!1,u=!1,d,v,y,_;for(t=yi(t),e||(n.scheme="",n.username="",n.password="",n.host=null,n.port=null,n.path=[],n.query=null,n.fragment=null,n.cannotBeABaseURL=!1,t=r0(t,h$,""),t=r0(t,p$,"$1")),t=r0(t,v$,""),d=Ha(t);i<=d.length;){switch(v=d[i],o){case o0:if(v&&Rn(aC,v))l+=Xf(v),o=fO;else{if(e)return n0;o=a0;continue}break;case fO:if(v&&(Rn(s$,v)||v==="+"||v==="-"||v==="."))l+=Xf(v);else if(v===":"){if(e&&(n.isSpecial()!==rg(tf,l)||l==="file"&&(n.includesCredentials()||n.port!==null)||n.scheme==="file"&&!n.host))return;if(n.scheme=l,e){n.isSpecial()&&tf[n.scheme]===n.port&&(n.port=null);return}l="",n.scheme==="file"?o=f0:n.isSpecial()&&r&&r.scheme===n.scheme?o=dO:n.isSpecial()?o=vO:d[i+1]==="/"?(o=hO,i++):(n.cannotBeABaseURL=!0,Ya(n.path,""),o=mO)}else{if(e)return n0;l="",o=a0,i=0;continue}break;case a0:if(!r||r.cannotBeABaseURL&&v!=="#")return n0;if(r.cannotBeABaseURL&&v==="#"){n.scheme=r.scheme,n.path=En(r.path),n.query=r.query,n.fragment="",n.cannotBeABaseURL=!0,o=pi;break}o=r.scheme==="file"?f0:s0;continue;case dO:if(v==="/"&&d[i+1]==="/")o=rf,i++;else{o=s0;continue}break;case hO:if(v==="/"){o=nf;break}else{o=Wn;continue}case s0:if(n.scheme=r.scheme,v===Hr)n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=En(r.path),n.query=r.query;else if(v==="/"||v==="\\"&&n.isSpecial())o=pO;else if(v==="?")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=En(r.path),n.query="",o=ko;else if(v==="#")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=En(r.path),n.query=r.query,n.fragment="",o=pi;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=En(r.path),n.path.length--,o=Wn;continue}break;case pO:if(n.isSpecial()&&(v==="/"||v==="\\"))o=rf;else if(v==="/")o=nf;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,o=Wn;continue}break;case vO:if(o=rf,v!=="/"||tn(l,i+1)!=="/")continue;i++;break;case rf:if(v!=="/"&&v!=="\\"){o=nf;continue}break;case nf:if(v==="@"){f&&(l="%40"+l),f=!0,y=Ha(l);for(var w=0;w<y.length;w++){var S=y[w];if(S===":"&&!u){u=!0;continue}var T=Vi(S,i0);u?n.password+=T:n.username+=T}l=""}else if(v===Hr||v==="/"||v==="?"||v==="#"||v==="\\"&&n.isSpecial()){if(f&&l==="")return a$;i-=Ha(l).length+1,l="",o=u0}else l+=v;break;case u0:case l0:if(e&&n.scheme==="file"){o=d0;continue}else if(v===":"&&!h){if(l==="")return No;if(_=n.parseHost(l),_)return _;if(l="",o=c0,e===l0)return}else if(v===Hr||v==="/"||v==="?"||v==="#"||v==="\\"&&n.isSpecial()){if(n.isSpecial()&&l==="")return No;if(e&&l===""&&(n.includesCredentials()||n.port!==null))return;if(_=n.parseHost(l),_)return _;if(l="",o=Ga,e)return;continue}else v==="["?h=!0:v==="]"&&(h=!1),l+=v;break;case c0:if(Rn(ig,v))l+=v;else if(v===Hr||v==="/"||v==="?"||v==="#"||v==="\\"&&n.isSpecial()||e){if(l!==""){var O=Qf(l,10);if(O>65535)return lO;n.port=n.isSpecial()&&O===tf[n.scheme]?null:O,l=""}if(e)return;o=Ga;continue}else return lO;break;case f0:if(n.scheme="file",v==="/"||v==="\\")o=yO;else if(r&&r.scheme==="file")switch(v){case Hr:n.host=r.host,n.path=En(r.path),n.query=r.query;break;case"?":n.host=r.host,n.path=En(r.path),n.query="",o=ko;break;case"#":n.host=r.host,n.path=En(r.path),n.query=r.query,n.fragment="",o=pi;break;default:cO(Mu(En(d,i),""))||(n.host=r.host,n.path=En(r.path),n.shortenPath()),o=Wn;continue}else{o=Wn;continue}break;case yO:if(v==="/"||v==="\\"){o=d0;break}r&&r.scheme==="file"&&!cO(Mu(En(d,i),""))&&(Bu(r.path[0],!0)?Ya(n.path,r.path[0]):n.host=r.host),o=Wn;continue;case d0:if(v===Hr||v==="/"||v==="\\"||v==="?"||v==="#"){if(!e&&Bu(l))o=Wn;else if(l===""){if(n.host="",e)return;o=Ga}else{if(_=n.parseHost(l),_)return _;if(n.host==="localhost"&&(n.host=""),e)return;l="",o=Ga}continue}else l+=v;break;case Ga:if(n.isSpecial()){if(o=Wn,v!=="/"&&v!=="\\")continue}else if(!e&&v==="?")n.query="",o=ko;else if(!e&&v==="#")n.fragment="",o=pi;else if(v!==Hr&&(o=Wn,v!=="/"))continue;break;case Wn:if(v===Hr||v==="/"||v==="\\"&&n.isSpecial()||!e&&(v==="?"||v==="#")){if(w$(l)?(n.shortenPath(),v!=="/"&&!(v==="\\"&&n.isSpecial())&&Ya(n.path,"")):_$(l)?v!=="/"&&!(v==="\\"&&n.isSpecial())&&Ya(n.path,""):(n.scheme==="file"&&!n.path.length&&Bu(l)&&(n.host&&(n.host=""),l=tn(l,0)+":"),Ya(n.path,l)),l="",n.scheme==="file"&&(v===Hr||v==="?"||v==="#"))for(;n.path.length>1&&n.path[0]==="";)n$(n.path);v==="?"?(n.query="",o=ko):v==="#"&&(n.fragment="",o=pi)}else l+=Vi(v,lC);break;case mO:v==="?"?(n.query="",o=ko):v==="#"?(n.fragment="",o=pi):v!==Hr&&(n.path[0]+=Vi(v,Of));break;case ko:!e&&v==="#"?(n.fragment="",o=pi):v!==Hr&&(v==="'"&&n.isSpecial()?n.query+="%27":v==="#"?n.query+="%23":n.query+=Vi(v,Of));break;case pi:v!==Hr&&(n.fragment+=Vi(v,uC));break}i++}},parseHost:function(t){var e,r,n;if(tn(t,0)==="["){if(tn(t,t.length-1)!=="]"||(e=m$(Ku(t,1,-1)),!e))return No;this.host=e}else if(this.isSpecial()){if(t=Kq(t),Rn(f$,t)||(e=y$(t),e===null))return No;this.host=e}else{if(Rn(d$,t))return No;for(e="",r=Ha(t),n=0;n<r.length;n++)e+=Vi(r[n],Of);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return rg(tf,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;e&&(this.scheme!=="file"||e!==1||!Bu(t[0],!0))&&t.length--},serialize:function(){var t=this,e=t.scheme,r=t.username,n=t.password,o=t.host,i=t.port,l=t.path,f=t.query,h=t.fragment,u=e+":";return o!==null?(u+="//",t.includesCredentials()&&(u+=r+(n?":"+n:"")+"@"),u+=Su(o),i!==null&&(u+=":"+i)):e==="file"&&(u+="//"),u+=t.cannotBeABaseURL?l[0]:l.length?"/"+Mu(l,"/"):"",f!==null&&(u+="?"+f),h!==null&&(u+="#"+h),u},setHref:function(t){var e=this.parse(t);if(e)throw new ng(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if(t==="blob")try{return new gs(t.path[0]).origin}catch{return"null"}return t==="file"||!this.isSpecial()?"null":t+"://"+Su(this.host)+(e!==null?":"+e:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(yi(t)+":",o0)},getUsername:function(){return this.username},setUsername:function(t){var e=Ha(yi(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<e.length;r++)this.username+=Vi(e[r],i0)}},getPassword:function(){return this.password},setPassword:function(t){var e=Ha(yi(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<e.length;r++)this.password+=Vi(e[r],i0)}},getHost:function(){var t=this.host,e=this.port;return t===null?"":e===null?Su(t):Su(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,u0)},getHostname:function(){var t=this.host;return t===null?"":Su(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,l0)},getPort:function(){var t=this.port;return t===null?"":yi(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(t=yi(t),t===""?this.port=null:this.parse(t,c0))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+Mu(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,Ga))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){t=yi(t),t===""?this.query=null:(tn(t,0)==="?"&&(t=Ku(t,1)),this.query="",this.parse(t,ko)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){if(t=yi(t),t===""){this.fragment=null;return}tn(t,0)==="#"&&(t=Ku(t,1)),this.fragment="",this.parse(t,pi)},update:function(){this.query=this.searchParams.serialize()||null}};var gs=function(e){var r=zq(this,Qt),n=Jq(arguments.length,1)>1?arguments[1]:void 0,o=Qq(r,new w_(e,!1,n));m_||(r.href=o.serialize(),r.origin=o.getOrigin(),r.protocol=o.getProtocol(),r.username=o.getUsername(),r.password=o.getPassword(),r.host=o.getHost(),r.hostname=o.getHostname(),r.port=o.getPort(),r.pathname=o.getPathname(),r.search=o.getSearch(),r.searchParams=o.getSearchParams(),r.hash=o.getHash())},Qt=gs.prototype,Gr=function(t,e){return{get:function(){return Jf(this)[t]()},set:e&&function(r){return Jf(this)[e](r)},configurable:!0,enumerable:!0}};m_&&(Wr(Qt,"href",Gr("serialize","setHref")),Wr(Qt,"origin",Gr("getOrigin")),Wr(Qt,"protocol",Gr("getProtocol","setProtocol")),Wr(Qt,"username",Gr("getUsername","setUsername")),Wr(Qt,"password",Gr("getPassword","setPassword")),Wr(Qt,"host",Gr("getHost","setHost")),Wr(Qt,"hostname",Gr("getHostname","setHostname")),Wr(Qt,"port",Gr("getPort","setPort")),Wr(Qt,"pathname",Gr("getPathname","setPathname")),Wr(Qt,"search",Gr("getSearch","setSearch")),Wr(Qt,"searchParams",Gr("getSearchParams")),Wr(Qt,"hash",Gr("getHash","setHash")));Yf(Qt,"toJSON",function(){return Jf(this).serialize()},{enumerable:!0});Yf(Qt,"toString",function(){return Jf(this).serialize()},{enumerable:!0});if(Eu){var gO=Eu.createObjectURL,_O=Eu.revokeObjectURL;gO&&Yf(gs,"createObjectURL",sO(gO,Eu)),_O&&Yf(gs,"revokeObjectURL",sO(_O,Eu))}Yq(gs,"URL");Hq({global:!0,forced:!Gq,sham:!m_},{URL:gs});var b$=Os,E$=Ts,cC=kr,S$=Ud,wO=xs,I$=Dd,b_=E$("URL"),T$=I$&&cC(function(){b_.canParse()}),O$=cC(function(){return b_.canParse.length!==1});b$({target:"URL",stat:!0,forced:!T$||O$},{canParse:function(e){var r=S$(arguments.length,1),n=wO(e),o=r<2||arguments[1]===void 0?void 0:wO(arguments[1]);try{return!!new b_(n,o)}catch{return!1}}});var x$=Os,R$=Ts,A$=Ud,bO=xs,C$=Dd,P$=R$("URL");x$({target:"URL",stat:!0,forced:!C$},{parse:function(e){var r=A$(arguments.length,1),n=bO(e),o=r<2||arguments[1]===void 0?void 0:bO(arguments[1]);try{return new P$(n,o)}catch{return null}}});var N$=t_,k$=N$.URL,L$=k$,j$=L$,D$=j$,U$=D$,F$=U$,M$=F$,B$=a5(M$),q$=(function(t){yl(e,t);function e(r){var n=t.call(this,r.message)||this;return n.name="PostgrestError",n.details=r.details,n.hint=r.hint,n.code=r.code,n}return e})(Error),$$=(function(){function t(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}return t.prototype.throwOnError=function(){return this.shouldThrowOnError=!0,this},t.prototype.setHeader=function(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this},t.prototype.then=function(e,r){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");var o=this.fetch,i=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(l){return so(n,void 0,void 0,function(){var f,h,u,d,v,w,y,_,w,S,T,O,x,A;return uo(this,function(C){switch(C.label){case 0:return f=null,h=null,u=null,d=l.status,v=l.statusText,l.ok?this.method==="HEAD"?[3,2]:[4,l.text()]:[3,3];case 1:w=C.sent(),w===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((T=this.headers.get("Accept"))===null||T===void 0)&&T.includes("application/vnd.pgrst.plan+text"))?h=w:h=JSON.parse(w)),C.label=2;case 2:return y=(O=this.headers.get("Prefer"))===null||O===void 0?void 0:O.match(/count=(exact|planned|estimated)/),_=(x=l.headers.get("content-range"))===null||x===void 0?void 0:x.split("/"),y&&_&&_.length>1&&(u=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(f={code:"PGRST116",details:"Results contain ".concat(h.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,u=null,d=406,v="Not Acceptable"):h.length===1?h=h[0]:h=null),[3,5];case 3:return[4,l.text()];case 4:w=C.sent();try{f=JSON.parse(w),Array.isArray(f)&&l.status===404&&(h=[],f=null,d=200,v="OK")}catch{l.status===404&&w===""?(d=204,v="No Content"):f={message:w}}if(f&&this.isMaybeSingle&&(!((A=f==null?void 0:f.details)===null||A===void 0)&&A.includes("0 rows"))&&(f=null,d=200,v="OK"),f&&this.shouldThrowOnError)throw new q$(f);C.label=5;case 5:return S={error:f,data:h,count:u,status:d,statusText:v},[2,S]}})})});return this.shouldThrowOnError||(i=i.catch(function(l){var f,h,u;return{error:{message:"".concat((f=l==null?void 0:l.name)!==null&&f!==void 0?f:"FetchError",": ").concat(l==null?void 0:l.message),details:"".concat((h=l==null?void 0:l.stack)!==null&&h!==void 0?h:""),hint:"",code:"".concat((u=l==null?void 0:l.code)!==null&&u!==void 0?u:"")},data:null,count:null,status:0,statusText:""}})),i.then(e,r)},t.prototype.returns=function(){return this},t.prototype.overrideTypes=function(){return this},t})(),W$=(function(t){yl(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.select=function(r){var n=!1,o=(r??"*").split("").map(function(i){return/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)}).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this},e.prototype.order=function(r,n){var o=n===void 0?{}:n,i=o.ascending,l=i===void 0?!0:i,f=o.nullsFirst,h=o.foreignTable,u=o.referencedTable,d=u===void 0?h:u,v=d?"".concat(d,".order"):"order",y=this.url.searchParams.get(v);return this.url.searchParams.set(v,"".concat(y?"".concat(y,","):"").concat(r,".").concat(l?"asc":"desc").concat(f===void 0?"":f?".nullsfirst":".nullslast")),this},e.prototype.limit=function(r,n){var o=n===void 0?{}:n,i=o.foreignTable,l=o.referencedTable,f=l===void 0?i:l,h=typeof f>"u"?"limit":"".concat(f,".limit");return this.url.searchParams.set(h,"".concat(r)),this},e.prototype.range=function(r,n,o){var i=o===void 0?{}:o,l=i.foreignTable,f=i.referencedTable,h=f===void 0?l:f,u=typeof h>"u"?"offset":"".concat(h,".offset"),d=typeof h>"u"?"limit":"".concat(h,".limit");return this.url.searchParams.set(u,"".concat(r)),this.url.searchParams.set(d,"".concat(n-r+1)),this},e.prototype.abortSignal=function(r){return this.signal=r,this},e.prototype.single=function(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this},e.prototype.maybeSingle=function(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this},e.prototype.csv=function(){return this.headers.set("Accept","text/csv"),this},e.prototype.geojson=function(){return this.headers.set("Accept","application/geo+json"),this},e.prototype.explain=function(r){var n,o=r===void 0?{}:r,i=o.analyze,l=i===void 0?!1:i,f=o.verbose,h=f===void 0?!1:f,u=o.settings,d=u===void 0?!1:u,v=o.buffers,y=v===void 0?!1:v,_=o.wal,w=_===void 0?!1:_,S=o.format,T=S===void 0?"text":S,O=[l?"analyze":null,h?"verbose":null,d?"settings":null,y?"buffers":null,w?"wal":null].filter(Boolean).join("|"),x=(n=this.headers.get("Accept"))!==null&&n!==void 0?n:"application/json";return this.headers.set("Accept","application/vnd.pgrst.plan+".concat(T,'; for="').concat(x,'"; options=').concat(O,";")),T==="json"?this:this},e.prototype.rollback=function(){return this.headers.append("Prefer","tx=rollback"),this},e.prototype.returns=function(){return this},e.prototype.maxAffected=function(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer","max-affected=".concat(r)),this},e})($$),Iu=(function(t){yl(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.eq=function(r,n){return this.url.searchParams.append(r,"eq.".concat(n)),this},e.prototype.neq=function(r,n){return this.url.searchParams.append(r,"neq.".concat(n)),this},e.prototype.gt=function(r,n){return this.url.searchParams.append(r,"gt.".concat(n)),this},e.prototype.gte=function(r,n){return this.url.searchParams.append(r,"gte.".concat(n)),this},e.prototype.lt=function(r,n){return this.url.searchParams.append(r,"lt.".concat(n)),this},e.prototype.lte=function(r,n){return this.url.searchParams.append(r,"lte.".concat(n)),this},e.prototype.like=function(r,n){return this.url.searchParams.append(r,"like.".concat(n)),this},e.prototype.likeAllOf=function(r,n){return this.url.searchParams.append(r,"like(all).{".concat(n.join(","),"}")),this},e.prototype.likeAnyOf=function(r,n){return this.url.searchParams.append(r,"like(any).{".concat(n.join(","),"}")),this},e.prototype.ilike=function(r,n){return this.url.searchParams.append(r,"ilike.".concat(n)),this},e.prototype.ilikeAllOf=function(r,n){return this.url.searchParams.append(r,"ilike(all).{".concat(n.join(","),"}")),this},e.prototype.ilikeAnyOf=function(r,n){return this.url.searchParams.append(r,"ilike(any).{".concat(n.join(","),"}")),this},e.prototype.is=function(r,n){return this.url.searchParams.append(r,"is.".concat(n)),this},e.prototype.in=function(r,n){var o=Array.from(new Set(n)).map(function(i){return typeof i=="string"&&new RegExp("[,()]").test(i)?'"'.concat(i,'"'):"".concat(i)}).join(",");return this.url.searchParams.append(r,"in.(".concat(o,")")),this},e.prototype.contains=function(r,n){return typeof n=="string"?this.url.searchParams.append(r,"cs.".concat(n)):Array.isArray(n)?this.url.searchParams.append(r,"cs.{".concat(n.join(","),"}")):this.url.searchParams.append(r,"cs.".concat(JSON.stringify(n))),this},e.prototype.containedBy=function(r,n){return typeof n=="string"?this.url.searchParams.append(r,"cd.".concat(n)):Array.isArray(n)?this.url.searchParams.append(r,"cd.{".concat(n.join(","),"}")):this.url.searchParams.append(r,"cd.".concat(JSON.stringify(n))),this},e.prototype.rangeGt=function(r,n){return this.url.searchParams.append(r,"sr.".concat(n)),this},e.prototype.rangeGte=function(r,n){return this.url.searchParams.append(r,"nxl.".concat(n)),this},e.prototype.rangeLt=function(r,n){return this.url.searchParams.append(r,"sl.".concat(n)),this},e.prototype.rangeLte=function(r,n){return this.url.searchParams.append(r,"nxr.".concat(n)),this},e.prototype.rangeAdjacent=function(r,n){return this.url.searchParams.append(r,"adj.".concat(n)),this},e.prototype.overlaps=function(r,n){return typeof n=="string"?this.url.searchParams.append(r,"ov.".concat(n)):this.url.searchParams.append(r,"ov.{".concat(n.join(","),"}")),this},e.prototype.textSearch=function(r,n,o){var i=o===void 0?{}:o,l=i.config,f=i.type,h="";f==="plain"?h="pl":f==="phrase"?h="ph":f==="websearch"&&(h="w");var u=l===void 0?"":"(".concat(l,")");return this.url.searchParams.append(r,"".concat(h,"fts").concat(u,".").concat(n)),this},e.prototype.match=function(r){var n=this;return Object.entries(r).forEach(function(o){var i=o[0],l=o[1];n.url.searchParams.append(i,"eq.".concat(l))}),this},e.prototype.not=function(r,n,o){return this.url.searchParams.append(r,"not.".concat(n,".").concat(o)),this},e.prototype.or=function(r,n){var o=n===void 0?{}:n,i=o.foreignTable,l=o.referencedTable,f=l===void 0?i:l,h=f?"".concat(f,".or"):"or";return this.url.searchParams.append(h,"(".concat(r,")")),this},e.prototype.filter=function(r,n,o){return this.url.searchParams.append(r,"".concat(n,".").concat(o)),this},e})(W$),H$=(function(){function t(e,r){var n=r.headers,o=n===void 0?{}:n,i=r.schema,l=r.fetch;this.url=e,this.headers=new Headers(o),this.schema=i,this.fetch=l}return t.prototype.select=function(e,r){var n=r===void 0?{}:r,o=n.head,i=o===void 0?!1:o,l=n.count,f=i?"HEAD":"GET",h=!1,u=(e??"*").split("").map(function(d){return/\s/.test(d)&&!h?"":(d==='"'&&(h=!h),d)}).join("");return this.url.searchParams.set("select",u),l&&this.headers.append("Prefer","count=".concat(l)),new Iu({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})},t.prototype.insert=function(e,r){var n,o=r===void 0?{}:r,i=o.count,l=o.defaultToNull,f=l===void 0?!0:l,h="POST";if(i&&this.headers.append("Prefer","count=".concat(i)),f||this.headers.append("Prefer","missing=default"),Array.isArray(e)){var u=e.reduce(function(v,y){return v.concat(Object.keys(y))},[]);if(u.length>0){var d=Array.from(new Set(u)).map(function(v){return'"'.concat(v,'"')});this.url.searchParams.set("columns",d.join(","))}}return new Iu({method:h,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})},t.prototype.upsert=function(e,r){var n,o=r===void 0?{}:r,i=o.onConflict,l=o.ignoreDuplicates,f=l===void 0?!1:l,h=o.count,u=o.defaultToNull,d=u===void 0?!0:u,v="POST";if(this.headers.append("Prefer","resolution=".concat(f?"ignore":"merge","-duplicates")),i!==void 0&&this.url.searchParams.set("on_conflict",i),h&&this.headers.append("Prefer","count=".concat(h)),d||this.headers.append("Prefer","missing=default"),Array.isArray(e)){var y=e.reduce(function(w,S){return w.concat(Object.keys(S))},[]);if(y.length>0){var _=Array.from(new Set(y)).map(function(w){return'"'.concat(w,'"')});this.url.searchParams.set("columns",_.join(","))}}return new Iu({method:v,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})},t.prototype.update=function(e,r){var n,o=r===void 0?{}:r,i=o.count,l="PATCH";return i&&this.headers.append("Prefer","count=".concat(i)),new Iu({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})},t.prototype.delete=function(e){var r,n=e===void 0?{}:e,o=n.count,i="DELETE";return o&&this.headers.append("Prefer","count=".concat(o)),new Iu({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})},t})(),G$=(function(t){yl(e,t);function e(r,n){var o=n.headers,i=o===void 0?{}:o,l=n.fetch;return t.call(this,r,{headers:i,schema:void 0,fetch:l})||this}return e})(H$),z$=(function(){function t(e,r){var n=r===void 0?{}:r,o=n.headers,i=o===void 0?{}:o,l=n.fetch;this.url=e,this.headers=new Headers(i),this.fetch=l}return t.prototype.from=function(e){var r=new B$("".concat(this.url,"/").concat(e));return new G$(r,{headers:this.headers,fetch:this.fetch})},t})();function V$(t,e){var r=e==null?void 0:e.envId,n=(e==null?void 0:e.mysqlBaseUrl)||K$(t,e==null?void 0:e.envId).mysql,o=e==null?void 0:e.fetch;return function(i){var l=this;return new z$(n,{fetch:o||(function(f,h){return so(l,void 0,void 0,function(){var u,d,v;return uo(this,function(y){return u=(i==null?void 0:i.instance)||"default",d=(i==null?void 0:i.database)||r,v={},(h==null?void 0:h.headers)instanceof Headers?h.headers.forEach(function(_,w){v[w]=_}):v=(h==null?void 0:h.headers)||{},[2,t.callFunction({name:"httpOverCallFunction",data:{url:f.toString(),method:(h==null?void 0:h.method)||"GET",headers:mt(mt({},v||{}),{"Content-Type":"application/json","X-Db-Instance":u,"Accept-Profile":d,"Content-Profile":d}),body:h==null?void 0:h.body}}).then(function(_){var w=_==null?void 0:_.result,S={ok:(w==null?void 0:w.statusCode)>=200&&(w==null?void 0:w.statusCode)<300,status:(w==null?void 0:w.statusCode)||200,statusText:(w==null?void 0:w.statusMessage)||"OK",json:function(){return Promise.resolve((w==null?void 0:w.body)||{})},text:function(){return Promise.resolve(typeof(w==null?void 0:w.body)=="string"?w.body:JSON.stringify((w==null?void 0:w.body)||{}))},headers:new Headers((w==null?void 0:w.headers)||{})};return S})]})})})})}}function K$(t,e){var r,n,o,i,l=e||((n=(r=t==null?void 0:t.extend)===null||r===void 0?void 0:r.AI)===null||n===void 0?void 0:n.env);if((typeof l!="string"||!l.trim())&&(l=(o=t==null?void 0:t.config)===null||o===void 0?void 0:o.env),(typeof l!="string"||!l.trim())&&(l=(i=t==null?void 0:t.config)===null||i===void 0?void 0:i.envName),typeof l!="string"||!l.trim())throw new Error("Generating default gateway base url failed: env not found");return l=l.trim(),{model:"https://".concat(l,".api.tcloudbasegateway.com/v1/model"),sql:"https://".concat(l,".api.tcloudbasegateway.com/v1/sql"),mysql:"https://".concat(l,".api.tcloudbasegateway.com/v1/rdb/rest")}}var Ko=function(){return Ko=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ko.apply(this,arguments)},Y$=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function h(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,h)}u((n=n.apply(t,e||[])).next())})},J$=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return h([u,d])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Q$=z2,EO="models";function X$(t){var e=this,r=t.callFunction.bind(t),n=t.request.fetch.bind(t.request),o=function(v){return Y$(e,void 0,void 0,function(){var y;return J$(this,function(_){switch(_.label){case 0:return[4,n(Ko(Ko({},v),{headers:Ko({"Content-Type":"application/json"},v.headers)}))];case 1:return y=_.sent(),[4,y.data];case 2:return[2,_.sent()]}})})},i=t.getEndPointWithKey("GATEWAY"),l=i.BASE_URL,f=i.PROTOCOL,h="".concat(f).concat(l,"/model"),u="".concat(f).concat(l,"/sql"),d=n5(r,o,h,{sqlBaseUrl:u});return d}var SO=new WeakMap;function Z$(t){return new Proxy({},{get:function(e,r){var n=t.getEndPointWithKey("GATEWAY"),o=n.BASE_URL,i=n.PROTOCOL,l=Ko(Ko({},t),{BASE_URL:o,PROTOCOL:i}),f=SO.get(l);return f||(f=X$(t),SO.set(l,f)),f[r]}})}var fC="cloudbase_init",dC=new Q$;dC.on(fC,function(t){var e=t.data;Object.assign(e,{models:Z$(e)})});var hC={name:EO,namespace:EO,entity:new Proxy({},{get:function(t,e){console.warn("deprecatedAccessing Cloudbase.prototype.models.".concat(e,"."))}}),injectEvents:{bus:dC,events:[fC]}};try{cloudbase.registerComponent(hC)}catch{}function pC(t){try{t.registerComponent(hC)}catch(e){console.warn(e)}}try{window.registerModel=pC}catch{}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var og=function(t,e){return og=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},og(t,e)};function vC(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");og(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function _s(t){if(!t)throw new TypeError("Assertion failed")}function e8(){}function t8(t){return typeof t=="object"&&t!==null||typeof t=="function"}function r8(t){if(typeof t!="function")return!1;var e=!1;try{new t({start:function(){e=!0}})}catch{}return e}function yC(t){return!(!t8(t)||typeof t.getReader!="function")}function n8(t){return!(!r8(t)||!yC(new t))}function mC(t){try{var e=t.getReader({mode:"byob"});return e.releaseLock(),!0}catch{return!1}}function i8(t){try{return new t({type:"bytes"}),!0}catch{return!1}}function o8(t){_s(n8(t));var e=i8(t);return function(r,n){var o=n===void 0?{}:n,i=o.type;if(i=gC(i),i==="bytes"&&!e&&(i=void 0),r.constructor===t&&(i!=="bytes"||mC(r)))return r;if(i==="bytes"){var l=IO(r,{type:i});return new t(l)}else{var l=IO(r);return new t(l)}}}function IO(t,e){var r=e===void 0?{}:e,n=r.type;_s(yC(t)),_s(t.locked===!1),n=gC(n);var o;return n==="bytes"?o=new u8(t):o=new a8(t),o}function gC(t){var e=String(t);if(e==="bytes")return e;if(t===void 0)return t;throw new RangeError("Invalid type is specified")}var _C=(function(){function t(e){this._underlyingReader=void 0,this._readerMode=void 0,this._readableStreamController=void 0,this._pendingRead=void 0,this._underlyingStream=e,this._attachDefaultReader()}return t.prototype.start=function(e){this._readableStreamController=e},t.prototype.cancel=function(e){return _s(this._underlyingReader!==void 0),this._underlyingReader.cancel(e)},t.prototype._attachDefaultReader=function(){if(this._readerMode!=="default"){this._detachReader();var e=this._underlyingStream.getReader();this._readerMode="default",this._attachReader(e)}},t.prototype._attachReader=function(e){var r=this;_s(this._underlyingReader===void 0),this._underlyingReader=e;var n=this._underlyingReader.closed;n&&n.then(function(){return r._finishPendingRead()}).then(function(){e===r._underlyingReader&&r._readableStreamController.close()},function(o){e===r._underlyingReader&&r._readableStreamController.error(o)}).catch(e8)},t.prototype._detachReader=function(){this._underlyingReader!==void 0&&(this._underlyingReader.releaseLock(),this._underlyingReader=void 0,this._readerMode=void 0)},t.prototype._pullWithDefaultReader=function(){var e=this;this._attachDefaultReader();var r=this._underlyingReader.read().then(function(n){var o=e._readableStreamController;n.done?e._tryClose():o.enqueue(n.value)});return this._setPendingRead(r),r},t.prototype._tryClose=function(){try{this._readableStreamController.close()}catch{}},t.prototype._setPendingRead=function(e){var r=this,n,o=function(){r._pendingRead===n&&(r._pendingRead=void 0)};this._pendingRead=n=e.then(o,o)},t.prototype._finishPendingRead=function(){var e=this;if(this._pendingRead){var r=function(){return e._finishPendingRead()};return this._pendingRead.then(r,r)}},t})(),a8=(function(t){vC(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.pull=function(){return this._pullWithDefaultReader()},e})(_C);function TO(t){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}function s8(t,e){var r=TO(t),n=TO(e);n.set(r,0)}var u8=(function(t){vC(e,t);function e(r){var n=this,o=mC(r);return n=t.call(this,r)||this,n._supportsByob=o,n}return Object.defineProperty(e.prototype,"type",{get:function(){return"bytes"},enumerable:!1,configurable:!0}),e.prototype._attachByobReader=function(){if(this._readerMode!=="byob"){_s(this._supportsByob),this._detachReader();var r=this._underlyingStream.getReader({mode:"byob"});this._readerMode="byob",this._attachReader(r)}},e.prototype.pull=function(){if(this._supportsByob){var r=this._readableStreamController.byobRequest;if(r)return this._pullWithByobRequest(r)}return this._pullWithDefaultReader()},e.prototype._pullWithByobRequest=function(r){var n=this;this._attachByobReader();var o=new Uint8Array(r.view.byteLength),i=this._underlyingReader.read(o).then(function(l){n._readableStreamController,l.done?(n._tryClose(),r.respond(0)):(s8(l.value,r.view),r.respond(l.value.byteLength))});return this._setPendingRead(i),i},e})(_C);function l8(t){var e,r,n,o,i,l,f;return h(),{feed:u,reset:h};function h(){e=!0,r="",n=0,o=-1,i=void 0,l=void 0,f=""}function u(v){r=r?r+v:v,e&&c8(r)&&(r=r.slice(wC.length)),e=!1;for(var y=r.length,_=0,w=!1;_<y;){w&&(r[_]===`
`&&(_+=1),w=!1);for(var S=-1,T=o,O=void 0,x=n;S<0&&x<y;x++)O=r[x],O===":"&&T<0?T=x-_:O==="\r"?(w=!0,S=x-_):O===`
`&&(S=x-_);if(S<0){n=y-_,o=T;break}else n=0,o=-1;d(r,_,T,S),_+=S+1}_===y?r="":_>0&&(r=r.slice(_))}function d(v,y,_,w){if(w===0){f.length>0&&(t({type:"event",id:i,event:l||void 0,data:f.slice(0,-1)}),f="",i=void 0),l=void 0;return}var S=_<0,T=v.slice(y,y+(S?w:_)),O=0;S?O=w:v[y+_+1]===" "?O=_+2:O=_+1;var x=y+O,A=w-O,C=v.slice(x,x+A).toString();if(T==="data")f+=C?"".concat(C,`
`):`
`;else if(T==="event")l=C;else if(T==="id"&&!C.includes("\0"))i=C;else if(T==="retry"){var U=parseInt(C,10);Number.isNaN(U)||t({type:"reconnect-interval",value:U})}}}var wC=[239,187,191];function c8(t){return wC.every(function(e,r){return t.charCodeAt(r)===e})}var xf={exports:{}},f8=xf.exports,OO;function d8(){return OO||(OO=1,(function(t,e){(function(r,n){t.exports=n()})(f8,function(){var r=typeof Ja<"u"?Ja:self;if(typeof r.TextEncoder<"u"&&typeof r.TextDecoder<"u")return{TextEncoder:r.TextEncoder,TextDecoder:r.TextDecoder};var n=["utf8","utf-8","unicode-1-1-utf-8"],o=function(l){if(n.indexOf(l)<0&&typeof l<"u"&&l!==null)throw new RangeError("Invalid encoding type. Only utf-8 is supported");this.encoding="utf-8",this.encode=function(f){if(typeof f!="string")throw new TypeError("passed argument must be of type string");var h=unescape(encodeURIComponent(f)),u=new Uint8Array(h.length);return h.split("").forEach(function(d,v){u[v]=d.charCodeAt(0)}),u}},i=function(l,f){if(n.indexOf(l)<0&&typeof l<"u"&&l!==null)throw new RangeError("Invalid encoding type. Only utf-8 is supported");if(this.encoding="utf-8",this.ignoreBOM=!1,this.fatal=typeof f<"u"&&"fatal"in f?f.fatal:!1,typeof this.fatal!="boolean")throw new TypeError("fatal flag must be boolean");this.decode=function(h,u){if(typeof h>"u")return"";var d=typeof u<"u"&&"stream"in u?u.stream:!1;if(typeof d!="boolean")throw new TypeError("stream option must be boolean");if(ArrayBuffer.isView(h)){var v=new Uint8Array(h.buffer,h.byteOffset,h.byteLength),y=new Array(v.length);return v.forEach(function(_,w){y[w]=String.fromCharCode(_)}),decodeURIComponent(escape(y.join("")))}else throw new TypeError("passed argument must be an array buffer view")}};return{TextEncoder:o,TextDecoder:i}})})(xf)),xf.exports}var h8=d8(),bC=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function h(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,h)}u((n=n.apply(t,e||[])).next())})},EC=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return h([u,d])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},p8=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(l){return new Promise(function(f,h){l=t[i](l),o(f,h,l.done,l.value)})}}function o(i,l,f,h){Promise.resolve(h).then(function(u){i({value:u,done:f})},l)}},v8=jt,_t=Df,SC=function(){var t;return new _t({start:function(e){t=l8(function(r){r.type==="event"&&e.enqueue(r)})},transform:function(e){t.feed(e)}})},jr=o8(v8),E_=(function(){function t(e,r){e===void 0&&(e="utf-8"),r===void 0&&(r={});var n=this;this.transform=new _t({transform:function(o,i){var l=n.handle.decode(new Uint8Array(o),{stream:!0});l&&i.enqueue(l)},flush:function(o){var i=n.handle.decode();i&&o.enqueue(i),o.terminate()}}),this.handle=new h8.TextDecoder(e,r)}return Object.defineProperty(t.prototype,"encoding",{get:function(){return this.handle.encoding},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fatal",{get:function(){return this.handle.fatal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ignoreBOM",{get:function(){return this.handle.ignoreBOM},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"readable",{get:function(){return this.transform.readable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"writable",{get:function(){return this.transform.writable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,Symbol.toStringTag,{get:function(){return"TextDecoderStream"},enumerable:!1,configurable:!0}),t})();function at(t){var e=t;return e[Symbol.asyncIterator]=function(){var r=t.getReader();return{next:function(){return bC(this,void 0,void 0,function(){var n,o,i;return EC(this,function(l){switch(l.label){case 0:return[4,r.read()];case 1:return n=l.sent(),o=n.done,i=n.value,[2,o?{done:!0,value:void 0}:{done:!1,value:i}]}})})}}},e}function kn(t){return at(t.pipeThrough(new E_).pipeThrough(SC()).pipeThrough(new _t({transform:function(e,r){try{var n=JSON.parse(e.data);r.enqueue(n)}catch(o){e.data!=="[DONE]"?console.warn("Error when transforming event source data to json",o,e):r.terminate()}}})))}function y8(t){return at(jr(t).pipeThrough(new E_))}function m8(t){var e,r,n,o;return bC(this,void 0,void 0,function(){var i,l,f,h,u,d,v;return EC(this,function(y){switch(y.label){case 0:i=y8(t),l="",y.label=1;case 1:y.trys.push([1,6,7,12]),f=!0,h=p8(i),y.label=2;case 2:return[4,h.next()];case 3:if(u=y.sent(),e=u.done,!!e)return[3,5];o=u.value,f=!1;try{d=o,l+=d}finally{f=!0}y.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return v=y.sent(),r={error:v},[3,12];case 7:return y.trys.push([7,,10,11]),!f&&!e&&(n=h.return)?[4,n.call(h)]:[3,9];case 8:y.sent(),y.label=9;case 9:return[3,11];case 10:if(r)throw r.error;return[7];case 11:return[7];case 12:return[2,JSON.parse(l)]}})})}function xO(){var t,e,r=new Promise(function(n,o){t=n,e=o});return{promise:r,res:t,rej:e}}function un(t){var e;return t.role==="assistant"&&"tool_calls"in t&&((e=t.tool_calls)===null||e===void 0?void 0:e[0])!=null}function g8(t){return{type:"function",function:{description:t.description,name:t.name,parameters:t.parameters}}}var Ji=function(){return Ji=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ji.apply(this,arguments)},Sn=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function h(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,h)}u((n=n.apply(t,e||[])).next())})},In=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return h([u,d])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},of=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r},_8=(function(){function t(e,r){this.baseUrl=r;var n=arguments[2];typeof n=="string"?this.req=function(o){var i=o.headers,l=i===void 0?{}:i,f=of(o,["headers"]);return e(Ji(Ji({},f),{headers:Ji(Ji({},l),{Authorization:"Bearer ".concat(n)})}))}:this.req=e}return t.prototype.list=function(e,r){return this.req({method:"get",url:this.join("bots"),data:e,timeout:r==null?void 0:r.timeout})},t.prototype.create=function(e,r){var n=e.botInfo;return this.req({method:"post",url:this.join("bots"),data:n,timeout:r==null?void 0:r.timeout})},t.prototype.get=function(e,r){var n=e.botId;return this.req({method:"get",url:this.join("bots/".concat(n)),timeout:r==null?void 0:r.timeout})},t.prototype.update=function(e,r){var n=e.botId,o=e.botInfo;return this.req({method:"PATCH",url:this.join("bots/".concat(n)),data:o,timeout:r==null?void 0:r.timeout})},t.prototype.delete=function(e,r){var n=e.botId;return this.req({method:"delete",url:this.join("bots/".concat(n)),timeout:r==null?void 0:r.timeout})},t.prototype.getChatRecords=function(e,r){return this.req({method:"get",url:this.join("bots/".concat(e.botId,"/records")),data:e,timeout:r==null?void 0:r.timeout})},t.prototype.sendFeedback=function(e,r){var n=e.userFeedback;return this.req({method:"post",url:this.join("bots/".concat(n.botId,"/feedback")),data:n,timeout:r==null?void 0:r.timeout})},t.prototype.getFeedback=function(e,r){return this.req({method:"get",url:this.join("bots/".concat(e.botId,"/feedback")),data:e,timeout:r==null?void 0:r.timeout})},t.prototype.uploadFiles=function(e,r){return Sn(this,void 0,void 0,function(){return In(this,function(n){return[2,this.req({method:"post",url:this.join("bots/".concat(e.botId,"/files")),data:e,timeout:r==null?void 0:r.timeout})]})})},t.prototype.createConversation=function(e,r){var n=e.botId,o=of(e,["botId"]);return Sn(this,void 0,void 0,function(){return In(this,function(i){return[2,this.req({method:"post",url:this.join("bots/".concat(n,"/conversation")),data:o,timeout:r==null?void 0:r.timeout})]})})},t.prototype.getConversation=function(e,r){var n=e.pageSize,o=n===void 0?10:n,i=e.pageNumber,l=i===void 0?1:i,f=e.botId,h=of(e,["pageSize","pageNumber","botId"]);return Sn(this,void 0,void 0,function(){var u,d;return In(this,function(v){if(l<1)throw new Error("pageNumber must be greater than 0");return u=o*(l-1),d=o,[2,this.req({method:"get",url:this.join("bots/".concat(f,"/conversation")),data:Ji(Ji({},h),{offset:u,limit:d}),timeout:r==null?void 0:r.timeout})]})})},t.prototype.deleteConversation=function(e,r){var n=e.botId,o=e.conversationId,i=of(e,["botId","conversationId"]);return Sn(this,void 0,void 0,function(){return In(this,function(l){return[2,this.req({method:"delete",url:this.join("bots/".concat(n,"/conversation/").concat(o)),data:i,timeout:r==null?void 0:r.timeout})]})})},t.prototype.speechToText=function(e,r){return Sn(this,void 0,void 0,function(){return In(this,function(n){return[2,this.req({method:"post",url:this.join("bots/".concat(e.botId,"/speech-to-text")),data:e,timeout:r==null?void 0:r.timeout})]})})},t.prototype.textToSpeech=function(e,r){return Sn(this,void 0,void 0,function(){return In(this,function(n){return[2,this.req({method:"post",url:this.join("bots/".concat(e.botId,"/text-to-speech")),data:e,timeout:r==null?void 0:r.timeout})]})})},t.prototype.getTextToSpeechResult=function(e,r){return Sn(this,void 0,void 0,function(){return In(this,function(n){return[2,this.req({method:"get",url:this.join("bots/".concat(e.botId,"/text-to-speech")),data:e,timeout:r==null?void 0:r.timeout})]})})},t.prototype.getRecommendQuestions=function(e,r){return Sn(this,void 0,void 0,function(){var n;return In(this,function(o){switch(o.label){case 0:return[4,this.req({method:"post",url:this.join("bots/".concat(e.botId,"/recommend-questions")),data:e,stream:!0,timeout:r==null?void 0:r.timeout})];case 1:return n=o.sent(),[2,new af(n)]}})})},t.prototype.generateBot=function(e,r){return Sn(this,void 0,void 0,function(){var n;return In(this,function(o){switch(o.label){case 0:return[4,this.req({method:"post",url:this.join("generate-bot"),data:e,stream:!0,timeout:r==null?void 0:r.timeout})];case 1:return n=o.sent(),[2,new af(n)]}})})},t.prototype.getPreview=function(e,r){return Sn(this,void 0,void 0,function(){var n;return In(this,function(o){switch(o.label){case 0:return[4,this.req({method:"post",url:this.join("preview"),data:e,stream:!0,timeout:r==null?void 0:r.timeout})];case 1:return n=o.sent(),[2,new af(n)]}})})},t.prototype.generateImage=function(e,r){return this.req({method:"post",url:this.join("generate-image"),data:e,timeout:r==null?void 0:r.timeout})},t.prototype.sendMessage=function(e,r){return Sn(this,void 0,void 0,function(){var n;return In(this,function(o){switch(o.label){case 0:return[4,this.req({method:"post",url:this.join("bots/".concat(e.botId,"/send-message")),data:e,stream:!0,timeout:r==null?void 0:r.timeout})];case 1:return n=o.sent(),[2,new af(n)]}})})},t.prototype.join=function(e){return"".concat(this.baseUrl,"/").concat(e)},t})(),af=(function(){function t(e){var r=jr(e);this._eventSourceStream=r.pipeThrough(new E_).pipeThrough(SC())}return Object.defineProperty(t.prototype,"teeedStream",{get:function(){var e=this._eventSourceStream.tee(),r=e[0],n=e[1];return this._eventSourceStream=n,r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eventSourceStream",{get:function(){return at(this.teeedStream)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataStream",{get:function(){return at(this.eventSourceStream.pipeThrough(new _t({transform:function(e,r){try{var n=JSON.parse(e.data);r.enqueue(n)}catch(o){e.data!=="[DONE]"?console.warn("Error when transforming event source data to json",o,e):r.terminate()}}})))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textStream",{get:function(){return at(this.dataStream.pipeThrough(new _t({transform:function(e,r){var n;r.enqueue((n=e==null?void 0:e.content)!==null&&n!==void 0?n:"")}})))},enumerable:!1,configurable:!0}),t})(),$t=function(){return $t=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},$t.apply(this,arguments)},RO=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function h(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,h)}u((n=n.apply(t,e||[])).next())})},AO=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return h([u,d])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};function CO(t){var e=t.messages,r=t.model,n=t.temperature,o=t.tool_choice,i=t.tools,l=t.top_p,f=function(){return o&&o!=="auto"&&console.warn("`tool_choice` is not 'auto'"),o};return $t($t({},t),{messages:e,model:r,temperature:n,tool_choice:f(),tools:i,top_p:l})}var IC=(function(){function t(e,r,n){this.req=e,this.baseUrl=r,this.subUrl="zhipu/api/paas/v4/chat/completions",n!=null&&(this.subUrl=n)}return Object.defineProperty(t.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),t.prototype.doGenerate=function(e,r){return RO(this,void 0,void 0,function(){var n,o;return AO(this,function(i){switch(i.label){case 0:return n=CO(e),[4,this.req({url:this.url,data:$t($t({},n),{stream:!1}),stream:!1,timeout:r==null?void 0:r.timeout})];case 1:return o=i.sent(),[2,$t($t({},o),{rawResponse:o})]}})})},t.prototype.doStream=function(e,r){return RO(this,void 0,void 0,function(){var n,o,i,l,f,h;return AO(this,function(u){switch(u.label){case 0:return n=CO(e),o=null,[4,this.req({url:this.url,data:$t($t({},n),{stream:!0}),stream:!0,timeout:r==null?void 0:r.timeout})];case 1:return i=u.sent(),l=jr(i),f=kn(l),h=f.pipeThrough(new _t({transform:function(d,v){var y=d.choices.map(function(w){var S=w.delta;return o==null&&(o=un(S)),o?$t($t({},w),{finish_reason:"tool_calls",delta:S}):w}),_=$t($t({},d),{choices:y});v.enqueue($t($t({},_),{rawResponse:d}))}})),[2,at(h)]}})})},t})(),Zf=function(){return Zf=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Zf.apply(this,arguments)};function na(t){var e=t.messages,r=t.model,n=t.temperature,o=t.tool_choice,i=t.tools,l=t.top_p,f=function(){if(i)return i.forEach(function(u){u.type!=="function"&&console.warn("`type` in tool is not 'function'",u)}),i},h=function(){return e.forEach(function(u){"tool_calls"in u&&u.tool_calls.filter(function(d){return d.type!=="function"}).forEach(function(d){return console.warn("`type` in tool_call is not 'function'",d,u)})}),e};return Zf(Zf({},t),{messages:h(),model:r,tools:f(),top_p:l,tool_choice:o,temperature:n})}function ed(t){if(typeof t!="object"||t==null)return t;if(Array.isArray(t))return t.map(function(r){return ed(r)});return Object.entries(t).reduce(function(r,n){var o=n[0],i=n[1],l=e(o);return r[l]=typeof i=="object"?ed(i):i,r},{});function e(r){var n=r.replace(/[A-Z]/g,function(o){return"_".concat(o.toLowerCase())});return n.charAt(0)==="_"?n.slice(1):n}}var cr=function(){return cr=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},cr.apply(this,arguments)},PO=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function h(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,h)}u((n=n.apply(t,e||[])).next())})},NO=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return h([u,d])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},TC=(function(){function t(e,r,n){this.req=e,this.baseUrl=r,this.subUrl="hunyuan-beta/openapi/v1/chat/completions",n!=null&&(this.subUrl=n)}return Object.defineProperty(t.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),t.prototype.doGenerate=function(e,r){return PO(this,void 0,void 0,function(){var n;return NO(this,function(o){switch(o.label){case 0:return[4,this.req({url:this.url,data:cr(cr({},na(e)),{stream:!1}),stream:!1,timeout:r==null?void 0:r.timeout})];case 1:return n=o.sent(),[2,cr(cr({},n),{rawResponse:n})]}})})},t.prototype.doStream=function(e,r){return PO(this,void 0,void 0,function(){var n,o,i,l,f;return NO(this,function(h){switch(h.label){case 0:return n=null,[4,this.req({url:this.url,data:cr(cr({},na(e)),{stream:!0}),stream:!0,timeout:r==null?void 0:r.timeout})];case 1:return o=h.sent(),i=jr(o),l=kn(i),f=l.pipeThrough(new _t({transform:function(u,d){var v=u.choices.map(function(_){var w=_.delta;return n==null&&(n=un(w)),n?cr(cr({},_),{finish_reason:"tool_calls",delta:w}):_}),y=cr(cr({},u),{choices:v});d.enqueue(cr(cr({},y),{rawResponse:u}))}})),[2,at(f)]}})})},t})(),fr=function(){return fr=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},fr.apply(this,arguments)},kO=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function h(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,h)}u((n=n.apply(t,e||[])).next())})},LO=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return h([u,d])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},OC=(function(){function t(e,r,n){this.req=e,this.baseUrl=r,this.subUrl="hunyuan",n!=null&&(this.subUrl=n)}return Object.defineProperty(t.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),t.prototype.doGenerate=function(e,r){return kO(this,void 0,void 0,function(){var n,o;return LO(this,function(i){switch(i.label){case 0:return[4,this.req({url:this.url,headers:{"X-Tc-Action":"ChatCompletions"},data:fr(fr({},na(e)),{stream:!1}),stream:!1,timeout:r==null?void 0:r.timeout})];case 1:return n=i.sent(),o=ed(n.Response),[2,fr(fr({},o),{rawResponse:n})]}})})},t.prototype.doStream=function(e,r){return kO(this,void 0,void 0,function(){var n,o,i,l,f;return LO(this,function(h){switch(h.label){case 0:return n=null,[4,this.req({url:this.url,headers:{"X-Tc-Action":"ChatCompletions"},data:fr(fr({},e),{stream:!0}),stream:!0,timeout:r==null?void 0:r.timeout})];case 1:return o=h.sent(),i=jr(o),l=kn(i),f=l.pipeThrough(new _t({transform:function(u,d){var v=ed(u),y=v.choices.map(function(w){var S=w.delta;return n==null&&(n=un(S)),n?fr(fr({},w),{finish_reason:"tool_calls",delta:S}):w}),_=fr(fr({},v),{choices:y});d.enqueue(fr(fr({},_),{rawResponse:u}))}})),[2,at(f)]}})})},t})(),Wt=function(){return Wt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Wt.apply(this,arguments)},jO=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function h(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,h)}u((n=n.apply(t,e||[])).next())})},DO=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return h([u,d])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};function UO(t){var e=t.messages,r=t.model,n=t.temperature,o=t.tools,i=t.top_p;return Wt(Wt({},t),{messages:e,model:r,tools:o,top_p:i,temperature:n})}var xC=(function(){function t(e,r,n){this.req=e,this.baseUrl=r,this.subUrl="ark/api/v3/chat/completions",n!=null&&(this.subUrl=n)}return Object.defineProperty(t.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),t.prototype.doGenerate=function(e,r){return jO(this,void 0,void 0,function(){var n;return DO(this,function(o){switch(o.label){case 0:return[4,this.req({url:this.url,data:Wt(Wt({},UO(e)),{stream:!1}),stream:!1,timeout:r==null?void 0:r.timeout})];case 1:return n=o.sent(),[2,Wt(Wt({},n),{rawResponse:n})]}})})},t.prototype.doStream=function(e,r){return jO(this,void 0,void 0,function(){var n,o,i,l,f;return DO(this,function(h){switch(h.label){case 0:return n=null,[4,this.req({url:this.url,data:Wt(Wt({},UO(e)),{stream:!0}),stream:!0,timeout:r==null?void 0:r.timeout})];case 1:return o=h.sent(),i=jr(o),l=kn(i),f=l.pipeThrough(new _t({transform:function(u,d){var v=u.choices.map(function(_){var w=_.delta;return n==null&&(n=un(w)),n?Wt(Wt({},_),{finish_reason:"tool_calls",delta:w}):_}),y=Wt(Wt({},u),{choices:v});d.enqueue(Wt(Wt({},y),{rawResponse:u}))}})),[2,at(f)]}})})},t})(),Ct=function(){return Ct=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ct.apply(this,arguments)},FO=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function h(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,h)}u((n=n.apply(t,e||[])).next())})},MO=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return h([u,d])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};function BO(t){var e=t.messages,r=t.model,n=t.temperature,o=t.tools,i=t.top_p;return Ct(Ct({},t),{messages:e,model:r,tools:o,top_p:i,temperature:n})}var RC=(function(){function t(e,r,n){this.req=e,this.baseUrl=r,this.subUrl="dashscope/compatible-mode/v1/chat/completions",n!=null&&(this.subUrl=n)}return Object.defineProperty(t.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),t.prototype.doGenerate=function(e,r){return FO(this,void 0,void 0,function(){var n;return MO(this,function(o){switch(o.label){case 0:return[4,this.req({url:this.url,data:Ct(Ct({},BO(e)),{stream:!1}),stream:!1,timeout:r==null?void 0:r.timeout})];case 1:return n=o.sent(),[2,Ct(Ct({},n),{rawResponse:n})]}})})},t.prototype.doStream=function(e,r){return FO(this,void 0,void 0,function(){var n,o,i,l,f;return MO(this,function(h){switch(h.label){case 0:return n=null,[4,this.req({url:this.url,data:Ct(Ct({},BO(e)),{stream:!0}),stream:!0,timeout:r==null?void 0:r.timeout})];case 1:return o=h.sent(),i=jr(o),l=kn(i),f=l.pipeThrough(new _t({transform:function(u,d){var v=u.choices.map(function(_){var w=Object.assign(_.delta,{role:"assistant"});return n==null&&(n=un(w)),n?Ct(Ct({},_),{finish_reason:"tool_calls",delta:w}):Ct(Ct({},_),{delta:w})}),y=Ct(Ct({},u),{choices:v});d.enqueue(Ct(Ct({},y),{rawResponse:u}))}})),[2,at(f)]}})})},t})(),Pt=function(){return Pt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Pt.apply(this,arguments)},qO=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function h(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,h)}u((n=n.apply(t,e||[])).next())})},$O=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return h([u,d])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};function WO(t){var e=t.messages,r=t.model,n=t.temperature,o=t.tools,i=t.top_p;return Pt(Pt({},t),{messages:e,model:r,tools:o,top_p:i,temperature:n})}var AC=(function(){function t(e,r,n){this.req=e,this.baseUrl=r,this.subUrl="01-ai/v1/chat/completions",n!=null&&(this.subUrl=n)}return Object.defineProperty(t.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),t.prototype.doGenerate=function(e,r){return qO(this,void 0,void 0,function(){var n;return $O(this,function(o){switch(o.label){case 0:return[4,this.req({url:this.url,data:Pt(Pt({},WO(e)),{stream:!1}),stream:!1,timeout:r==null?void 0:r.timeout})];case 1:return n=o.sent(),[2,Pt(Pt({},n),{rawResponse:n})]}})})},t.prototype.doStream=function(e,r){return qO(this,void 0,void 0,function(){var n,o,i,l,f;return $O(this,function(h){switch(h.label){case 0:return n=null,[4,this.req({url:this.url,data:Pt(Pt({},WO(e)),{stream:!0}),stream:!0,timeout:r==null?void 0:r.timeout})];case 1:return o=h.sent(),i=jr(o),l=kn(i),f=l.pipeThrough(new _t({transform:function(u,d){var v,y,_,w,S,T;if(!((_=(y=(v=u==null?void 0:u.choices)===null||v===void 0?void 0:v[0])===null||y===void 0?void 0:y.delta)===null||_===void 0)&&_.content||!((T=(S=(w=u==null?void 0:u.choices)===null||w===void 0?void 0:w[0])===null||S===void 0?void 0:S.delta)===null||T===void 0)&&T.tool_calls){var O=u.choices.map(function(A){var C=Object.assign(A.delta,{role:"assistant"});return n==null&&(n=un(C)),n?Pt(Pt({},A),{finish_reason:"tool_calls",delta:C}):Pt(Pt({},A),{delta:C})}),x=Pt(Pt({},u),{choices:O});d.enqueue(Pt(Pt({},x),{rawResponse:u}))}}})),[2,at(f)]}})})},t})(),Ht=function(){return Ht=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ht.apply(this,arguments)},HO=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function h(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,h)}u((n=n.apply(t,e||[])).next())})},GO=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return h([u,d])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};function zO(t){var e=t.messages,r=t.model,n=t.temperature,o=t.tools,i=t.top_p;return Ht(Ht({},t),{messages:e,model:r,tools:o,top_p:i,temperature:n})}var CC=(function(){function t(e,r,n){this.req=e,this.baseUrl=r,this.subUrl="moonshot/v1/chat/completions",n!=null&&(this.subUrl=n)}return Object.defineProperty(t.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),t.prototype.doGenerate=function(e,r){return HO(this,void 0,void 0,function(){var n;return GO(this,function(o){switch(o.label){case 0:return[4,this.req({url:this.url,data:Ht(Ht({},zO(e)),{stream:!1}),stream:!1,timeout:r==null?void 0:r.timeout})];case 1:return n=o.sent(),[2,Ht(Ht({},n),{rawResponse:n})]}})})},t.prototype.doStream=function(e,r){return HO(this,void 0,void 0,function(){var n,o,i,l,f;return GO(this,function(h){switch(h.label){case 0:return n=null,[4,this.req({url:this.url,data:Ht(Ht({},zO(e)),{stream:!0}),stream:!0,timeout:r==null?void 0:r.timeout})];case 1:return o=h.sent(),i=jr(o),l=kn(i),f=l.pipeThrough(new _t({transform:function(u,d){var v=u.choices.map(function(_){var w=_.delta;return n==null&&(n=un(w)),n?Ht(Ht({},_),{finish_reason:"tool_calls",delta:w}):_}),y=Ht(Ht({},u),{choices:v});d.enqueue(Ht(Ht({},y),{rawResponse:u}))}})),[2,at(f)]}})})},t})(),dr=function(){return dr=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},dr.apply(this,arguments)},VO=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function h(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,h)}u((n=n.apply(t,e||[])).next())})},KO=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return h([u,d])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},PC=(function(){function t(e,r,n){this.req=e,this.baseUrl=r,this.subUrl="hunyuan-exp/chat/completions",n!=null&&(this.subUrl=n)}return Object.defineProperty(t.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),t.prototype.doGenerate=function(e){return VO(this,void 0,void 0,function(){var r;return KO(this,function(n){switch(n.label){case 0:return[4,this.req({url:this.url,data:dr(dr({},na(e)),{stream:!1}),stream:!1})];case 1:return r=n.sent(),[2,dr(dr({},r),{rawResponse:r})]}})})},t.prototype.doStream=function(e){return VO(this,void 0,void 0,function(){var r,n,o,i,l;return KO(this,function(f){switch(f.label){case 0:return r=null,[4,this.req({url:this.url,data:dr(dr({},na(e)),{stream:!0}),stream:!0})];case 1:return n=f.sent(),o=jr(n),i=kn(o),l=i.pipeThrough(new _t({transform:function(h,u){var d=h.choices.map(function(y){var _=y.delta;return r==null&&(r=un(_)),r?dr(dr({},y),{finish_reason:"tool_calls",delta:_}):y}),v=dr(dr({},h),{choices:d});u.enqueue(dr(dr({},v),{rawResponse:h}))}})),[2,at(l)]}})})},t})(),hr=function(){return hr=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},hr.apply(this,arguments)},YO=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function h(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,h)}u((n=n.apply(t,e||[])).next())})},JO=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return h([u,d])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},NC=(function(){function t(e,r,n){this.req=e,this.baseUrl=r,this.subUrl="hunyuan-open/v1/chat/completions",n!=null&&(this.subUrl=n)}return Object.defineProperty(t.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),t.prototype.doGenerate=function(e,r){return YO(this,void 0,void 0,function(){var n;return JO(this,function(o){switch(o.label){case 0:return[4,this.req({url:this.url,data:hr(hr({},na(e)),{stream:!1}),stream:!1,timeout:r==null?void 0:r.timeout})];case 1:return n=o.sent(),[2,hr(hr({},n),{rawResponse:n})]}})})},t.prototype.doStream=function(e,r){return YO(this,void 0,void 0,function(){var n,o,i,l,f;return JO(this,function(h){switch(h.label){case 0:return n=null,[4,this.req({url:this.url,data:hr(hr({},na(e)),{stream:!0}),stream:!0,timeout:r==null?void 0:r.timeout})];case 1:return o=h.sent(),i=jr(o),l=kn(i),f=l.pipeThrough(new _t({transform:function(u,d){var v=u.choices.map(function(_){var w=_.delta;return n==null&&(n=un(w)),n?hr(hr({},_),{finish_reason:"tool_calls",delta:w}):_}),y=hr(hr({},u),{choices:v});d.enqueue(hr(hr({},y),{rawResponse:u}))}})),[2,at(f)]}})})},t})(),pr=function(){return pr=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},pr.apply(this,arguments)},QO=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function h(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,h)}u((n=n.apply(t,e||[])).next())})},XO=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return h([u,d])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},w8=(function(){function t(e,r,n){this.req=e,this.baseUrl=r,this.subUrl="deepseek/chat/completions",n!=null&&(this.subUrl=n)}return Object.defineProperty(t.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),t.prototype.doGenerate=function(e,r){return QO(this,void 0,void 0,function(){var n;return XO(this,function(o){switch(o.label){case 0:return[4,this.req({url:this.url,data:pr(pr({},e),{stream:!1}),stream:!1,timeout:r==null?void 0:r.timeout})];case 1:return n=o.sent(),[2,pr(pr({},n),{rawResponse:n})]}})})},t.prototype.doStream=function(e,r){return QO(this,void 0,void 0,function(){var n,o,i,l,f;return XO(this,function(h){switch(h.label){case 0:return n=null,[4,this.req({url:this.url,data:pr(pr({},e),{stream:!0}),stream:!0,timeout:r==null?void 0:r.timeout})];case 1:return o=h.sent(),i=jr(o),l=kn(i),f=l.pipeThrough(new _t({transform:function(u,d){var v=u.choices.map(function(_){var w=_.delta;return n==null&&(n=un(w)),n?pr(pr({},_),{finish_reason:"tool_calls",delta:w}):_}),y=pr(pr({},u),{choices:v});d.enqueue(pr(pr({},y),{rawResponse:u}))}})),[2,at(f)]}})})},t})(),vr=function(){return vr=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},vr.apply(this,arguments)},ZO=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function h(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,h)}u((n=n.apply(t,e||[])).next())})},e2=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return h([u,d])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},kC=(function(){function t(e,r,n){n===void 0&&(n=""),this.req=e,this.baseUrl=r,this.subUrl=n}return Object.defineProperty(t.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),t.prototype.doGenerate=function(e){return ZO(this,void 0,void 0,function(){var r;return e2(this,function(n){switch(n.label){case 0:return[4,this.req({url:this.url,data:vr(vr({},e),{stream:!1}),stream:!1})];case 1:return r=n.sent(),[2,vr(vr({},r),{rawResponse:r})]}})})},t.prototype.doStream=function(e){return ZO(this,void 0,void 0,function(){var r,n,o,i,l;return e2(this,function(f){switch(f.label){case 0:return r=null,[4,this.req({url:this.url,data:vr(vr({},e),{stream:!0}),stream:!0})];case 1:return n=f.sent(),o=jr(n),i=kn(o),l=i.pipeThrough(new _t({transform:function(h,u){var d=h.choices.map(function(y){var _=y.delta;return r==null&&(r=un(_)),r?vr(vr({},y),{finish_reason:"tool_calls",delta:_}):y}),v=vr(vr({},h),{choices:d});u.enqueue(vr(vr({},v),{rawResponse:h}))}})),[2,at(l)]}})})},t})(),td=function(){return td=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},td.apply(this,arguments)},ag=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function h(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,h)}u((n=n.apply(t,e||[])).next())})},sg=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return h([u,d])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},b8=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r},E8=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(l){return new Promise(function(f,h){l=t[i](l),o(f,h,l.done,l.value)})}}function o(i,l,f,h){Promise.resolve(h).then(function(u){i({value:u,done:f})},l)}},Hn=function(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))};function t2(t){var e,r=t.onStepFinish,n=t.abortSignal,o=t.maxSteps,i=t.topP,l=t.toolChoice,f=b8(t,["onStepFinish","abortSignal","maxSteps","topP","toolChoice"]);if(o!=null&&o<1)throw new Error("`maxSteps` muse be greater than 0.");return[{onStepFinish:r,abortSignal:n,maxSteps:o},td(td({},f),{tools:(e=f.tools)===null||e===void 0?void 0:e.map(function(h){return"fn"in h?g8(h):h}),top_p:i??f.top_p,tool_choice:l??f.tool_choice})]}var LC=(function(){function t(e){this.model=e}return t.prototype.generateText=function(e,r){var n,o;return ag(this,void 0,void 0,function(){var i,l,f,h,u,d,v,y,_,w,S,T,O,x,A,C,U,q,K,V,k,$=this;return sg(this,function(F){switch(F.label){case 0:return i=[],l={completion_tokens:0,prompt_tokens:0,total_tokens:0},f=t2(e),h=f[0],u=h.onStepFinish,d=h.maxSteps,v=d===void 0?10:d,y=f[1],_=function(){return $.model.doGenerate(y,r)},[4,_()];case 1:w=F.sent(),S=1,w.rawResponse&&i.push(w.rawResponse),T=null,F.label=2;case 2:if(!(S<v&&(T=r2(w))!=null))return[3,9];O=o2(w.usage),Tu(l,O),F.label=3;case 3:return F.trys.push([3,7,,8]),[4,i2(T)];case 4:return x=F.sent(),A=w.choices[0],[4,u==null?void 0:u({finishReason:A.finish_reason,messages:y.messages.slice(),text:A.message.content,toolCall:T,toolResult:x,stepUsage:O,totalUsage:Object.assign({},l)})];case 5:return F.sent(),n2(y.messages,A.message,x),[4,_()];case 6:return w=F.sent(),w.rawResponse&&i.push(w.rawResponse),S+=1,[3,8];case 7:return C=F.sent(),[2,{text:"",messages:y.messages,usage:l,error:C,rawResponses:i}];case 8:return[3,2];case 9:return U=(n=w==null?void 0:w.choices)===null||n===void 0?void 0:n[0],q=U==null?void 0:U.message,K=(o=q==null?void 0:q.content)!==null&&o!==void 0?o:"",V=q?Hn(Hn([],y.messages,!0),[q],!1):y.messages,k=o2(w.usage),Tu(l,k),[4,u==null?void 0:u({finishReason:U.finish_reason,messages:V.slice(),text:K,toolCall:r2(w),toolResult:null,stepUsage:k,totalUsage:Object.assign({},l)})];case 10:return F.sent(),[2,{text:K,messages:V,usage:l,rawResponses:i}]}})})},t.prototype.streamText=function(e,r){var n;return ag(this,void 0,void 0,function(){var o,i,l,f,h,u,d,v,y,_,w,S,T,O,x,A,C,U,q,K,V,k,$,F,z,Q,ee,he,be,fe,Y,re,J,j,X,xe,Ae=this;return sg(this,function(te){switch(te.label){case 0:return o={completion_tokens:0,prompt_tokens:0,total_tokens:0},i=t2(e),l=i[0],f=l.onStepFinish,h=l.maxSteps,u=h===void 0?10:h,d=i[1],v=function(){return Ae.model.doStream(d,r)},[4,v()];case 1:y=te.sent(),_=1,w=null,S=function(){var Z=y.tee(),Ie=Z[0],de=Z[1];return y=at(Ie),S8(de)},te.label=2;case 2:return T=_<u,T?[4,S()]:[3,4];case 3:T=(w=te.sent())!=null,te.label=4;case 4:if(!T)return[3,11];O=w.message,x=w.usage,Tu(o,x),A=(n=O.tool_calls)===null||n===void 0?void 0:n[0],te.label=5;case 5:return te.trys.push([5,9,,10]),[4,i2(A)];case 6:return C=te.sent(),[4,f==null?void 0:f({finishReason:"tool_calls",messages:d.messages.slice(),text:O.content,toolCall:A,toolResult:C,stepUsage:x,totalUsage:Object.assign({},o)})];case 7:return te.sent(),n2(d.messages,O,C),[4,v()];case 8:return y=te.sent(),[3,10];case 9:return U=te.sent(),q=y.tee(),K=q[0],V=q[1],[2,{messages:Promise.resolve(d.messages),dataStream:at(K),textStream:at(V.pipeThrough(new _t({transform:function(Z,Ie){var de,Ce,Fe,Ye=(Fe=(Ce=(de=Z==null?void 0:Z.choices)===null||de===void 0?void 0:de[0])===null||Ce===void 0?void 0:Ce.delta)===null||Fe===void 0?void 0:Fe.content;typeof Ye=="string"&&Ie.enqueue(Ye)}}))),usage:Promise.resolve(o),error:U}];case 10:return[3,2];case 11:return[4,S()];case 12:return w=te.sent(),w?(k=w.message,$=w.usage,Tu(o,$),F=Hn(Hn([],d.messages,!0),[k],!1),f({messages:F.slice(),finishReason:"tool_call",stepUsage:$,text:k.content,toolCall:k.tool_calls[0],totalUsage:Object.assign({},o)}),z=y.tee(),Q=z[0],ee=z[1],[2,{messages:Promise.resolve(Hn(Hn([],d.messages,!0),[k],!1)),dataStream:at(Q),textStream:at(ee.pipeThrough(new _t({transform:function(Z,Ie){var de,Ce,Fe,Ye=(Fe=(Ce=(de=Z==null?void 0:Z.choices)===null||de===void 0?void 0:de[0])===null||Ce===void 0?void 0:Ce.delta)===null||Fe===void 0?void 0:Fe.content;typeof Ye=="string"&&Ie.enqueue(Ye)}}))),usage:Promise.resolve(o)}]):(he=xO(),be=xO(),fe={role:"assistant",content:""},Y="",re={completion_tokens:0,prompt_tokens:0,total_tokens:0},J=y.pipeThrough(new _t({transform:function(Z,Ie){var de,Ce,Fe,Ye,ft,Nt,Sr,R,b=(Fe=(Ce=(de=Z==null?void 0:Z.choices)===null||de===void 0?void 0:de[0])===null||Ce===void 0?void 0:Ce.delta)===null||Fe===void 0?void 0:Fe.content;typeof b=="string"&&(fe.content+=b);var E=(ft=(Ye=Z==null?void 0:Z.choices)===null||Ye===void 0?void 0:Ye[0])===null||ft===void 0?void 0:ft.finish_reason;E&&(Y=E),!((Nt=Z==null?void 0:Z.usage)===null||Nt===void 0)&&Nt.completion_tokens&&(re.completion_tokens=Z.usage.completion_tokens),!((Sr=Z==null?void 0:Z.usage)===null||Sr===void 0)&&Sr.prompt_tokens&&(re.prompt_tokens=Z.usage.prompt_tokens),!((R=Z==null?void 0:Z.usage)===null||R===void 0)&&R.total_tokens&&(re.total_tokens=Z.usage.total_tokens),Ie.enqueue(Z)},flush:function(){he.res(Hn(Hn([],d.messages,!0),[fe],!1)),Tu(o,re),be.res(Object.assign({},o)),f==null||f({messages:Hn(Hn([],d.messages,!0),[fe],!1),finishReason:Y,text:fe.content,stepUsage:re,totalUsage:Object.assign({},o)})}})),j=J.tee(),X=j[0],xe=j[1],[2,{messages:he.promise,dataStream:at(X),textStream:at(xe.pipeThrough(new _t({transform:function(Z,Ie){var de,Ce,Fe,Ye=(Fe=(Ce=(de=Z==null?void 0:Z.choices)===null||de===void 0?void 0:de[0])===null||Ce===void 0?void 0:Ce.delta)===null||Fe===void 0?void 0:Fe.content;typeof Ye=="string"&&Ie.enqueue(Ye)}}))),usage:be.promise}])}})})},t})();function r2(t){var e,r=(e=t==null?void 0:t.choices)===null||e===void 0?void 0:e[0];if(!r)return null;var n=r.finish_reason,o=r.message;return n!=="tool_calls"||!o||!un(o)?null:o.tool_calls[0]}function n2(t,e,r){t.push(e,{role:"tool",tool_call_id:e.tool_calls[0].id,content:JSON.stringify(r)})}function S8(t){var e,r,n,o,i,l,f,h,u,d;return ag(this,void 0,void 0,function(){var v,y,_,w,S,T,O,x,A,C,U,q,K;return sg(this,function(V){switch(V.label){case 0:v={completion_tokens:0,prompt_tokens:0,total_tokens:0},y=at(t),_={id:"",function:{name:"",arguments:""},type:""},w={role:"assistant",content:"",tool_calls:[_]},V.label=1;case 1:V.trys.push([1,6,7,12]),S=!0,T=E8(y),V.label=2;case 2:return[4,T.next()];case 3:if(O=V.sent(),e=O.done,!!e)return[3,5];o=O.value,S=!1;try{if(x=o,A=x==null?void 0:x.choices[0],!A)return[2,null];if(C=A.finish_reason,U=A.delta,C!=="tool_calls")return[2,null];if(!U)return[3,4];if(U.content&&(w.content+=U.content),!("tool_calls"in U))return[3,4];q=(i=U==null?void 0:U.tool_calls)===null||i===void 0?void 0:i[0],q!=null&&q.id&&(_.id=q.id),q!=null&&q.type&&(_.type=q.type),!((l=q==null?void 0:q.function)===null||l===void 0)&&l.name&&(_.function.name=q.function.name),!((f=q==null?void 0:q.function)===null||f===void 0)&&f.arguments&&(_.function.arguments+=q.function.arguments),!((h=x==null?void 0:x.usage)===null||h===void 0)&&h.completion_tokens&&(v.completion_tokens=x.usage.completion_tokens),!((u=x==null?void 0:x.usage)===null||u===void 0)&&u.prompt_tokens&&(v.prompt_tokens=x.usage.prompt_tokens),!((d=x==null?void 0:x.usage)===null||d===void 0)&&d.total_tokens&&(v.total_tokens=x.usage.total_tokens)}finally{S=!0}V.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return K=V.sent(),r={error:K},[3,12];case 7:return V.trys.push([7,,10,11]),!S&&!e&&(n=T.return)?[4,n.call(T)]:[3,9];case 8:V.sent(),V.label=9;case 9:return[3,11];case 10:if(r)throw r.error;return[7];case 11:return[7];case 12:return[2,{message:w,usage:v}]}})})}var rd=new Map;function i2(t){return rd.get(t.function.name)(JSON.parse(t.function.arguments))}function o2(t){var e,r,n;return{completion_tokens:(e=t==null?void 0:t.completion_tokens)!==null&&e!==void 0?e:0,prompt_tokens:(r=t==null?void 0:t.prompt_tokens)!==null&&r!==void 0?r:0,total_tokens:(n=t==null?void 0:t.total_tokens)!==null&&n!==void 0?n:0}}function Tu(t,e){t.completion_tokens+=e.completion_tokens,t.prompt_tokens+=e.prompt_tokens,t.total_tokens+=e.total_tokens}var jC={hunyuan:OC,"hunyuan-beta":TC,ark:xC,dashscope:RC,"01-ai":AC,moonshot:CC,zhipu:IC,"hunyuan-exp":PC,"hunyuan-open":NC,deepseek:w8};const I8=Object.freeze(Object.defineProperty({__proto__:null,ArkSimpleModel:xC,DSSimpleModel:RC,DefaultSimpleModel:kC,HunYuanBetaSimpleModel:TC,HunYuanExpSimpleModel:PC,HunYuanOpenSimpleModel:NC,HunYuanSimpleModel:OC,MODELS:jC,MoonshotSimpleModel:CC,ReactModel:LC,YiSimpleModel:AC,ZhiPuSimpleModel:IC,toolMap:rd},Symbol.toStringTag,{value:"Module"}));var ns=function(){return ns=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},ns.apply(this,arguments)},h0=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function h(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,h)}u((n=n.apply(t,e||[])).next())})},p0=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return h([u,d])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},v0=jC,T8=(function(){function t(e,r,n){var o=this;this.req=e,this.baseUrl=r,this.modelRequest=function(i){var l=i.url,f=i.data,h=i.headers,u=i.stream,d=i.timeout;return h0(o,void 0,void 0,function(){var v,y,_,w,S,T,O;return p0(this,function(x){switch(x.label){case 0:return v={"Content-Type":"application/json"},u&&Object.assign(v,{Accept:"text/event-stream"}),[4,this.req.fetch({method:"post",headers:ns(ns((S={},S[(T=this.i18n)===null||T===void 0?void 0:T.LANG_HEADER_KEY]=(O=this.i18n)===null||O===void 0?void 0:O.lang,S),v),h),body:JSON.stringify(f),url:l,stream:u,timeout:d})];case 1:return y=x.sent(),_=y.data,w=y.header,[2,this.handleResponseData(_,w)]}})})},this.botRequest=function(i){var l=i.method,f=i.url,h=i.data,u=h===void 0?{}:h,d=i.headers,v=i.stream,y=i.timeout;return h0(o,void 0,void 0,function(){function _(q){return Object.entries(q).map(function(K){var V=K[0],k=K[1];return"".concat(V,"=").concat(k)}).join("&")}var w,S,T,O,x,A,C,U;return p0(this,function(q){switch(q.label){case 0:return l!=="get"?[3,2]:(w=this.handleResponseData,[4,this.req.fetch({url:"".concat(f,"?").concat(_(u)),method:l,headers:d,stream:v,timeout:y})]);case 1:return[2,w.apply(this,[q.sent().data])];case 2:return S={"Content-Type":"application/json"},v&&Object.assign(S,{Accept:"text/event-stream"}),[4,this.req.fetch({url:f,body:JSON.stringify(u),headers:ns(ns((A={},A[(C=this.i18n)===null||C===void 0?void 0:C.LANG_HEADER_KEY]=(U=this.i18n)===null||U===void 0?void 0:U.lang,A),S),d),stream:v,method:l,timeout:y})];case 3:return T=q.sent(),O=T.data,x=T.header,[2,this.handleResponseData(O,x)]}})})},this.aiBaseUrl="".concat(r,"/ai"),this.aiBotBaseUrl="".concat(r,"/aibot"),this.bot=new _8(this.botRequest,this.aiBotBaseUrl),this.i18n=n,pd.on(vd,function(i){var l;o.i18n=((l=i.data)===null||l===void 0?void 0:l.i18n)||o.i18n})}return t.prototype.handleResponseData=function(e,r){var n,o;return h0(this,void 0,void 0,function(){var i,l,l;return p0(this,function(f){switch(f.label){case 0:return i="".concat(this.i18n.t(" AI+ "),"https://tcb.cloud.tencent.com/dev#/ai"),typeof e=="object"&&e&&"then"in e?[4,e]:[3,2];case 1:if(l=f.sent(),typeof l=="object"&&l&&"code"in l&&l.code!=="NORMAL")throw new Error("".concat(this.i18n.t("AI+ "),"").concat(l.code,"").concat(this.i18n.t(""),"").concat(l.message,`
`).concat(i,`
`).concat(JSON.stringify(l,null,2)));return[2,e];case 2:return!((o=(n=r==null?void 0:r.get)===null||n===void 0?void 0:n.call(r,"content-type"))===null||o===void 0)&&o.includes("application/json")?[4,m8(e)]:[3,4];case 3:if(l=f.sent(),typeof l=="object"&&l&&"code"in l&&l.code!=="NORMAL")throw new Error("".concat(this.i18n.t("AI+ "),"").concat(l.code,"").concat(this.i18n.t(""),"").concat(l.message,`
`).concat(i,`
`).concat(JSON.stringify(l,null,2)));f.label=4;case 4:return[2,e]}})})},t.prototype.createModel=function(e,r){var n,o=v0[e];if(o)n=new o(this.modelRequest,this.aiBaseUrl);else{var i=typeof(r==null?void 0:r.defaultModelSubUrl)=="string"?r.defaultModelSubUrl:"/chat/completions";n=new kC(this.modelRequest,this.aiBaseUrl,"".concat(e).concat(i))}var l=new LC(n);return l},t.prototype.registerModel=function(e,r){if(v0[e]!=null){console.warn("AI model ".concat(e," already exists!"));return}v0[e]=r},t.prototype.registerFunctionTool=function(e){rd.has(e.name)&&console.warn("AI function tool ".concat(e.name," already exists and will be overwritten!")),rd.set(e.name,e.fn)},t})(),nd=function(){return nd=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},nd.apply(this,arguments)},O8=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function h(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,h)}u((n=n.apply(t,e||[])).next())})},x8=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return h([u,d])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},DC=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r},R8="ai";DC(I8,["MODELS"]);var A8=function(t){var e=t.getAccessToken,r=t.req,n=function(o){return O8(void 0,void 0,void 0,function(){var i,l,f,h,u;return x8(this,function(d){switch(d.label){case 0:if(typeof r.fetch!="function")throw new Error("req.fetch is not a function");return i=o.token,l=o.headers,f=l===void 0?{}:l,h=DC(o,["token","headers"]),i==null?[3,1]:(u=i,[3,3]);case 1:return[4,e()];case 2:u=d.sent().accessToken,d.label=3;case 3:return[2,r.fetch(nd({headers:nd({Authorization:"Bearer ".concat(u)},f)},h))]}})})};return{download:r.download,post:r.post,upload:r.upload,fetch:n}};function C8(t){var e=t.env,r=t.baseUrl,n=t.req,o=t.getAccessToken,i=t.handleReqInstance,l=t.i18n,f=function(){if(r!=null)return r;if(e==null)throw new Error("`env` is required when `baseUrl` is not provided!");return"https://".concat(e,".api.tcloudbasegateway.com/v1")},h=function(){if(i==null){if(o==null)throw new Error("`getAccessToken` is required when `handleReqInstance` is not provided!");return A8({req:n,getAccessToken:o})}return i({req:n})};return new T8(h(),f(),l)}function P8(t){var e=this,r,n=this.request;if(n.fetch==null)throw new Error("cloudbase.request.fetch() unimplemented!");var o=function(){var l=e.getEndPointWithKey("GATEWAY"),f=l.BASE_URL,h=l.PROTOCOL;return"".concat(h).concat(f)},i=(r=t==null?void 0:t.baseUrl)!==null&&r!==void 0?r:o();return C8({req:n,baseUrl:i,handleReqInstance:function(l){var f=l.req;return f},i18n:this.config.i18n})}var N8={name:R8,entity:{ai:P8}};function UC(t){try{t.registerComponent(N8)}catch(e){console.warn(e)}}try{window.registerAi=UC}catch{}var Yu=function(){return Yu=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Yu.apply(this,arguments)},k8=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function h(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,h)}u((n=n.apply(t,e||[])).next())})},L8=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return h([u,d])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};function FC(t,e){var r=this,n=t.request.fetch.bind(t.request),o=e||{},i=o.instance,l=i===void 0?"default":i,f=o.database,h=f===void 0?t.config.env:f,u=function(S,T){return k8(r,void 0,void 0,function(){var O,x,A,C,U;return L8(this,function(q){switch(q.label){case 0:return O={},T.headers instanceof Headers?T.headers.forEach(function(K,V){O[V]=K}):O=T.headers||{},[4,n(Yu(Yu({url:S.toString()},T),{headers:Yu({"Content-Type":"application/json","X-Db-Instance":l,"Accept-Profile":h,"Content-Profile":h},O),shouldThrowOnError:!1}))];case 1:x=q.sent(),A={},q.label=2;case 2:return q.trys.push([2,4,,5]),[4,x.data];case 3:return A=q.sent(),[3,5];case 4:if(C=q.sent(),!C.message.includes("Unexpected end of JSON input"))throw C;return[3,5];case 5:return U={ok:(x==null?void 0:x.statusCode)>=200&&(x==null?void 0:x.statusCode)<300,status:(x==null?void 0:x.statusCode)||200,statusText:(x==null?void 0:x.statusMessage)||"OK",json:function(){return Promise.resolve(A||{})},text:function(){return Promise.resolve(typeof A=="string"?A:JSON.stringify(A||{}))},headers:x==null?void 0:x.header},[2,U]}})})},d=t.getEndPointWithKey("GATEWAY"),v=d.BASE_URL,y=d.PROTOCOL,_="".concat(y).concat(v,"/rdb/rest"),w=V$(t,{mysqlBaseUrl:_,fetch:u});return w}var MC={name:"mysql",entity:{mysql:function(t){return FC(this,t)(t)}}},BC={name:"rdb",entity:{rdb:function(t){return FC(this,t)(t)}}};try{cloudbase.registerComponent(MC),cloudbase.registerComponent(BC)}catch{}function qC(t){try{t.registerComponent(MC),t.registerComponent(BC)}catch(e){console.warn(e)}}try{window.registerMySQL=qC}catch{}var Lo,mi;(function(t){t.DocIDError="ID",t.CollNameError="",t.OpStrError="",t.DirectionError="",t.IntergerError="must be integer",t.QueryParamTypeError="",t.QueryParamValueError="undefined"})(mi||(mi={}));var nt={Number:"Number",Object:"Object",Array:"Array",GeoPoint:"GeoPoint",GeoLineString:"GeoLineString",GeoPolygon:"GeoPolygon",GeoMultiPoint:"GeoMultiPoint",GeoMultiLineString:"GeoMultiLineString",GeoMultiPolygon:"GeoMultiPolygon",Timestamp:"Date",ServerDate:"ServerDate",BsonDate:"BsonDate"},j8=["desc","asc"],D8=["<","<=","==",">=",">"],$o;(function(t){t.lt="<",t.gt=">",t.lte="<=",t.gte=">=",t.eq="=="})($o||($o={}));Lo={},Lo[$o.eq]="$eq",Lo[$o.lt]="$lt",Lo[$o.lte]="$lte",Lo[$o.gt]="$gt",Lo[$o.gte]="$gte";var Zn;(function(t){t.WHERE="WHERE",t.DOC="DOC"})(Zn||(Zn={}));var U8=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),sf=[],a2={},F8=(function(){function t(e){Object.defineProperties(this,{target:{enumerable:!1,writable:!1,configurable:!1,value:e}})}return t})(),Dr=(function(t){U8(e,t);function e(r,n){var o=this;if(n!==a2)throw new TypeError("InternalSymbol cannot be constructed with new operator");return o=t.call(this,r)||this,o}return e.for=function(r){for(var n=0,o=sf.length;n<o;n++)if(sf[n].target===r)return sf[n].instance;var i=new e(r,a2);return sf.push({target:r,instance:i}),i},e})(F8),ul=Dr.for("UNSET_FIELD_NAME"),$C=Dr.for("UPDATE_COMMAND"),WC=Dr.for("QUERY_COMMAND"),HC=Dr.for("LOGIC_COMMAND"),GC=Dr.for("GEO_POINT"),M8=Dr.for("SYMBOL_GEO_LINE_STRING"),B8=Dr.for("SYMBOL_GEO_POLYGON"),q8=Dr.for("SYMBOL_GEO_MULTI_POINT"),$8=Dr.for("SYMBOL_GEO_MULTI_LINE_STRING"),W8=Dr.for("SYMBOL_GEO_MULTI_POLYGON"),zC=Dr.for("SERVER_DATE"),VC=Dr.for("REGEXP"),KC=(function(){function t(e){var r=(e===void 0?{}:e).offset,n=r===void 0?0:r;this.offset=n}return Object.defineProperty(t.prototype,"_internalType",{get:function(){return zC},enumerable:!0,configurable:!0}),t.prototype.parse=function(){return{$date:{offset:this.offset}}},t})();function H8(t){return new KC(t)}var y0=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,i=[],l;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(f){l={error:f}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(l)throw l.error}}return i},Md=(function(){function t(){}return t.formatResDocumentData=function(e){return e.map(function(r){return t.formatField(r)})},t.formatField=function(e){var r=Object.keys(e),n={};return Array.isArray(e)&&(n=[]),r.forEach(function(o){var i=e[o],l=t.whichType(i),f;switch(l){case nt.GeoPoint:f=new gr(i.coordinates[0],i.coordinates[1]);break;case nt.GeoLineString:f=new Yn(i.coordinates.map(function(h){return new gr(h[0],h[1])}));break;case nt.GeoPolygon:f=new Yo(i.coordinates.map(function(h){return new Yn(h.map(function(u){var d=y0(u,2),v=d[0],y=d[1];return new gr(v,y)}))}));break;case nt.GeoMultiPoint:f=new id(i.coordinates.map(function(h){return new gr(h[0],h[1])}));break;case nt.GeoMultiLineString:f=new od(i.coordinates.map(function(h){return new Yn(h.map(function(u){var d=y0(u,2),v=d[0],y=d[1];return new gr(v,y)}))}));break;case nt.GeoMultiPolygon:f=new ll(i.coordinates.map(function(h){return new Yo(h.map(function(u){return new Yn(u.map(function(d){var v=y0(d,2),y=v[0],_=v[1];return new gr(y,_)}))}))}));break;case nt.Timestamp:f=new Date(i.$timestamp*1e3);break;case nt.Object:case nt.Array:f=t.formatField(i);break;case nt.ServerDate:f=new Date(i.$date);break;default:f=i}Array.isArray(n)?n.push(f):n[o]=f}),n},t.whichType=function(e){var r=Object.prototype.toString.call(e).slice(8,-1);if(r===nt.Timestamp)return nt.BsonDate;if(r===nt.Object){if(e instanceof gr)return nt.GeoPoint;if(e instanceof Date)return nt.Timestamp;if(e instanceof KC)return nt.ServerDate;e.$timestamp?r=nt.Timestamp:e.$date?r=nt.ServerDate:gr.validate(e)?r=nt.GeoPoint:Yn.validate(e)?r=nt.GeoLineString:Yo.validate(e)?r=nt.GeoPolygon:id.validate(e)?r=nt.GeoMultiPoint:od.validate(e)?r=nt.GeoMultiLineString:ll.validate(e)&&(r=nt.GeoMultiPolygon)}return r},t.generateDocId=function(){for(var e="ABCDEFabcdef0123456789",r="",n=0;n<24;n++)r+=e.charAt(Math.floor(Math.random()*e.length));return r},t})(),io=(function(){function t(){}return t.isGeopoint=function(e,r){if(Md.whichType(r)!==nt.Number)throw new Error("Geo Point must be number type");var n=Math.abs(r);if(e==="latitude"&&n>90)throw new Error("latitude should be a number ranges from -90 to 90");if(e==="longitude"&&n>180)throw new Error("longitude should be a number ranges from -180 to 180");return!0},t.isInteger=function(e,r){if(!Number.isInteger(r))throw new Error(e+mi.IntergerError);return!0},t.isFieldOrder=function(e){if(j8.indexOf(e)===-1)throw new Error(mi.DirectionError);return!0},t.isFieldPath=function(e){if(!/^[a-zA-Z0-9-_\.]/.test(e))throw new Error;return!0},t.isOperator=function(e){if(D8.indexOf(e)===-1)throw new Error(mi.OpStrError);return!0},t.isCollName=function(e){if(!/^[a-zA-Z0-9]([a-zA-Z0-9-_]){1,32}$/.test(e))throw new Error(mi.CollNameError);return!0},t.isDocID=function(e){if(!/^([a-fA-F0-9]){24}$/.test(e))throw new Error(mi.DocIDError);return!0},t})(),ei=function(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()},ao=function(t){return ei(t)==="object"},G8=function(t){return ei(t)==="string"},rn=function(t){return ei(t)==="number"},pt=function(t){return Array.isArray(t)},YC=function(t){return ei(t)==="date"},S_=function(t){return ei(t)==="regexp"},JC=function(t){return t&&t._internalType instanceof Dr},gr=(function(){function t(e,r){io.isGeopoint("longitude",e),io.isGeopoint("latitude",r),this.longitude=e,this.latitude=r}return t.prototype.parse=function(e){var r;return r={},r[e]={type:"Point",coordinates:[this.longitude,this.latitude]},r},t.prototype.toJSON=function(){return{type:"Point",coordinates:[this.longitude,this.latitude]}},t.prototype.toReadableString=function(){return"["+this.longitude+","+this.latitude+"]"},t.validate=function(e){return e.type==="Point"&&pt(e.coordinates)&&io.isGeopoint("longitude",e.coordinates[0])&&io.isGeopoint("latitude",e.coordinates[1])},Object.defineProperty(t.prototype,"_internalType",{get:function(){return GC},enumerable:!0,configurable:!0}),t})(),z8=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yn=(function(){function t(e){if(!pt(e))throw new TypeError('"points" must be of type Point[]. Received type '+typeof e);if(e.length<2)throw new Error('"points" must contain 2 points at least');e.forEach(function(r){if(!(r instanceof gr))throw new TypeError('"points" must be of type Point[]. Received type '+typeof r+"[]")}),this.points=e}return t.prototype.parse=function(e){var r;return r={},r[e]={type:"LineString",coordinates:this.points.map(function(n){return n.toJSON().coordinates})},r},t.prototype.toJSON=function(){return{type:"LineString",coordinates:this.points.map(function(e){return e.toJSON().coordinates})}},t.validate=function(e){var r,n;if(e.type!=="LineString"||!pt(e.coordinates))return!1;try{for(var o=z8(e.coordinates),i=o.next();!i.done;i=o.next()){var l=i.value;if(!rn(l[0])||!rn(l[1]))return!1}}catch(f){r={error:f}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return!0},t.isClosed=function(e){var r=e.points[0],n=e.points[e.points.length-1];if(r.latitude===n.latitude&&r.longitude===n.longitude)return!0},Object.defineProperty(t.prototype,"_internalType",{get:function(){return M8},enumerable:!0,configurable:!0}),t})(),s2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yo=(function(){function t(e){if(!pt(e))throw new TypeError('"lines" must be of type LineString[]. Received type '+typeof e);if(e.length===0)throw new Error("Polygon must contain 1 linestring at least");e.forEach(function(r){if(!(r instanceof Yn))throw new TypeError('"lines" must be of type LineString[]. Received type '+typeof r+"[]");if(!Yn.isClosed(r))throw new Error("LineString "+r.points.map(function(n){return n.toReadableString()})+" is not a closed cycle")}),this.lines=e}return t.prototype.parse=function(e){var r;return r={},r[e]={type:"Polygon",coordinates:this.lines.map(function(n){return n.points.map(function(o){return[o.longitude,o.latitude]})})},r},t.prototype.toJSON=function(){return{type:"Polygon",coordinates:this.lines.map(function(e){return e.points.map(function(r){return[r.longitude,r.latitude]})})}},t.validate=function(e){var r,n,o,i;if(e.type!=="Polygon"||!pt(e.coordinates))return!1;try{for(var l=s2(e.coordinates),f=l.next();!f.done;f=l.next()){var h=f.value;if(!this.isCloseLineString(h))return!1;try{for(var u=(o=void 0,s2(h)),d=u.next();!d.done;d=u.next()){var v=d.value;if(!rn(v[0])||!rn(v[1]))return!1}}catch(y){o={error:y}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}}}catch(y){r={error:y}}finally{try{f&&!f.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return!0},t.isCloseLineString=function(e){var r=e[0],n=e[e.length-1];return!(r[0]!==n[0]||r[1]!==n[1])},Object.defineProperty(t.prototype,"_internalType",{get:function(){return W8},enumerable:!0,configurable:!0}),t})(),V8=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},id=(function(){function t(e){if(!pt(e))throw new TypeError('"points" must be of type Point[]. Received type '+typeof e);if(e.length===0)throw new Error('"points" must contain 1 point at least');e.forEach(function(r){if(!(r instanceof gr))throw new TypeError('"points" must be of type Point[]. Received type '+typeof r+"[]")}),this.points=e}return t.prototype.parse=function(e){var r;return r={},r[e]={type:"MultiPoint",coordinates:this.points.map(function(n){return n.toJSON().coordinates})},r},t.prototype.toJSON=function(){return{type:"MultiPoint",coordinates:this.points.map(function(e){return e.toJSON().coordinates})}},t.validate=function(e){var r,n;if(e.type!=="MultiPoint"||!pt(e.coordinates))return!1;try{for(var o=V8(e.coordinates),i=o.next();!i.done;i=o.next()){var l=i.value;if(!rn(l[0])||!rn(l[1]))return!1}}catch(f){r={error:f}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return!0},Object.defineProperty(t.prototype,"_internalType",{get:function(){return q8},enumerable:!0,configurable:!0}),t})(),u2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},od=(function(){function t(e){if(!pt(e))throw new TypeError('"lines" must be of type LineString[]. Received type '+typeof e);if(e.length===0)throw new Error("Polygon must contain 1 linestring at least");e.forEach(function(r){if(!(r instanceof Yn))throw new TypeError('"lines" must be of type LineString[]. Received type '+typeof r+"[]")}),this.lines=e}return t.prototype.parse=function(e){var r;return r={},r[e]={type:"MultiLineString",coordinates:this.lines.map(function(n){return n.points.map(function(o){return[o.longitude,o.latitude]})})},r},t.prototype.toJSON=function(){return{type:"MultiLineString",coordinates:this.lines.map(function(e){return e.points.map(function(r){return[r.longitude,r.latitude]})})}},t.validate=function(e){var r,n,o,i;if(e.type!=="MultiLineString"||!pt(e.coordinates))return!1;try{for(var l=u2(e.coordinates),f=l.next();!f.done;f=l.next()){var h=f.value;try{for(var u=(o=void 0,u2(h)),d=u.next();!d.done;d=u.next()){var v=d.value;if(!rn(v[0])||!rn(v[1]))return!1}}catch(y){o={error:y}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}}}catch(y){r={error:y}}finally{try{f&&!f.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return!0},Object.defineProperty(t.prototype,"_internalType",{get:function(){return $8},enumerable:!0,configurable:!0}),t})(),uf=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ll=(function(){function t(e){var r,n;if(!pt(e))throw new TypeError('"polygons" must be of type Polygon[]. Received type '+typeof e);if(e.length===0)throw new Error("MultiPolygon must contain 1 polygon at least");try{for(var o=uf(e),i=o.next();!i.done;i=o.next()){var l=i.value;if(!(l instanceof Yo))throw new TypeError('"polygon" must be of type Polygon[]. Received type '+typeof l+"[]")}}catch(f){r={error:f}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}this.polygons=e}return t.prototype.parse=function(e){var r;return r={},r[e]={type:"MultiPolygon",coordinates:this.polygons.map(function(n){return n.lines.map(function(o){return o.points.map(function(i){return[i.longitude,i.latitude]})})})},r},t.prototype.toJSON=function(){return{type:"MultiPolygon",coordinates:this.polygons.map(function(e){return e.lines.map(function(r){return r.points.map(function(n){return[n.longitude,n.latitude]})})})}},t.validate=function(e){var r,n,o,i,l,f;if(e.type!=="MultiPolygon"||!pt(e.coordinates))return!1;try{for(var h=uf(e.coordinates),u=h.next();!u.done;u=h.next()){var d=u.value;try{for(var v=(o=void 0,uf(d)),y=v.next();!y.done;y=v.next()){var _=y.value;try{for(var w=(l=void 0,uf(_)),S=w.next();!S.done;S=w.next()){var T=S.value;if(!rn(T[0])||!rn(T[1]))return!1}}catch(O){l={error:O}}finally{try{S&&!S.done&&(f=w.return)&&f.call(w)}finally{if(l)throw l.error}}}}catch(O){o={error:O}}finally{try{y&&!y.done&&(i=v.return)&&i.call(v)}finally{if(o)throw o.error}}}}catch(O){r={error:O}}finally{try{u&&!u.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}return!0},Object.defineProperty(t.prototype,"_internalType",{get:function(){return B8},enumerable:!0,configurable:!0}),t})();const K8=Object.freeze(Object.defineProperty({__proto__:null,LineString:Yn,MultiLineString:od,MultiPoint:id,MultiPolygon:ll,Point:gr,Polygon:Yo},Symbol.toStringTag,{value:"Module"}));var gi=function(){var t;if(!Promise){t=function(){},t.promise={};var e=function(){throw new Error('Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.')};return Object.defineProperty(t.promise,"then",{get:e}),Object.defineProperty(t.promise,"catch",{get:e}),t}var r=new Promise(function(n,o){t=function(i,l){return i?o(i):n(l)}});return t.promise=r,t},qe;(function(t){t.SET="set",t.REMOVE="remove",t.INC="inc",t.MUL="mul",t.PUSH="push",t.PULL="pull",t.PULL_ALL="pullAll",t.POP="pop",t.SHIFT="shift",t.UNSHIFT="unshift",t.ADD_TO_SET="addToSet",t.BIT="bit",t.RENAME="rename",t.MAX="max",t.MIN="min"})(qe||(qe={}));var St=(function(){function t(e,r,n){this._internalType=$C,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=r,this.fieldName=n||ul}return t.prototype._setFieldName=function(e){var r=new t(this.operator,this.operands,e);return r},t})();function l2(t){return t&&t instanceof St&&t._internalType===$C}var Pr;(function(t){t.AND="and",t.OR="or",t.NOT="not",t.NOR="nor"})(Pr||(Pr={}));var zo=(function(){function t(e,r,n){if(this._internalType=HC,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=r,this.fieldName=n||ul,this.fieldName!==ul)if(Array.isArray(r)){r=r.slice(),this.operands=r;for(var o=0,i=r.length;o<i;o++){var l=r[o];(ad(l)||sd(l))&&(r[o]=l._setFieldName(this.fieldName))}}else{var l=r;(ad(l)||sd(l))&&(r=l._setFieldName(this.fieldName))}}return t.prototype._setFieldName=function(e){var r=this.operands.map(function(o){return o instanceof t?o._setFieldName(e):o}),n=new t(this.operator,r,e);return n},t.prototype.and=function(){var e=Array.isArray(arguments[0])?arguments[0]:Array.from(arguments);return e.unshift(this),new t(Pr.AND,e,this.fieldName)},t.prototype.or=function(){var e=Array.isArray(arguments[0])?arguments[0]:Array.from(arguments);return e.unshift(this),new t(Pr.OR,e,this.fieldName)},t})();function ad(t){return t&&t instanceof zo&&t._internalType===HC}var Y8=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Pe;(function(t){t.EQ="eq",t.NEQ="neq",t.GT="gt",t.GTE="gte",t.LT="lt",t.LTE="lte",t.IN="in",t.NIN="nin",t.ALL="all",t.ELEM_MATCH="elemMatch",t.EXISTS="exists",t.SIZE="size",t.MOD="mod",t.GEO_NEAR="geoNear",t.GEO_WITHIN="geoWithin",t.GEO_INTERSECTS="geoIntersects"})(Pe||(Pe={}));var At=(function(t){Y8(e,t);function e(r,n,o){var i=t.call(this,r,n,o)||this;return i.operator=r,i._internalType=WC,i}return e.prototype.toJSON=function(){var r,n;switch(this.operator){case Pe.IN:case Pe.NIN:return r={},r["$"+this.operator]=this.operands,r;default:return n={},n["$"+this.operator]=this.operands[0],n}},e.prototype._setFieldName=function(r){var n=new e(this.operator,this.operands,r);return n},e.prototype.eq=function(r){var n=new e(Pe.EQ,[r],this.fieldName);return this.and(n)},e.prototype.neq=function(r){var n=new e(Pe.NEQ,[r],this.fieldName);return this.and(n)},e.prototype.gt=function(r){var n=new e(Pe.GT,[r],this.fieldName);return this.and(n)},e.prototype.gte=function(r){var n=new e(Pe.GTE,[r],this.fieldName);return this.and(n)},e.prototype.lt=function(r){var n=new e(Pe.LT,[r],this.fieldName);return this.and(n)},e.prototype.lte=function(r){var n=new e(Pe.LTE,[r],this.fieldName);return this.and(n)},e.prototype.in=function(r){var n=new e(Pe.IN,r,this.fieldName);return this.and(n)},e.prototype.nin=function(r){var n=new e(Pe.NIN,r,this.fieldName);return this.and(n)},e.prototype.geoNear=function(r){if(!(r.geometry instanceof gr))throw new TypeError('"geometry" must be of type Point. Received type '+typeof r.geometry);if(r.maxDistance!==void 0&&!rn(r.maxDistance))throw new TypeError('"maxDistance" must be of type Number. Received type '+typeof r.maxDistance);if(r.minDistance!==void 0&&!rn(r.minDistance))throw new TypeError('"minDistance" must be of type Number. Received type '+typeof r.minDistance);var n=new e(Pe.GEO_NEAR,[r],this.fieldName);return this.and(n)},e.prototype.geoWithin=function(r){if(!(r.geometry instanceof ll)&&!(r.geometry instanceof Yo))throw new TypeError('"geometry" must be of type Polygon or MultiPolygon. Received type '+typeof r.geometry);var n=new e(Pe.GEO_WITHIN,[r],this.fieldName);return this.and(n)},e.prototype.geoIntersects=function(r){if(!(r.geometry instanceof gr)&&!(r.geometry instanceof Yn)&&!(r.geometry instanceof Yo)&&!(r.geometry instanceof id)&&!(r.geometry instanceof od)&&!(r.geometry instanceof ll))throw new TypeError('"geometry" must be of type Point, LineString, Polygon, MultiPoint, MultiLineString or MultiPolygon. Received type '+typeof r.geometry);var n=new e(Pe.GEO_INTERSECTS,[r],this.fieldName);return this.and(n)},e})(zo);function sd(t){return t&&t instanceof At&&t._internalType===WC}function c2(t){return sd(t)}var fo={};for(var lo in Pe)fo[lo]="$"+lo;for(var lo in Pr)fo[lo]="$"+lo;for(var lo in qe)fo[lo]="$"+lo;fo[Pe.NEQ]="$ne";fo[qe.REMOVE]="$unset";fo[qe.SHIFT]="$pop";fo[qe.UNSHIFT]="$push";function is(t){return fo[t]||"$"+t}var ug=function(){return ug=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},ug.apply(this,arguments)},J8=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,i=[],l;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(f){l={error:f}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(l)throw l.error}}return i},f2=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(J8(arguments[e]));return t};function cl(t){return lg(t,[t])}function lg(t,e){if(JC(t))switch(t._internalType){case GC:return t.toJSON();case zC:return t.parse();case VC:return t.parse();default:return t.toJSON?t.toJSON():t}else{if(YC(t))return{$date:+t};if(S_(t))return{$regex:t.source,$options:t.flags};if(pt(t))return t.map(function(o){if(e.indexOf(o)>-1)throw new Error("Cannot convert circular structure to JSON");return lg(o,f2(e,[o]))});if(ao(t)){var r=ug({},t);for(var n in r){if(e.indexOf(r[n])>-1)throw new Error("Cannot convert circular structure to JSON");r[n]=lg(r[n],f2(e,[r[n]]))}return r}else return t}}var cg=function(){return cg=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},cg.apply(this,arguments)},Q8=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,i=[],l;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(f){l={error:f}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(l)throw l.error}}return i},d2=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Q8(arguments[e]));return t};function QC(t,e,r,n){var o=cg({},t);for(var i in t)if(!/^\$/.test(i)){var l=t[i];if(l&&ao(l)&&!e(l)){if(n.indexOf(l)>-1)throw new Error("Cannot convert circular structure to JSON");var f=d2(r,[i]),h=d2(n,[l]),u=QC(l,e,f,h);o[i]=u;var d=!1;for(var v in u)/^\$/.test(v)?d=!0:(o[i+"."+v]=u[v],delete o[i][v]);d||delete o[i]}}return o}function XC(t){return QC(t,fg,[],[t])}function h2(t,e,r){e[r]||delete t[r];for(var n in e)t[n]?pt(t[n])?t[n].push(e[n]):ao(t[n])?ao(e[n])?Object.assign(t[n],e[n]):(console.warn("unmergable condition, query is object but condition is "+ei(e)+", can only overwrite",e,r),t[n]=e[n]):(console.warn("to-merge query is of type "+ei(t)+", can only overwrite",t,e,r),t[n]=e[n]):t[n]=e[n]}function fg(t){return JC(t)||YC(t)||S_(t)}function oo(t){return cl(t)}var I_=(function(){function t(){}return t.encode=function(e){var r=new t;return r.encodeUpdate(e)},t.prototype.encodeUpdate=function(e){return l2(e)?this.encodeUpdateCommand(e):ei(e)==="object"?this.encodeUpdateObject(e):e},t.prototype.encodeUpdateCommand=function(e){if(e.fieldName===ul)throw new Error("Cannot encode a comparison command with unset field name");switch(e.operator){case qe.PUSH:case qe.PULL:case qe.PULL_ALL:case qe.POP:case qe.SHIFT:case qe.UNSHIFT:case qe.ADD_TO_SET:return this.encodeArrayUpdateCommand(e);default:return this.encodeFieldUpdateCommand(e)}},t.prototype.encodeFieldUpdateCommand=function(e){var r,n,o,i,l=is(e.operator);switch(e.operator){case qe.REMOVE:return r={},r[l]=(n={},n[e.fieldName]="",n),r;default:return o={},o[l]=(i={},i[e.fieldName]=e.operands[0],i),o}},t.prototype.encodeArrayUpdateCommand=function(e){var r,n,o,i,l,f,h,u,d,v,y=is(e.operator);switch(e.operator){case qe.PUSH:{var _=void 0;return pt(e.operands)?_={$each:e.operands.map(oo)}:_=e.operands,r={},r[y]=(n={},n[e.fieldName]=_,n),r}case qe.UNSHIFT:{var _={$each:e.operands.map(oo),$position:0};return o={},o[y]=(i={},i[e.fieldName]=_,i),o}case qe.POP:return l={},l[y]=(f={},f[e.fieldName]=1,f),l;case qe.SHIFT:return h={},h[y]=(u={},u[e.fieldName]=-1,u),h;default:return d={},d[y]=(v={},v[e.fieldName]=oo(e.operands),v),d}},t.prototype.encodeUpdateObject=function(e){var r=XC(e);for(var n in r)if(!/^\$/.test(n)){var o=r[n];if(l2(o)){r[n]=o._setFieldName(n);var i=this.encodeUpdateCommand(r[n]);h2(r,i,n)}else{r[n]=o=oo(o);var l=new St(qe.SET,[o],n),i=this.encodeUpdateCommand(l);h2(r,i,n)}}return r},t})(),m0={};function ZC(t){if(!Zt.wsClientClass)throw new Error("to use realtime you must import realtime module first");var e=t.config.env;return m0[e]||(m0[e]=new Zt.wsClientClass({context:{appConfig:{docSizeLimit:1e3,realtimePingInterval:1e4,realtimePongWaitTimeout:5e3,request:new Zt.reqClass(t.config)}}})),m0[e]}var ud=function(){return ud=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},ud.apply(this,arguments)},p2=(function(){function t(e,r,n,o){var i=this;o===void 0&&(o={}),this.watch=function(l){var f=ZC(i._db);return f.watch(ud(ud({},l),{envId:i._db.config.env,collectionName:i._coll,query:JSON.stringify({_id:i.id})}))},this._db=e,this._coll=r,this.id=n,this.request=new Zt.reqClass(this._db.config),this.projection=o}return t.prototype.create=function(e,r){r=r||gi();var n={collectionName:this._coll,data:cl(e)};return this.id&&(n._id=this.id),this.request.send("database.addDocument",n).then(function(o){o.code?r(0,o):r(0,{id:o.data._id,requestId:o.requestId})}).catch(function(o){r(o)}),r.promise},t.prototype.set=function(e,r){if(r=r||gi(),!this.id)return Promise.resolve({code:"INVALID_PARAM",message:"docId"});if(!e||typeof e!="object")return Promise.resolve({code:"INVALID_PARAM",message:""});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"_id"});var n=!1,o=function(f){if(typeof f=="object")for(var h in f)f[h]instanceof St?n=!0:typeof f[h]=="object"&&o(f[h])};if(o(e),n)return Promise.resolve({code:"DATABASE_REQUEST_FAILED",message:"update operator complicit"});var i=!1,l={collectionName:this._coll,queryType:Zn.DOC,data:cl(e),multi:!1,merge:i,upsert:!0};return this.id&&(l.query={_id:this.id}),this.request.send("database.updateDocument",l).then(function(f){f.code?r(0,f):r(0,{updated:f.data.updated,upsertedId:f.data.upserted_id,requestId:f.requestId})}).catch(function(f){r(f)}),r.promise},t.prototype.update=function(e,r){if(r=r||gi(),!e||typeof e!="object")return Promise.resolve({code:"INVALID_PARAM",message:""});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"_id"});var n={_id:this.id},o=!0,i={collectionName:this._coll,data:I_.encode(e),query:n,queryType:Zn.DOC,multi:!1,merge:o,upsert:!1};return this.request.send("database.updateDocument",i).then(function(l){l.code?r(0,l):r(0,{updated:l.data.updated,upsertedId:l.data.upserted_id,requestId:l.requestId})}).catch(function(l){r(l)}),r.promise},t.prototype.remove=function(e){e=e||gi();var r={_id:this.id},n={collectionName:this._coll,query:r,queryType:Zn.DOC,multi:!1};return this.request.send("database.deleteDocument",n).then(function(o){o.code?e(0,o):e(0,{deleted:o.data.deleted,requestId:o.requestId})}).catch(function(o){e(o)}),e.promise},t.prototype.get=function(e){e=e||gi();var r={_id:this.id},n={collectionName:this._coll,query:r,queryType:Zn.DOC,multi:!1,projection:this.projection};return this.request.send("database.queryDocument",n).then(function(o){if(o.code)e(0,o);else{var i=Md.formatResDocumentData(o.data.list);e(0,{data:i,requestId:o.requestId})}}).catch(function(o){e(o)}),e.promise},t.prototype.field=function(e){for(var r in e)e[r]?e[r]=1:e[r]=0;return new t(this._db,this._coll,this.id,e)},t})(),ld=(function(){function t(){}return t.encode=function(e){var r=new X8;return r.encodeQuery(e)},t})(),X8=(function(){function t(){}return t.prototype.encodeQuery=function(e,r){var n;return fg(e)?ad(e)?this.encodeLogicCommand(e):sd(e)?this.encodeQueryCommand(e):(n={},n[r]=this.encodeQueryObject(e),n):ao(e)?this.encodeQueryObject(e):e},t.prototype.encodeRegExp=function(e){return{$regex:e.source,$options:e.flags}},t.prototype.encodeLogicCommand=function(e){var r,n,o,i,l,f,h,u=this;switch(e.operator){case Pr.NOR:case Pr.AND:case Pr.OR:{var d=is(e.operator),v=e.operands.map(function(w){return u.encodeQuery(w,e.fieldName)});return r={},r[d]=v,r}case Pr.NOT:{var d=is(e.operator),y=e.operands[0];if(S_(y))return n={},n[e.fieldName]=(o={},o[d]=this.encodeRegExp(y),o),n;var v=this.encodeQuery(y)[e.fieldName];return i={},i[e.fieldName]=(l={},l[d]=v,l),i}default:{var d=is(e.operator);if(e.operands.length===1){var _=this.encodeQuery(e.operands[0]);return f={},f[d]=_,f}else{var v=e.operands.map(this.encodeQuery.bind(this));return h={},h[d]=v,h}}}},t.prototype.encodeQueryCommand=function(e){return c2(e)?this.encodeComparisonCommand(e):this.encodeComparisonCommand(e)},t.prototype.encodeComparisonCommand=function(e){var r,n,o,i,l,f,h,u,d;if(e.fieldName===ul)throw new Error("Cannot encode a comparison command with unset field name");var v=is(e.operator);switch(e.operator){case Pe.EQ:case Pe.NEQ:case Pe.LT:case Pe.LTE:case Pe.GT:case Pe.GTE:case Pe.ELEM_MATCH:case Pe.EXISTS:case Pe.SIZE:case Pe.MOD:return r={},r[e.fieldName]=(n={},n[v]=oo(e.operands[0]),n),r;case Pe.IN:case Pe.NIN:case Pe.ALL:return o={},o[e.fieldName]=(i={},i[v]=oo(e.operands),i),o;case Pe.GEO_NEAR:{var y=e.operands[0];return l={},l[e.fieldName]={$nearSphere:{$geometry:y.geometry.toJSON(),$maxDistance:y.maxDistance,$minDistance:y.minDistance}},l}case Pe.GEO_WITHIN:{var y=e.operands[0];return f={},f[e.fieldName]={$geoWithin:{$geometry:y.geometry.toJSON()}},f}case Pe.GEO_INTERSECTS:{var y=e.operands[0];return h={},h[e.fieldName]={$geoIntersects:{$geometry:y.geometry.toJSON()}},h}default:return u={},u[e.fieldName]=(d={},d[v]=oo(e.operands[0]),d),u}},t.prototype.encodeQueryObject=function(e){var r=XC(e);for(var n in r){var o=r[n];if(ad(o)){r[n]=o._setFieldName(n);var i=this.encodeLogicCommand(r[n]);this.mergeConditionAfterEncode(r,i,n)}else if(c2(o)){r[n]=o._setFieldName(n);var i=this.encodeComparisonCommand(r[n]);this.mergeConditionAfterEncode(r,i,n)}else fg(o)&&(r[n]=oo(o))}return r},t.prototype.mergeConditionAfterEncode=function(e,r,n){r[n]||delete e[n];for(var o in r)e[o]?pt(e[o])?e[o]=e[o].concat(r[o]):ao(e[o])?ao(r[o])?Object.assign(e,r):(console.warn("unmergable condition, query is object but condition is "+ei(r)+", can only overwrite",r,n),e[o]=r[o]):(console.warn("to-merge query is of type "+ei(e)+", can only overwrite",e,r,n),e[o]=r[o]):e[o]=r[o]},t})(),Wo=function(){return Wo=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Wo.apply(this,arguments)},Z8=(function(){function t(e,r,n,o,i){var l=this;this.watch=function(f){var h=ZC(l._db);return h.watch(Wo(Wo({},f),{envId:l._db.config.env,collectionName:l._coll,query:JSON.stringify(l._fieldFilters||{}),limit:l._queryOptions.limit,orderBy:l._fieldOrders?l._fieldOrders.reduce(function(u,d){return u[d.field]=d.direction,u},{}):void 0}))},this._db=e,this._coll=r,this._fieldFilters=n,this._fieldOrders=o||[],this._queryOptions=i||{},this._request=new Zt.reqClass(this._db.config)}return t.prototype.get=function(e){e=e||gi();var r=[];this._fieldOrders&&this._fieldOrders.forEach(function(o){r.push(o)});var n={collectionName:this._coll,queryType:Zn.WHERE};return this._fieldFilters&&(n.query=this._fieldFilters),r.length>0&&(n.order=r),this._queryOptions.offset&&(n.offset=this._queryOptions.offset),this._queryOptions.limit?n.limit=this._queryOptions.limit<1e3?this._queryOptions.limit:1e3:n.limit=100,this._queryOptions.projection&&(n.projection=this._queryOptions.projection),this._request.send("database.queryDocument",n).then(function(o){if(o.code)e(0,o);else{var i=Md.formatResDocumentData(o.data.list),l={data:i,requestId:o.requestId};o.total&&(l.total=o.total),o.limit&&(l.limit=o.limit),o.offset&&(l.offset=o.offset),e(0,l)}}).catch(function(o){e(o)}),e.promise},t.prototype.count=function(e){e=e||gi();var r={collectionName:this._coll,queryType:Zn.WHERE};return this._fieldFilters&&(r.query=this._fieldFilters),this._request.send("database.countDocument",r).then(function(n){n.code?e(0,n):e(0,{requestId:n.requestId,total:n.data.total})}).catch(function(n){e(n)}),e.promise},t.prototype.where=function(e){if(Object.prototype.toString.call(e).slice(8,-1)!=="Object")throw Error(mi.QueryParamTypeError);var r=Object.keys(e),n=r.some(function(o){return e[o]!==void 0});if(r.length&&!n)throw Error(mi.QueryParamValueError);return new t(this._db,this._coll,ld.encode(e),this._fieldOrders,this._queryOptions)},t.prototype.orderBy=function(e,r){io.isFieldPath(e),io.isFieldOrder(r);var n={field:e,direction:r},o=this._fieldOrders.concat(n);return new t(this._db,this._coll,this._fieldFilters,o,this._queryOptions)},t.prototype.limit=function(e){io.isInteger("limit",e);var r=Wo({},this._queryOptions);return r.limit=e,new t(this._db,this._coll,this._fieldFilters,this._fieldOrders,r)},t.prototype.skip=function(e){io.isInteger("offset",e);var r=Wo({},this._queryOptions);return r.offset=e,new t(this._db,this._coll,this._fieldFilters,this._fieldOrders,r)},t.prototype.update=function(e,r){if(r=r||gi(),!e||typeof e!="object")return Promise.resolve({code:"INVALID_PARAM",message:""});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"_id"});var n={collectionName:this._coll,query:this._fieldFilters,queryType:Zn.WHERE,multi:!0,merge:!0,upsert:!1,data:I_.encode(e)};return this._request.send("database.updateDocument",n).then(function(o){o.code?r(0,o):r(0,{requestId:o.requestId,updated:o.data.updated,upsertId:o.data.upsert_id})}).catch(function(o){r(o)}),r.promise},t.prototype.field=function(e){for(var r in e)e[r]?typeof e[r]!="object"&&(e[r]=1):e[r]=0;var n=Wo({},this._queryOptions);return n.projection=e,new t(this._db,this._coll,this._fieldFilters,this._fieldOrders,n)},t.prototype.remove=function(e){e=e||gi(),Object.keys(this._queryOptions).length>0&&console.warn("`offset`, `limit` and `projection` are not supported in remove() operation"),this._fieldOrders.length>0&&console.warn("`orderBy` is not supported in remove() operation");var r={collectionName:this._coll,query:ld.encode(this._fieldFilters),queryType:Zn.WHERE,multi:!0};return this._request.send("database.deleteDocument",r).then(function(n){n.code?e(0,n):e(0,{requestId:n.requestId,deleted:n.data.deleted})}).catch(function(n){e(n)}),e.promise},t})();function e9(t,e){return e={exports:{}},t(e,e.exports),e.exports}var t9=a9,r9=u9,n9=f9,Jn=[],Jr=[],i9=typeof Uint8Array<"u"?Uint8Array:Array,g0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var za=0,o9=g0.length;za<o9;++za)Jn[za]=g0[za],Jr[g0.charCodeAt(za)]=za;Jr[45]=62;Jr[95]=63;function eP(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function a9(t){var e=eP(t),r=e[0],n=e[1];return(r+n)*3/4-n}function s9(t,e,r){return(e+r)*3/4-r}function u9(t){var e,r=eP(t),n=r[0],o=r[1],i=new i9(s9(t,n,o)),l=0,f=o>0?n-4:n,h;for(h=0;h<f;h+=4)e=Jr[t.charCodeAt(h)]<<18|Jr[t.charCodeAt(h+1)]<<12|Jr[t.charCodeAt(h+2)]<<6|Jr[t.charCodeAt(h+3)],i[l++]=e>>16&255,i[l++]=e>>8&255,i[l++]=e&255;return o===2&&(e=Jr[t.charCodeAt(h)]<<2|Jr[t.charCodeAt(h+1)]>>4,i[l++]=e&255),o===1&&(e=Jr[t.charCodeAt(h)]<<10|Jr[t.charCodeAt(h+1)]<<4|Jr[t.charCodeAt(h+2)]>>2,i[l++]=e>>8&255,i[l++]=e&255),i}function l9(t){return Jn[t>>18&63]+Jn[t>>12&63]+Jn[t>>6&63]+Jn[t&63]}function c9(t,e,r){for(var n,o=[],i=e;i<r;i+=3)n=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),o.push(l9(n));return o.join("")}function f9(t){for(var e,r=t.length,n=r%3,o=[],i=16383,l=0,f=r-n;l<f;l+=i)o.push(c9(t,l,l+i>f?f:l+i));return n===1?(e=t[r-1],o.push(Jn[e>>2]+Jn[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],o.push(Jn[e>>10]+Jn[e>>4&63]+Jn[e<<2&63]+"=")),o.join("")}var _0={byteLength:t9,toByteArray:r9,fromByteArray:n9};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var d9=function(e,r,n,o,i){var l,f,h=i*8-o-1,u=(1<<h)-1,d=u>>1,v=-7,y=n?i-1:0,_=n?-1:1,w=e[r+y];for(y+=_,l=w&(1<<-v)-1,w>>=-v,v+=h;v>0;l=l*256+e[r+y],y+=_,v-=8);for(f=l&(1<<-v)-1,l>>=-v,v+=o;v>0;f=f*256+e[r+y],y+=_,v-=8);if(l===0)l=1-d;else{if(l===u)return f?NaN:(w?-1:1)*(1/0);f=f+Math.pow(2,o),l=l-d}return(w?-1:1)*f*Math.pow(2,l-o)},h9=function(e,r,n,o,i,l){var f,h,u,d=l*8-i-1,v=(1<<d)-1,y=v>>1,_=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=o?0:l-1,S=o?1:-1,T=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(h=isNaN(r)?1:0,f=v):(f=Math.floor(Math.log(r)/Math.LN2),r*(u=Math.pow(2,-f))<1&&(f--,u*=2),f+y>=1?r+=_/u:r+=_*Math.pow(2,1-y),r*u>=2&&(f++,u/=2),f+y>=v?(h=0,f=v):f+y>=1?(h=(r*u-1)*Math.pow(2,i),f=f+y):(h=r*Math.pow(2,y-1)*Math.pow(2,i),f=0));i>=8;e[n+w]=h&255,w+=S,h/=256,i-=8);for(f=f<<i|h,d+=i;d>0;e[n+w]=f&255,w+=S,f/=256,d-=8);e[n+w-S]|=T*128},Va={read:d9,write:h9},Bd=e9(function(t,e){var r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=O,e.INSPECT_MAX_BYTES=50;var n=2147483647;e.kMaxLength=n,l.TYPED_ARRAY_SUPPORT=o(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{var R=new Uint8Array(1),b={foo:function(){return 42}};return Object.setPrototypeOf(b,Uint8Array.prototype),Object.setPrototypeOf(R,b),R.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function i(R){if(R>n)throw new RangeError('The value "'+R+'" is invalid for option "size"');var b=new Uint8Array(R);return Object.setPrototypeOf(b,l.prototype),b}function l(R,b,E){if(typeof R=="number"){if(typeof b=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(R)}return f(R,b,E)}l.poolSize=8192;function f(R,b,E){if(typeof R=="string")return v(R,b);if(ArrayBuffer.isView(R))return _(R);if(R==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(R));if(ft(R,ArrayBuffer)||R&&ft(R.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ft(R,SharedArrayBuffer)||R&&ft(R.buffer,SharedArrayBuffer)))return w(R,b,E);if(typeof R=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var P=R.valueOf&&R.valueOf();if(P!=null&&P!==R)return l.from(P,b,E);var M=S(R);if(M)return M;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof R[Symbol.toPrimitive]=="function")return l.from(R[Symbol.toPrimitive]("string"),b,E);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(R))}l.from=function(R,b,E){return f(R,b,E)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function h(R){if(typeof R!="number")throw new TypeError('"size" argument must be of type number');if(R<0)throw new RangeError('The value "'+R+'" is invalid for option "size"')}function u(R,b,E){return h(R),R<=0?i(R):b!==void 0?typeof E=="string"?i(R).fill(b,E):i(R).fill(b):i(R)}l.alloc=function(R,b,E){return u(R,b,E)};function d(R){return h(R),i(R<0?0:T(R)|0)}l.allocUnsafe=function(R){return d(R)},l.allocUnsafeSlow=function(R){return d(R)};function v(R,b){if((typeof b!="string"||b==="")&&(b="utf8"),!l.isEncoding(b))throw new TypeError("Unknown encoding: "+b);var E=x(R,b)|0,P=i(E),M=P.write(R,b);return M!==E&&(P=P.slice(0,M)),P}function y(R){for(var b=R.length<0?0:T(R.length)|0,E=i(b),P=0;P<b;P+=1)E[P]=R[P]&255;return E}function _(R){if(ft(R,Uint8Array)){var b=new Uint8Array(R);return w(b.buffer,b.byteOffset,b.byteLength)}return y(R)}function w(R,b,E){if(b<0||R.byteLength<b)throw new RangeError('"offset" is outside of buffer bounds');if(R.byteLength<b+(E||0))throw new RangeError('"length" is outside of buffer bounds');var P;return b===void 0&&E===void 0?P=new Uint8Array(R):E===void 0?P=new Uint8Array(R,b):P=new Uint8Array(R,b,E),Object.setPrototypeOf(P,l.prototype),P}function S(R){if(l.isBuffer(R)){var b=T(R.length)|0,E=i(b);return E.length===0||R.copy(E,0,0,b),E}if(R.length!==void 0)return typeof R.length!="number"||Nt(R.length)?i(0):y(R);if(R.type==="Buffer"&&Array.isArray(R.data))return y(R.data)}function T(R){if(R>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return R|0}function O(R){return+R!=R&&(R=0),l.alloc(+R)}l.isBuffer=function(b){return b!=null&&b._isBuffer===!0&&b!==l.prototype},l.compare=function(b,E){if(ft(b,Uint8Array)&&(b=l.from(b,b.offset,b.byteLength)),ft(E,Uint8Array)&&(E=l.from(E,E.offset,E.byteLength)),!l.isBuffer(b)||!l.isBuffer(E))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(b===E)return 0;for(var P=b.length,M=E.length,ne=0,ae=Math.min(P,M);ne<ae;++ne)if(b[ne]!==E[ne]){P=b[ne],M=E[ne];break}return P<M?-1:M<P?1:0},l.isEncoding=function(b){switch(String(b).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(b,E){if(!Array.isArray(b))throw new TypeError('"list" argument must be an Array of Buffers');if(b.length===0)return l.alloc(0);var P;if(E===void 0)for(E=0,P=0;P<b.length;++P)E+=b[P].length;var M=l.allocUnsafe(E),ne=0;for(P=0;P<b.length;++P){var ae=b[P];if(ft(ae,Uint8Array))ne+ae.length>M.length?l.from(ae).copy(M,ne):Uint8Array.prototype.set.call(M,ae,ne);else if(l.isBuffer(ae))ae.copy(M,ne);else throw new TypeError('"list" argument must be an Array of Buffers');ne+=ae.length}return M};function x(R,b){if(l.isBuffer(R))return R.length;if(ArrayBuffer.isView(R)||ft(R,ArrayBuffer))return R.byteLength;if(typeof R!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+babelHelpers.typeof(R));var E=R.length,P=arguments.length>2&&arguments[2]===!0;if(!P&&E===0)return 0;for(var M=!1;;)switch(b){case"ascii":case"latin1":case"binary":return E;case"utf8":case"utf-8":return Ie(R).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E*2;case"hex":return E>>>1;case"base64":return Fe(R).length;default:if(M)return P?-1:Ie(R).length;b=(""+b).toLowerCase(),M=!0}}l.byteLength=x;function A(R,b,E){var P=!1;if((b===void 0||b<0)&&(b=0),b>this.length||((E===void 0||E>this.length)&&(E=this.length),E<=0)||(E>>>=0,b>>>=0,E<=b))return"";for(R||(R="utf8");;)switch(R){case"hex":return Y(this,b,E);case"utf8":case"utf-8":return Q(this,b,E);case"ascii":return be(this,b,E);case"latin1":case"binary":return fe(this,b,E);case"base64":return z(this,b,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re(this,b,E);default:if(P)throw new TypeError("Unknown encoding: "+R);R=(R+"").toLowerCase(),P=!0}}l.prototype._isBuffer=!0;function C(R,b,E){var P=R[b];R[b]=R[E],R[E]=P}l.prototype.swap16=function(){var b=this.length;if(b%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var E=0;E<b;E+=2)C(this,E,E+1);return this},l.prototype.swap32=function(){var b=this.length;if(b%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var E=0;E<b;E+=4)C(this,E,E+3),C(this,E+1,E+2);return this},l.prototype.swap64=function(){var b=this.length;if(b%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var E=0;E<b;E+=8)C(this,E,E+7),C(this,E+1,E+6),C(this,E+2,E+5),C(this,E+3,E+4);return this},l.prototype.toString=function(){var b=this.length;return b===0?"":arguments.length===0?Q(this,0,b):A.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(b){if(!l.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b?!0:l.compare(this,b)===0},l.prototype.inspect=function(){var b="",E=e.INSPECT_MAX_BYTES;return b=this.toString("hex",0,E).replace(/(.{2})/g,"$1 ").trim(),this.length>E&&(b+=" ... "),"<Buffer "+b+">"},r&&(l.prototype[r]=l.prototype.inspect),l.prototype.compare=function(b,E,P,M,ne){if(ft(b,Uint8Array)&&(b=l.from(b,b.offset,b.byteLength)),!l.isBuffer(b))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+babelHelpers.typeof(b));if(E===void 0&&(E=0),P===void 0&&(P=b?b.length:0),M===void 0&&(M=0),ne===void 0&&(ne=this.length),E<0||P>b.length||M<0||ne>this.length)throw new RangeError("out of range index");if(M>=ne&&E>=P)return 0;if(M>=ne)return-1;if(E>=P)return 1;if(E>>>=0,P>>>=0,M>>>=0,ne>>>=0,this===b)return 0;for(var ae=ne-M,je=P-E,De=Math.min(ae,je),Ge=this.slice(M,ne),it=b.slice(E,P),Je=0;Je<De;++Je)if(Ge[Je]!==it[Je]){ae=Ge[Je],je=it[Je];break}return ae<je?-1:je<ae?1:0};function U(R,b,E,P,M){if(R.length===0)return-1;if(typeof E=="string"?(P=E,E=0):E>2147483647?E=2147483647:E<-2147483648&&(E=-2147483648),E=+E,Nt(E)&&(E=M?0:R.length-1),E<0&&(E=R.length+E),E>=R.length){if(M)return-1;E=R.length-1}else if(E<0)if(M)E=0;else return-1;if(typeof b=="string"&&(b=l.from(b,P)),l.isBuffer(b))return b.length===0?-1:q(R,b,E,P,M);if(typeof b=="number")return b=b&255,typeof Uint8Array.prototype.indexOf=="function"?M?Uint8Array.prototype.indexOf.call(R,b,E):Uint8Array.prototype.lastIndexOf.call(R,b,E):q(R,[b],E,P,M);throw new TypeError("val must be string, number or Buffer")}function q(R,b,E,P,M){var ne=1,ae=R.length,je=b.length;if(P!==void 0&&(P=String(P).toLowerCase(),P==="ucs2"||P==="ucs-2"||P==="utf16le"||P==="utf-16le")){if(R.length<2||b.length<2)return-1;ne=2,ae/=2,je/=2,E/=2}function De(tr,Ti){return ne===1?tr[Ti]:tr.readUInt16BE(Ti*ne)}var Ge;if(M){var it=-1;for(Ge=E;Ge<ae;Ge++)if(De(R,Ge)===De(b,it===-1?0:Ge-it)){if(it===-1&&(it=Ge),Ge-it+1===je)return it*ne}else it!==-1&&(Ge-=Ge-it),it=-1}else for(E+je>ae&&(E=ae-je),Ge=E;Ge>=0;Ge--){for(var Je=!0,ln=0;ln<je;ln++)if(De(R,Ge+ln)!==De(b,ln)){Je=!1;break}if(Je)return Ge}return-1}l.prototype.includes=function(b,E,P){return this.indexOf(b,E,P)!==-1},l.prototype.indexOf=function(b,E,P){return U(this,b,E,P,!0)},l.prototype.lastIndexOf=function(b,E,P){return U(this,b,E,P,!1)};function K(R,b,E,P){E=Number(E)||0;var M=R.length-E;P?(P=Number(P),P>M&&(P=M)):P=M;var ne=b.length;P>ne/2&&(P=ne/2);for(var ae=0;ae<P;++ae){var je=parseInt(b.substr(ae*2,2),16);if(Nt(je))return ae;R[E+ae]=je}return ae}function V(R,b,E,P){return Ye(Ie(b,R.length-E),R,E,P)}function k(R,b,E,P){return Ye(de(b),R,E,P)}function $(R,b,E,P){return Ye(Fe(b),R,E,P)}function F(R,b,E,P){return Ye(Ce(b,R.length-E),R,E,P)}l.prototype.write=function(b,E,P,M){if(E===void 0)M="utf8",P=this.length,E=0;else if(P===void 0&&typeof E=="string")M=E,P=this.length,E=0;else if(isFinite(E))E=E>>>0,isFinite(P)?(P=P>>>0,M===void 0&&(M="utf8")):(M=P,P=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ne=this.length-E;if((P===void 0||P>ne)&&(P=ne),b.length>0&&(P<0||E<0)||E>this.length)throw new RangeError("Attempt to write outside buffer bounds");M||(M="utf8");for(var ae=!1;;)switch(M){case"hex":return K(this,b,E,P);case"utf8":case"utf-8":return V(this,b,E,P);case"ascii":case"latin1":case"binary":return k(this,b,E,P);case"base64":return $(this,b,E,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,b,E,P);default:if(ae)throw new TypeError("Unknown encoding: "+M);M=(""+M).toLowerCase(),ae=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function z(R,b,E){return b===0&&E===R.length?_0.fromByteArray(R):_0.fromByteArray(R.slice(b,E))}function Q(R,b,E){E=Math.min(R.length,E);for(var P=[],M=b;M<E;){var ne=R[M],ae=null,je=ne>239?4:ne>223?3:ne>191?2:1;if(M+je<=E){var De,Ge,it,Je;switch(je){case 1:ne<128&&(ae=ne);break;case 2:De=R[M+1],(De&192)===128&&(Je=(ne&31)<<6|De&63,Je>127&&(ae=Je));break;case 3:De=R[M+1],Ge=R[M+2],(De&192)===128&&(Ge&192)===128&&(Je=(ne&15)<<12|(De&63)<<6|Ge&63,Je>2047&&(Je<55296||Je>57343)&&(ae=Je));break;case 4:De=R[M+1],Ge=R[M+2],it=R[M+3],(De&192)===128&&(Ge&192)===128&&(it&192)===128&&(Je=(ne&15)<<18|(De&63)<<12|(Ge&63)<<6|it&63,Je>65535&&Je<1114112&&(ae=Je))}}ae===null?(ae=65533,je=1):ae>65535&&(ae-=65536,P.push(ae>>>10&1023|55296),ae=56320|ae&1023),P.push(ae),M+=je}return he(P)}var ee=4096;function he(R){var b=R.length;if(b<=ee)return String.fromCharCode.apply(String,R);for(var E="",P=0;P<b;)E+=String.fromCharCode.apply(String,R.slice(P,P+=ee));return E}function be(R,b,E){var P="";E=Math.min(R.length,E);for(var M=b;M<E;++M)P+=String.fromCharCode(R[M]&127);return P}function fe(R,b,E){var P="";E=Math.min(R.length,E);for(var M=b;M<E;++M)P+=String.fromCharCode(R[M]);return P}function Y(R,b,E){var P=R.length;(!b||b<0)&&(b=0),(!E||E<0||E>P)&&(E=P);for(var M="",ne=b;ne<E;++ne)M+=Sr[R[ne]];return M}function re(R,b,E){for(var P=R.slice(b,E),M="",ne=0;ne<P.length-1;ne+=2)M+=String.fromCharCode(P[ne]+P[ne+1]*256);return M}l.prototype.slice=function(b,E){var P=this.length;b=~~b,E=E===void 0?P:~~E,b<0?(b+=P,b<0&&(b=0)):b>P&&(b=P),E<0?(E+=P,E<0&&(E=0)):E>P&&(E=P),E<b&&(E=b);var M=this.subarray(b,E);return Object.setPrototypeOf(M,l.prototype),M};function J(R,b,E){if(R%1!==0||R<0)throw new RangeError("offset is not uint");if(R+b>E)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(b,E,P){b=b>>>0,E=E>>>0,P||J(b,E,this.length);for(var M=this[b],ne=1,ae=0;++ae<E&&(ne*=256);)M+=this[b+ae]*ne;return M},l.prototype.readUintBE=l.prototype.readUIntBE=function(b,E,P){b=b>>>0,E=E>>>0,P||J(b,E,this.length);for(var M=this[b+--E],ne=1;E>0&&(ne*=256);)M+=this[b+--E]*ne;return M},l.prototype.readUint8=l.prototype.readUInt8=function(b,E){return b=b>>>0,E||J(b,1,this.length),this[b]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(b,E){return b=b>>>0,E||J(b,2,this.length),this[b]|this[b+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(b,E){return b=b>>>0,E||J(b,2,this.length),this[b]<<8|this[b+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(b,E){return b=b>>>0,E||J(b,4,this.length),(this[b]|this[b+1]<<8|this[b+2]<<16)+this[b+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(b,E){return b=b>>>0,E||J(b,4,this.length),this[b]*16777216+(this[b+1]<<16|this[b+2]<<8|this[b+3])},l.prototype.readIntLE=function(b,E,P){b=b>>>0,E=E>>>0,P||J(b,E,this.length);for(var M=this[b],ne=1,ae=0;++ae<E&&(ne*=256);)M+=this[b+ae]*ne;return ne*=128,M>=ne&&(M-=Math.pow(2,8*E)),M},l.prototype.readIntBE=function(b,E,P){b=b>>>0,E=E>>>0,P||J(b,E,this.length);for(var M=E,ne=1,ae=this[b+--M];M>0&&(ne*=256);)ae+=this[b+--M]*ne;return ne*=128,ae>=ne&&(ae-=Math.pow(2,8*E)),ae},l.prototype.readInt8=function(b,E){return b=b>>>0,E||J(b,1,this.length),this[b]&128?(255-this[b]+1)*-1:this[b]},l.prototype.readInt16LE=function(b,E){b=b>>>0,E||J(b,2,this.length);var P=this[b]|this[b+1]<<8;return P&32768?P|4294901760:P},l.prototype.readInt16BE=function(b,E){b=b>>>0,E||J(b,2,this.length);var P=this[b+1]|this[b]<<8;return P&32768?P|4294901760:P},l.prototype.readInt32LE=function(b,E){return b=b>>>0,E||J(b,4,this.length),this[b]|this[b+1]<<8|this[b+2]<<16|this[b+3]<<24},l.prototype.readInt32BE=function(b,E){return b=b>>>0,E||J(b,4,this.length),this[b]<<24|this[b+1]<<16|this[b+2]<<8|this[b+3]},l.prototype.readFloatLE=function(b,E){return b=b>>>0,E||J(b,4,this.length),Va.read(this,b,!0,23,4)},l.prototype.readFloatBE=function(b,E){return b=b>>>0,E||J(b,4,this.length),Va.read(this,b,!1,23,4)},l.prototype.readDoubleLE=function(b,E){return b=b>>>0,E||J(b,8,this.length),Va.read(this,b,!0,52,8)},l.prototype.readDoubleBE=function(b,E){return b=b>>>0,E||J(b,8,this.length),Va.read(this,b,!1,52,8)};function j(R,b,E,P,M,ne){if(!l.isBuffer(R))throw new TypeError('"buffer" argument must be a Buffer instance');if(b>M||b<ne)throw new RangeError('"value" argument is out of bounds');if(E+P>R.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(b,E,P,M){if(b=+b,E=E>>>0,P=P>>>0,!M){var ne=Math.pow(2,8*P)-1;j(this,b,E,P,ne,0)}var ae=1,je=0;for(this[E]=b&255;++je<P&&(ae*=256);)this[E+je]=b/ae&255;return E+P},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(b,E,P,M){if(b=+b,E=E>>>0,P=P>>>0,!M){var ne=Math.pow(2,8*P)-1;j(this,b,E,P,ne,0)}var ae=P-1,je=1;for(this[E+ae]=b&255;--ae>=0&&(je*=256);)this[E+ae]=b/je&255;return E+P},l.prototype.writeUint8=l.prototype.writeUInt8=function(b,E,P){return b=+b,E=E>>>0,P||j(this,b,E,1,255,0),this[E]=b&255,E+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(b,E,P){return b=+b,E=E>>>0,P||j(this,b,E,2,65535,0),this[E]=b&255,this[E+1]=b>>>8,E+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(b,E,P){return b=+b,E=E>>>0,P||j(this,b,E,2,65535,0),this[E]=b>>>8,this[E+1]=b&255,E+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(b,E,P){return b=+b,E=E>>>0,P||j(this,b,E,4,4294967295,0),this[E+3]=b>>>24,this[E+2]=b>>>16,this[E+1]=b>>>8,this[E]=b&255,E+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(b,E,P){return b=+b,E=E>>>0,P||j(this,b,E,4,4294967295,0),this[E]=b>>>24,this[E+1]=b>>>16,this[E+2]=b>>>8,this[E+3]=b&255,E+4},l.prototype.writeIntLE=function(b,E,P,M){if(b=+b,E=E>>>0,!M){var ne=Math.pow(2,8*P-1);j(this,b,E,P,ne-1,-ne)}var ae=0,je=1,De=0;for(this[E]=b&255;++ae<P&&(je*=256);)b<0&&De===0&&this[E+ae-1]!==0&&(De=1),this[E+ae]=(b/je>>0)-De&255;return E+P},l.prototype.writeIntBE=function(b,E,P,M){if(b=+b,E=E>>>0,!M){var ne=Math.pow(2,8*P-1);j(this,b,E,P,ne-1,-ne)}var ae=P-1,je=1,De=0;for(this[E+ae]=b&255;--ae>=0&&(je*=256);)b<0&&De===0&&this[E+ae+1]!==0&&(De=1),this[E+ae]=(b/je>>0)-De&255;return E+P},l.prototype.writeInt8=function(b,E,P){return b=+b,E=E>>>0,P||j(this,b,E,1,127,-128),b<0&&(b=255+b+1),this[E]=b&255,E+1},l.prototype.writeInt16LE=function(b,E,P){return b=+b,E=E>>>0,P||j(this,b,E,2,32767,-32768),this[E]=b&255,this[E+1]=b>>>8,E+2},l.prototype.writeInt16BE=function(b,E,P){return b=+b,E=E>>>0,P||j(this,b,E,2,32767,-32768),this[E]=b>>>8,this[E+1]=b&255,E+2},l.prototype.writeInt32LE=function(b,E,P){return b=+b,E=E>>>0,P||j(this,b,E,4,2147483647,-2147483648),this[E]=b&255,this[E+1]=b>>>8,this[E+2]=b>>>16,this[E+3]=b>>>24,E+4},l.prototype.writeInt32BE=function(b,E,P){return b=+b,E=E>>>0,P||j(this,b,E,4,2147483647,-2147483648),b<0&&(b=4294967295+b+1),this[E]=b>>>24,this[E+1]=b>>>16,this[E+2]=b>>>8,this[E+3]=b&255,E+4};function X(R,b,E,P,M,ne){if(E+P>R.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("Index out of range")}function xe(R,b,E,P,M){return b=+b,E=E>>>0,M||X(R,b,E,4),Va.write(R,b,E,P,23,4),E+4}l.prototype.writeFloatLE=function(b,E,P){return xe(this,b,E,!0,P)},l.prototype.writeFloatBE=function(b,E,P){return xe(this,b,E,!1,P)};function Ae(R,b,E,P,M){return b=+b,E=E>>>0,M||X(R,b,E,8),Va.write(R,b,E,P,52,8),E+8}l.prototype.writeDoubleLE=function(b,E,P){return Ae(this,b,E,!0,P)},l.prototype.writeDoubleBE=function(b,E,P){return Ae(this,b,E,!1,P)},l.prototype.copy=function(b,E,P,M){if(!l.isBuffer(b))throw new TypeError("argument should be a Buffer");if(P||(P=0),!M&&M!==0&&(M=this.length),E>=b.length&&(E=b.length),E||(E=0),M>0&&M<P&&(M=P),M===P||b.length===0||this.length===0)return 0;if(E<0)throw new RangeError("targetStart out of bounds");if(P<0||P>=this.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("sourceEnd out of bounds");M>this.length&&(M=this.length),b.length-E<M-P&&(M=b.length-E+P);var ne=M-P;return this===b&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(E,P,M):Uint8Array.prototype.set.call(b,this.subarray(P,M),E),ne},l.prototype.fill=function(b,E,P,M){if(typeof b=="string"){if(typeof E=="string"?(M=E,E=0,P=this.length):typeof P=="string"&&(M=P,P=this.length),M!==void 0&&typeof M!="string")throw new TypeError("encoding must be a string");if(typeof M=="string"&&!l.isEncoding(M))throw new TypeError("Unknown encoding: "+M);if(b.length===1){var ne=b.charCodeAt(0);(M==="utf8"&&ne<128||M==="latin1")&&(b=ne)}}else typeof b=="number"?b=b&255:typeof b=="boolean"&&(b=Number(b));if(E<0||this.length<E||this.length<P)throw new RangeError("Out of range index");if(P<=E)return this;E=E>>>0,P=P===void 0?this.length:P>>>0,b||(b=0);var ae;if(typeof b=="number")for(ae=E;ae<P;++ae)this[ae]=b;else{var je=l.isBuffer(b)?b:l.from(b,M),De=je.length;if(De===0)throw new TypeError('The value "'+b+'" is invalid for argument "value"');for(ae=0;ae<P-E;++ae)this[ae+E]=je[ae%De]}return this};var te=/[^+/0-9A-Za-z-_]/g;function Z(R){if(R=R.split("=")[0],R=R.trim().replace(te,""),R.length<2)return"";for(;R.length%4!==0;)R=R+"=";return R}function Ie(R,b){b=b||1/0;for(var E,P=R.length,M=null,ne=[],ae=0;ae<P;++ae){if(E=R.charCodeAt(ae),E>55295&&E<57344){if(!M){if(E>56319){(b-=3)>-1&&ne.push(239,191,189);continue}else if(ae+1===P){(b-=3)>-1&&ne.push(239,191,189);continue}M=E;continue}if(E<56320){(b-=3)>-1&&ne.push(239,191,189),M=E;continue}E=(M-55296<<10|E-56320)+65536}else M&&(b-=3)>-1&&ne.push(239,191,189);if(M=null,E<128){if((b-=1)<0)break;ne.push(E)}else if(E<2048){if((b-=2)<0)break;ne.push(E>>6|192,E&63|128)}else if(E<65536){if((b-=3)<0)break;ne.push(E>>12|224,E>>6&63|128,E&63|128)}else if(E<1114112){if((b-=4)<0)break;ne.push(E>>18|240,E>>12&63|128,E>>6&63|128,E&63|128)}else throw new Error("Invalid code point")}return ne}function de(R){for(var b=[],E=0;E<R.length;++E)b.push(R.charCodeAt(E)&255);return b}function Ce(R,b){for(var E,P,M,ne=[],ae=0;ae<R.length&&!((b-=2)<0);++ae)E=R.charCodeAt(ae),P=E>>8,M=E%256,ne.push(M),ne.push(P);return ne}function Fe(R){return _0.toByteArray(Z(R))}function Ye(R,b,E,P){for(var M=0;M<P&&!(M+E>=b.length||M>=R.length);++M)b[M+E]=R[M];return M}function ft(R,b){return R instanceof b||R!=null&&R.constructor!=null&&R.constructor.name!=null&&R.constructor.name===b.name}function Nt(R){return R!==R}var Sr=(function(){for(var R="0123456789abcdef",b=new Array(256),E=0;E<16;++E)for(var P=E*16,M=0;M<16;++M)b[P+M]=R[E]+R[M];return b})()}),Ve=Bd.Buffer;Bd.SlowBuffer;Bd.INSPECT_MAX_BYTES;Bd.kMaxLength;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var dg=function(e,r){return dg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},dg(e,r)};function qd(t,e){dg(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Jo=(function(t){qd(e,t);function e(r){var n=t.call(this,r)||this;return Object.setPrototypeOf(n,e.prototype),n}return Object.defineProperty(e.prototype,"name",{get:function(){return"BSONError"},enumerable:!1,configurable:!0}),e})(Error),ct=(function(t){qd(e,t);function e(r){var n=t.call(this,r)||this;return Object.setPrototypeOf(n,e.prototype),n}return Object.defineProperty(e.prototype,"name",{get:function(){return"BSONTypeError"},enumerable:!1,configurable:!0}),e})(TypeError);function lf(t){return t&&t.Math==Math&&t}function tP(){return lf(typeof globalThis=="object"&&globalThis)||lf(typeof window=="object"&&window)||lf(typeof self=="object"&&self)||lf(typeof global=="object"&&global)||Function("return this")()}function p9(){var t=tP();return typeof t.navigator=="object"&&t.navigator.product==="ReactNative"}var v9=function(e){var r=p9()?"BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.":"BSON: No cryptographic implementation for random bytes present, falling back to a less secure implementation.";console.warn(r);for(var n=Ve.alloc(e),o=0;o<e;++o)n[o]=Math.floor(Math.random()*256);return n},y9=function(){{if(typeof window<"u"){var t=window.crypto||window.msCrypto;if(t&&t.getRandomValues)return function(e){return t.getRandomValues(Ve.alloc(e))}}return typeof global<"u"&&global.crypto&&global.crypto.getRandomValues?function(e){return global.crypto.getRandomValues(Ve.alloc(e))}:v9}},rP=y9();function m9(t){return["[object ArrayBuffer]","[object SharedArrayBuffer]"].includes(Object.prototype.toString.call(t))}function T_(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}function g9(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function _9(t){return Sl(t)&&Object.prototype.toString.call(t)==="[object Date]"}function Sl(t){return typeof t=="object"&&t!==null}function $d(t,e){var r=!1;function n(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return r||(console.warn(e),r=!0),t.apply(this,o)}return n}function cd(t){if(ArrayBuffer.isView(t))return Ve.from(t.buffer,t.byteOffset,t.byteLength);if(m9(t))return Ve.from(t);throw new ct("Must use either Buffer or TypedArray")}var w9=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|[0-9a-f]{12}4[0-9a-f]{3}[89ab][0-9a-f]{15})$/i,nP=function(t){return typeof t=="string"&&w9.test(t)},hg=function(t){if(!nP(t))throw new ct('UUID string representations must be a 32 or 36 character hex string (dashes excluded/included). Format: "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx" or "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".');var e=t.replace(/-/g,"");return Ve.from(e,"hex")},v2=function(t,e){return e===void 0&&(e=!0),e?t.toString("hex",0,4)+"-"+t.toString("hex",4,6)+"-"+t.toString("hex",6,8)+"-"+t.toString("hex",8,10)+"-"+t.toString("hex",10,16):t.toString("hex")},b9=Math.pow(2,53),E9=-Math.pow(2,53),iP=4,Qo=(function(){function t(e,r){if(!(this instanceof t))return new t(e,r);if(e!=null&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!(e instanceof ArrayBuffer)&&!Array.isArray(e))throw new ct("Binary can only be constructed from string, Buffer, TypedArray, or Array<number>");this.sub_type=r??t.BSON_BINARY_SUBTYPE_DEFAULT,e==null?(this.buffer=Ve.alloc(t.BUFFER_SIZE),this.position=0):(typeof e=="string"?this.buffer=Ve.from(e,"binary"):Array.isArray(e)?this.buffer=Ve.from(e):this.buffer=cd(e),this.position=this.buffer.byteLength)}return t.prototype.put=function(e){if(typeof e=="string"&&e.length!==1)throw new ct("only accepts single character String");if(typeof e!="number"&&e.length!==1)throw new ct("only accepts single character Uint8Array or Array");var r;if(typeof e=="string"?r=e.charCodeAt(0):typeof e=="number"?r=e:r=e[0],r<0||r>255)throw new ct("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.length>this.position)this.buffer[this.position++]=r;else{var n=Ve.alloc(t.BUFFER_SIZE+this.buffer.length);this.buffer.copy(n,0,0,this.buffer.length),this.buffer=n,this.buffer[this.position++]=r}},t.prototype.write=function(e,r){if(r=typeof r=="number"?r:this.position,this.buffer.length<r+e.length){var n=Ve.alloc(this.buffer.length+e.length);this.buffer.copy(n,0,0,this.buffer.length),this.buffer=n}ArrayBuffer.isView(e)?(this.buffer.set(cd(e),r),this.position=r+e.byteLength>this.position?r+e.length:this.position):typeof e=="string"&&(this.buffer.write(e,r,e.length,"binary"),this.position=r+e.length>this.position?r+e.length:this.position)},t.prototype.read=function(e,r){return r=r&&r>0?r:this.position,this.buffer.slice(e,e+r)},t.prototype.value=function(e){return e=!!e,e&&this.buffer.length===this.position?this.buffer:e?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position)},t.prototype.length=function(){return this.position},t.prototype.toJSON=function(){return this.buffer.toString("base64")},t.prototype.toString=function(e){return this.buffer.toString(e)},t.prototype.toExtendedJSON=function(e){e=e||{};var r=this.buffer.toString("base64"),n=Number(this.sub_type).toString(16);return e.legacy?{$binary:r,$type:n.length===1?"0"+n:n}:{$binary:{base64:r,subType:n.length===1?"0"+n:n}}},t.prototype.toUUID=function(){if(this.sub_type===t.SUBTYPE_UUID)return new y2(this.buffer.slice(0,this.position));throw new Jo('Binary sub_type "'.concat(this.sub_type,'" is not supported for converting to UUID. Only "').concat(t.SUBTYPE_UUID,'" is currently supported.'))},t.fromExtendedJSON=function(e,r){r=r||{};var n,o;if("$binary"in e?r.legacy&&typeof e.$binary=="string"&&"$type"in e?(o=e.$type?parseInt(e.$type,16):0,n=Ve.from(e.$binary,"base64")):typeof e.$binary!="string"&&(o=e.$binary.subType?parseInt(e.$binary.subType,16):0,n=Ve.from(e.$binary.base64,"base64")):"$uuid"in e&&(o=4,n=hg(e.$uuid)),!n)throw new ct("Unexpected Binary Extended JSON format ".concat(JSON.stringify(e)));return o===iP?new y2(n):new t(n,o)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.value(!0);return'new Binary(Buffer.from("'.concat(e.toString("hex"),'", "hex"), ').concat(this.sub_type,")")},t.BSON_BINARY_SUBTYPE_DEFAULT=0,t.BUFFER_SIZE=256,t.SUBTYPE_DEFAULT=0,t.SUBTYPE_FUNCTION=1,t.SUBTYPE_BYTE_ARRAY=2,t.SUBTYPE_UUID_OLD=3,t.SUBTYPE_UUID=4,t.SUBTYPE_MD5=5,t.SUBTYPE_ENCRYPTED=6,t.SUBTYPE_COLUMN=7,t.SUBTYPE_USER_DEFINED=128,t})();Object.defineProperty(Qo.prototype,"_bsontype",{value:"Binary"});var w0=16,y2=(function(t){qd(e,t);function e(r){var n=this,o,i;if(r==null)o=e.generate();else if(r instanceof e)o=Ve.from(r.buffer),i=r.__id;else if(ArrayBuffer.isView(r)&&r.byteLength===w0)o=cd(r);else if(typeof r=="string")o=hg(r);else throw new ct("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");return n=t.call(this,o,iP)||this,n.__id=i,n}return Object.defineProperty(e.prototype,"id",{get:function(){return this.buffer},set:function(r){this.buffer=r,e.cacheHexString&&(this.__id=v2(r))},enumerable:!1,configurable:!0}),e.prototype.toHexString=function(r){if(r===void 0&&(r=!0),e.cacheHexString&&this.__id)return this.__id;var n=v2(this.id,r);return e.cacheHexString&&(this.__id=n),n},e.prototype.toString=function(r){return r?this.id.toString(r):this.toHexString()},e.prototype.toJSON=function(){return this.toHexString()},e.prototype.equals=function(r){if(!r)return!1;if(r instanceof e)return r.id.equals(this.id);try{return new e(r).id.equals(this.id)}catch{return!1}},e.prototype.toBinary=function(){return new Qo(this.id,Qo.SUBTYPE_UUID)},e.generate=function(){var r=rP(w0);return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Ve.from(r)},e.isValid=function(r){return r?r instanceof e?!0:typeof r=="string"?nP(r):T_(r)?r.length!==w0?!1:(r[6]&240)===64&&(r[8]&128)===128:!1:!1},e.createFromHexString=function(r){var n=hg(r);return new e(n)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new UUID("'.concat(this.toHexString(),'")')},e})(Qo),Wd=(function(){function t(e,r){if(!(this instanceof t))return new t(e,r);this.code=e,this.scope=r}return t.prototype.toJSON=function(){return{code:this.code,scope:this.scope}},t.prototype.toExtendedJSON=function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}},t.fromExtendedJSON=function(e){return new t(e.$code,e.$scope)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.toJSON();return'new Code("'.concat(String(e.code),'"').concat(e.scope?", ".concat(JSON.stringify(e.scope)):"",")")},t})();Object.defineProperty(Wd.prototype,"_bsontype",{value:"Code"});function S9(t){return Sl(t)&&t.$id!=null&&typeof t.$ref=="string"&&(t.$db==null||typeof t.$db=="string")}var fl=(function(){function t(e,r,n,o){if(!(this instanceof t))return new t(e,r,n,o);var i=e.split(".");i.length===2&&(n=i.shift(),e=i.shift()),this.collection=e,this.oid=r,this.db=n,this.fields=o||{}}return Object.defineProperty(t.prototype,"namespace",{get:function(){return this.collection},set:function(e){this.collection=e},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){var e=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return this.db!=null&&(e.$db=this.db),e},t.prototype.toExtendedJSON=function(e){e=e||{};var r={$ref:this.collection,$id:this.oid};return e.legacy||(this.db&&(r.$db=this.db),r=Object.assign(r,this.fields)),r},t.fromExtendedJSON=function(e){var r=Object.assign({},e);return delete r.$ref,delete r.$id,delete r.$db,new t(e.$ref,e.$id,e.$db,r)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.oid===void 0||this.oid.toString===void 0?this.oid:this.oid.toString();return'new DBRef("'.concat(this.namespace,'", new ObjectId("').concat(String(e),'")').concat(this.db?', "'.concat(this.db,'"'):"",")")},t})();Object.defineProperty(fl.prototype,"_bsontype",{value:"DBRef"});var zr=void 0;try{zr=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}var m2=65536,I9=1<<24,os=m2*m2,oP=os*os,g2=oP/2,_2={},w2={},Se=(function(){function t(e,r,n){if(e===void 0&&(e=0),!(this instanceof t))return new t(e,r,n);typeof e=="bigint"?Object.assign(this,t.fromBigInt(e,!!r)):typeof e=="string"?Object.assign(this,t.fromString(e,!!r)):(this.low=e|0,this.high=r|0,this.unsigned=!!n),Object.defineProperty(this,"__isLong__",{value:!0,configurable:!1,writable:!1,enumerable:!1})}return t.fromBits=function(e,r,n){return new t(e,r,n)},t.fromInt=function(e,r){var n,o,i;return r?(e>>>=0,(i=0<=e&&e<256)&&(o=w2[e],o)?o:(n=t.fromBits(e,(e|0)<0?-1:0,!0),i&&(w2[e]=n),n)):(e|=0,(i=-128<=e&&e<128)&&(o=_2[e],o)?o:(n=t.fromBits(e,e<0?-1:0,!1),i&&(_2[e]=n),n))},t.fromNumber=function(e,r){if(isNaN(e))return r?t.UZERO:t.ZERO;if(r){if(e<0)return t.UZERO;if(e>=oP)return t.MAX_UNSIGNED_VALUE}else{if(e<=-g2)return t.MIN_VALUE;if(e+1>=g2)return t.MAX_VALUE}return e<0?t.fromNumber(-e,r).neg():t.fromBits(e%os|0,e/os|0,r)},t.fromBigInt=function(e,r){return t.fromString(e.toString(),r)},t.fromString=function(e,r,n){if(e.length===0)throw Error("empty string");if(e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return t.ZERO;if(typeof r=="number"?(n=r,r=!1):r=!!r,n=n||10,n<2||36<n)throw RangeError("radix");var o;if((o=e.indexOf("-"))>0)throw Error("interior hyphen");if(o===0)return t.fromString(e.substring(1),r,n).neg();for(var i=t.fromNumber(Math.pow(n,8)),l=t.ZERO,f=0;f<e.length;f+=8){var h=Math.min(8,e.length-f),u=parseInt(e.substring(f,f+h),n);if(h<8){var d=t.fromNumber(Math.pow(n,h));l=l.mul(d).add(t.fromNumber(u))}else l=l.mul(i),l=l.add(t.fromNumber(u))}return l.unsigned=r,l},t.fromBytes=function(e,r,n){return n?t.fromBytesLE(e,r):t.fromBytesBE(e,r)},t.fromBytesLE=function(e,r){return new t(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,r)},t.fromBytesBE=function(e,r){return new t(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],r)},t.isLong=function(e){return Sl(e)&&e.__isLong__===!0},t.fromValue=function(e,r){return typeof e=="number"?t.fromNumber(e,r):typeof e=="string"?t.fromString(e,r):t.fromBits(e.low,e.high,typeof r=="boolean"?r:e.unsigned)},t.prototype.add=function(e){t.isLong(e)||(e=t.fromValue(e));var r=this.high>>>16,n=this.high&65535,o=this.low>>>16,i=this.low&65535,l=e.high>>>16,f=e.high&65535,h=e.low>>>16,u=e.low&65535,d=0,v=0,y=0,_=0;return _+=i+u,y+=_>>>16,_&=65535,y+=o+h,v+=y>>>16,y&=65535,v+=n+f,d+=v>>>16,v&=65535,d+=r+l,d&=65535,t.fromBits(y<<16|_,d<<16|v,this.unsigned)},t.prototype.and=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low&e.low,this.high&e.high,this.unsigned)},t.prototype.compare=function(e){if(t.isLong(e)||(e=t.fromValue(e)),this.eq(e))return 0;var r=this.isNegative(),n=e.isNegative();return r&&!n?-1:!r&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},t.prototype.comp=function(e){return this.compare(e)},t.prototype.divide=function(e){if(t.isLong(e)||(e=t.fromValue(e)),e.isZero())throw Error("division by zero");if(zr){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var r=(this.unsigned?zr.div_u:zr.div_s)(this.low,this.high,e.low,e.high);return t.fromBits(r,zr.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?t.UZERO:t.ZERO;var n,o,i;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return t.UZERO;if(e.gt(this.shru(1)))return t.UONE;i=t.UZERO}else{if(this.eq(t.MIN_VALUE)){if(e.eq(t.ONE)||e.eq(t.NEG_ONE))return t.MIN_VALUE;if(e.eq(t.MIN_VALUE))return t.ONE;var l=this.shr(1);return n=l.div(e).shl(1),n.eq(t.ZERO)?e.isNegative()?t.ONE:t.NEG_ONE:(o=this.sub(e.mul(n)),i=n.add(o.div(e)),i)}else if(e.eq(t.MIN_VALUE))return this.unsigned?t.UZERO:t.ZERO;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=t.ZERO}for(o=this;o.gte(e);){n=Math.max(1,Math.floor(o.toNumber()/e.toNumber()));for(var f=Math.ceil(Math.log(n)/Math.LN2),h=f<=48?1:Math.pow(2,f-48),u=t.fromNumber(n),d=u.mul(e);d.isNegative()||d.gt(o);)n-=h,u=t.fromNumber(n,this.unsigned),d=u.mul(e);u.isZero()&&(u=t.ONE),i=i.add(u),o=o.sub(d)}return i},t.prototype.div=function(e){return this.divide(e)},t.prototype.equals=function(e){return t.isLong(e)||(e=t.fromValue(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low},t.prototype.eq=function(e){return this.equals(e)},t.prototype.getHighBits=function(){return this.high},t.prototype.getHighBitsUnsigned=function(){return this.high>>>0},t.prototype.getLowBits=function(){return this.low},t.prototype.getLowBitsUnsigned=function(){return this.low>>>0},t.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(t.MIN_VALUE)?64:this.neg().getNumBitsAbs();var e=this.high!==0?this.high:this.low,r;for(r=31;r>0&&(e&1<<r)===0;r--);return this.high!==0?r+33:r+1},t.prototype.greaterThan=function(e){return this.comp(e)>0},t.prototype.gt=function(e){return this.greaterThan(e)},t.prototype.greaterThanOrEqual=function(e){return this.comp(e)>=0},t.prototype.gte=function(e){return this.greaterThanOrEqual(e)},t.prototype.ge=function(e){return this.greaterThanOrEqual(e)},t.prototype.isEven=function(){return(this.low&1)===0},t.prototype.isNegative=function(){return!this.unsigned&&this.high<0},t.prototype.isOdd=function(){return(this.low&1)===1},t.prototype.isPositive=function(){return this.unsigned||this.high>=0},t.prototype.isZero=function(){return this.high===0&&this.low===0},t.prototype.lessThan=function(e){return this.comp(e)<0},t.prototype.lt=function(e){return this.lessThan(e)},t.prototype.lessThanOrEqual=function(e){return this.comp(e)<=0},t.prototype.lte=function(e){return this.lessThanOrEqual(e)},t.prototype.modulo=function(e){if(t.isLong(e)||(e=t.fromValue(e)),zr){var r=(this.unsigned?zr.rem_u:zr.rem_s)(this.low,this.high,e.low,e.high);return t.fromBits(r,zr.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))},t.prototype.mod=function(e){return this.modulo(e)},t.prototype.rem=function(e){return this.modulo(e)},t.prototype.multiply=function(e){if(this.isZero())return t.ZERO;if(t.isLong(e)||(e=t.fromValue(e)),zr){var r=zr.mul(this.low,this.high,e.low,e.high);return t.fromBits(r,zr.get_high(),this.unsigned)}if(e.isZero())return t.ZERO;if(this.eq(t.MIN_VALUE))return e.isOdd()?t.MIN_VALUE:t.ZERO;if(e.eq(t.MIN_VALUE))return this.isOdd()?t.MIN_VALUE:t.ZERO;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(t.TWO_PWR_24)&&e.lt(t.TWO_PWR_24))return t.fromNumber(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,o=this.high&65535,i=this.low>>>16,l=this.low&65535,f=e.high>>>16,h=e.high&65535,u=e.low>>>16,d=e.low&65535,v=0,y=0,_=0,w=0;return w+=l*d,_+=w>>>16,w&=65535,_+=i*d,y+=_>>>16,_&=65535,_+=l*u,y+=_>>>16,_&=65535,y+=o*d,v+=y>>>16,y&=65535,y+=i*u,v+=y>>>16,y&=65535,y+=l*h,v+=y>>>16,y&=65535,v+=n*d+o*u+i*h+l*f,v&=65535,t.fromBits(_<<16|w,v<<16|y,this.unsigned)},t.prototype.mul=function(e){return this.multiply(e)},t.prototype.negate=function(){return!this.unsigned&&this.eq(t.MIN_VALUE)?t.MIN_VALUE:this.not().add(t.ONE)},t.prototype.neg=function(){return this.negate()},t.prototype.not=function(){return t.fromBits(~this.low,~this.high,this.unsigned)},t.prototype.notEquals=function(e){return!this.equals(e)},t.prototype.neq=function(e){return this.notEquals(e)},t.prototype.ne=function(e){return this.notEquals(e)},t.prototype.or=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low|e.low,this.high|e.high,this.unsigned)},t.prototype.shiftLeft=function(e){return t.isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?t.fromBits(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):t.fromBits(0,this.low<<e-32,this.unsigned)},t.prototype.shl=function(e){return this.shiftLeft(e)},t.prototype.shiftRight=function(e){return t.isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?t.fromBits(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):t.fromBits(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},t.prototype.shr=function(e){return this.shiftRight(e)},t.prototype.shiftRightUnsigned=function(e){if(t.isLong(e)&&(e=e.toInt()),e&=63,e===0)return this;var r=this.high;if(e<32){var n=this.low;return t.fromBits(n>>>e|r<<32-e,r>>>e,this.unsigned)}else return e===32?t.fromBits(r,0,this.unsigned):t.fromBits(r>>>e-32,0,this.unsigned)},t.prototype.shr_u=function(e){return this.shiftRightUnsigned(e)},t.prototype.shru=function(e){return this.shiftRightUnsigned(e)},t.prototype.subtract=function(e){return t.isLong(e)||(e=t.fromValue(e)),this.add(e.neg())},t.prototype.sub=function(e){return this.subtract(e)},t.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},t.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*os+(this.low>>>0):this.high*os+(this.low>>>0)},t.prototype.toBigInt=function(){return BigInt(this.toString())},t.prototype.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},t.prototype.toBytesLE=function(){var e=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]},t.prototype.toBytesBE=function(){var e=this.high,r=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,r>>>24,r>>>16&255,r>>>8&255,r&255]},t.prototype.toSigned=function(){return this.unsigned?t.fromBits(this.low,this.high,!1):this},t.prototype.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(t.MIN_VALUE)){var r=t.fromNumber(e),n=this.div(r),o=n.mul(r).sub(this);return n.toString(e)+o.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var i=t.fromNumber(Math.pow(e,6),this.unsigned),l=this,f="";;){var h=l.div(i),u=l.sub(h.mul(i)).toInt()>>>0,d=u.toString(e);if(l=h,l.isZero())return d+f;for(;d.length<6;)d="0"+d;f=""+d+f}},t.prototype.toUnsigned=function(){return this.unsigned?this:t.fromBits(this.low,this.high,!0)},t.prototype.xor=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low^e.low,this.high^e.high,this.unsigned)},t.prototype.eqz=function(){return this.isZero()},t.prototype.le=function(e){return this.lessThanOrEqual(e)},t.prototype.toExtendedJSON=function(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}},t.fromExtendedJSON=function(e,r){var n=t.fromString(e.$numberLong);return r&&r.relaxed?n.toNumber():n},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new Long("'.concat(this.toString(),'"').concat(this.unsigned?", true":"",")")},t.TWO_PWR_24=t.fromInt(I9),t.MAX_UNSIGNED_VALUE=t.fromBits(-1,-1,!0),t.ZERO=t.fromInt(0),t.UZERO=t.fromInt(0,!0),t.ONE=t.fromInt(1),t.UONE=t.fromInt(1,!0),t.NEG_ONE=t.fromInt(-1),t.MAX_VALUE=t.fromBits(-1,2147483647,!1),t.MIN_VALUE=t.fromBits(0,-2147483648,!1),t})();Object.defineProperty(Se.prototype,"__isLong__",{value:!0});Object.defineProperty(Se.prototype,"_bsontype",{value:"Long"});var T9=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,O9=/^(\+|-)?(Infinity|inf)$/i,x9=/^(\+|-)?NaN$/i,Ou=6111,b0=-6176,b2=6176,R9=34,E0=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),E2=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),S2=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),A9=/^([-+])?(\d+)?$/,C9=31,I2=16383,P9=30,N9=31;function T2(t){return!isNaN(parseInt(t,10))}function k9(t){var e=Se.fromNumber(1e9),r=Se.fromNumber(0);if(!t.parts[0]&&!t.parts[1]&&!t.parts[2]&&!t.parts[3])return{quotient:t,rem:r};for(var n=0;n<=3;n++)r=r.shiftLeft(32),r=r.add(new Se(t.parts[n],0)),t.parts[n]=r.div(e).low,r=r.modulo(e);return{quotient:t,rem:r}}function L9(t,e){if(!t&&!e)return{high:Se.fromNumber(0),low:Se.fromNumber(0)};var r=t.shiftRightUnsigned(32),n=new Se(t.getLowBits(),0),o=e.shiftRightUnsigned(32),i=new Se(e.getLowBits(),0),l=r.multiply(o),f=r.multiply(i),h=n.multiply(o),u=n.multiply(i);return l=l.add(f.shiftRightUnsigned(32)),f=new Se(f.getLowBits(),0).add(h).add(u.shiftRightUnsigned(32)),l=l.add(f.shiftRightUnsigned(32)),u=f.shiftLeft(32).add(new Se(u.getLowBits(),0)),{high:l,low:u}}function j9(t,e){var r=t.high>>>0,n=e.high>>>0;if(r<n)return!0;if(r===n){var o=t.low>>>0,i=e.low>>>0;if(o<i)return!0}return!1}function Ka(t,e){throw new ct('"'.concat(t,'" is not a valid Decimal128 string - ').concat(e))}var O_=(function(){function t(e){if(!(this instanceof t))return new t(e);if(typeof e=="string")this.bytes=t.fromString(e).bytes;else if(T_(e)){if(e.byteLength!==16)throw new ct("Decimal128 must take a Buffer of 16 bytes");this.bytes=e}else throw new ct("Decimal128 must take a Buffer or string")}return t.fromString=function(e){var r=!1,n=!1,o=!1,i=0,l=0,f=0,h=0,u=0,d=[0],v=0,y=0,_=0,w=0,S=0,T=0,O=new Se(0,0),x=new Se(0,0),A=0,C=0;if(e.length>=7e3)throw new ct(""+e+" not a valid Decimal128 string");var U=e.match(T9),q=e.match(O9),K=e.match(x9);if(!U&&!q&&!K||e.length===0)throw new ct(""+e+" not a valid Decimal128 string");if(U){var V=U[2],k=U[4],$=U[5],F=U[6];k&&F===void 0&&Ka(e,"missing exponent power"),k&&V===void 0&&Ka(e,"missing exponent base"),k===void 0&&($||F)&&Ka(e,"missing e before exponent")}if((e[C]==="+"||e[C]==="-")&&(r=e[C++]==="-"),!T2(e[C])&&e[C]!=="."){if(e[C]==="i"||e[C]==="I")return new t(Ve.from(r?E2:S2));if(e[C]==="N")return new t(Ve.from(E0))}for(;T2(e[C])||e[C]===".";){if(e[C]==="."){n&&Ka(e,"contains multiple periods"),n=!0,C=C+1;continue}v<34&&(e[C]!=="0"||o)&&(o||(u=l),o=!0,d[y++]=parseInt(e[C],10),v=v+1),o&&(f=f+1),n&&(h=h+1),l=l+1,C=C+1}if(n&&!l)throw new ct(""+e+" not a valid Decimal128 string");if(e[C]==="e"||e[C]==="E"){var z=e.substr(++C).match(A9);if(!z||!z[2])return new t(Ve.from(E0));S=parseInt(z[0],10),C=C+z[0].length}if(e[C])return new t(Ve.from(E0));if(_=0,!v)_=0,w=0,d[0]=0,f=1,v=1,i=0;else if(w=v-1,i=f,i!==1)for(;d[u+i-1]===0;)i=i-1;for(S<=h&&h-S>16384?S=b0:S=S-h;S>Ou;){if(w=w+1,w-_>R9){var Q=d.join("");if(Q.match(/^0+$/)){S=Ou;break}Ka(e,"overflow")}S=S-1}for(;S<b0||v<f;){if(w===0&&i<v){S=b0,i=0;break}if(v<f?f=f-1:w=w-1,S<Ou)S=S+1;else{var Q=d.join("");if(Q.match(/^0+$/)){S=Ou;break}Ka(e,"overflow")}}if(w-_+1<i){var ee=l;n&&(u=u+1,ee=ee+1),r&&(u=u+1,ee=ee+1);var he=parseInt(e[u+w+1],10),be=0;if(he>=5&&(be=1,he===5)){for(be=d[w]%2===1?1:0,T=u+w+2;T<ee;T++)if(parseInt(e[T],10)){be=1;break}}if(be){for(var fe=w;fe>=0;fe--)if(++d[fe]>9&&(d[fe]=0,fe===0))if(S<Ou)S=S+1,d[fe]=1;else return new t(Ve.from(r?E2:S2))}}if(O=Se.fromNumber(0),x=Se.fromNumber(0),i===0)O=Se.fromNumber(0),x=Se.fromNumber(0);else if(w-_<17){var fe=_;for(x=Se.fromNumber(d[fe++]),O=new Se(0,0);fe<=w;fe++)x=x.multiply(Se.fromNumber(10)),x=x.add(Se.fromNumber(d[fe]))}else{var fe=_;for(O=Se.fromNumber(d[fe++]);fe<=w-17;fe++)O=O.multiply(Se.fromNumber(10)),O=O.add(Se.fromNumber(d[fe]));for(x=Se.fromNumber(d[fe++]);fe<=w;fe++)x=x.multiply(Se.fromNumber(10)),x=x.add(Se.fromNumber(d[fe]))}var Y=L9(O,Se.fromString("100000000000000000"));Y.low=Y.low.add(x),j9(Y.low,x)&&(Y.high=Y.high.add(Se.fromNumber(1))),A=S+b2;var re={low:Se.fromNumber(0),high:Se.fromNumber(0)};Y.high.shiftRightUnsigned(49).and(Se.fromNumber(1)).equals(Se.fromNumber(1))?(re.high=re.high.or(Se.fromNumber(3).shiftLeft(61)),re.high=re.high.or(Se.fromNumber(A).and(Se.fromNumber(16383).shiftLeft(47))),re.high=re.high.or(Y.high.and(Se.fromNumber(0x7fffffffffff)))):(re.high=re.high.or(Se.fromNumber(A&16383).shiftLeft(49)),re.high=re.high.or(Y.high.and(Se.fromNumber(562949953421311)))),re.low=Y.low,r&&(re.high=re.high.or(Se.fromString("9223372036854775808")));var J=Ve.alloc(16);return C=0,J[C++]=re.low.low&255,J[C++]=re.low.low>>8&255,J[C++]=re.low.low>>16&255,J[C++]=re.low.low>>24&255,J[C++]=re.low.high&255,J[C++]=re.low.high>>8&255,J[C++]=re.low.high>>16&255,J[C++]=re.low.high>>24&255,J[C++]=re.high.low&255,J[C++]=re.high.low>>8&255,J[C++]=re.high.low>>16&255,J[C++]=re.high.low>>24&255,J[C++]=re.high.high&255,J[C++]=re.high.high>>8&255,J[C++]=re.high.high>>16&255,J[C++]=re.high.high>>24&255,new t(J)},t.prototype.toString=function(){for(var e,r=0,n=new Array(36),o=0;o<n.length;o++)n[o]=0;var i=0,l=!1,f,h={parts:[0,0,0,0]},u,d,v=[];i=0;var y=this.bytes,_=y[i++]|y[i++]<<8|y[i++]<<16|y[i++]<<24,w=y[i++]|y[i++]<<8|y[i++]<<16|y[i++]<<24,S=y[i++]|y[i++]<<8|y[i++]<<16|y[i++]<<24,T=y[i++]|y[i++]<<8|y[i++]<<16|y[i++]<<24;i=0;var O={low:new Se(_,w),high:new Se(S,T)};O.high.lessThan(Se.ZERO)&&v.push("-");var x=T>>26&C9;if(x>>3===3){if(x===P9)return v.join("")+"Infinity";if(x===N9)return"NaN";e=T>>15&I2,f=8+(T>>14&1)}else f=T>>14&7,e=T>>17&I2;var A=e-b2;if(h.parts[0]=(T&16383)+((f&15)<<14),h.parts[1]=S,h.parts[2]=w,h.parts[3]=_,h.parts[0]===0&&h.parts[1]===0&&h.parts[2]===0&&h.parts[3]===0)l=!0;else for(d=3;d>=0;d--){var C=0,U=k9(h);if(h=U.quotient,C=U.rem.low,!!C)for(u=8;u>=0;u--)n[d*9+u]=C%10,C=Math.floor(C/10)}if(l)r=1,n[i]=0;else for(r=36;!n[i];)r=r-1,i=i+1;var q=r-1+A;if(q>=34||q<=-7||A>0){if(r>34)return v.push("".concat(0)),A>0?v.push("E+".concat(A)):A<0&&v.push("E".concat(A)),v.join("");v.push("".concat(n[i++])),r=r-1,r&&v.push(".");for(var o=0;o<r;o++)v.push("".concat(n[i++]));v.push("E"),q>0?v.push("+".concat(q)):v.push("".concat(q))}else if(A>=0)for(var o=0;o<r;o++)v.push("".concat(n[i++]));else{var K=r+A;if(K>0)for(var o=0;o<K;o++)v.push("".concat(n[i++]));else v.push("0");for(v.push(".");K++<0;)v.push("0");for(var o=0;o<r-Math.max(K-1,0);o++)v.push("".concat(n[i++]))}return v.join("")},t.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},t.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}},t.fromExtendedJSON=function(e){return t.fromString(e.$numberDecimal)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new Decimal128("'.concat(this.toString(),'")')},t})();Object.defineProperty(O_.prototype,"_bsontype",{value:"Decimal128"});var Hd=(function(){function t(e){if(!(this instanceof t))return new t(e);e instanceof Number&&(e=e.valueOf()),this.value=+e}return t.prototype.valueOf=function(){return this.value},t.prototype.toJSON=function(){return this.value},t.prototype.toString=function(e){return this.value.toString(e)},t.prototype.toExtendedJSON=function(e){return e&&(e.legacy||e.relaxed&&isFinite(this.value))?this.value:Object.is(Math.sign(this.value),-0)?{$numberDouble:"-".concat(this.value.toFixed(1))}:{$numberDouble:Number.isInteger(this.value)?this.value.toFixed(1):this.value.toString()}},t.fromExtendedJSON=function(e,r){var n=parseFloat(e.$numberDouble);return r&&r.relaxed?n:new t(n)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.toExtendedJSON();return"new Double(".concat(e.$numberDouble,")")},t})();Object.defineProperty(Hd.prototype,"_bsontype",{value:"Double"});var Gd=(function(){function t(e){if(!(this instanceof t))return new t(e);e instanceof Number&&(e=e.valueOf()),this.value=+e|0}return t.prototype.valueOf=function(){return this.value},t.prototype.toString=function(e){return this.value.toString(e)},t.prototype.toJSON=function(){return this.value},t.prototype.toExtendedJSON=function(e){return e&&(e.relaxed||e.legacy)?this.value:{$numberInt:this.value.toString()}},t.fromExtendedJSON=function(e,r){return r&&r.relaxed?parseInt(e.$numberInt,10):new t(e.$numberInt)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new Int32(".concat(this.valueOf(),")")},t})();Object.defineProperty(Gd.prototype,"_bsontype",{value:"Int32"});var x_=(function(){function t(){if(!(this instanceof t))return new t}return t.prototype.toExtendedJSON=function(){return{$maxKey:1}},t.fromExtendedJSON=function(){return new t},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new MaxKey()"},t})();Object.defineProperty(x_.prototype,"_bsontype",{value:"MaxKey"});var R_=(function(){function t(){if(!(this instanceof t))return new t}return t.prototype.toExtendedJSON=function(){return{$minKey:1}},t.fromExtendedJSON=function(){return new t},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new MinKey()"},t})();Object.defineProperty(R_.prototype,"_bsontype",{value:"MinKey"});var D9=new RegExp("^[0-9a-fA-F]{24}$"),jo=null,Gn=Symbol("id"),nn=(function(){function t(e){if(!(this instanceof t))return new t(e);var r;if(typeof e=="object"&&e&&"id"in e){if(typeof e.id!="string"&&!ArrayBuffer.isView(e.id))throw new ct("Argument passed in must have an id that is of type string or Buffer");"toHexString"in e&&typeof e.toHexString=="function"?r=Ve.from(e.toHexString(),"hex"):r=e.id}else r=e;if(r==null||typeof r=="number")this[Gn]=t.generate(typeof r=="number"?r:void 0);else if(ArrayBuffer.isView(r)&&r.byteLength===12)this[Gn]=r instanceof Ve?r:cd(r);else if(typeof r=="string")if(r.length===12){var n=Ve.from(r);if(n.byteLength===12)this[Gn]=n;else throw new ct("Argument passed in must be a string of 12 bytes")}else if(r.length===24&&D9.test(r))this[Gn]=Ve.from(r,"hex");else throw new ct("Argument passed in must be a string of 12 bytes or a string of 24 hex characters or an integer");else throw new ct("Argument passed in does not match the accepted types");t.cacheHexString&&(this.__id=this.id.toString("hex"))}return Object.defineProperty(t.prototype,"id",{get:function(){return this[Gn]},set:function(e){this[Gn]=e,t.cacheHexString&&(this.__id=e.toString("hex"))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"generationTime",{get:function(){return this.id.readInt32BE(0)},set:function(e){this.id.writeUInt32BE(e,0)},enumerable:!1,configurable:!0}),t.prototype.toHexString=function(){if(t.cacheHexString&&this.__id)return this.__id;var e=this.id.toString("hex");return t.cacheHexString&&!this.__id&&(this.__id=e),e},t.getInc=function(){return t.index=(t.index+1)%16777215},t.generate=function(e){typeof e!="number"&&(e=Math.floor(Date.now()/1e3));var r=t.getInc(),n=Ve.alloc(12);return n.writeUInt32BE(e,0),jo===null&&(jo=rP(5)),n[4]=jo[0],n[5]=jo[1],n[6]=jo[2],n[7]=jo[3],n[8]=jo[4],n[11]=r&255,n[10]=r>>8&255,n[9]=r>>16&255,n},t.prototype.toString=function(e){return e?this.id.toString(e):this.toHexString()},t.prototype.toJSON=function(){return this.toHexString()},t.prototype.equals=function(e){if(e==null)return!1;if(e instanceof t)return this[Gn][11]===e[Gn][11]&&this[Gn].equals(e[Gn]);if(typeof e=="string"&&t.isValid(e)&&e.length===12&&T_(this.id))return e===Ve.prototype.toString.call(this.id,"latin1");if(typeof e=="string"&&t.isValid(e)&&e.length===24)return e.toLowerCase()===this.toHexString();if(typeof e=="string"&&t.isValid(e)&&e.length===12)return Ve.from(e).equals(this.id);if(typeof e=="object"&&"toHexString"in e&&typeof e.toHexString=="function"){var r=e.toHexString(),n=this.toHexString().toLowerCase();return typeof r=="string"&&r.toLowerCase()===n}return!1},t.prototype.getTimestamp=function(){var e=new Date,r=this.id.readUInt32BE(0);return e.setTime(Math.floor(r)*1e3),e},t.createPk=function(){return new t},t.createFromTime=function(e){var r=Ve.from([0,0,0,0,0,0,0,0,0,0,0,0]);return r.writeUInt32BE(e,0),new t(r)},t.createFromHexString=function(e){if(typeof e>"u"||e!=null&&e.length!==24)throw new ct("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");return new t(Ve.from(e,"hex"))},t.isValid=function(e){if(e==null)return!1;try{return new t(e),!0}catch{return!1}},t.prototype.toExtendedJSON=function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}},t.fromExtendedJSON=function(e){return new t(e.$oid)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new ObjectId("'.concat(this.toHexString(),'")')},t.index=Math.floor(Math.random()*16777215),t})();Object.defineProperty(nn.prototype,"generate",{value:$d(function(t){return nn.generate(t)},"Please use the static `ObjectId.generate(time)` instead")});Object.defineProperty(nn.prototype,"getInc",{value:$d(function(){return nn.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(nn.prototype,"get_inc",{value:$d(function(){return nn.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(nn,"get_inc",{value:$d(function(){return nn.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(nn.prototype,"_bsontype",{value:"ObjectID"});function U9(t){return t.split("").sort().join("")}var dl=(function(){function t(e,r){if(!(this instanceof t))return new t(e,r);if(this.pattern=e,this.options=U9(r??""),this.pattern.indexOf("\0")!==-1)throw new Jo("BSON Regex patterns cannot contain null bytes, found: ".concat(JSON.stringify(this.pattern)));if(this.options.indexOf("\0")!==-1)throw new Jo("BSON Regex options cannot contain null bytes, found: ".concat(JSON.stringify(this.options)));for(var n=0;n<this.options.length;n++)if(!(this.options[n]==="i"||this.options[n]==="m"||this.options[n]==="x"||this.options[n]==="l"||this.options[n]==="s"||this.options[n]==="u"))throw new Jo("The regular expression option [".concat(this.options[n],"] is not supported"))}return t.parseOptions=function(e){return e?e.split("").sort().join(""):""},t.prototype.toExtendedJSON=function(e){return e=e||{},e.legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}},t.fromExtendedJSON=function(e){if("$regex"in e)if(typeof e.$regex!="string"){if(e.$regex._bsontype==="BSONRegExp")return e}else return new t(e.$regex,t.parseOptions(e.$options));if("$regularExpression"in e)return new t(e.$regularExpression.pattern,t.parseOptions(e.$regularExpression.options));throw new ct("Unexpected BSONRegExp EJSON object form: ".concat(JSON.stringify(e)))},t})();Object.defineProperty(dl.prototype,"_bsontype",{value:"BSONRegExp"});var A_=(function(){function t(e){if(!(this instanceof t))return new t(e);this.value=e}return t.prototype.valueOf=function(){return this.value},t.prototype.toString=function(){return this.value},t.prototype.inspect=function(){return'new BSONSymbol("'.concat(this.value,'")')},t.prototype.toJSON=function(){return this.value},t.prototype.toExtendedJSON=function(){return{$symbol:this.value}},t.fromExtendedJSON=function(e){return new t(e.$symbol)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t})();Object.defineProperty(A_.prototype,"_bsontype",{value:"Symbol"});var F9=Se,aP=(function(t){qd(e,t);function e(r,n){var o=this;return o instanceof e?(Se.isLong(r)?o=t.call(this,r.low,r.high,!0)||this:Sl(r)&&typeof r.t<"u"&&typeof r.i<"u"?o=t.call(this,r.i,r.t,!0)||this:o=t.call(this,r,n,!0)||this,Object.defineProperty(o,"_bsontype",{value:"Timestamp",writable:!1,configurable:!1,enumerable:!1}),o):new e(r,n)}return e.prototype.toJSON=function(){return{$timestamp:this.toString()}},e.fromInt=function(r){return new e(Se.fromInt(r,!0))},e.fromNumber=function(r){return new e(Se.fromNumber(r,!0))},e.fromBits=function(r,n){return new e(r,n)},e.fromString=function(r,n){return new e(Se.fromString(r,!0,n))},e.prototype.toExtendedJSON=function(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}},e.fromExtendedJSON=function(r){return new e(r.$timestamp)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new Timestamp({ t: ".concat(this.getHighBits(),", i: ").concat(this.getLowBits()," })")},e.MAX_VALUE=Se.MAX_UNSIGNED_VALUE,e})(F9);function M9(t){return Sl(t)&&Reflect.has(t,"_bsontype")&&typeof t._bsontype=="string"}var sP=2147483647,uP=-2147483648,lP=9223372036854776e3,cP=-9223372036854776e3,B9={$oid:nn,$binary:Qo,$uuid:Qo,$symbol:A_,$numberInt:Gd,$numberDecimal:O_,$numberDouble:Hd,$numberLong:Se,$minKey:R_,$maxKey:x_,$regex:dl,$regularExpression:dl,$timestamp:aP};function fP(t,e){if(e===void 0&&(e={}),typeof t=="number"){if(e.relaxed||e.legacy)return t;if(Math.floor(t)===t){if(t>=uP&&t<=sP)return new Gd(t);if(t>=cP&&t<=lP)return Se.fromNumber(t)}return new Hd(t)}if(t==null||typeof t!="object")return t;if(t.$undefined)return null;for(var r=Object.keys(t).filter(function(v){return v.startsWith("$")&&t[v]!=null}),n=0;n<r.length;n++){var o=B9[r[n]];if(o)return o.fromExtendedJSON(t,e)}if(t.$date!=null){var i=t.$date,l=new Date;return e.legacy?typeof i=="number"?l.setTime(i):typeof i=="string"&&l.setTime(Date.parse(i)):typeof i=="string"?l.setTime(Date.parse(i)):Se.isLong(i)?l.setTime(i.toNumber()):typeof i=="number"&&e.relaxed&&l.setTime(i),l}if(t.$code!=null){var f=Object.assign({},t);return t.$scope&&(f.$scope=fP(t.$scope)),Wd.fromExtendedJSON(t)}if(S9(t)||t.$dbPointer){var h=t.$ref?t:t.$dbPointer;if(h instanceof fl)return h;var u=Object.keys(h).filter(function(v){return v.startsWith("$")}),d=!0;if(u.forEach(function(v){["$ref","$id","$db"].indexOf(v)===-1&&(d=!1)}),d)return fl.fromExtendedJSON(h)}return t}function q9(t,e){return t.map(function(r,n){e.seenObjects.push({propertyName:"index ".concat(n),obj:null});try{return Qi(r,e)}finally{e.seenObjects.pop()}})}function O2(t){var e=t.toISOString();return t.getUTCMilliseconds()!==0?e:e.slice(0,-5)+"Z"}function Qi(t,e){if((typeof t=="object"||typeof t=="function")&&t!==null){var r=e.seenObjects.findIndex(function(O){return O.obj===t});if(r!==-1){var n=e.seenObjects.map(function(O){return O.propertyName}),o=n.slice(0,r).map(function(O){return"".concat(O," -> ")}).join(""),i=n[r],l=" -> "+n.slice(r+1,n.length-1).map(function(O){return"".concat(O," -> ")}).join(""),f=n[n.length-1],h=" ".repeat(o.length+i.length/2),u="-".repeat(l.length+(i.length+f.length)/2-1);throw new ct(`Converting circular structure to EJSON:
`+"    ".concat(o).concat(i).concat(l).concat(f,`
`)+"    ".concat(h,"\\").concat(u,"/"))}e.seenObjects[e.seenObjects.length-1].obj=t}if(Array.isArray(t))return q9(t,e);if(t===void 0)return null;if(t instanceof Date||_9(t)){var d=t.getTime(),v=d>-1&&d<2534023188e5;return e.legacy?e.relaxed&&v?{$date:t.getTime()}:{$date:O2(t)}:e.relaxed&&v?{$date:O2(t)}:{$date:{$numberLong:t.getTime().toString()}}}if(typeof t=="number"&&(!e.relaxed||!isFinite(t))){if(Math.floor(t)===t){var y=t>=uP&&t<=sP,_=t>=cP&&t<=lP;if(y)return{$numberInt:t.toString()};if(_)return{$numberLong:t.toString()}}return{$numberDouble:t.toString()}}if(t instanceof RegExp||g9(t)){var w=t.flags;if(w===void 0){var S=t.toString().match(/[gimuy]*$/);S&&(w=S[0])}var T=new dl(t.source,w);return T.toExtendedJSON(e)}return t!=null&&typeof t=="object"?W9(t,e):t}var $9={Binary:function(t){return new Qo(t.value(),t.sub_type)},Code:function(t){return new Wd(t.code,t.scope)},DBRef:function(t){return new fl(t.collection||t.namespace,t.oid,t.db,t.fields)},Decimal128:function(t){return new O_(t.bytes)},Double:function(t){return new Hd(t.value)},Int32:function(t){return new Gd(t.value)},Long:function(t){return Se.fromBits(t.low!=null?t.low:t.low_,t.low!=null?t.high:t.high_,t.low!=null?t.unsigned:t.unsigned_)},MaxKey:function(){return new x_},MinKey:function(){return new R_},ObjectID:function(t){return new nn(t)},ObjectId:function(t){return new nn(t)},BSONRegExp:function(t){return new dl(t.pattern,t.options)},Symbol:function(t){return new A_(t.value)},Timestamp:function(t){return aP.fromBits(t.low,t.high)}};function W9(t,e){if(t==null||typeof t!="object")throw new Jo("not an object instance");var r=t._bsontype;if(typeof r>"u"){var n={};for(var o in t){e.seenObjects.push({propertyName:o,obj:null});try{var i=Qi(t[o],e);o==="__proto__"?Object.defineProperty(n,o,{value:i,writable:!0,enumerable:!0,configurable:!0}):n[o]=i}finally{e.seenObjects.pop()}}return n}else if(M9(t)){var l=t;if(typeof l.toExtendedJSON!="function"){var f=$9[t._bsontype];if(!f)throw new ct("Unrecognized or invalid _bsontype: "+t._bsontype);l=f(l)}return r==="Code"&&l.scope?l=new Wd(l.code,Qi(l.scope,e)):r==="DBRef"&&l.oid&&(l=new fl(Qi(l.collection,e),Qi(l.oid,e),Qi(l.db,e),Qi(l.fields,e))),l.toExtendedJSON(e)}else throw new Jo("_bsontype must be a string, but was: "+typeof r)}var Cr;(function(t){function e(i,l){var f=Object.assign({},{relaxed:!0,legacy:!1},l);return typeof f.relaxed=="boolean"&&(f.strict=!f.relaxed),typeof f.strict=="boolean"&&(f.relaxed=!f.strict),JSON.parse(i,function(h,u){if(h.indexOf("\0")!==-1)throw new Jo("BSON Document field names cannot contain null bytes, found: ".concat(JSON.stringify(h)));return fP(u,f)})}t.parse=e;function r(i,l,f,h){f!=null&&typeof f=="object"&&(h=f,f=0),l!=null&&typeof l=="object"&&!Array.isArray(l)&&(h=l,l=void 0,f=0);var u=Object.assign({relaxed:!0,legacy:!1},h,{seenObjects:[{propertyName:"(root)",obj:null}]}),d=Qi(i,u);return JSON.stringify(d,l,f)}t.stringify=r;function n(i,l){return l=l||{},JSON.parse(r(i,l))}t.serialize=n;function o(i,l){return l=l||{},e(JSON.stringify(i),l)}t.deserialize=o})(Cr||(Cr={}));var x2=tP();x2.Map?x2.Map:(function(){function t(e){e===void 0&&(e=[]),this._keys=[],this._values={};for(var r=0;r<e.length;r++)if(e[r]!=null){var n=e[r],o=n[0],i=n[1];this._keys.push(o),this._values[o]={v:i,i:this._keys.length-1}}}return t.prototype.clear=function(){this._keys=[],this._values={}},t.prototype.delete=function(e){var r=this._values[e];return r==null?!1:(delete this._values[e],this._keys.splice(r.i,1),!0)},t.prototype.entries=function(){var e=this,r=0;return{next:function(){var n=e._keys[r++];return{value:n!==void 0?[n,e._values[n].v]:void 0,done:n===void 0}}}},t.prototype.forEach=function(e,r){r=r||this;for(var n=0;n<this._keys.length;n++){var o=this._keys[n];e.call(r,this._values[o].v,o,r)}},t.prototype.get=function(e){return this._values[e]?this._values[e].v:void 0},t.prototype.has=function(e){return this._values[e]!=null},t.prototype.keys=function(){var e=this,r=0;return{next:function(){var n=e._keys[r++];return{value:n!==void 0?n:void 0,done:n===void 0}}}},t.prototype.set=function(e,r){return this._values[e]?(this._values[e].v=r,this):(this._keys.push(e),this._values[e]={v:r,i:this._keys.length-1},this)},t.prototype.values=function(){var e=this,r=0;return{next:function(){var n=e._keys[r++];return{value:n!==void 0?e._values[n].v:void 0,done:n===void 0}}}},Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!1,configurable:!0}),t})();Se.fromNumber(b9);Se.fromNumber(E9);var S0=new Uint8Array(8);new DataView(S0.buffer,S0.byteOffset,S0.byteLength);var H9=1024*1024*17;Ve.alloc(H9);var G9=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function h(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,h)}u((n=n.apply(t,e||[])).next())})},z9=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return h([u,d])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},dP=(function(){function t(e,r){this._stages=[],e&&r&&(this._db=e,this._request=new Zt.reqClass(this._db.config),this._collectionName=r)}return t.prototype.end=function(){return G9(this,void 0,void 0,function(){var e;return z9(this,function(r){switch(r.label){case 0:if(!this._collectionName||!this._db)throw new Error("Aggregation pipeline cannot send request");return[4,this._request.send("database.aggregate",{collectionName:this._collectionName,stages:this._stages})];case 1:return e=r.sent(),e&&e.data&&e.data.list?[2,{requestId:e.requestId,data:JSON.parse(e.data.list).map(Cr.parse)}]:[2,e]}})})},t.prototype.unwrap=function(){return this._stages},t.prototype.done=function(){return this._stages.map(function(e){var r,n=e.stageKey,o=e.stageValue;return r={},r[n]=JSON.parse(o),r})},t.prototype._pipe=function(e,r){return this._stages.push({stageKey:"$"+e,stageValue:JSON.stringify(r)}),this},t.prototype.addFields=function(e){return this._pipe("addFields",e)},t.prototype.bucket=function(e){return this._pipe("bucket",e)},t.prototype.bucketAuto=function(e){return this._pipe("bucketAuto",e)},t.prototype.count=function(e){return this._pipe("count",e)},t.prototype.geoNear=function(e){return e.query&&(e.query=ld.encode(e.query)),e.distanceMultiplier&&typeof e.distanceMultiplier=="number"&&(e.distanceMultiplier=e.distanceMultiplier),e.near&&(e.near=new gr(e.near.longitude,e.near.latitude).toJSON()),this._pipe("geoNear",e)},t.prototype.group=function(e){return this._pipe("group",e)},t.prototype.limit=function(e){return this._pipe("limit",e)},t.prototype.match=function(e){return this._pipe("match",ld.encode(e))},t.prototype.project=function(e){return this._pipe("project",e)},t.prototype.lookup=function(e){return this._pipe("lookup",e)},t.prototype.replaceRoot=function(e){return this._pipe("replaceRoot",e)},t.prototype.sample=function(e){return this._pipe("sample",e)},t.prototype.skip=function(e){return this._pipe("skip",e)},t.prototype.sort=function(e){return this._pipe("sort",e)},t.prototype.sortByCount=function(e){return this._pipe("sortByCount",e)},t.prototype.unwind=function(e){return this._pipe("unwind",e)},t})(),V9=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),K9=(function(t){V9(e,t);function e(r,n){return t.call(this,r,n)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return this._coll},enumerable:!0,configurable:!0}),e.prototype.doc=function(r){if(typeof r!="string"&&typeof r!="number")throw new Error("docId");return new p2(this._db,this._coll,r)},e.prototype.add=function(r,n){var o=new p2(this._db,this._coll,void 0);return o.create(r,n)},e.prototype.aggregate=function(){return new dP(this._db,this._coll)},e})(Z8),Y9={eq:function(t){return new At(Pe.EQ,[t])},neq:function(t){return new At(Pe.NEQ,[t])},lt:function(t){return new At(Pe.LT,[t])},lte:function(t){return new At(Pe.LTE,[t])},gt:function(t){return new At(Pe.GT,[t])},gte:function(t){return new At(Pe.GTE,[t])},in:function(t){return new At(Pe.IN,t)},nin:function(t){return new At(Pe.NIN,t)},all:function(t){return new At(Pe.ALL,t)},elemMatch:function(t){return new At(Pe.ELEM_MATCH,[t])},exists:function(t){return new At(Pe.EXISTS,[t])},size:function(t){return new At(Pe.SIZE,[t])},mod:function(t){return new At(Pe.MOD,[t])},geoNear:function(t){return new At(Pe.GEO_NEAR,[t])},geoWithin:function(t){return new At(Pe.GEO_WITHIN,[t])},geoIntersects:function(t){return new At(Pe.GEO_INTERSECTS,[t])},and:function(){var t=pt(arguments[0])?arguments[0]:Array.from(arguments);return new zo(Pr.AND,t)},nor:function(){var t=pt(arguments[0])?arguments[0]:Array.from(arguments);return new zo(Pr.NOR,t)},or:function(){var t=pt(arguments[0])?arguments[0]:Array.from(arguments);return new zo(Pr.OR,t)},not:function(){var t=pt(arguments[0])?arguments[0]:Array.from(arguments);return new zo(Pr.NOT,t)},set:function(t){return new St(qe.SET,[t])},remove:function(){return new St(qe.REMOVE,[])},inc:function(t){return new St(qe.INC,[t])},mul:function(t){return new St(qe.MUL,[t])},push:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r;if(ao(t[0])&&t[0].hasOwnProperty("each")){var n=t[0];r={$each:n.each,$position:n.position,$sort:n.sort,$slice:n.slice}}else pt(t[0])?r=t[0]:r=Array.from(t);return new St(qe.PUSH,r)},pull:function(t){return new St(qe.PULL,t)},pullAll:function(t){return new St(qe.PULL_ALL,t)},pop:function(){return new St(qe.POP,[])},shift:function(){return new St(qe.SHIFT,[])},unshift:function(){var t=pt(arguments[0])?arguments[0]:Array.from(arguments);return new St(qe.UNSHIFT,t)},addToSet:function(t){return new St(qe.ADD_TO_SET,t)},rename:function(t){return new St(qe.RENAME,[t])},bit:function(t){return new St(qe.BIT,[t])},max:function(t){return new St(qe.MAX,[t])},min:function(t){return new St(qe.MIN,[t])},expr:function(t){return{$expr:t}},jsonSchema:function(t){return{$jsonSchema:t}},text:function(t){return G8(t)?{$search:t.search}:{$search:t.search,$language:t.language,$caseSensitive:t.caseSensitive,$diacriticSensitive:t.diacriticSensitive}},aggregate:{pipeline:function(){return new dP},abs:function(t){return new ue("abs",t)},add:function(t){return new ue("add",t)},ceil:function(t){return new ue("ceil",t)},divide:function(t){return new ue("divide",t)},exp:function(t){return new ue("exp",t)},floor:function(t){return new ue("floor",t)},ln:function(t){return new ue("ln",t)},log:function(t){return new ue("log",t)},log10:function(t){return new ue("log10",t)},mod:function(t){return new ue("mod",t)},multiply:function(t){return new ue("multiply",t)},pow:function(t){return new ue("pow",t)},sqrt:function(t){return new ue("sqrt",t)},subtract:function(t){return new ue("subtract",t)},trunc:function(t){return new ue("trunc",t)},arrayElemAt:function(t){return new ue("arrayElemAt",t)},arrayToObject:function(t){return new ue("arrayToObject",t)},concatArrays:function(t){return new ue("concatArrays",t)},filter:function(t){return new ue("filter",t)},in:function(t){return new ue("in",t)},indexOfArray:function(t){return new ue("indexOfArray",t)},isArray:function(t){return new ue("isArray",t)},map:function(t){return new ue("map",t)},range:function(t){return new ue("range",t)},reduce:function(t){return new ue("reduce",t)},reverseArray:function(t){return new ue("reverseArray",t)},size:function(t){return new ue("size",t)},slice:function(t){return new ue("slice",t)},zip:function(t){return new ue("zip",t)},and:function(t){return new ue("and",t)},not:function(t){return new ue("not",t)},or:function(t){return new ue("or",t)},cmp:function(t){return new ue("cmp",t)},eq:function(t){return new ue("eq",t)},gt:function(t){return new ue("gt",t)},gte:function(t){return new ue("gte",t)},lt:function(t){return new ue("lt",t)},lte:function(t){return new ue("lte",t)},neq:function(t){return new ue("ne",t)},cond:function(t){return new ue("cond",t)},ifNull:function(t){return new ue("ifNull",t)},switch:function(t){return new ue("switch",t)},dateFromParts:function(t){return new ue("dateFromParts",t)},dateFromString:function(t){return new ue("dateFromString",t)},dayOfMonth:function(t){return new ue("dayOfMonth",t)},dayOfWeek:function(t){return new ue("dayOfWeek",t)},dayOfYear:function(t){return new ue("dayOfYear",t)},isoDayOfWeek:function(t){return new ue("isoDayOfWeek",t)},isoWeek:function(t){return new ue("isoWeek",t)},isoWeekYear:function(t){return new ue("isoWeekYear",t)},millisecond:function(t){return new ue("millisecond",t)},minute:function(t){return new ue("minute",t)},month:function(t){return new ue("month",t)},second:function(t){return new ue("second",t)},hour:function(t){return new ue("hour",t)},week:function(t){return new ue("week",t)},year:function(t){return new ue("year",t)},literal:function(t){return new ue("literal",t)},mergeObjects:function(t){return new ue("mergeObjects",t)},objectToArray:function(t){return new ue("objectToArray",t)},allElementsTrue:function(t){return new ue("allElementsTrue",t)},anyElementTrue:function(t){return new ue("anyElementTrue",t)},setDifference:function(t){return new ue("setDifference",t)},setEquals:function(t){return new ue("setEquals",t)},setIntersection:function(t){return new ue("setIntersection",t)},setIsSubset:function(t){return new ue("setIsSubset",t)},setUnion:function(t){return new ue("setUnion",t)},concat:function(t){return new ue("concat",t)},dateToString:function(t){return new ue("dateToString",t)},indexOfBytes:function(t){return new ue("indexOfBytes",t)},indexOfCP:function(t){return new ue("indexOfCP",t)},split:function(t){return new ue("split",t)},strLenBytes:function(t){return new ue("strLenBytes",t)},strLenCP:function(t){return new ue("strLenCP",t)},strcasecmp:function(t){return new ue("strcasecmp",t)},substr:function(t){return new ue("substr",t)},substrBytes:function(t){return new ue("substrBytes",t)},substrCP:function(t){return new ue("substrCP",t)},toLower:function(t){return new ue("toLower",t)},toUpper:function(t){return new ue("toUpper",t)},meta:function(t){return new ue("meta",t)},addToSet:function(t){return new ue("addToSet",t)},avg:function(t){return new ue("avg",t)},first:function(t){return new ue("first",t)},last:function(t){return new ue("last",t)},max:function(t){return new ue("max",t)},min:function(t){return new ue("min",t)},push:function(t){return new ue("push",t)},stdDevPop:function(t){return new ue("stdDevPop",t)},stdDevSamp:function(t){return new ue("stdDevSamp",t)},sum:function(t){return new ue("sum",t)},let:function(t){return new ue("let",t)}},project:{slice:function(t){return new R2("slice",t)},elemMatch:function(t){return new R2("elemMatch",t)}}},ue=(function(){function t(e,r){this["$"+e]=r}return t})(),R2=(function(){function t(e,r){this["$"+e]=r}return t})(),J9=(function(){function t(e){var r=e.regexp,n=e.options;if(!r)throw new TypeError("regexp must be a string");this.$regex=r,this.$options=n}return t.prototype.parse=function(){return{$regex:this.$regex,$options:this.$options}},Object.defineProperty(t.prototype,"_internalType",{get:function(){return VC},enumerable:!0,configurable:!0}),t})();function Q9(t){return new J9(t)}var hP={INSERT_DOC_FAIL:{message:"insert document failed"},DATABASE_TRANSACTION_CONFLICT:{code:"DATABASE_TRANSACTION_CONFLICT"}},Vn=function(){return Vn=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Vn.apply(this,arguments)},xu=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function h(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,h)}u((n=n.apply(t,e||[])).next())})},Ru=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return h([u,d])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},X9="database.getInTransaction",A2="database.updateDocInTransaction",Z9="database.deleteDocInTransaction",e7="database.insertDocInTransaction",C2=(function(){function t(e,r,n){this._coll=r,this.id=n,this._transaction=e,this._request=this._transaction.getRequestMethod(),this._transactionId=this._transaction.getTransactionId()}return t.prototype.create=function(e){return xu(this,void 0,void 0,function(){var r,n,o,i;return Ru(this,function(l){switch(l.label){case 0:return r={collectionName:this._coll,transactionId:this._transactionId,data:Cr.stringify(cl(e),{relaxed:!1})},this.id&&(r._id=this.id),[4,this._request.send(e7,r)];case 1:if(n=l.sent(),n.code)throw n;if(o=Cr.parse(n.inserted),i=Cr.parse(n.ok),i==1&&o==1)return[2,Vn(Vn({},n),{ok:i,inserted:o})];throw new Error(hP.INSERT_DOC_FAIL.message)}})})},t.prototype.get=function(){return xu(this,void 0,void 0,function(){var e,r;return Ru(this,function(n){switch(n.label){case 0:return e={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}}},[4,this._request.send(X9,e)];case 1:if(r=n.sent(),r.code)throw r;return[2,{data:r.data!=="null"?Md.formatField(Cr.parse(r.data)):Cr.parse(r.data),requestId:r.requestId}]}})})},t.prototype.set=function(e){return xu(this,void 0,void 0,function(){var r,n;return Ru(this,function(o){switch(o.label){case 0:return r={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}},data:Cr.stringify(cl(e),{relaxed:!1}),upsert:!0},[4,this._request.send(A2,r)];case 1:if(n=o.sent(),n.code)throw n;return[2,Vn(Vn({},n),{updated:Cr.parse(n.updated),upserted:n.upserted?JSON.parse(n.upserted):null})]}})})},t.prototype.update=function(e){return xu(this,void 0,void 0,function(){var r,n;return Ru(this,function(o){switch(o.label){case 0:return r={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}},data:Cr.stringify(I_.encode(e),{relaxed:!1})},[4,this._request.send(A2,r)];case 1:if(n=o.sent(),n.code)throw n;return[2,Vn(Vn({},n),{updated:Cr.parse(n.updated)})]}})})},t.prototype.delete=function(){return xu(this,void 0,void 0,function(){var e,r;return Ru(this,function(n){switch(n.label){case 0:return e={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}}},[4,this._request.send(Z9,e)];case 1:if(r=n.sent(),r.code)throw r;return[2,Vn(Vn({},r),{deleted:Cr.parse(r.deleted)})]}})})},t})(),t7=(function(){function t(e,r){this._coll=r,this._transaction=e}return t})(),r7=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),n7=(function(t){r7(e,t);function e(r,n){return t.call(this,r,n)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return this._coll},enumerable:!0,configurable:!0}),e.prototype.doc=function(r){if(typeof r!="string"&&typeof r!="number")throw new Error("docId");return new C2(this._transaction,this._coll,r)},e.prototype.add=function(r){var n;r._id!==void 0&&(n=r._id);var o=new C2(this._transaction,this._coll,n);return o.create(r)},e})(t7),ds=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function h(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,h)}u((n=n.apply(t,e||[])).next())})},hs=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return h([u,d])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},i7="database.startTransaction",o7="database.commitTransaction",a7="database.abortTransaction",pP=(function(){function t(e){this._db=e,this._request=new Zt.reqClass(this._db.config),this.aborted=!1,this.commited=!1,this.inited=!1}return t.prototype.init=function(){return ds(this,void 0,void 0,function(){var e;return hs(this,function(r){switch(r.label){case 0:return[4,this._request.send(i7)];case 1:if(e=r.sent(),e.code)throw e;return this.inited=!0,this._id=e.transactionId,[2]}})})},t.prototype.collection=function(e){if(!e)throw new Error("Collection name is required");return new n7(this,e)},t.prototype.getTransactionId=function(){return this._id},t.prototype.getRequestMethod=function(){return this._request},t.prototype.commit=function(){return ds(this,void 0,void 0,function(){var e,r;return hs(this,function(n){switch(n.label){case 0:return e={transactionId:this._id},[4,this._request.send(o7,e)];case 1:if(r=n.sent(),r.code)throw r;return this.commited=!0,[2,r]}})})},t.prototype.rollback=function(e){return ds(this,void 0,void 0,function(){var r,n;return hs(this,function(o){switch(o.label){case 0:return r={transactionId:this._id},[4,this._request.send(a7,r)];case 1:if(n=o.sent(),n.code)throw n;return this.aborted=!0,this.abortReason=e,[2,n]}})})},t})();function s7(){return ds(this,void 0,void 0,function(){var t;return hs(this,function(e){switch(e.label){case 0:return t=new pP(this),[4,t.init()];case 1:return e.sent(),[2,t]}})})}function vP(t,e){return e===void 0&&(e=3),ds(this,void 0,void 0,function(){var r,n,o,i,l=this;return hs(this,function(f){switch(f.label){case 0:return f.trys.push([0,4,,10]),r=new pP(this),[4,r.init()];case 1:return f.sent(),[4,t(r)];case 2:if(n=f.sent(),r.aborted===!0)throw r.abortReason;return[4,r.commit()];case 3:return f.sent(),[2,n];case 4:if(o=f.sent(),r.inited===!1)throw o;return i=function(h){return ds(l,void 0,void 0,function(){return hs(this,function(u){switch(u.label){case 0:if(!(!r.aborted&&!r.commited))return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,r.rollback()];case 2:return u.sent(),[3,4];case 3:return u.sent(),[3,4];case 4:throw h;case 5:throw r.aborted===!0?r.abortReason:h}})})},e<=0?[4,i(o)]:[3,6];case 5:f.sent(),f.label=6;case 6:return o&&o.code===hP.DATABASE_TRANSACTION_CONFLICT.code?[4,vP.bind(this)(t,--e)]:[3,8];case 7:return[2,f.sent()];case 8:return[4,i(o)];case 9:return f.sent(),[3,10];case 10:return[2]}})})}var Zt=(function(){function t(e){this.config=e,this.Geo=K8,this.serverDate=H8,this.command=Y9,this.RegExp=Q9,this.startTransaction=s7,this.runTransaction=vP,this.logicCommand=zo,this.updateCommand=St,this.queryCommand=At}return t.prototype.collection=function(e){if(!e)throw new Error("Collection name is required");return new K9(this,e)},t.prototype.createCollection=function(e){var r=new t.reqClass(this.config),n={collectionName:e};return r.send("database.addCollection",n)},t})(),Ju=function(){return Ju=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ju.apply(this,arguments)},u7="database";function l7(t){var e=this.platform,r=e.adapter,n=e.runtime;return Zt.reqClass=this.request.constructor,Zt.getAccessToken=this.authInstance?this.authInstance.getAccessToken.bind(this.authInstance):function(){return""},Zt.runtime=n,this.wsClientClass&&(Zt.wsClass=r.wsClass,Zt.wsClientClass=this.wsClientClass),Zt.ws||(Zt.ws=null),new Zt(Ju(Ju(Ju({},this.config),{_fromApp:this}),t))}var yP={name:u7,entity:{database:l7}};try{cloudbase.registerComponent(yP)}catch{}function mP(t){try{t.registerComponent(yP)}catch(e){console.warn(e)}}try{window.registerDatabase=mP}catch{}const c7="2.22.10",f7={version:c7};var d7=f7.version;yr.registerVersion(d7);try{_j(yr),Cj(yr),ER(yr),mP(yr),M4(yr),J4(yr),pC(yr),UC(yr),_R(yr),qC(yr)}catch{}try{window.cloudbase=yr}catch{}const P2="adminCards",Au=[{id:"ADMIN1234567890123",type:"",status:"",createdAt:new Date().toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(/\//g,"-"),expireTime:Date.now()+720*60*60*1e3},{id:"ADMIN9876543210987",type:"",status:"",createdAt:new Date(Date.now()-10080*60*1e3).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(/\//g,"-"),expireTime:Date.now()+1992*60*60*1e3,activateTime:Date.now()-7200*60*1e3,openid:"admin_test_openid"},{id:"ADMIN5678901234567",type:"",status:"",createdAt:new Date(Date.now()-2880*60*1e3).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(/\//g,"-"),expireTime:Date.now()+365*24*60*60*1e3}];function h7(){const[t,e]=Le.useState([]),[r,n]=Le.useState(!0),[o,i]=Le.useState(""),[l,f]=Le.useState(""),[h,u]=Le.useState([]),[d,v]=Le.useState(!1),[y,_]=Le.useState(""),[w,S]=Le.useState("1"),[T,O]=Le.useState(!1),[x,A]=Le.useState(!1),[C,U]=Le.useState(!1),[q,K]=Le.useState(null),[V,k]=Le.useState(null),[$,F]=Le.useState(null),z=Le.useCallback(()=>{try{const te=localStorage.getItem(P2);if(te){const Z=JSON.parse(te);return e(Z),u(Z),Z}return null}catch(te){return console.error(":",te),null}},[]),Q=Le.useCallback(te=>{try{localStorage.setItem(P2,JSON.stringify(te))}catch(Z){console.error(":",Z)}},[]),ee=Le.useCallback(async()=>{try{const te=yr.init({env:"cloud1-2gw9ev54cd01e23b",auth:{persistence:"local"}});K(te);const Z=te.database();return k(Z),F(Z.collection("cardCodes")),U(!0),{app:te,db:Z,collection:Z.collection("cardCodes")}}catch(te){return console.error(":",te),null}},[]),he=Le.useCallback((te=16)=>{const Z="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let Ie="";for(let de=0;de<te;de++)Ie+=Z.charAt(Math.floor(Math.random()*Z.length));return Ie},[]),be=Le.useCallback(async()=>{try{let te={app:q,db:V,collection:$};if(te.app||(te=await ee()||{app:null,db:null,collection:null}),!te.collection)throw new Error("");return(await te.collection.orderBy("createTime","desc").get()).data.map(de=>({id:de.code,_id:de._id,type:de.type,status:de.status,createdAt:de.createTime?new Date(de.createTime).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(/\//g,"-"):"",expireTime:de.expireTime,activateTime:de.activateTime,openid:de.openid}))}catch(te){return console.error(":",te),null}},[q,V,$,ee]),fe=Le.useCallback(async te=>{try{let Z={app:q,db:V,collection:$};if(Z.app||(Z=await ee()||{app:null,db:null,collection:null}),!Z.collection)throw new Error("");return await Z.collection.add(te)}catch(Z){throw console.error(":",Z),Z}},[q,V,$,ee]),Y=Le.useCallback(async()=>{n(!0);try{const te=await be();if(te&&te.length>0){e(te),u(te),Q(te),Tn.success("");return}const Z=z();if(Z&&Z.length>0){e(Z),u(Z),Tn.success("");return}e(Au),u(Au),Q(Au),Tn.success("")}catch(te){console.error(":",te);const Z=z();Z&&Z.length>0?(e(Z),u(Z),Tn.error("")):(e(Au),u(Au),Tn.error(""))}finally{n(!1),A(!1)}},[be,z,Q]);Le.useEffect(()=>{Y()},[Y]);const re=Le.useCallback(()=>{let te=t;o.trim()&&(te=te.filter(Z=>Z.id.toLowerCase().includes(o.toLowerCase()))),l!==""&&(te=te.filter(Z=>Z.status===l)),u(te)},[t,o,l]),J=Le.useCallback(()=>{i(""),f(""),u(t)},[t]),j=Le.useCallback(()=>{A(!0),Y()},[Y]),X=Le.useCallback(async()=>{const te=parseInt(w)||1;if(te>100){Tn.error("100");return}O(!0);const Z=[],Ie=Date.now();let de=30;switch(y){case"":de=90;break;case"":de=365;break;default:de=30;break}try{for(let Fe=0;Fe<te;Fe++){const Ye=he(),ft={code:Ye,type:y,status:"",createTime:Ie,expireTime:Ie+de*24*60*60*1e3};let Nt="";try{Nt=(await fe(ft)).id}catch(R){console.error(":",R)}const Sr={id:Ye,_id:Nt,type:y,status:"",createdAt:new Date(Ie).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(/\//g,"-"),expireTime:Ie+de*24*60*60*1e3};Z.push(Sr)}const Ce=[...Z,...t];e(Ce),u(Ce),Q(Ce),Tn.success(` ${te} `)}catch(Ce){console.error(":",Ce),Tn.error("")}finally{O(!1)}},[w,y,he,fe,t,Q]),xe=Le.useCallback(()=>{const Ie=(l===""?t:t.filter(de=>de.status===l)).slice(0,parseInt(w)||1).map(de=>de.id).join(`
`);navigator.clipboard.writeText(Ie),Tn.success("")},[t,l,w]),Ae=Le.useCallback(te=>{switch(te){case"":return"bg-green-100 text-green-700";case"":return"bg-blue-100 text-blue-700";case"":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},[]);return H.jsxs("div",{className:"space-y-6",children:[H.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:H.jsxs("div",{className:"flex gap-4 items-end",children:[H.jsxs("div",{className:"flex-1",children:[H.jsx("label",{className:"block mb-2 text-gray-700",children:""}),H.jsx("input",{type:"text",value:o,onChange:te=>i(te.target.value),placeholder:"",className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500"})]}),H.jsxs("div",{className:"flex-1",children:[H.jsx("label",{className:"block mb-2 text-gray-700",children:""}),H.jsxs("select",{value:l,onChange:te=>f(te.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500",children:[H.jsx("option",{children:""}),H.jsx("option",{children:""}),H.jsx("option",{children:""}),H.jsx("option",{children:""})]})]}),H.jsxs("button",{onClick:re,className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center gap-2",children:[H.jsx(j2,{size:18}),""]}),H.jsxs("button",{onClick:J,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-50 transition-colors flex items-center gap-2",children:[H.jsx(L2,{size:18}),""]}),H.jsxs("button",{onClick:j,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-50 transition-colors flex items-center gap-2",disabled:x,children:[H.jsx(W3,{size:18,className:x?"animate-spin":""}),""]})]})}),H.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[H.jsxs("button",{onClick:()=>v(!d),className:"w-full px-4 py-3 flex items-center justify-between text-left hover:bg-gray-50 transition-colors",children:[H.jsx("span",{className:"text-blue-600",children:""}),d?H.jsx(A3,{size:20}):H.jsx(x3,{size:20})]}),d&&H.jsx("div",{className:"border-t border-gray-200 p-4",children:H.jsxs("div",{className:"flex gap-4 items-end",children:[H.jsxs("div",{className:"flex-1",children:[H.jsx("label",{className:"block mb-2 text-gray-700",children:""}),H.jsxs("select",{value:y,onChange:te=>_(te.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500",children:[H.jsx("option",{children:""}),H.jsx("option",{children:""}),H.jsx("option",{children:""})]})]}),H.jsxs("div",{className:"flex-1",children:[H.jsx("label",{className:"block mb-2 text-gray-700",children:""}),H.jsx("input",{type:"number",value:w,onChange:te=>S(te.target.value),min:"1",max:"100",className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500"})]}),H.jsx("button",{onClick:X,className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center gap-2",disabled:T,children:T?"...":""}),H.jsxs("button",{onClick:xe,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-50 transition-colors flex items-center gap-2",disabled:t.length===0,children:[H.jsx(P3,{size:18}),""]})]})})]}),H.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:H.jsxs("table",{className:"w-full",children:[H.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:H.jsxs("tr",{children:[H.jsx("th",{className:"px-4 py-3 text-left text-gray-700",children:""}),H.jsx("th",{className:"px-4 py-3 text-left text-gray-700",children:""}),H.jsx("th",{className:"px-4 py-3 text-left text-gray-700",children:""}),H.jsx("th",{className:"px-4 py-3 text-left text-gray-700",children:""}),H.jsx("th",{className:"px-4 py-3 text-left text-gray-700",children:""})]})}),H.jsx("tbody",{children:r?H.jsx("tr",{children:H.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-gray-500",children:"..."})}):h.length===0?H.jsx("tr",{children:H.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-gray-500",children:""})}):h.map((te,Z)=>H.jsxs("tr",{className:Z%2===0?"bg-white":"bg-gray-50",children:[H.jsx("td",{className:"px-4 py-3 text-gray-800",children:te.id}),H.jsx("td",{className:"px-4 py-3 text-gray-800",children:te.type}),H.jsx("td",{className:"px-4 py-3",children:H.jsx("span",{className:`inline-block px-3 py-1 rounded ${Ae(te.status)}`,children:te.status})}),H.jsx("td",{className:"px-4 py-3 text-gray-800",children:te.createdAt}),H.jsx("td",{className:"px-4 py-3 text-gray-800",children:te.activateTime?new Date(te.activateTime).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).replace(/\//g,"-"):""})]},te.id))})]})})]})}function p7(){const[t,e]=Le.useState([{id:1,name:"2025",isPaid:!0,isOnline:!0},{id:2,name:"2025",isPaid:!1,isOnline:!0},{id:3,name:"2025",isPaid:!0,isOnline:!1},{id:4,name:"2024",isPaid:!1,isOnline:!0}]),[r,n]=Le.useState(""),[o,i]=Le.useState(""),[l,f]=Le.useState(t),[h,u]=Le.useState(null),[d,v]=Le.useState(null),y=()=>{let O=t;r.trim()&&(O=O.filter(x=>x.name.includes(r))),o===""?O=O.filter(x=>x.isOnline):o===""&&(O=O.filter(x=>!x.isOnline)),f(O)},_=()=>{n(""),i(""),f(t)},w=O=>{u(O.id),v({...O})},S=()=>{if(!d)return;const O=t.map(x=>x.id===d.id?d:x);e(O),f(O),u(null),v(null),Tn.success("")},T=O=>{const x=t.map(A=>A.id===O.id?{...A,isOnline:!A.isOnline}:A);e(x),f(x),Tn.success(O.isOnline?"":"")};return H.jsxs("div",{className:"space-y-6",children:[H.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:H.jsxs("div",{className:"flex gap-4 items-end",children:[H.jsxs("div",{className:"flex-1",children:[H.jsx("label",{className:"block mb-2 text-gray-700",children:""}),H.jsx("input",{type:"text",value:r,onChange:O=>n(O.target.value),placeholder:"",className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500"})]}),H.jsxs("div",{className:"flex-1",children:[H.jsx("label",{className:"block mb-2 text-gray-700",children:""}),H.jsxs("select",{value:o,onChange:O=>i(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500",children:[H.jsx("option",{children:""}),H.jsx("option",{children:""}),H.jsx("option",{children:""})]})]}),H.jsxs("button",{onClick:y,className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center gap-2",children:[H.jsx(j2,{size:18}),""]}),H.jsxs("button",{onClick:_,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-50 transition-colors flex items-center gap-2",children:[H.jsx(L2,{size:18}),""]})]})}),H.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[H.jsxs("table",{className:"w-full",children:[H.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:H.jsxs("tr",{children:[H.jsx("th",{className:"px-4 py-3 text-left text-gray-700",children:""}),H.jsx("th",{className:"px-4 py-3 text-left text-gray-700",children:""}),H.jsx("th",{className:"px-4 py-3 text-left text-gray-700",children:""}),H.jsx("th",{className:"px-4 py-3 text-left text-gray-700",children:""})]})}),H.jsx("tbody",{children:l.map((O,x)=>H.jsx("tr",{className:x%2===0?"bg-white":"bg-gray-50",children:h===O.id&&d?H.jsxs(H.Fragment,{children:[H.jsx("td",{className:"px-4 py-3",children:H.jsx("input",{type:"text",value:d.name,onChange:A=>v({...d,name:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500"})}),H.jsx("td",{className:"px-4 py-3",children:H.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[H.jsx("input",{type:"checkbox",checked:d.isPaid,onChange:A=>v({...d,isPaid:A.target.checked}),className:"w-4 h-4"}),H.jsx("span",{className:"text-gray-700",children:""})]})}),H.jsx("td",{className:"px-4 py-3",children:H.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[H.jsx("input",{type:"checkbox",checked:d.isOnline,onChange:A=>v({...d,isOnline:A.target.checked}),className:"w-4 h-4"}),H.jsx("span",{className:"text-gray-700",children:""})]})}),H.jsx("td",{className:"px-4 py-3",children:H.jsxs("button",{onClick:S,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center gap-2",children:[H.jsx(z3,{size:16}),""]})})]}):H.jsxs(H.Fragment,{children:[H.jsx("td",{className:"px-4 py-3 text-gray-800",children:O.name}),H.jsx("td",{className:"px-4 py-3",children:H.jsx("span",{className:`inline-block px-3 py-1 rounded ${O.isPaid?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:O.isPaid?"":""})}),H.jsx("td",{className:"px-4 py-3",children:H.jsx("span",{className:`inline-block px-3 py-1 rounded ${O.isOnline?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:O.isOnline?"":""})}),H.jsx("td",{className:"px-4 py-3",children:H.jsxs("div",{className:"flex gap-2",children:[H.jsxs("button",{onClick:()=>w(O),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-50 transition-colors flex items-center gap-2",children:[H.jsx(q3,{size:16}),""]}),H.jsx("button",{onClick:()=>T(O),className:`px-4 py-2 rounded transition-colors ${O.isOnline?"bg-red-600 text-white hover:bg-red-700":"bg-green-600 text-white hover:bg-green-700"}`,children:O.isOnline?"":""})]})})]})},O.id))})]}),l.length===0&&H.jsx("div",{className:"text-center py-8 text-gray-500",children:""})]})]})}function v7({onLogout:t}){const[e,r]=Le.useState("card");return H.jsxs("div",{className:"min-h-screen bg-white",children:[H.jsx("header",{className:"border-b border-gray-200 bg-white",children:H.jsxs("div",{className:"max-w-[1200px] mx-auto px-6 py-4 flex items-center justify-between",children:[H.jsx("h1",{className:"text-blue-600",children:""}),H.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-blue-600 transition-colors",children:[H.jsx(M3,{size:18}),""]})]})}),H.jsx("div",{className:"max-w-[1200px] mx-auto px-6 mt-6",children:H.jsxs("div",{className:"flex gap-2 border-b border-gray-200",children:[H.jsx("button",{onClick:()=>r("card"),className:`px-6 py-3 transition-colors ${e==="card"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-blue-600"}`,children:""}),H.jsx("button",{onClick:()=>r("exam"),className:`px-6 py-3 transition-colors ${e==="exam"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-blue-600"}`,children:""})]})}),H.jsx("div",{className:"max-w-[1200px] mx-auto px-6 py-6",children:e==="card"?H.jsx(h7,{}):H.jsx(p7,{})})]})}function y7(){const[t,e]=Le.useState(()=>localStorage.getItem("isLoggedIn")==="true"),r=()=>{e(!0)},n=()=>{localStorage.removeItem("isLoggedIn"),localStorage.removeItem("username"),e(!1)};return H.jsx("div",{className:"min-h-screen bg-white",children:t?H.jsx(v7,{onLogout:n}):H.jsx(J3,{onLogin:r})})}b3.createRoot(document.getElementById("root")).render(H.jsx(y7,{}));
