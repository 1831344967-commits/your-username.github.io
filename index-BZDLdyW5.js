(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();var Ja=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function d3(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var o=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return t[n]}})}),r}var kp={exports:{}},fu={},Lp={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h1;function h3(){if(h1)return De;h1=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),v=Symbol.iterator;function y(j){return j===null||typeof j!="object"?null:(j=v&&j[v]||j["@@iterator"],typeof j=="function"?j:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function T(j,Z,Ie){this.props=j,this.context=Z,this.refs=S,this.updater=Ie||_}T.prototype.isReactComponent={},T.prototype.setState=function(j,Z){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,Z,"setState")},T.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function O(){}O.prototype=T.prototype;function x(j,Z,Ie){this.props=j,this.context=Z,this.refs=S,this.updater=Ie||_}var A=x.prototype=new O;A.constructor=x,w(A,T.prototype),A.isPureReactComponent=!0;var C=Array.isArray,U=Object.prototype.hasOwnProperty,q={current:null},Y={key:!0,ref:!0,__self:!0,__source:!0};function J(j,Z,Ie){var xe,Re={},de=null,je=null;if(Z!=null)for(xe in Z.ref!==void 0&&(je=Z.ref),Z.key!==void 0&&(de=""+Z.key),Z)U.call(Z,xe)&&!Y.hasOwnProperty(xe)&&(Re[xe]=Z[xe]);var Te=arguments.length-2;if(Te===1)Re.children=Ie;else if(1<Te){for(var Le=Array(Te),Fe=0;Fe<Te;Fe++)Le[Fe]=arguments[Fe+2];Re.children=Le}if(j&&j.defaultProps)for(xe in Te=j.defaultProps,Te)Re[xe]===void 0&&(Re[xe]=Te[xe]);return{$$typeof:t,type:j,key:de,ref:je,props:Re,_owner:q.current}}function k(j,Z){return{$$typeof:t,type:j.type,key:Z,ref:j.ref,props:j.props,_owner:j._owner}}function W(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function F(j){var Z={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Ie){return Z[Ie]})}var V=/\/+/g;function G(j,Z){return typeof j=="object"&&j!==null&&j.key!=null?F(""+j.key):Z.toString(36)}function K(j,Z,Ie,xe,Re){var de=typeof j;(de==="undefined"||de==="boolean")&&(j=null);var je=!1;if(j===null)je=!0;else switch(de){case"string":case"number":je=!0;break;case"object":switch(j.$$typeof){case t:case e:je=!0}}if(je)return je=j,Re=Re(je),j=xe===""?"."+G(je,0):xe,C(Re)?(Ie="",j!=null&&(Ie=j.replace(V,"$&/")+"/"),K(Re,Z,Ie,"",function(Fe){return Fe})):Re!=null&&(W(Re)&&(Re=k(Re,Ie+(!Re.key||je&&je.key===Re.key?"":(""+Re.key).replace(V,"$&/")+"/")+j)),Z.push(Re)),1;if(je=0,xe=xe===""?".":xe+":",C(j))for(var Te=0;Te<j.length;Te++){de=j[Te];var Le=xe+G(de,Te);je+=K(de,Z,Ie,Le,Re)}else if(Le=y(j),typeof Le=="function")for(j=Le.call(j),Te=0;!(de=j.next()).done;)de=de.value,Le=xe+G(de,Te++),je+=K(de,Z,Ie,Le,Re);else if(de==="object")throw Z=String(j),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return je}function ae(j,Z,Ie){if(j==null)return j;var xe=[],Re=0;return K(j,xe,"","",function(de){return Z.call(Ie,de,Re++)}),xe}function fe(j){if(j._status===-1){var Z=j._result;Z=Z(),Z.then(function(Ie){(j._status===0||j._status===-1)&&(j._status=1,j._result=Ie)},function(Ie){(j._status===0||j._status===-1)&&(j._status=2,j._result=Ie)}),j._status===-1&&(j._status=0,j._result=Z)}if(j._status===1)return j._result.default;throw j._result}var ce={current:null},Q={transition:null},ee={ReactCurrentDispatcher:ce,ReactCurrentBatchConfig:Q,ReactCurrentOwner:q};function X(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:ae,forEach:function(j,Z,Ie){ae(j,function(){Z.apply(this,arguments)},Ie)},count:function(j){var Z=0;return ae(j,function(){Z++}),Z},toArray:function(j){return ae(j,function(Z){return Z})||[]},only:function(j){if(!W(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},De.Component=T,De.Fragment=r,De.Profiler=o,De.PureComponent=x,De.StrictMode=n,De.Suspense=p,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,De.act=X,De.cloneElement=function(j,Z,Ie){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var xe=w({},j.props),Re=j.key,de=j.ref,je=j._owner;if(Z!=null){if(Z.ref!==void 0&&(de=Z.ref,je=q.current),Z.key!==void 0&&(Re=""+Z.key),j.type&&j.type.defaultProps)var Te=j.type.defaultProps;for(Le in Z)U.call(Z,Le)&&!Y.hasOwnProperty(Le)&&(xe[Le]=Z[Le]===void 0&&Te!==void 0?Te[Le]:Z[Le])}var Le=arguments.length-2;if(Le===1)xe.children=Ie;else if(1<Le){Te=Array(Le);for(var Fe=0;Fe<Le;Fe++)Te[Fe]=arguments[Fe+2];xe.children=Te}return{$$typeof:t,type:j.type,key:Re,ref:de,props:xe,_owner:je}},De.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:i,_context:j},j.Consumer=j},De.createElement=J,De.createFactory=function(j){var Z=J.bind(null,j);return Z.type=j,Z},De.createRef=function(){return{current:null}},De.forwardRef=function(j){return{$$typeof:f,render:j}},De.isValidElement=W,De.lazy=function(j){return{$$typeof:d,_payload:{_status:-1,_result:j},_init:fe}},De.memo=function(j,Z){return{$$typeof:u,type:j,compare:Z===void 0?null:Z}},De.startTransition=function(j){var Z=Q.transition;Q.transition={};try{j()}finally{Q.transition=Z}},De.unstable_act=X,De.useCallback=function(j,Z){return ce.current.useCallback(j,Z)},De.useContext=function(j){return ce.current.useContext(j)},De.useDebugValue=function(){},De.useDeferredValue=function(j){return ce.current.useDeferredValue(j)},De.useEffect=function(j,Z){return ce.current.useEffect(j,Z)},De.useId=function(){return ce.current.useId()},De.useImperativeHandle=function(j,Z,Ie){return ce.current.useImperativeHandle(j,Z,Ie)},De.useInsertionEffect=function(j,Z){return ce.current.useInsertionEffect(j,Z)},De.useLayoutEffect=function(j,Z){return ce.current.useLayoutEffect(j,Z)},De.useMemo=function(j,Z){return ce.current.useMemo(j,Z)},De.useReducer=function(j,Z,Ie){return ce.current.useReducer(j,Z,Ie)},De.useRef=function(j){return ce.current.useRef(j)},De.useState=function(j){return ce.current.useState(j)},De.useSyncExternalStore=function(j,Z,Ie){return ce.current.useSyncExternalStore(j,Z,Ie)},De.useTransition=function(){return ce.current.useTransition()},De.version="18.3.1",De}var p1;function pg(){return p1||(p1=1,Lp.exports=h3()),Lp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v1;function p3(){if(v1)return fu;v1=1;var t=pg(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(f,p,u){var d,v={},y=null,_=null;u!==void 0&&(y=""+u),p.key!==void 0&&(y=""+p.key),p.ref!==void 0&&(_=p.ref);for(d in p)n.call(p,d)&&!i.hasOwnProperty(d)&&(v[d]=p[d]);if(f&&f.defaultProps)for(d in p=f.defaultProps,p)v[d]===void 0&&(v[d]=p[d]);return{$$typeof:e,type:f,key:y,ref:_,props:v,_owner:o.current}}return fu.Fragment=r,fu.jsx=l,fu.jsxs=l,fu}var y1;function v3(){return y1||(y1=1,kp.exports=p3()),kp.exports}var H=v3(),Pc={},jp={exports:{}},sr={},Dp={exports:{}},Up={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m1;function y3(){return m1||(m1=1,(function(t){function e(Q,ee){var X=Q.length;Q.push(ee);e:for(;0<X;){var j=X-1>>>1,Z=Q[j];if(0<o(Z,ee))Q[j]=ee,Q[X]=Z,X=j;else break e}}function r(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var ee=Q[0],X=Q.pop();if(X!==ee){Q[0]=X;e:for(var j=0,Z=Q.length,Ie=Z>>>1;j<Ie;){var xe=2*(j+1)-1,Re=Q[xe],de=xe+1,je=Q[de];if(0>o(Re,X))de<Z&&0>o(je,Re)?(Q[j]=je,Q[de]=X,j=de):(Q[j]=Re,Q[xe]=X,j=xe);else if(de<Z&&0>o(je,X))Q[j]=je,Q[de]=X,j=de;else break e}}return ee}function o(Q,ee){var X=Q.sortIndex-ee.sortIndex;return X!==0?X:Q.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,f=l.now();t.unstable_now=function(){return l.now()-f}}var p=[],u=[],d=1,v=null,y=3,_=!1,w=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(Q){for(var ee=r(u);ee!==null;){if(ee.callback===null)n(u);else if(ee.startTime<=Q)n(u),ee.sortIndex=ee.expirationTime,e(p,ee);else break;ee=r(u)}}function C(Q){if(S=!1,A(Q),!w)if(r(p)!==null)w=!0,fe(U);else{var ee=r(u);ee!==null&&ce(C,ee.startTime-Q)}}function U(Q,ee){w=!1,S&&(S=!1,O(J),J=-1),_=!0;var X=y;try{for(A(ee),v=r(p);v!==null&&(!(v.expirationTime>ee)||Q&&!F());){var j=v.callback;if(typeof j=="function"){v.callback=null,y=v.priorityLevel;var Z=j(v.expirationTime<=ee);ee=t.unstable_now(),typeof Z=="function"?v.callback=Z:v===r(p)&&n(p),A(ee)}else n(p);v=r(p)}if(v!==null)var Ie=!0;else{var xe=r(u);xe!==null&&ce(C,xe.startTime-ee),Ie=!1}return Ie}finally{v=null,y=X,_=!1}}var q=!1,Y=null,J=-1,k=5,W=-1;function F(){return!(t.unstable_now()-W<k)}function V(){if(Y!==null){var Q=t.unstable_now();W=Q;var ee=!0;try{ee=Y(!0,Q)}finally{ee?G():(q=!1,Y=null)}}else q=!1}var G;if(typeof x=="function")G=function(){x(V)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ae=K.port2;K.port1.onmessage=V,G=function(){ae.postMessage(null)}}else G=function(){T(V,0)};function fe(Q){Y=Q,q||(q=!0,G())}function ce(Q,ee){J=T(function(){Q(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){w||_||(w=!0,fe(U))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(p)},t.unstable_next=function(Q){switch(y){case 1:case 2:case 3:var ee=3;break;default:ee=y}var X=y;y=ee;try{return Q()}finally{y=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,ee){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var X=y;y=Q;try{return ee()}finally{y=X}},t.unstable_scheduleCallback=function(Q,ee,X){var j=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?j+X:j):X=j,Q){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=X+Z,Q={id:d++,callback:ee,priorityLevel:Q,startTime:X,expirationTime:Z,sortIndex:-1},X>j?(Q.sortIndex=X,e(u,Q),r(p)===null&&Q===r(u)&&(S?(O(J),J=-1):S=!0,ce(C,X-j))):(Q.sortIndex=Z,e(p,Q),w||_||(w=!0,fe(U))),Q},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(Q){var ee=y;return function(){var X=y;y=ee;try{return Q.apply(this,arguments)}finally{y=X}}}})(Up)),Up}var g1;function m3(){return g1||(g1=1,Dp.exports=y3()),Dp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _1;function g3(){if(_1)return sr;_1=1;var t=pg(),e=m3();function r(a){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+a,c=1;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function i(a,s){l(a,s),l(a+"Capture",s)}function l(a,s){for(o[a]=s,a=0;a<s.length;a++)n.add(s[a])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},v={};function y(a){return p.call(v,a)?!0:p.call(d,a)?!1:u.test(a)?v[a]=!0:(d[a]=!0,!1)}function _(a,s,c,h){if(c!==null&&c.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function w(a,s,c,h){if(s===null||typeof s>"u"||_(a,s,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function S(a,s,c,h,m,g,I){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=c,this.propertyName=a,this.type=s,this.sanitizeURL=g,this.removeEmptyString=I}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){T[a]=new S(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var s=a[0];T[s]=new S(s,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){T[a]=new S(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){T[a]=new S(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){T[a]=new S(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){T[a]=new S(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){T[a]=new S(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){T[a]=new S(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){T[a]=new S(a,5,!1,a.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function x(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var s=a.replace(O,x);T[s]=new S(s,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var s=a.replace(O,x);T[s]=new S(s,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var s=a.replace(O,x);T[s]=new S(s,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){T[a]=new S(a,1,!1,a.toLowerCase(),null,!1,!1)}),T.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){T[a]=new S(a,1,!1,a.toLowerCase(),null,!0,!0)});function A(a,s,c,h){var m=T.hasOwnProperty(s)?T[s]:null;(m!==null?m.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(w(s,c,m,h)&&(c=null),h||m===null?y(s)&&(c===null?a.removeAttribute(s):a.setAttribute(s,""+c)):m.mustUseProperty?a[m.propertyName]=c===null?m.type===3?!1:"":c:(s=m.attributeName,h=m.attributeNamespace,c===null?a.removeAttribute(s):(m=m.type,c=m===3||m===4&&c===!0?"":""+c,h?a.setAttributeNS(h,s,c):a.setAttribute(s,c))))}var C=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),q=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),F=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),ce=Symbol.for("react.offscreen"),Q=Symbol.iterator;function ee(a){return a===null||typeof a!="object"?null:(a=Q&&a[Q]||a["@@iterator"],typeof a=="function"?a:null)}var X=Object.assign,j;function Z(a){if(j===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);j=s&&s[1]||""}return`
`+j+a}var Ie=!1;function xe(a,s){if(!a||Ie)return"";Ie=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(z){var h=z}Reflect.construct(a,[],s)}else{try{s.call()}catch(z){h=z}a.call(s.prototype)}else{try{throw Error()}catch(z){h=z}a()}}catch(z){if(z&&h&&typeof z.stack=="string"){for(var m=z.stack.split(`
`),g=h.stack.split(`
`),I=m.length-1,N=g.length-1;1<=I&&0<=N&&m[I]!==g[N];)N--;for(;1<=I&&0<=N;I--,N--)if(m[I]!==g[N]){if(I!==1||N!==1)do if(I--,N--,0>N||m[I]!==g[N]){var L=`
`+m[I].replace(" at new "," at ");return a.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",a.displayName)),L}while(1<=I&&0<=N);break}}}finally{Ie=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:"")?Z(a):""}function Re(a){switch(a.tag){case 5:return Z(a.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return a=xe(a.type,!1),a;case 11:return a=xe(a.type.render,!1),a;case 1:return a=xe(a.type,!0),a;default:return""}}function de(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case Y:return"Fragment";case q:return"Portal";case k:return"Profiler";case J:return"StrictMode";case G:return"Suspense";case K:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case F:return(a.displayName||"Context")+".Consumer";case W:return(a._context.displayName||"Context")+".Provider";case V:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ae:return s=a.displayName||null,s!==null?s:de(a.type)||"Memo";case fe:s=a._payload,a=a._init;try{return de(a(s))}catch{}}return null}function je(a){var s=a.type;switch(a.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=s.render,a=a.displayName||a.name||"",s.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(s);case 8:return s===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Te(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Le(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Fe(a){var s=Le(a)?"checked":"value",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,s),h=""+a[s];if(!a.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return m.call(this)},set:function(I){h=""+I,g.call(this,I)}}),Object.defineProperty(a,s,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(I){h=""+I},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function nt(a){a._valueTracker||(a._valueTracker=Fe(a))}function _t(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var c=s.getValue(),h="";return a&&(h=Le(a)?a.checked?"true":"false":a.value),a=h,a!==c?(s.setValue(a),!0):!1}function er(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function un(a,s){var c=s.checked;return X({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??a._wrapperState.initialChecked})}function R(a,s){var c=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;c=Te(s.value!=null?s.value:c),a._wrapperState={initialChecked:h,initialValue:c,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function b(a,s){s=s.checked,s!=null&&A(a,"checked",s,!1)}function E(a,s){b(a,s);var c=Te(s.value),h=s.type;if(c!=null)h==="number"?(c===0&&a.value===""||a.value!=c)&&(a.value=""+c):a.value!==""+c&&(a.value=""+c);else if(h==="submit"||h==="reset"){a.removeAttribute("value");return}s.hasOwnProperty("value")?M(a,s.type,c):s.hasOwnProperty("defaultValue")&&M(a,s.type,Te(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(a.defaultChecked=!!s.defaultChecked)}function P(a,s,c){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+a._wrapperState.initialValue,c||s===a.value||(a.value=s),a.defaultValue=s}c=a.name,c!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,c!==""&&(a.name=c)}function M(a,s,c){(s!=="number"||er(a.ownerDocument)!==a)&&(c==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+c&&(a.defaultValue=""+c))}var te=Array.isArray;function ie(a,s,c,h){if(a=a.options,s){s={};for(var m=0;m<c.length;m++)s["$"+c[m]]=!0;for(c=0;c<a.length;c++)m=s.hasOwnProperty("$"+a[c].value),a[c].selected!==m&&(a[c].selected=m),m&&h&&(a[c].defaultSelected=!0)}else{for(c=""+Te(c),s=null,m=0;m<a.length;m++){if(a[m].value===c){a[m].selected=!0,h&&(a[m].defaultSelected=!0);return}s!==null||a[m].disabled||(s=a[m])}s!==null&&(s.selected=!0)}}function Ne(a,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return X({},s,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function ke(a,s){var c=s.value;if(c==null){if(c=s.children,s=s.defaultValue,c!=null){if(s!=null)throw Error(r(92));if(te(c)){if(1<c.length)throw Error(r(93));c=c[0]}s=c}s==null&&(s=""),c=s}a._wrapperState={initialValue:Te(c)}}function He(a,s){var c=Te(s.value),h=Te(s.defaultValue);c!=null&&(c=""+c,c!==a.value&&(a.value=c),s.defaultValue==null&&a.defaultValue!==c&&(a.defaultValue=c)),h!=null&&(a.defaultValue=""+h)}function it(a){var s=a.textContent;s===a._wrapperState.initialValue&&s!==""&&s!==null&&(a.value=s)}function Ye(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ln(a,s){return a==null||a==="http://www.w3.org/1999/xhtml"?Ye(s):a==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var tr,Ti=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,c,h,m){MSApp.execUnsafeLocalFunction(function(){return a(s,c,h,m)})}:a})(function(a,s){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=s;else{for(tr=tr||document.createElement("div"),tr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=tr.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;s.firstChild;)a.appendChild(s.firstChild)}});function Oi(a,s){if(s){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=s;return}}a.textContent=s}var ho={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sl=["Webkit","ms","Moz","O"];Object.keys(ho).forEach(function(a){Sl.forEach(function(s){s=s+a.charAt(0).toUpperCase()+a.substring(1),ho[s]=ho[a]})});function cn(a,s,c){return s==null||typeof s=="boolean"||s===""?"":c||typeof s!="number"||s===0||ho.hasOwnProperty(a)&&ho[a]?(""+s).trim():s+"px"}function kn(a,s){a=a.style;for(var c in s)if(s.hasOwnProperty(c)){var h=c.indexOf("--")===0,m=cn(c,s[c],h);c==="float"&&(c="cssFloat"),h?a.setProperty(c,m):a[c]=m}}var mP=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gd(a,s){if(s){if(mP[a]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,a));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function zd(a,s){if(a.indexOf("-")===-1)return typeof s.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vd=null;function Kd(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Yd=null,ca=null,fa=null;function C_(a){if(a=Js(a)){if(typeof Yd!="function")throw Error(r(280));var s=a.stateNode;s&&(s=zl(s),Yd(a.stateNode,a.type,s))}}function P_(a){ca?fa?fa.push(a):fa=[a]:ca=a}function N_(){if(ca){var a=ca,s=fa;if(fa=ca=null,C_(a),s)for(a=0;a<s.length;a++)C_(s[a])}}function k_(a,s){return a(s)}function L_(){}var Jd=!1;function j_(a,s,c){if(Jd)return a(s,c);Jd=!0;try{return k_(a,s,c)}finally{Jd=!1,(ca!==null||fa!==null)&&(L_(),N_())}}function As(a,s){var c=a.stateNode;if(c===null)return null;var h=zl(c);if(h===null)return null;c=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var Qd=!1;if(f)try{var Cs={};Object.defineProperty(Cs,"passive",{get:function(){Qd=!0}}),window.addEventListener("test",Cs,Cs),window.removeEventListener("test",Cs,Cs)}catch{Qd=!1}function gP(a,s,c,h,m,g,I,N,L){var z=Array.prototype.slice.call(arguments,3);try{s.apply(c,z)}catch(ne){this.onError(ne)}}var Ps=!1,Il=null,Tl=!1,Xd=null,_P={onError:function(a){Ps=!0,Il=a}};function wP(a,s,c,h,m,g,I,N,L){Ps=!1,Il=null,gP.apply(_P,arguments)}function bP(a,s,c,h,m,g,I,N,L){if(wP.apply(this,arguments),Ps){if(Ps){var z=Il;Ps=!1,Il=null}else throw Error(r(198));Tl||(Tl=!0,Xd=z)}}function po(a){var s=a,c=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(c=s.return),a=s.return;while(a)}return s.tag===3?c:null}function D_(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function U_(a){if(po(a)!==a)throw Error(r(188))}function EP(a){var s=a.alternate;if(!s){if(s=po(a),s===null)throw Error(r(188));return s!==a?null:a}for(var c=a,h=s;;){var m=c.return;if(m===null)break;var g=m.alternate;if(g===null){if(h=m.return,h!==null){c=h;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===c)return U_(m),a;if(g===h)return U_(m),s;g=g.sibling}throw Error(r(188))}if(c.return!==h.return)c=m,h=g;else{for(var I=!1,N=m.child;N;){if(N===c){I=!0,c=m,h=g;break}if(N===h){I=!0,h=m,c=g;break}N=N.sibling}if(!I){for(N=g.child;N;){if(N===c){I=!0,c=g,h=m;break}if(N===h){I=!0,h=g,c=m;break}N=N.sibling}if(!I)throw Error(r(189))}}if(c.alternate!==h)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:s}function F_(a){return a=EP(a),a!==null?M_(a):null}function M_(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var s=M_(a);if(s!==null)return s;a=a.sibling}return null}var B_=e.unstable_scheduleCallback,q_=e.unstable_cancelCallback,SP=e.unstable_shouldYield,IP=e.unstable_requestPaint,ft=e.unstable_now,TP=e.unstable_getCurrentPriorityLevel,Zd=e.unstable_ImmediatePriority,$_=e.unstable_UserBlockingPriority,Ol=e.unstable_NormalPriority,OP=e.unstable_LowPriority,W_=e.unstable_IdlePriority,xl=null,Ln=null;function xP(a){if(Ln&&typeof Ln.onCommitFiberRoot=="function")try{Ln.onCommitFiberRoot(xl,a,void 0,(a.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:CP,RP=Math.log,AP=Math.LN2;function CP(a){return a>>>=0,a===0?32:31-(RP(a)/AP|0)|0}var Rl=64,Al=4194304;function Ns(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Cl(a,s){var c=a.pendingLanes;if(c===0)return 0;var h=0,m=a.suspendedLanes,g=a.pingedLanes,I=c&268435455;if(I!==0){var N=I&~m;N!==0?h=Ns(N):(g&=I,g!==0&&(h=Ns(g)))}else I=c&~m,I!==0?h=Ns(I):g!==0&&(h=Ns(g));if(h===0)return 0;if(s!==0&&s!==h&&(s&m)===0&&(m=h&-h,g=s&-s,m>=g||m===16&&(g&4194240)!==0))return s;if((h&4)!==0&&(h|=c&16),s=a.entangledLanes,s!==0)for(a=a.entanglements,s&=h;0<s;)c=31-fn(s),m=1<<c,h|=a[c],s&=~m;return h}function PP(a,s){switch(a){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function NP(a,s){for(var c=a.suspendedLanes,h=a.pingedLanes,m=a.expirationTimes,g=a.pendingLanes;0<g;){var I=31-fn(g),N=1<<I,L=m[I];L===-1?((N&c)===0||(N&h)!==0)&&(m[I]=PP(N,s)):L<=s&&(a.expiredLanes|=N),g&=~N}}function eh(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function H_(){var a=Rl;return Rl<<=1,(Rl&4194240)===0&&(Rl=64),a}function th(a){for(var s=[],c=0;31>c;c++)s.push(a);return s}function ks(a,s,c){a.pendingLanes|=s,s!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,s=31-fn(s),a[s]=c}function kP(a,s){var c=a.pendingLanes&~s;a.pendingLanes=s,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=s,a.mutableReadLanes&=s,a.entangledLanes&=s,s=a.entanglements;var h=a.eventTimes;for(a=a.expirationTimes;0<c;){var m=31-fn(c),g=1<<m;s[m]=0,h[m]=-1,a[m]=-1,c&=~g}}function rh(a,s){var c=a.entangledLanes|=s;for(a=a.entanglements;c;){var h=31-fn(c),m=1<<h;m&s|a[h]&s&&(a[h]|=s),c&=~m}}var Ke=0;function G_(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var z_,nh,V_,K_,Y_,ih=!1,Pl=[],xi=null,Ri=null,Ai=null,Ls=new Map,js=new Map,Ci=[],LP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function J_(a,s){switch(a){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":Ri=null;break;case"mouseover":case"mouseout":Ai=null;break;case"pointerover":case"pointerout":Ls.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":js.delete(s.pointerId)}}function Ds(a,s,c,h,m,g){return a===null||a.nativeEvent!==g?(a={blockedOn:s,domEventName:c,eventSystemFlags:h,nativeEvent:g,targetContainers:[m]},s!==null&&(s=Js(s),s!==null&&nh(s)),a):(a.eventSystemFlags|=h,s=a.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),a)}function jP(a,s,c,h,m){switch(s){case"focusin":return xi=Ds(xi,a,s,c,h,m),!0;case"dragenter":return Ri=Ds(Ri,a,s,c,h,m),!0;case"mouseover":return Ai=Ds(Ai,a,s,c,h,m),!0;case"pointerover":var g=m.pointerId;return Ls.set(g,Ds(Ls.get(g)||null,a,s,c,h,m)),!0;case"gotpointercapture":return g=m.pointerId,js.set(g,Ds(js.get(g)||null,a,s,c,h,m)),!0}return!1}function Q_(a){var s=vo(a.target);if(s!==null){var c=po(s);if(c!==null){if(s=c.tag,s===13){if(s=D_(c),s!==null){a.blockedOn=s,Y_(a.priority,function(){V_(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Nl(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var c=ah(a.domEventName,a.eventSystemFlags,s[0],a.nativeEvent);if(c===null){c=a.nativeEvent;var h=new c.constructor(c.type,c);Vd=h,c.target.dispatchEvent(h),Vd=null}else return s=Js(c),s!==null&&nh(s),a.blockedOn=c,!1;s.shift()}return!0}function X_(a,s,c){Nl(a)&&c.delete(s)}function DP(){ih=!1,xi!==null&&Nl(xi)&&(xi=null),Ri!==null&&Nl(Ri)&&(Ri=null),Ai!==null&&Nl(Ai)&&(Ai=null),Ls.forEach(X_),js.forEach(X_)}function Us(a,s){a.blockedOn===s&&(a.blockedOn=null,ih||(ih=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,DP)))}function Fs(a){function s(m){return Us(m,a)}if(0<Pl.length){Us(Pl[0],a);for(var c=1;c<Pl.length;c++){var h=Pl[c];h.blockedOn===a&&(h.blockedOn=null)}}for(xi!==null&&Us(xi,a),Ri!==null&&Us(Ri,a),Ai!==null&&Us(Ai,a),Ls.forEach(s),js.forEach(s),c=0;c<Ci.length;c++)h=Ci[c],h.blockedOn===a&&(h.blockedOn=null);for(;0<Ci.length&&(c=Ci[0],c.blockedOn===null);)Q_(c),c.blockedOn===null&&Ci.shift()}var da=C.ReactCurrentBatchConfig,kl=!0;function UP(a,s,c,h){var m=Ke,g=da.transition;da.transition=null;try{Ke=1,oh(a,s,c,h)}finally{Ke=m,da.transition=g}}function FP(a,s,c,h){var m=Ke,g=da.transition;da.transition=null;try{Ke=4,oh(a,s,c,h)}finally{Ke=m,da.transition=g}}function oh(a,s,c,h){if(kl){var m=ah(a,s,c,h);if(m===null)Sh(a,s,h,Ll,c),J_(a,h);else if(jP(m,a,s,c,h))h.stopPropagation();else if(J_(a,h),s&4&&-1<LP.indexOf(a)){for(;m!==null;){var g=Js(m);if(g!==null&&z_(g),g=ah(a,s,c,h),g===null&&Sh(a,s,h,Ll,c),g===m)break;m=g}m!==null&&h.stopPropagation()}else Sh(a,s,h,null,c)}}var Ll=null;function ah(a,s,c,h){if(Ll=null,a=Kd(h),a=vo(a),a!==null)if(s=po(a),s===null)a=null;else if(c=s.tag,c===13){if(a=D_(s),a!==null)return a;a=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null);return Ll=a,null}function Z_(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(TP()){case Zd:return 1;case $_:return 4;case Ol:case OP:return 16;case W_:return 536870912;default:return 16}default:return 16}}var Pi=null,sh=null,jl=null;function ew(){if(jl)return jl;var a,s=sh,c=s.length,h,m="value"in Pi?Pi.value:Pi.textContent,g=m.length;for(a=0;a<c&&s[a]===m[a];a++);var I=c-a;for(h=1;h<=I&&s[c-h]===m[g-h];h++);return jl=m.slice(a,1<h?1-h:void 0)}function Dl(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Ul(){return!0}function tw(){return!1}function Sr(a){function s(c,h,m,g,I){this._reactName=c,this._targetInst=m,this.type=h,this.nativeEvent=g,this.target=I,this.currentTarget=null;for(var N in a)a.hasOwnProperty(N)&&(c=a[N],this[N]=c?c(g):g[N]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ul:tw,this.isPropagationStopped=tw,this}return X(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ul)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ul)},persist:function(){},isPersistent:Ul}),s}var ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uh=Sr(ha),Ms=X({},ha,{view:0,detail:0}),MP=Sr(Ms),lh,ch,Bs,Fl=X({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dh,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Bs&&(Bs&&a.type==="mousemove"?(lh=a.screenX-Bs.screenX,ch=a.screenY-Bs.screenY):ch=lh=0,Bs=a),lh)},movementY:function(a){return"movementY"in a?a.movementY:ch}}),rw=Sr(Fl),BP=X({},Fl,{dataTransfer:0}),qP=Sr(BP),$P=X({},Ms,{relatedTarget:0}),fh=Sr($P),WP=X({},ha,{animationName:0,elapsedTime:0,pseudoElement:0}),HP=Sr(WP),GP=X({},ha,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),zP=Sr(GP),VP=X({},ha,{data:0}),nw=Sr(VP),KP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QP(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=JP[a])?!!s[a]:!1}function dh(){return QP}var XP=X({},Ms,{key:function(a){if(a.key){var s=KP[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=Dl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?YP[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dh,charCode:function(a){return a.type==="keypress"?Dl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Dl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),ZP=Sr(XP),eN=X({},Fl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iw=Sr(eN),tN=X({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dh}),rN=Sr(tN),nN=X({},ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),iN=Sr(nN),oN=X({},Fl,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),aN=Sr(oN),sN=[9,13,27,32],hh=f&&"CompositionEvent"in window,qs=null;f&&"documentMode"in document&&(qs=document.documentMode);var uN=f&&"TextEvent"in window&&!qs,ow=f&&(!hh||qs&&8<qs&&11>=qs),aw=" ",sw=!1;function uw(a,s){switch(a){case"keyup":return sN.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lw(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var pa=!1;function lN(a,s){switch(a){case"compositionend":return lw(s);case"keypress":return s.which!==32?null:(sw=!0,aw);case"textInput":return a=s.data,a===aw&&sw?null:a;default:return null}}function cN(a,s){if(pa)return a==="compositionend"||!hh&&uw(a,s)?(a=ew(),jl=sh=Pi=null,pa=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ow&&s.locale!=="ko"?null:s.data;default:return null}}var fN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cw(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!fN[a.type]:s==="textarea"}function fw(a,s,c,h){P_(h),s=Wl(s,"onChange"),0<s.length&&(c=new uh("onChange","change",null,c,h),a.push({event:c,listeners:s}))}var $s=null,Ws=null;function dN(a){Aw(a,0)}function Ml(a){var s=_a(a);if(_t(s))return a}function hN(a,s){if(a==="change")return s}var dw=!1;if(f){var ph;if(f){var vh="oninput"in document;if(!vh){var hw=document.createElement("div");hw.setAttribute("oninput","return;"),vh=typeof hw.oninput=="function"}ph=vh}else ph=!1;dw=ph&&(!document.documentMode||9<document.documentMode)}function pw(){$s&&($s.detachEvent("onpropertychange",vw),Ws=$s=null)}function vw(a){if(a.propertyName==="value"&&Ml(Ws)){var s=[];fw(s,Ws,a,Kd(a)),j_(dN,s)}}function pN(a,s,c){a==="focusin"?(pw(),$s=s,Ws=c,$s.attachEvent("onpropertychange",vw)):a==="focusout"&&pw()}function vN(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Ml(Ws)}function yN(a,s){if(a==="click")return Ml(s)}function mN(a,s){if(a==="input"||a==="change")return Ml(s)}function gN(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var dn=typeof Object.is=="function"?Object.is:gN;function Hs(a,s){if(dn(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var c=Object.keys(a),h=Object.keys(s);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var m=c[h];if(!p.call(s,m)||!dn(a[m],s[m]))return!1}return!0}function yw(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function mw(a,s){var c=yw(a);a=0;for(var h;c;){if(c.nodeType===3){if(h=a+c.textContent.length,a<=s&&h>=s)return{node:c,offset:s-a};a=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=yw(c)}}function gw(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?gw(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function _w(){for(var a=window,s=er();s instanceof a.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)a=s.contentWindow;else break;s=er(a.document)}return s}function yh(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}function _N(a){var s=_w(),c=a.focusedElem,h=a.selectionRange;if(s!==c&&c&&c.ownerDocument&&gw(c.ownerDocument.documentElement,c)){if(h!==null&&yh(c)){if(s=h.start,a=h.end,a===void 0&&(a=s),"selectionStart"in c)c.selectionStart=s,c.selectionEnd=Math.min(a,c.value.length);else if(a=(s=c.ownerDocument||document)&&s.defaultView||window,a.getSelection){a=a.getSelection();var m=c.textContent.length,g=Math.min(h.start,m);h=h.end===void 0?g:Math.min(h.end,m),!a.extend&&g>h&&(m=h,h=g,g=m),m=mw(c,g);var I=mw(c,h);m&&I&&(a.rangeCount!==1||a.anchorNode!==m.node||a.anchorOffset!==m.offset||a.focusNode!==I.node||a.focusOffset!==I.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),a.removeAllRanges(),g>h?(a.addRange(s),a.extend(I.node,I.offset)):(s.setEnd(I.node,I.offset),a.addRange(s)))}}for(s=[],a=c;a=a.parentNode;)a.nodeType===1&&s.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<s.length;c++)a=s[c],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var wN=f&&"documentMode"in document&&11>=document.documentMode,va=null,mh=null,Gs=null,gh=!1;function ww(a,s,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;gh||va==null||va!==er(h)||(h=va,"selectionStart"in h&&yh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Gs&&Hs(Gs,h)||(Gs=h,h=Wl(mh,"onSelect"),0<h.length&&(s=new uh("onSelect","select",null,s,c),a.push({event:s,listeners:h}),s.target=va)))}function Bl(a,s){var c={};return c[a.toLowerCase()]=s.toLowerCase(),c["Webkit"+a]="webkit"+s,c["Moz"+a]="moz"+s,c}var ya={animationend:Bl("Animation","AnimationEnd"),animationiteration:Bl("Animation","AnimationIteration"),animationstart:Bl("Animation","AnimationStart"),transitionend:Bl("Transition","TransitionEnd")},_h={},bw={};f&&(bw=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function ql(a){if(_h[a])return _h[a];if(!ya[a])return a;var s=ya[a],c;for(c in s)if(s.hasOwnProperty(c)&&c in bw)return _h[a]=s[c];return a}var Ew=ql("animationend"),Sw=ql("animationiteration"),Iw=ql("animationstart"),Tw=ql("transitionend"),Ow=new Map,xw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ni(a,s){Ow.set(a,s),i(s,[a])}for(var wh=0;wh<xw.length;wh++){var bh=xw[wh],bN=bh.toLowerCase(),EN=bh[0].toUpperCase()+bh.slice(1);Ni(bN,"on"+EN)}Ni(Ew,"onAnimationEnd"),Ni(Sw,"onAnimationIteration"),Ni(Iw,"onAnimationStart"),Ni("dblclick","onDoubleClick"),Ni("focusin","onFocus"),Ni("focusout","onBlur"),Ni(Tw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SN=new Set("cancel close invalid load scroll toggle".split(" ").concat(zs));function Rw(a,s,c){var h=a.type||"unknown-event";a.currentTarget=c,bP(h,s,void 0,a),a.currentTarget=null}function Aw(a,s){s=(s&4)!==0;for(var c=0;c<a.length;c++){var h=a[c],m=h.event;h=h.listeners;e:{var g=void 0;if(s)for(var I=h.length-1;0<=I;I--){var N=h[I],L=N.instance,z=N.currentTarget;if(N=N.listener,L!==g&&m.isPropagationStopped())break e;Rw(m,N,z),g=L}else for(I=0;I<h.length;I++){if(N=h[I],L=N.instance,z=N.currentTarget,N=N.listener,L!==g&&m.isPropagationStopped())break e;Rw(m,N,z),g=L}}}if(Tl)throw a=Xd,Tl=!1,Xd=null,a}function et(a,s){var c=s[Ah];c===void 0&&(c=s[Ah]=new Set);var h=a+"__bubble";c.has(h)||(Cw(s,a,2,!1),c.add(h))}function Eh(a,s,c){var h=0;s&&(h|=4),Cw(c,a,h,s)}var $l="_reactListening"+Math.random().toString(36).slice(2);function Vs(a){if(!a[$l]){a[$l]=!0,n.forEach(function(c){c!=="selectionchange"&&(SN.has(c)||Eh(c,!1,a),Eh(c,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[$l]||(s[$l]=!0,Eh("selectionchange",!1,s))}}function Cw(a,s,c,h){switch(Z_(s)){case 1:var m=UP;break;case 4:m=FP;break;default:m=oh}c=m.bind(null,s,c,a),m=void 0,!Qd||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),h?m!==void 0?a.addEventListener(s,c,{capture:!0,passive:m}):a.addEventListener(s,c,!0):m!==void 0?a.addEventListener(s,c,{passive:m}):a.addEventListener(s,c,!1)}function Sh(a,s,c,h,m){var g=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var I=h.tag;if(I===3||I===4){var N=h.stateNode.containerInfo;if(N===m||N.nodeType===8&&N.parentNode===m)break;if(I===4)for(I=h.return;I!==null;){var L=I.tag;if((L===3||L===4)&&(L=I.stateNode.containerInfo,L===m||L.nodeType===8&&L.parentNode===m))return;I=I.return}for(;N!==null;){if(I=vo(N),I===null)return;if(L=I.tag,L===5||L===6){h=g=I;continue e}N=N.parentNode}}h=h.return}j_(function(){var z=g,ne=Kd(c),oe=[];e:{var re=Ow.get(a);if(re!==void 0){var he=uh,me=a;switch(a){case"keypress":if(Dl(c)===0)break e;case"keydown":case"keyup":he=ZP;break;case"focusin":me="focus",he=fh;break;case"focusout":me="blur",he=fh;break;case"beforeblur":case"afterblur":he=fh;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=rw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=qP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=rN;break;case Ew:case Sw:case Iw:he=HP;break;case Tw:he=iN;break;case"scroll":he=MP;break;case"wheel":he=aN;break;case"copy":case"cut":case"paste":he=zP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=iw}var ge=(s&4)!==0,dt=!ge&&a==="scroll",B=ge?re!==null?re+"Capture":null:re;ge=[];for(var D=z,$;D!==null;){$=D;var ue=$.stateNode;if($.tag===5&&ue!==null&&($=ue,B!==null&&(ue=As(D,B),ue!=null&&ge.push(Ks(D,ue,$)))),dt)break;D=D.return}0<ge.length&&(re=new he(re,me,null,c,ne),oe.push({event:re,listeners:ge}))}}if((s&7)===0){e:{if(re=a==="mouseover"||a==="pointerover",he=a==="mouseout"||a==="pointerout",re&&c!==Vd&&(me=c.relatedTarget||c.fromElement)&&(vo(me)||me[ni]))break e;if((he||re)&&(re=ne.window===ne?ne:(re=ne.ownerDocument)?re.defaultView||re.parentWindow:window,he?(me=c.relatedTarget||c.toElement,he=z,me=me?vo(me):null,me!==null&&(dt=po(me),me!==dt||me.tag!==5&&me.tag!==6)&&(me=null)):(he=null,me=z),he!==me)){if(ge=rw,ue="onMouseLeave",B="onMouseEnter",D="mouse",(a==="pointerout"||a==="pointerover")&&(ge=iw,ue="onPointerLeave",B="onPointerEnter",D="pointer"),dt=he==null?re:_a(he),$=me==null?re:_a(me),re=new ge(ue,D+"leave",he,c,ne),re.target=dt,re.relatedTarget=$,ue=null,vo(ne)===z&&(ge=new ge(B,D+"enter",me,c,ne),ge.target=$,ge.relatedTarget=dt,ue=ge),dt=ue,he&&me)t:{for(ge=he,B=me,D=0,$=ge;$;$=ma($))D++;for($=0,ue=B;ue;ue=ma(ue))$++;for(;0<D-$;)ge=ma(ge),D--;for(;0<$-D;)B=ma(B),$--;for(;D--;){if(ge===B||B!==null&&ge===B.alternate)break t;ge=ma(ge),B=ma(B)}ge=null}else ge=null;he!==null&&Pw(oe,re,he,ge,!1),me!==null&&dt!==null&&Pw(oe,dt,me,ge,!0)}}e:{if(re=z?_a(z):window,he=re.nodeName&&re.nodeName.toLowerCase(),he==="select"||he==="input"&&re.type==="file")var _e=hN;else if(cw(re))if(dw)_e=mN;else{_e=vN;var Ee=pN}else(he=re.nodeName)&&he.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(_e=yN);if(_e&&(_e=_e(a,z))){fw(oe,_e,c,ne);break e}Ee&&Ee(a,re,z),a==="focusout"&&(Ee=re._wrapperState)&&Ee.controlled&&re.type==="number"&&M(re,"number",re.value)}switch(Ee=z?_a(z):window,a){case"focusin":(cw(Ee)||Ee.contentEditable==="true")&&(va=Ee,mh=z,Gs=null);break;case"focusout":Gs=mh=va=null;break;case"mousedown":gh=!0;break;case"contextmenu":case"mouseup":case"dragend":gh=!1,ww(oe,c,ne);break;case"selectionchange":if(wN)break;case"keydown":case"keyup":ww(oe,c,ne)}var Se;if(hh)e:{switch(a){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else pa?uw(a,c)&&(Ce="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Ce="onCompositionStart");Ce&&(ow&&c.locale!=="ko"&&(pa||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&pa&&(Se=ew()):(Pi=ne,sh="value"in Pi?Pi.value:Pi.textContent,pa=!0)),Ee=Wl(z,Ce),0<Ee.length&&(Ce=new nw(Ce,a,null,c,ne),oe.push({event:Ce,listeners:Ee}),Se?Ce.data=Se:(Se=lw(c),Se!==null&&(Ce.data=Se)))),(Se=uN?lN(a,c):cN(a,c))&&(z=Wl(z,"onBeforeInput"),0<z.length&&(ne=new nw("onBeforeInput","beforeinput",null,c,ne),oe.push({event:ne,listeners:z}),ne.data=Se))}Aw(oe,s)})}function Ks(a,s,c){return{instance:a,listener:s,currentTarget:c}}function Wl(a,s){for(var c=s+"Capture",h=[];a!==null;){var m=a,g=m.stateNode;m.tag===5&&g!==null&&(m=g,g=As(a,c),g!=null&&h.unshift(Ks(a,g,m)),g=As(a,s),g!=null&&h.push(Ks(a,g,m))),a=a.return}return h}function ma(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function Pw(a,s,c,h,m){for(var g=s._reactName,I=[];c!==null&&c!==h;){var N=c,L=N.alternate,z=N.stateNode;if(L!==null&&L===h)break;N.tag===5&&z!==null&&(N=z,m?(L=As(c,g),L!=null&&I.unshift(Ks(c,L,N))):m||(L=As(c,g),L!=null&&I.push(Ks(c,L,N)))),c=c.return}I.length!==0&&a.push({event:s,listeners:I})}var IN=/\r\n?/g,TN=/\u0000|\uFFFD/g;function Nw(a){return(typeof a=="string"?a:""+a).replace(IN,`
`).replace(TN,"")}function Hl(a,s,c){if(s=Nw(s),Nw(a)!==s&&c)throw Error(r(425))}function Gl(){}var Ih=null,Th=null;function Oh(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var xh=typeof setTimeout=="function"?setTimeout:void 0,ON=typeof clearTimeout=="function"?clearTimeout:void 0,kw=typeof Promise=="function"?Promise:void 0,xN=typeof queueMicrotask=="function"?queueMicrotask:typeof kw<"u"?function(a){return kw.resolve(null).then(a).catch(RN)}:xh;function RN(a){setTimeout(function(){throw a})}function Rh(a,s){var c=s,h=0;do{var m=c.nextSibling;if(a.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(h===0){a.removeChild(m),Fs(s);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=m}while(c);Fs(s)}function ki(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return a}function Lw(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"){if(s===0)return a;s--}else c==="/$"&&s++}a=a.previousSibling}return null}var ga=Math.random().toString(36).slice(2),jn="__reactFiber$"+ga,Ys="__reactProps$"+ga,ni="__reactContainer$"+ga,Ah="__reactEvents$"+ga,AN="__reactListeners$"+ga,CN="__reactHandles$"+ga;function vo(a){var s=a[jn];if(s)return s;for(var c=a.parentNode;c;){if(s=c[ni]||c[jn]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(a=Lw(a);a!==null;){if(c=a[jn])return c;a=Lw(a)}return s}a=c,c=a.parentNode}return null}function Js(a){return a=a[jn]||a[ni],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function _a(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(r(33))}function zl(a){return a[Ys]||null}var Ch=[],wa=-1;function Li(a){return{current:a}}function tt(a){0>wa||(a.current=Ch[wa],Ch[wa]=null,wa--)}function Ze(a,s){wa++,Ch[wa]=a.current,a.current=s}var ji={},Dt=Li(ji),rr=Li(!1),yo=ji;function ba(a,s){var c=a.type.contextTypes;if(!c)return ji;var h=a.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var m={},g;for(g in c)m[g]=s[g];return h&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=s,a.__reactInternalMemoizedMaskedChildContext=m),m}function nr(a){return a=a.childContextTypes,a!=null}function Vl(){tt(rr),tt(Dt)}function jw(a,s,c){if(Dt.current!==ji)throw Error(r(168));Ze(Dt,s),Ze(rr,c)}function Dw(a,s,c){var h=a.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var m in h)if(!(m in s))throw Error(r(108,je(a)||"Unknown",m));return X({},c,h)}function Kl(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||ji,yo=Dt.current,Ze(Dt,a),Ze(rr,rr.current),!0}function Uw(a,s,c){var h=a.stateNode;if(!h)throw Error(r(169));c?(a=Dw(a,s,yo),h.__reactInternalMemoizedMergedChildContext=a,tt(rr),tt(Dt),Ze(Dt,a)):tt(rr),Ze(rr,c)}var ii=null,Yl=!1,Ph=!1;function Fw(a){ii===null?ii=[a]:ii.push(a)}function PN(a){Yl=!0,Fw(a)}function Di(){if(!Ph&&ii!==null){Ph=!0;var a=0,s=Ke;try{var c=ii;for(Ke=1;a<c.length;a++){var h=c[a];do h=h(!0);while(h!==null)}ii=null,Yl=!1}catch(m){throw ii!==null&&(ii=ii.slice(a+1)),B_(Zd,Di),m}finally{Ke=s,Ph=!1}}return null}var Ea=[],Sa=0,Jl=null,Ql=0,Dr=[],Ur=0,mo=null,oi=1,ai="";function go(a,s){Ea[Sa++]=Ql,Ea[Sa++]=Jl,Jl=a,Ql=s}function Mw(a,s,c){Dr[Ur++]=oi,Dr[Ur++]=ai,Dr[Ur++]=mo,mo=a;var h=oi;a=ai;var m=32-fn(h)-1;h&=~(1<<m),c+=1;var g=32-fn(s)+m;if(30<g){var I=m-m%5;g=(h&(1<<I)-1).toString(32),h>>=I,m-=I,oi=1<<32-fn(s)+m|c<<m|h,ai=g+a}else oi=1<<g|c<<m|h,ai=a}function Nh(a){a.return!==null&&(go(a,1),Mw(a,1,0))}function kh(a){for(;a===Jl;)Jl=Ea[--Sa],Ea[Sa]=null,Ql=Ea[--Sa],Ea[Sa]=null;for(;a===mo;)mo=Dr[--Ur],Dr[Ur]=null,ai=Dr[--Ur],Dr[Ur]=null,oi=Dr[--Ur],Dr[Ur]=null}var Ir=null,Tr=null,ot=!1,hn=null;function Bw(a,s){var c=qr(5,null,null,0);c.elementType="DELETED",c.stateNode=s,c.return=a,s=a.deletions,s===null?(a.deletions=[c],a.flags|=16):s.push(c)}function qw(a,s){switch(a.tag){case 5:var c=a.type;return s=s.nodeType!==1||c.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(a.stateNode=s,Ir=a,Tr=ki(s.firstChild),!0):!1;case 6:return s=a.pendingProps===""||s.nodeType!==3?null:s,s!==null?(a.stateNode=s,Ir=a,Tr=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(c=mo!==null?{id:oi,overflow:ai}:null,a.memoizedState={dehydrated:s,treeContext:c,retryLane:1073741824},c=qr(18,null,null,0),c.stateNode=s,c.return=a,a.child=c,Ir=a,Tr=null,!0):!1;default:return!1}}function Lh(a){return(a.mode&1)!==0&&(a.flags&128)===0}function jh(a){if(ot){var s=Tr;if(s){var c=s;if(!qw(a,s)){if(Lh(a))throw Error(r(418));s=ki(c.nextSibling);var h=Ir;s&&qw(a,s)?Bw(h,c):(a.flags=a.flags&-4097|2,ot=!1,Ir=a)}}else{if(Lh(a))throw Error(r(418));a.flags=a.flags&-4097|2,ot=!1,Ir=a}}}function $w(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Ir=a}function Xl(a){if(a!==Ir)return!1;if(!ot)return $w(a),ot=!0,!1;var s;if((s=a.tag!==3)&&!(s=a.tag!==5)&&(s=a.type,s=s!=="head"&&s!=="body"&&!Oh(a.type,a.memoizedProps)),s&&(s=Tr)){if(Lh(a))throw Ww(),Error(r(418));for(;s;)Bw(a,s),s=ki(s.nextSibling)}if($w(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"){if(s===0){Tr=ki(a.nextSibling);break e}s--}else c!=="$"&&c!=="$!"&&c!=="$?"||s++}a=a.nextSibling}Tr=null}}else Tr=Ir?ki(a.stateNode.nextSibling):null;return!0}function Ww(){for(var a=Tr;a;)a=ki(a.nextSibling)}function Ia(){Tr=Ir=null,ot=!1}function Dh(a){hn===null?hn=[a]:hn.push(a)}var NN=C.ReactCurrentBatchConfig;function Qs(a,s,c){if(a=c.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(r(309));var h=c.stateNode}if(!h)throw Error(r(147,a));var m=h,g=""+a;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(I){var N=m.refs;I===null?delete N[g]:N[g]=I},s._stringRef=g,s)}if(typeof a!="string")throw Error(r(284));if(!c._owner)throw Error(r(290,a))}return a}function Zl(a,s){throw a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a))}function Hw(a){var s=a._init;return s(a._payload)}function Gw(a){function s(B,D){if(a){var $=B.deletions;$===null?(B.deletions=[D],B.flags|=16):$.push(D)}}function c(B,D){if(!a)return null;for(;D!==null;)s(B,D),D=D.sibling;return null}function h(B,D){for(B=new Map;D!==null;)D.key!==null?B.set(D.key,D):B.set(D.index,D),D=D.sibling;return B}function m(B,D){return B=Hi(B,D),B.index=0,B.sibling=null,B}function g(B,D,$){return B.index=$,a?($=B.alternate,$!==null?($=$.index,$<D?(B.flags|=2,D):$):(B.flags|=2,D)):(B.flags|=1048576,D)}function I(B){return a&&B.alternate===null&&(B.flags|=2),B}function N(B,D,$,ue){return D===null||D.tag!==6?(D=xp($,B.mode,ue),D.return=B,D):(D=m(D,$),D.return=B,D)}function L(B,D,$,ue){var _e=$.type;return _e===Y?ne(B,D,$.props.children,ue,$.key):D!==null&&(D.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===fe&&Hw(_e)===D.type)?(ue=m(D,$.props),ue.ref=Qs(B,D,$),ue.return=B,ue):(ue=Sc($.type,$.key,$.props,null,B.mode,ue),ue.ref=Qs(B,D,$),ue.return=B,ue)}function z(B,D,$,ue){return D===null||D.tag!==4||D.stateNode.containerInfo!==$.containerInfo||D.stateNode.implementation!==$.implementation?(D=Rp($,B.mode,ue),D.return=B,D):(D=m(D,$.children||[]),D.return=B,D)}function ne(B,D,$,ue,_e){return D===null||D.tag!==7?(D=Oo($,B.mode,ue,_e),D.return=B,D):(D=m(D,$),D.return=B,D)}function oe(B,D,$){if(typeof D=="string"&&D!==""||typeof D=="number")return D=xp(""+D,B.mode,$),D.return=B,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case U:return $=Sc(D.type,D.key,D.props,null,B.mode,$),$.ref=Qs(B,null,D),$.return=B,$;case q:return D=Rp(D,B.mode,$),D.return=B,D;case fe:var ue=D._init;return oe(B,ue(D._payload),$)}if(te(D)||ee(D))return D=Oo(D,B.mode,$,null),D.return=B,D;Zl(B,D)}return null}function re(B,D,$,ue){var _e=D!==null?D.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return _e!==null?null:N(B,D,""+$,ue);if(typeof $=="object"&&$!==null){switch($.$$typeof){case U:return $.key===_e?L(B,D,$,ue):null;case q:return $.key===_e?z(B,D,$,ue):null;case fe:return _e=$._init,re(B,D,_e($._payload),ue)}if(te($)||ee($))return _e!==null?null:ne(B,D,$,ue,null);Zl(B,$)}return null}function he(B,D,$,ue,_e){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return B=B.get($)||null,N(D,B,""+ue,_e);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case U:return B=B.get(ue.key===null?$:ue.key)||null,L(D,B,ue,_e);case q:return B=B.get(ue.key===null?$:ue.key)||null,z(D,B,ue,_e);case fe:var Ee=ue._init;return he(B,D,$,Ee(ue._payload),_e)}if(te(ue)||ee(ue))return B=B.get($)||null,ne(D,B,ue,_e,null);Zl(D,ue)}return null}function me(B,D,$,ue){for(var _e=null,Ee=null,Se=D,Ce=D=0,xt=null;Se!==null&&Ce<$.length;Ce++){Se.index>Ce?(xt=Se,Se=null):xt=Se.sibling;var Ge=re(B,Se,$[Ce],ue);if(Ge===null){Se===null&&(Se=xt);break}a&&Se&&Ge.alternate===null&&s(B,Se),D=g(Ge,D,Ce),Ee===null?_e=Ge:Ee.sibling=Ge,Ee=Ge,Se=xt}if(Ce===$.length)return c(B,Se),ot&&go(B,Ce),_e;if(Se===null){for(;Ce<$.length;Ce++)Se=oe(B,$[Ce],ue),Se!==null&&(D=g(Se,D,Ce),Ee===null?_e=Se:Ee.sibling=Se,Ee=Se);return ot&&go(B,Ce),_e}for(Se=h(B,Se);Ce<$.length;Ce++)xt=he(Se,B,Ce,$[Ce],ue),xt!==null&&(a&&xt.alternate!==null&&Se.delete(xt.key===null?Ce:xt.key),D=g(xt,D,Ce),Ee===null?_e=xt:Ee.sibling=xt,Ee=xt);return a&&Se.forEach(function(Gi){return s(B,Gi)}),ot&&go(B,Ce),_e}function ge(B,D,$,ue){var _e=ee($);if(typeof _e!="function")throw Error(r(150));if($=_e.call($),$==null)throw Error(r(151));for(var Ee=_e=null,Se=D,Ce=D=0,xt=null,Ge=$.next();Se!==null&&!Ge.done;Ce++,Ge=$.next()){Se.index>Ce?(xt=Se,Se=null):xt=Se.sibling;var Gi=re(B,Se,Ge.value,ue);if(Gi===null){Se===null&&(Se=xt);break}a&&Se&&Gi.alternate===null&&s(B,Se),D=g(Gi,D,Ce),Ee===null?_e=Gi:Ee.sibling=Gi,Ee=Gi,Se=xt}if(Ge.done)return c(B,Se),ot&&go(B,Ce),_e;if(Se===null){for(;!Ge.done;Ce++,Ge=$.next())Ge=oe(B,Ge.value,ue),Ge!==null&&(D=g(Ge,D,Ce),Ee===null?_e=Ge:Ee.sibling=Ge,Ee=Ge);return ot&&go(B,Ce),_e}for(Se=h(B,Se);!Ge.done;Ce++,Ge=$.next())Ge=he(Se,B,Ce,Ge.value,ue),Ge!==null&&(a&&Ge.alternate!==null&&Se.delete(Ge.key===null?Ce:Ge.key),D=g(Ge,D,Ce),Ee===null?_e=Ge:Ee.sibling=Ge,Ee=Ge);return a&&Se.forEach(function(f3){return s(B,f3)}),ot&&go(B,Ce),_e}function dt(B,D,$,ue){if(typeof $=="object"&&$!==null&&$.type===Y&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case U:e:{for(var _e=$.key,Ee=D;Ee!==null;){if(Ee.key===_e){if(_e=$.type,_e===Y){if(Ee.tag===7){c(B,Ee.sibling),D=m(Ee,$.props.children),D.return=B,B=D;break e}}else if(Ee.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===fe&&Hw(_e)===Ee.type){c(B,Ee.sibling),D=m(Ee,$.props),D.ref=Qs(B,Ee,$),D.return=B,B=D;break e}c(B,Ee);break}else s(B,Ee);Ee=Ee.sibling}$.type===Y?(D=Oo($.props.children,B.mode,ue,$.key),D.return=B,B=D):(ue=Sc($.type,$.key,$.props,null,B.mode,ue),ue.ref=Qs(B,D,$),ue.return=B,B=ue)}return I(B);case q:e:{for(Ee=$.key;D!==null;){if(D.key===Ee)if(D.tag===4&&D.stateNode.containerInfo===$.containerInfo&&D.stateNode.implementation===$.implementation){c(B,D.sibling),D=m(D,$.children||[]),D.return=B,B=D;break e}else{c(B,D);break}else s(B,D);D=D.sibling}D=Rp($,B.mode,ue),D.return=B,B=D}return I(B);case fe:return Ee=$._init,dt(B,D,Ee($._payload),ue)}if(te($))return me(B,D,$,ue);if(ee($))return ge(B,D,$,ue);Zl(B,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,D!==null&&D.tag===6?(c(B,D.sibling),D=m(D,$),D.return=B,B=D):(c(B,D),D=xp($,B.mode,ue),D.return=B,B=D),I(B)):c(B,D)}return dt}var Ta=Gw(!0),zw=Gw(!1),ec=Li(null),tc=null,Oa=null,Uh=null;function Fh(){Uh=Oa=tc=null}function Mh(a){var s=ec.current;tt(ec),a._currentValue=s}function Bh(a,s,c){for(;a!==null;){var h=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),a===c)break;a=a.return}}function xa(a,s){tc=a,Uh=Oa=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&s)!==0&&(ir=!0),a.firstContext=null)}function Fr(a){var s=a._currentValue;if(Uh!==a)if(a={context:a,memoizedValue:s,next:null},Oa===null){if(tc===null)throw Error(r(308));Oa=a,tc.dependencies={lanes:0,firstContext:a}}else Oa=Oa.next=a;return s}var _o=null;function qh(a){_o===null?_o=[a]:_o.push(a)}function Vw(a,s,c,h){var m=s.interleaved;return m===null?(c.next=c,qh(s)):(c.next=m.next,m.next=c),s.interleaved=c,si(a,h)}function si(a,s){a.lanes|=s;var c=a.alternate;for(c!==null&&(c.lanes|=s),c=a,a=a.return;a!==null;)a.childLanes|=s,c=a.alternate,c!==null&&(c.childLanes|=s),c=a,a=a.return;return c.tag===3?c.stateNode:null}var Ui=!1;function $h(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kw(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function ui(a,s){return{eventTime:a,lane:s,tag:0,payload:null,callback:null,next:null}}function Fi(a,s,c){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(We&2)!==0){var m=h.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),h.pending=s,si(a,c)}return m=h.interleaved,m===null?(s.next=s,qh(h)):(s.next=m.next,m.next=s),h.interleaved=s,si(a,c)}function rc(a,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194240)!==0)){var h=s.lanes;h&=a.pendingLanes,c|=h,s.lanes=c,rh(a,c)}}function Yw(a,s){var c=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var m=null,g=null;if(c=c.firstBaseUpdate,c!==null){do{var I={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};g===null?m=g=I:g=g.next=I,c=c.next}while(c!==null);g===null?m=g=s:g=g.next=s}else m=g=s;c={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:h.shared,effects:h.effects},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=s:a.next=s,c.lastBaseUpdate=s}function nc(a,s,c,h){var m=a.updateQueue;Ui=!1;var g=m.firstBaseUpdate,I=m.lastBaseUpdate,N=m.shared.pending;if(N!==null){m.shared.pending=null;var L=N,z=L.next;L.next=null,I===null?g=z:I.next=z,I=L;var ne=a.alternate;ne!==null&&(ne=ne.updateQueue,N=ne.lastBaseUpdate,N!==I&&(N===null?ne.firstBaseUpdate=z:N.next=z,ne.lastBaseUpdate=L))}if(g!==null){var oe=m.baseState;I=0,ne=z=L=null,N=g;do{var re=N.lane,he=N.eventTime;if((h&re)===re){ne!==null&&(ne=ne.next={eventTime:he,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var me=a,ge=N;switch(re=s,he=c,ge.tag){case 1:if(me=ge.payload,typeof me=="function"){oe=me.call(he,oe,re);break e}oe=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ge.payload,re=typeof me=="function"?me.call(he,oe,re):me,re==null)break e;oe=X({},oe,re);break e;case 2:Ui=!0}}N.callback!==null&&N.lane!==0&&(a.flags|=64,re=m.effects,re===null?m.effects=[N]:re.push(N))}else he={eventTime:he,lane:re,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ne===null?(z=ne=he,L=oe):ne=ne.next=he,I|=re;if(N=N.next,N===null){if(N=m.shared.pending,N===null)break;re=N,N=re.next,re.next=null,m.lastBaseUpdate=re,m.shared.pending=null}}while(!0);if(ne===null&&(L=oe),m.baseState=L,m.firstBaseUpdate=z,m.lastBaseUpdate=ne,s=m.shared.interleaved,s!==null){m=s;do I|=m.lane,m=m.next;while(m!==s)}else g===null&&(m.shared.lanes=0);Eo|=I,a.lanes=I,a.memoizedState=oe}}function Jw(a,s,c){if(a=s.effects,s.effects=null,a!==null)for(s=0;s<a.length;s++){var h=a[s],m=h.callback;if(m!==null){if(h.callback=null,h=c,typeof m!="function")throw Error(r(191,m));m.call(h)}}}var Xs={},Dn=Li(Xs),Zs=Li(Xs),eu=Li(Xs);function wo(a){if(a===Xs)throw Error(r(174));return a}function Wh(a,s){switch(Ze(eu,s),Ze(Zs,a),Ze(Dn,Xs),a=s.nodeType,a){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:ln(null,"");break;default:a=a===8?s.parentNode:s,s=a.namespaceURI||null,a=a.tagName,s=ln(s,a)}tt(Dn),Ze(Dn,s)}function Ra(){tt(Dn),tt(Zs),tt(eu)}function Qw(a){wo(eu.current);var s=wo(Dn.current),c=ln(s,a.type);s!==c&&(Ze(Zs,a),Ze(Dn,c))}function Hh(a){Zs.current===a&&(tt(Dn),tt(Zs))}var st=Li(0);function ic(a){for(var s=a;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Gh=[];function zh(){for(var a=0;a<Gh.length;a++)Gh[a]._workInProgressVersionPrimary=null;Gh.length=0}var oc=C.ReactCurrentDispatcher,Vh=C.ReactCurrentBatchConfig,bo=0,ut=null,wt=null,Tt=null,ac=!1,tu=!1,ru=0,kN=0;function Ut(){throw Error(r(321))}function Kh(a,s){if(s===null)return!1;for(var c=0;c<s.length&&c<a.length;c++)if(!dn(a[c],s[c]))return!1;return!0}function Yh(a,s,c,h,m,g){if(bo=g,ut=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,oc.current=a===null||a.memoizedState===null?UN:FN,a=c(h,m),tu){g=0;do{if(tu=!1,ru=0,25<=g)throw Error(r(301));g+=1,Tt=wt=null,s.updateQueue=null,oc.current=MN,a=c(h,m)}while(tu)}if(oc.current=lc,s=wt!==null&&wt.next!==null,bo=0,Tt=wt=ut=null,ac=!1,s)throw Error(r(300));return a}function Jh(){var a=ru!==0;return ru=0,a}function Un(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?ut.memoizedState=Tt=a:Tt=Tt.next=a,Tt}function Mr(){if(wt===null){var a=ut.alternate;a=a!==null?a.memoizedState:null}else a=wt.next;var s=Tt===null?ut.memoizedState:Tt.next;if(s!==null)Tt=s,wt=a;else{if(a===null)throw Error(r(310));wt=a,a={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Tt===null?ut.memoizedState=Tt=a:Tt=Tt.next=a}return Tt}function nu(a,s){return typeof s=="function"?s(a):s}function Qh(a){var s=Mr(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var h=wt,m=h.baseQueue,g=c.pending;if(g!==null){if(m!==null){var I=m.next;m.next=g.next,g.next=I}h.baseQueue=m=g,c.pending=null}if(m!==null){g=m.next,h=h.baseState;var N=I=null,L=null,z=g;do{var ne=z.lane;if((bo&ne)===ne)L!==null&&(L=L.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),h=z.hasEagerState?z.eagerState:a(h,z.action);else{var oe={lane:ne,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};L===null?(N=L=oe,I=h):L=L.next=oe,ut.lanes|=ne,Eo|=ne}z=z.next}while(z!==null&&z!==g);L===null?I=h:L.next=N,dn(h,s.memoizedState)||(ir=!0),s.memoizedState=h,s.baseState=I,s.baseQueue=L,c.lastRenderedState=h}if(a=c.interleaved,a!==null){m=a;do g=m.lane,ut.lanes|=g,Eo|=g,m=m.next;while(m!==a)}else m===null&&(c.lanes=0);return[s.memoizedState,c.dispatch]}function Xh(a){var s=Mr(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var h=c.dispatch,m=c.pending,g=s.memoizedState;if(m!==null){c.pending=null;var I=m=m.next;do g=a(g,I.action),I=I.next;while(I!==m);dn(g,s.memoizedState)||(ir=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),c.lastRenderedState=g}return[g,h]}function Xw(){}function Zw(a,s){var c=ut,h=Mr(),m=s(),g=!dn(h.memoizedState,m);if(g&&(h.memoizedState=m,ir=!0),h=h.queue,Zh(rb.bind(null,c,h,a),[a]),h.getSnapshot!==s||g||Tt!==null&&Tt.memoizedState.tag&1){if(c.flags|=2048,iu(9,tb.bind(null,c,h,m,s),void 0,null),Ot===null)throw Error(r(349));(bo&30)!==0||eb(c,s,m)}return m}function eb(a,s,c){a.flags|=16384,a={getSnapshot:s,value:c},s=ut.updateQueue,s===null?(s={lastEffect:null,stores:null},ut.updateQueue=s,s.stores=[a]):(c=s.stores,c===null?s.stores=[a]:c.push(a))}function tb(a,s,c,h){s.value=c,s.getSnapshot=h,nb(s)&&ib(a)}function rb(a,s,c){return c(function(){nb(s)&&ib(a)})}function nb(a){var s=a.getSnapshot;a=a.value;try{var c=s();return!dn(a,c)}catch{return!0}}function ib(a){var s=si(a,1);s!==null&&mn(s,a,1,-1)}function ob(a){var s=Un();return typeof a=="function"&&(a=a()),s.memoizedState=s.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nu,lastRenderedState:a},s.queue=a,a=a.dispatch=DN.bind(null,ut,a),[s.memoizedState,a]}function iu(a,s,c,h){return a={tag:a,create:s,destroy:c,deps:h,next:null},s=ut.updateQueue,s===null?(s={lastEffect:null,stores:null},ut.updateQueue=s,s.lastEffect=a.next=a):(c=s.lastEffect,c===null?s.lastEffect=a.next=a:(h=c.next,c.next=a,a.next=h,s.lastEffect=a)),a}function ab(){return Mr().memoizedState}function sc(a,s,c,h){var m=Un();ut.flags|=a,m.memoizedState=iu(1|s,c,void 0,h===void 0?null:h)}function uc(a,s,c,h){var m=Mr();h=h===void 0?null:h;var g=void 0;if(wt!==null){var I=wt.memoizedState;if(g=I.destroy,h!==null&&Kh(h,I.deps)){m.memoizedState=iu(s,c,g,h);return}}ut.flags|=a,m.memoizedState=iu(1|s,c,g,h)}function sb(a,s){return sc(8390656,8,a,s)}function Zh(a,s){return uc(2048,8,a,s)}function ub(a,s){return uc(4,2,a,s)}function lb(a,s){return uc(4,4,a,s)}function cb(a,s){if(typeof s=="function")return a=a(),s(a),function(){s(null)};if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function fb(a,s,c){return c=c!=null?c.concat([a]):null,uc(4,4,cb.bind(null,s,a),c)}function ep(){}function db(a,s){var c=Mr();s=s===void 0?null:s;var h=c.memoizedState;return h!==null&&s!==null&&Kh(s,h[1])?h[0]:(c.memoizedState=[a,s],a)}function hb(a,s){var c=Mr();s=s===void 0?null:s;var h=c.memoizedState;return h!==null&&s!==null&&Kh(s,h[1])?h[0]:(a=a(),c.memoizedState=[a,s],a)}function pb(a,s,c){return(bo&21)===0?(a.baseState&&(a.baseState=!1,ir=!0),a.memoizedState=c):(dn(c,s)||(c=H_(),ut.lanes|=c,Eo|=c,a.baseState=!0),s)}function LN(a,s){var c=Ke;Ke=c!==0&&4>c?c:4,a(!0);var h=Vh.transition;Vh.transition={};try{a(!1),s()}finally{Ke=c,Vh.transition=h}}function vb(){return Mr().memoizedState}function jN(a,s,c){var h=$i(a);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},yb(a))mb(s,c);else if(c=Vw(a,s,c,h),c!==null){var m=zt();mn(c,a,h,m),gb(c,s,h)}}function DN(a,s,c){var h=$i(a),m={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(yb(a))mb(s,m);else{var g=a.alternate;if(a.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var I=s.lastRenderedState,N=g(I,c);if(m.hasEagerState=!0,m.eagerState=N,dn(N,I)){var L=s.interleaved;L===null?(m.next=m,qh(s)):(m.next=L.next,L.next=m),s.interleaved=m;return}}catch{}finally{}c=Vw(a,s,m,h),c!==null&&(m=zt(),mn(c,a,h,m),gb(c,s,h))}}function yb(a){var s=a.alternate;return a===ut||s!==null&&s===ut}function mb(a,s){tu=ac=!0;var c=a.pending;c===null?s.next=s:(s.next=c.next,c.next=s),a.pending=s}function gb(a,s,c){if((c&4194240)!==0){var h=s.lanes;h&=a.pendingLanes,c|=h,s.lanes=c,rh(a,c)}}var lc={readContext:Fr,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},UN={readContext:Fr,useCallback:function(a,s){return Un().memoizedState=[a,s===void 0?null:s],a},useContext:Fr,useEffect:sb,useImperativeHandle:function(a,s,c){return c=c!=null?c.concat([a]):null,sc(4194308,4,cb.bind(null,s,a),c)},useLayoutEffect:function(a,s){return sc(4194308,4,a,s)},useInsertionEffect:function(a,s){return sc(4,2,a,s)},useMemo:function(a,s){var c=Un();return s=s===void 0?null:s,a=a(),c.memoizedState=[a,s],a},useReducer:function(a,s,c){var h=Un();return s=c!==void 0?c(s):s,h.memoizedState=h.baseState=s,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:s},h.queue=a,a=a.dispatch=jN.bind(null,ut,a),[h.memoizedState,a]},useRef:function(a){var s=Un();return a={current:a},s.memoizedState=a},useState:ob,useDebugValue:ep,useDeferredValue:function(a){return Un().memoizedState=a},useTransition:function(){var a=ob(!1),s=a[0];return a=LN.bind(null,a[1]),Un().memoizedState=a,[s,a]},useMutableSource:function(){},useSyncExternalStore:function(a,s,c){var h=ut,m=Un();if(ot){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),Ot===null)throw Error(r(349));(bo&30)!==0||eb(h,s,c)}m.memoizedState=c;var g={value:c,getSnapshot:s};return m.queue=g,sb(rb.bind(null,h,g,a),[a]),h.flags|=2048,iu(9,tb.bind(null,h,g,c,s),void 0,null),c},useId:function(){var a=Un(),s=Ot.identifierPrefix;if(ot){var c=ai,h=oi;c=(h&~(1<<32-fn(h)-1)).toString(32)+c,s=":"+s+"R"+c,c=ru++,0<c&&(s+="H"+c.toString(32)),s+=":"}else c=kN++,s=":"+s+"r"+c.toString(32)+":";return a.memoizedState=s},unstable_isNewReconciler:!1},FN={readContext:Fr,useCallback:db,useContext:Fr,useEffect:Zh,useImperativeHandle:fb,useInsertionEffect:ub,useLayoutEffect:lb,useMemo:hb,useReducer:Qh,useRef:ab,useState:function(){return Qh(nu)},useDebugValue:ep,useDeferredValue:function(a){var s=Mr();return pb(s,wt.memoizedState,a)},useTransition:function(){var a=Qh(nu)[0],s=Mr().memoizedState;return[a,s]},useMutableSource:Xw,useSyncExternalStore:Zw,useId:vb,unstable_isNewReconciler:!1},MN={readContext:Fr,useCallback:db,useContext:Fr,useEffect:Zh,useImperativeHandle:fb,useInsertionEffect:ub,useLayoutEffect:lb,useMemo:hb,useReducer:Xh,useRef:ab,useState:function(){return Xh(nu)},useDebugValue:ep,useDeferredValue:function(a){var s=Mr();return wt===null?s.memoizedState=a:pb(s,wt.memoizedState,a)},useTransition:function(){var a=Xh(nu)[0],s=Mr().memoizedState;return[a,s]},useMutableSource:Xw,useSyncExternalStore:Zw,useId:vb,unstable_isNewReconciler:!1};function pn(a,s){if(a&&a.defaultProps){s=X({},s),a=a.defaultProps;for(var c in a)s[c]===void 0&&(s[c]=a[c]);return s}return s}function tp(a,s,c,h){s=a.memoizedState,c=c(h,s),c=c==null?s:X({},s,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var cc={isMounted:function(a){return(a=a._reactInternals)?po(a)===a:!1},enqueueSetState:function(a,s,c){a=a._reactInternals;var h=zt(),m=$i(a),g=ui(h,m);g.payload=s,c!=null&&(g.callback=c),s=Fi(a,g,m),s!==null&&(mn(s,a,m,h),rc(s,a,m))},enqueueReplaceState:function(a,s,c){a=a._reactInternals;var h=zt(),m=$i(a),g=ui(h,m);g.tag=1,g.payload=s,c!=null&&(g.callback=c),s=Fi(a,g,m),s!==null&&(mn(s,a,m,h),rc(s,a,m))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var c=zt(),h=$i(a),m=ui(c,h);m.tag=2,s!=null&&(m.callback=s),s=Fi(a,m,h),s!==null&&(mn(s,a,h,c),rc(s,a,h))}};function _b(a,s,c,h,m,g,I){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,g,I):s.prototype&&s.prototype.isPureReactComponent?!Hs(c,h)||!Hs(m,g):!0}function wb(a,s,c){var h=!1,m=ji,g=s.contextType;return typeof g=="object"&&g!==null?g=Fr(g):(m=nr(s)?yo:Dt.current,h=s.contextTypes,g=(h=h!=null)?ba(a,m):ji),s=new s(c,g),a.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=cc,a.stateNode=s,s._reactInternals=a,h&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=m,a.__reactInternalMemoizedMaskedChildContext=g),s}function bb(a,s,c,h){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,h),s.state!==a&&cc.enqueueReplaceState(s,s.state,null)}function rp(a,s,c,h){var m=a.stateNode;m.props=c,m.state=a.memoizedState,m.refs={},$h(a);var g=s.contextType;typeof g=="object"&&g!==null?m.context=Fr(g):(g=nr(s)?yo:Dt.current,m.context=ba(a,g)),m.state=a.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(tp(a,s,g,c),m.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(s=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),s!==m.state&&cc.enqueueReplaceState(m,m.state,null),nc(a,c,m,h),m.state=a.memoizedState),typeof m.componentDidMount=="function"&&(a.flags|=4194308)}function Aa(a,s){try{var c="",h=s;do c+=Re(h),h=h.return;while(h);var m=c}catch(g){m=`
Error generating stack: `+g.message+`
`+g.stack}return{value:a,source:s,stack:m,digest:null}}function np(a,s,c){return{value:a,source:null,stack:c??null,digest:s??null}}function ip(a,s){try{console.error(s.value)}catch(c){setTimeout(function(){throw c})}}var BN=typeof WeakMap=="function"?WeakMap:Map;function Eb(a,s,c){c=ui(-1,c),c.tag=3,c.payload={element:null};var h=s.value;return c.callback=function(){mc||(mc=!0,_p=h),ip(a,s)},c}function Sb(a,s,c){c=ui(-1,c),c.tag=3;var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=s.value;c.payload=function(){return h(m)},c.callback=function(){ip(a,s)}}var g=a.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(c.callback=function(){ip(a,s),typeof h!="function"&&(Bi===null?Bi=new Set([this]):Bi.add(this));var I=s.stack;this.componentDidCatch(s.value,{componentStack:I!==null?I:""})}),c}function Ib(a,s,c){var h=a.pingCache;if(h===null){h=a.pingCache=new BN;var m=new Set;h.set(s,m)}else m=h.get(s),m===void 0&&(m=new Set,h.set(s,m));m.has(c)||(m.add(c),a=e3.bind(null,a,s,c),s.then(a,a))}function Tb(a){do{var s;if((s=a.tag===13)&&(s=a.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return a;a=a.return}while(a!==null);return null}function Ob(a,s,c,h,m){return(a.mode&1)===0?(a===s?a.flags|=65536:(a.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(s=ui(-1,1),s.tag=2,Fi(c,s,1))),c.lanes|=1),a):(a.flags|=65536,a.lanes=m,a)}var qN=C.ReactCurrentOwner,ir=!1;function Gt(a,s,c,h){s.child=a===null?zw(s,null,c,h):Ta(s,a.child,c,h)}function xb(a,s,c,h,m){c=c.render;var g=s.ref;return xa(s,m),h=Yh(a,s,c,h,g,m),c=Jh(),a!==null&&!ir?(s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~m,li(a,s,m)):(ot&&c&&Nh(s),s.flags|=1,Gt(a,s,h,m),s.child)}function Rb(a,s,c,h,m){if(a===null){var g=c.type;return typeof g=="function"&&!Op(g)&&g.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(s.tag=15,s.type=g,Ab(a,s,g,h,m)):(a=Sc(c.type,null,h,s,s.mode,m),a.ref=s.ref,a.return=s,s.child=a)}if(g=a.child,(a.lanes&m)===0){var I=g.memoizedProps;if(c=c.compare,c=c!==null?c:Hs,c(I,h)&&a.ref===s.ref)return li(a,s,m)}return s.flags|=1,a=Hi(g,h),a.ref=s.ref,a.return=s,s.child=a}function Ab(a,s,c,h,m){if(a!==null){var g=a.memoizedProps;if(Hs(g,h)&&a.ref===s.ref)if(ir=!1,s.pendingProps=h=g,(a.lanes&m)!==0)(a.flags&131072)!==0&&(ir=!0);else return s.lanes=a.lanes,li(a,s,m)}return op(a,s,c,h,m)}function Cb(a,s,c){var h=s.pendingProps,m=h.children,g=a!==null?a.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Pa,Or),Or|=c;else{if((c&1073741824)===0)return a=g!==null?g.baseLanes|c:c,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:a,cachePool:null,transitions:null},s.updateQueue=null,Ze(Pa,Or),Or|=a,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:c,Ze(Pa,Or),Or|=h}else g!==null?(h=g.baseLanes|c,s.memoizedState=null):h=c,Ze(Pa,Or),Or|=h;return Gt(a,s,m,c),s.child}function Pb(a,s){var c=s.ref;(a===null&&c!==null||a!==null&&a.ref!==c)&&(s.flags|=512,s.flags|=2097152)}function op(a,s,c,h,m){var g=nr(c)?yo:Dt.current;return g=ba(s,g),xa(s,m),c=Yh(a,s,c,h,g,m),h=Jh(),a!==null&&!ir?(s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~m,li(a,s,m)):(ot&&h&&Nh(s),s.flags|=1,Gt(a,s,c,m),s.child)}function Nb(a,s,c,h,m){if(nr(c)){var g=!0;Kl(s)}else g=!1;if(xa(s,m),s.stateNode===null)dc(a,s),wb(s,c,h),rp(s,c,h,m),h=!0;else if(a===null){var I=s.stateNode,N=s.memoizedProps;I.props=N;var L=I.context,z=c.contextType;typeof z=="object"&&z!==null?z=Fr(z):(z=nr(c)?yo:Dt.current,z=ba(s,z));var ne=c.getDerivedStateFromProps,oe=typeof ne=="function"||typeof I.getSnapshotBeforeUpdate=="function";oe||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(N!==h||L!==z)&&bb(s,I,h,z),Ui=!1;var re=s.memoizedState;I.state=re,nc(s,h,I,m),L=s.memoizedState,N!==h||re!==L||rr.current||Ui?(typeof ne=="function"&&(tp(s,c,ne,h),L=s.memoizedState),(N=Ui||_b(s,c,N,h,re,L,z))?(oe||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(s.flags|=4194308)):(typeof I.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=L),I.props=h,I.state=L,I.context=z,h=N):(typeof I.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{I=s.stateNode,Kw(a,s),N=s.memoizedProps,z=s.type===s.elementType?N:pn(s.type,N),I.props=z,oe=s.pendingProps,re=I.context,L=c.contextType,typeof L=="object"&&L!==null?L=Fr(L):(L=nr(c)?yo:Dt.current,L=ba(s,L));var he=c.getDerivedStateFromProps;(ne=typeof he=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(N!==oe||re!==L)&&bb(s,I,h,L),Ui=!1,re=s.memoizedState,I.state=re,nc(s,h,I,m);var me=s.memoizedState;N!==oe||re!==me||rr.current||Ui?(typeof he=="function"&&(tp(s,c,he,h),me=s.memoizedState),(z=Ui||_b(s,c,z,h,re,me,L)||!1)?(ne||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(h,me,L),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(h,me,L)),typeof I.componentDidUpdate=="function"&&(s.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof I.componentDidUpdate!="function"||N===a.memoizedProps&&re===a.memoizedState||(s.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&re===a.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=me),I.props=h,I.state=me,I.context=L,h=z):(typeof I.componentDidUpdate!="function"||N===a.memoizedProps&&re===a.memoizedState||(s.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&re===a.memoizedState||(s.flags|=1024),h=!1)}return ap(a,s,c,h,g,m)}function ap(a,s,c,h,m,g){Pb(a,s);var I=(s.flags&128)!==0;if(!h&&!I)return m&&Uw(s,c,!1),li(a,s,g);h=s.stateNode,qN.current=s;var N=I&&typeof c.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,a!==null&&I?(s.child=Ta(s,a.child,null,g),s.child=Ta(s,null,N,g)):Gt(a,s,N,g),s.memoizedState=h.state,m&&Uw(s,c,!0),s.child}function kb(a){var s=a.stateNode;s.pendingContext?jw(a,s.pendingContext,s.pendingContext!==s.context):s.context&&jw(a,s.context,!1),Wh(a,s.containerInfo)}function Lb(a,s,c,h,m){return Ia(),Dh(m),s.flags|=256,Gt(a,s,c,h),s.child}var sp={dehydrated:null,treeContext:null,retryLane:0};function up(a){return{baseLanes:a,cachePool:null,transitions:null}}function jb(a,s,c){var h=s.pendingProps,m=st.current,g=!1,I=(s.flags&128)!==0,N;if((N=I)||(N=a!==null&&a.memoizedState===null?!1:(m&2)!==0),N?(g=!0,s.flags&=-129):(a===null||a.memoizedState!==null)&&(m|=1),Ze(st,m&1),a===null)return jh(s),a=s.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((s.mode&1)===0?s.lanes=1:a.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(I=h.children,a=h.fallback,g?(h=s.mode,g=s.child,I={mode:"hidden",children:I},(h&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=I):g=Ic(I,h,0,null),a=Oo(a,h,c,null),g.return=s,a.return=s,g.sibling=a,s.child=g,s.child.memoizedState=up(c),s.memoizedState=sp,a):lp(s,I));if(m=a.memoizedState,m!==null&&(N=m.dehydrated,N!==null))return $N(a,s,I,h,N,m,c);if(g){g=h.fallback,I=s.mode,m=a.child,N=m.sibling;var L={mode:"hidden",children:h.children};return(I&1)===0&&s.child!==m?(h=s.child,h.childLanes=0,h.pendingProps=L,s.deletions=null):(h=Hi(m,L),h.subtreeFlags=m.subtreeFlags&14680064),N!==null?g=Hi(N,g):(g=Oo(g,I,c,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,I=a.child.memoizedState,I=I===null?up(c):{baseLanes:I.baseLanes|c,cachePool:null,transitions:I.transitions},g.memoizedState=I,g.childLanes=a.childLanes&~c,s.memoizedState=sp,h}return g=a.child,a=g.sibling,h=Hi(g,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=c),h.return=s,h.sibling=null,a!==null&&(c=s.deletions,c===null?(s.deletions=[a],s.flags|=16):c.push(a)),s.child=h,s.memoizedState=null,h}function lp(a,s){return s=Ic({mode:"visible",children:s},a.mode,0,null),s.return=a,a.child=s}function fc(a,s,c,h){return h!==null&&Dh(h),Ta(s,a.child,null,c),a=lp(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function $N(a,s,c,h,m,g,I){if(c)return s.flags&256?(s.flags&=-257,h=np(Error(r(422))),fc(a,s,I,h)):s.memoizedState!==null?(s.child=a.child,s.flags|=128,null):(g=h.fallback,m=s.mode,h=Ic({mode:"visible",children:h.children},m,0,null),g=Oo(g,m,I,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,(s.mode&1)!==0&&Ta(s,a.child,null,I),s.child.memoizedState=up(I),s.memoizedState=sp,g);if((s.mode&1)===0)return fc(a,s,I,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var N=h.dgst;return h=N,g=Error(r(419)),h=np(g,h,void 0),fc(a,s,I,h)}if(N=(I&a.childLanes)!==0,ir||N){if(h=Ot,h!==null){switch(I&-I){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|I))!==0?0:m,m!==0&&m!==g.retryLane&&(g.retryLane=m,si(a,m),mn(h,a,m,-1))}return Tp(),h=np(Error(r(421))),fc(a,s,I,h)}return m.data==="$?"?(s.flags|=128,s.child=a.child,s=t3.bind(null,a),m._reactRetry=s,null):(a=g.treeContext,Tr=ki(m.nextSibling),Ir=s,ot=!0,hn=null,a!==null&&(Dr[Ur++]=oi,Dr[Ur++]=ai,Dr[Ur++]=mo,oi=a.id,ai=a.overflow,mo=s),s=lp(s,h.children),s.flags|=4096,s)}function Db(a,s,c){a.lanes|=s;var h=a.alternate;h!==null&&(h.lanes|=s),Bh(a.return,s,c)}function cp(a,s,c,h,m){var g=a.memoizedState;g===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:m}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=c,g.tailMode=m)}function Ub(a,s,c){var h=s.pendingProps,m=h.revealOrder,g=h.tail;if(Gt(a,s,h.children,c),h=st.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Db(a,c,s);else if(a.tag===19)Db(a,c,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}h&=1}if(Ze(st,h),(s.mode&1)===0)s.memoizedState=null;else switch(m){case"forwards":for(c=s.child,m=null;c!==null;)a=c.alternate,a!==null&&ic(a)===null&&(m=c),c=c.sibling;c=m,c===null?(m=s.child,s.child=null):(m=c.sibling,c.sibling=null),cp(s,!1,m,c,g);break;case"backwards":for(c=null,m=s.child,s.child=null;m!==null;){if(a=m.alternate,a!==null&&ic(a)===null){s.child=m;break}a=m.sibling,m.sibling=c,c=m,m=a}cp(s,!0,c,null,g);break;case"together":cp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function dc(a,s){(s.mode&1)===0&&a!==null&&(a.alternate=null,s.alternate=null,s.flags|=2)}function li(a,s,c){if(a!==null&&(s.dependencies=a.dependencies),Eo|=s.lanes,(c&s.childLanes)===0)return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,c=Hi(a,a.pendingProps),s.child=c,c.return=s;a.sibling!==null;)a=a.sibling,c=c.sibling=Hi(a,a.pendingProps),c.return=s;c.sibling=null}return s.child}function WN(a,s,c){switch(s.tag){case 3:kb(s),Ia();break;case 5:Qw(s);break;case 1:nr(s.type)&&Kl(s);break;case 4:Wh(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,m=s.memoizedProps.value;Ze(ec,h._currentValue),h._currentValue=m;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Ze(st,st.current&1),s.flags|=128,null):(c&s.child.childLanes)!==0?jb(a,s,c):(Ze(st,st.current&1),a=li(a,s,c),a!==null?a.sibling:null);Ze(st,st.current&1);break;case 19:if(h=(c&s.childLanes)!==0,(a.flags&128)!==0){if(h)return Ub(a,s,c);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ze(st,st.current),h)break;return null;case 22:case 23:return s.lanes=0,Cb(a,s,c)}return li(a,s,c)}var Fb,fp,Mb,Bb;Fb=function(a,s){for(var c=s.child;c!==null;){if(c.tag===5||c.tag===6)a.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},fp=function(){},Mb=function(a,s,c,h){var m=a.memoizedProps;if(m!==h){a=s.stateNode,wo(Dn.current);var g=null;switch(c){case"input":m=un(a,m),h=un(a,h),g=[];break;case"select":m=X({},m,{value:void 0}),h=X({},h,{value:void 0}),g=[];break;case"textarea":m=Ne(a,m),h=Ne(a,h),g=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(a.onclick=Gl)}Gd(c,h);var I;c=null;for(z in m)if(!h.hasOwnProperty(z)&&m.hasOwnProperty(z)&&m[z]!=null)if(z==="style"){var N=m[z];for(I in N)N.hasOwnProperty(I)&&(c||(c={}),c[I]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(o.hasOwnProperty(z)?g||(g=[]):(g=g||[]).push(z,null));for(z in h){var L=h[z];if(N=m?.[z],h.hasOwnProperty(z)&&L!==N&&(L!=null||N!=null))if(z==="style")if(N){for(I in N)!N.hasOwnProperty(I)||L&&L.hasOwnProperty(I)||(c||(c={}),c[I]="");for(I in L)L.hasOwnProperty(I)&&N[I]!==L[I]&&(c||(c={}),c[I]=L[I])}else c||(g||(g=[]),g.push(z,c)),c=L;else z==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,N=N?N.__html:void 0,L!=null&&N!==L&&(g=g||[]).push(z,L)):z==="children"?typeof L!="string"&&typeof L!="number"||(g=g||[]).push(z,""+L):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(o.hasOwnProperty(z)?(L!=null&&z==="onScroll"&&et("scroll",a),g||N===L||(g=[])):(g=g||[]).push(z,L))}c&&(g=g||[]).push("style",c);var z=g;(s.updateQueue=z)&&(s.flags|=4)}},Bb=function(a,s,c,h){c!==h&&(s.flags|=4)};function ou(a,s){if(!ot)switch(a.tailMode){case"hidden":s=a.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function Ft(a){var s=a.alternate!==null&&a.alternate.child===a.child,c=0,h=0;if(s)for(var m=a.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=a,m=m.sibling;else for(m=a.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=a,m=m.sibling;return a.subtreeFlags|=h,a.childLanes=c,s}function HN(a,s,c){var h=s.pendingProps;switch(kh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(s),null;case 1:return nr(s.type)&&Vl(),Ft(s),null;case 3:return h=s.stateNode,Ra(),tt(rr),tt(Dt),zh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(Xl(s)?s.flags|=4:a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,hn!==null&&(Ep(hn),hn=null))),fp(a,s),Ft(s),null;case 5:Hh(s);var m=wo(eu.current);if(c=s.type,a!==null&&s.stateNode!=null)Mb(a,s,c,h,m),a.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Ft(s),null}if(a=wo(Dn.current),Xl(s)){h=s.stateNode,c=s.type;var g=s.memoizedProps;switch(h[jn]=s,h[Ys]=g,a=(s.mode&1)!==0,c){case"dialog":et("cancel",h),et("close",h);break;case"iframe":case"object":case"embed":et("load",h);break;case"video":case"audio":for(m=0;m<zs.length;m++)et(zs[m],h);break;case"source":et("error",h);break;case"img":case"image":case"link":et("error",h),et("load",h);break;case"details":et("toggle",h);break;case"input":R(h,g),et("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},et("invalid",h);break;case"textarea":ke(h,g),et("invalid",h)}Gd(c,g),m=null;for(var I in g)if(g.hasOwnProperty(I)){var N=g[I];I==="children"?typeof N=="string"?h.textContent!==N&&(g.suppressHydrationWarning!==!0&&Hl(h.textContent,N,a),m=["children",N]):typeof N=="number"&&h.textContent!==""+N&&(g.suppressHydrationWarning!==!0&&Hl(h.textContent,N,a),m=["children",""+N]):o.hasOwnProperty(I)&&N!=null&&I==="onScroll"&&et("scroll",h)}switch(c){case"input":nt(h),P(h,g,!0);break;case"textarea":nt(h),it(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=Gl)}h=m,s.updateQueue=h,h!==null&&(s.flags|=4)}else{I=m.nodeType===9?m:m.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Ye(c)),a==="http://www.w3.org/1999/xhtml"?c==="script"?(a=I.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof h.is=="string"?a=I.createElement(c,{is:h.is}):(a=I.createElement(c),c==="select"&&(I=a,h.multiple?I.multiple=!0:h.size&&(I.size=h.size))):a=I.createElementNS(a,c),a[jn]=s,a[Ys]=h,Fb(a,s,!1,!1),s.stateNode=a;e:{switch(I=zd(c,h),c){case"dialog":et("cancel",a),et("close",a),m=h;break;case"iframe":case"object":case"embed":et("load",a),m=h;break;case"video":case"audio":for(m=0;m<zs.length;m++)et(zs[m],a);m=h;break;case"source":et("error",a),m=h;break;case"img":case"image":case"link":et("error",a),et("load",a),m=h;break;case"details":et("toggle",a),m=h;break;case"input":R(a,h),m=un(a,h),et("invalid",a);break;case"option":m=h;break;case"select":a._wrapperState={wasMultiple:!!h.multiple},m=X({},h,{value:void 0}),et("invalid",a);break;case"textarea":ke(a,h),m=Ne(a,h),et("invalid",a);break;default:m=h}Gd(c,m),N=m;for(g in N)if(N.hasOwnProperty(g)){var L=N[g];g==="style"?kn(a,L):g==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&Ti(a,L)):g==="children"?typeof L=="string"?(c!=="textarea"||L!=="")&&Oi(a,L):typeof L=="number"&&Oi(a,""+L):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?L!=null&&g==="onScroll"&&et("scroll",a):L!=null&&A(a,g,L,I))}switch(c){case"input":nt(a),P(a,h,!1);break;case"textarea":nt(a),it(a);break;case"option":h.value!=null&&a.setAttribute("value",""+Te(h.value));break;case"select":a.multiple=!!h.multiple,g=h.value,g!=null?ie(a,!!h.multiple,g,!1):h.defaultValue!=null&&ie(a,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(a.onclick=Gl)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ft(s),null;case 6:if(a&&s.stateNode!=null)Bb(a,s,a.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(c=wo(eu.current),wo(Dn.current),Xl(s)){if(h=s.stateNode,c=s.memoizedProps,h[jn]=s,(g=h.nodeValue!==c)&&(a=Ir,a!==null))switch(a.tag){case 3:Hl(h.nodeValue,c,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Hl(h.nodeValue,c,(a.mode&1)!==0)}g&&(s.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[jn]=s,s.stateNode=h}return Ft(s),null;case 13:if(tt(st),h=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(ot&&Tr!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Ww(),Ia(),s.flags|=98560,g=!1;else if(g=Xl(s),h!==null&&h.dehydrated!==null){if(a===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[jn]=s}else Ia(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ft(s),g=!1}else hn!==null&&(Ep(hn),hn=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=c,s):(h=h!==null,h!==(a!==null&&a.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(a===null||(st.current&1)!==0?bt===0&&(bt=3):Tp())),s.updateQueue!==null&&(s.flags|=4),Ft(s),null);case 4:return Ra(),fp(a,s),a===null&&Vs(s.stateNode.containerInfo),Ft(s),null;case 10:return Mh(s.type._context),Ft(s),null;case 17:return nr(s.type)&&Vl(),Ft(s),null;case 19:if(tt(st),g=s.memoizedState,g===null)return Ft(s),null;if(h=(s.flags&128)!==0,I=g.rendering,I===null)if(h)ou(g,!1);else{if(bt!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(I=ic(a),I!==null){for(s.flags|=128,ou(g,!1),h=I.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=c,c=s.child;c!==null;)g=c,a=h,g.flags&=14680066,I=g.alternate,I===null?(g.childLanes=0,g.lanes=a,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=I.childLanes,g.lanes=I.lanes,g.child=I.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=I.memoizedProps,g.memoizedState=I.memoizedState,g.updateQueue=I.updateQueue,g.type=I.type,a=I.dependencies,g.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;return Ze(st,st.current&1|2),s.child}a=a.sibling}g.tail!==null&&ft()>Na&&(s.flags|=128,h=!0,ou(g,!1),s.lanes=4194304)}else{if(!h)if(a=ic(I),a!==null){if(s.flags|=128,h=!0,c=a.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),ou(g,!0),g.tail===null&&g.tailMode==="hidden"&&!I.alternate&&!ot)return Ft(s),null}else 2*ft()-g.renderingStartTime>Na&&c!==1073741824&&(s.flags|=128,h=!0,ou(g,!1),s.lanes=4194304);g.isBackwards?(I.sibling=s.child,s.child=I):(c=g.last,c!==null?c.sibling=I:s.child=I,g.last=I)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=ft(),s.sibling=null,c=st.current,Ze(st,h?c&1|2:c&1),s):(Ft(s),null);case 22:case 23:return Ip(),h=s.memoizedState!==null,a!==null&&a.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(Or&1073741824)!==0&&(Ft(s),s.subtreeFlags&6&&(s.flags|=8192)):Ft(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function GN(a,s){switch(kh(s),s.tag){case 1:return nr(s.type)&&Vl(),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return Ra(),tt(rr),tt(Dt),zh(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 5:return Hh(s),null;case 13:if(tt(st),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ia()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return tt(st),null;case 4:return Ra(),null;case 10:return Mh(s.type._context),null;case 22:case 23:return Ip(),null;case 24:return null;default:return null}}var hc=!1,Mt=!1,zN=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Ca(a,s){var c=a.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){lt(a,s,h)}else c.current=null}function dp(a,s,c){try{c()}catch(h){lt(a,s,h)}}var qb=!1;function VN(a,s){if(Ih=kl,a=_w(),yh(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var m=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{c.nodeType,g.nodeType}catch{c=null;break e}var I=0,N=-1,L=-1,z=0,ne=0,oe=a,re=null;t:for(;;){for(var he;oe!==c||m!==0&&oe.nodeType!==3||(N=I+m),oe!==g||h!==0&&oe.nodeType!==3||(L=I+h),oe.nodeType===3&&(I+=oe.nodeValue.length),(he=oe.firstChild)!==null;)re=oe,oe=he;for(;;){if(oe===a)break t;if(re===c&&++z===m&&(N=I),re===g&&++ne===h&&(L=I),(he=oe.nextSibling)!==null)break;oe=re,re=oe.parentNode}oe=he}c=N===-1||L===-1?null:{start:N,end:L}}else c=null}c=c||{start:0,end:0}}else c=null;for(Th={focusedElem:a,selectionRange:c},kl=!1,ye=s;ye!==null;)if(s=ye,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,ye=a;else for(;ye!==null;){s=ye;try{var me=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ge=me.memoizedProps,dt=me.memoizedState,B=s.stateNode,D=B.getSnapshotBeforeUpdate(s.elementType===s.type?ge:pn(s.type,ge),dt);B.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var $=s.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ue){lt(s,s.return,ue)}if(a=s.sibling,a!==null){a.return=s.return,ye=a;break}ye=s.return}return me=qb,qb=!1,me}function au(a,s,c){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&a)===a){var g=m.destroy;m.destroy=void 0,g!==void 0&&dp(s,c,g)}m=m.next}while(m!==h)}}function pc(a,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var c=s=s.next;do{if((c.tag&a)===a){var h=c.create;c.destroy=h()}c=c.next}while(c!==s)}}function hp(a){var s=a.ref;if(s!==null){var c=a.stateNode;switch(a.tag){case 5:a=c;break;default:a=c}typeof s=="function"?s(a):s.current=a}}function $b(a){var s=a.alternate;s!==null&&(a.alternate=null,$b(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&(delete s[jn],delete s[Ys],delete s[Ah],delete s[AN],delete s[CN])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Wb(a){return a.tag===5||a.tag===3||a.tag===4}function Hb(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Wb(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function pp(a,s,c){var h=a.tag;if(h===5||h===6)a=a.stateNode,s?c.nodeType===8?c.parentNode.insertBefore(a,s):c.insertBefore(a,s):(c.nodeType===8?(s=c.parentNode,s.insertBefore(a,c)):(s=c,s.appendChild(a)),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=Gl));else if(h!==4&&(a=a.child,a!==null))for(pp(a,s,c),a=a.sibling;a!==null;)pp(a,s,c),a=a.sibling}function vp(a,s,c){var h=a.tag;if(h===5||h===6)a=a.stateNode,s?c.insertBefore(a,s):c.appendChild(a);else if(h!==4&&(a=a.child,a!==null))for(vp(a,s,c),a=a.sibling;a!==null;)vp(a,s,c),a=a.sibling}var Nt=null,vn=!1;function Mi(a,s,c){for(c=c.child;c!==null;)Gb(a,s,c),c=c.sibling}function Gb(a,s,c){if(Ln&&typeof Ln.onCommitFiberUnmount=="function")try{Ln.onCommitFiberUnmount(xl,c)}catch{}switch(c.tag){case 5:Mt||Ca(c,s);case 6:var h=Nt,m=vn;Nt=null,Mi(a,s,c),Nt=h,vn=m,Nt!==null&&(vn?(a=Nt,c=c.stateNode,a.nodeType===8?a.parentNode.removeChild(c):a.removeChild(c)):Nt.removeChild(c.stateNode));break;case 18:Nt!==null&&(vn?(a=Nt,c=c.stateNode,a.nodeType===8?Rh(a.parentNode,c):a.nodeType===1&&Rh(a,c),Fs(a)):Rh(Nt,c.stateNode));break;case 4:h=Nt,m=vn,Nt=c.stateNode.containerInfo,vn=!0,Mi(a,s,c),Nt=h,vn=m;break;case 0:case 11:case 14:case 15:if(!Mt&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var g=m,I=g.destroy;g=g.tag,I!==void 0&&((g&2)!==0||(g&4)!==0)&&dp(c,s,I),m=m.next}while(m!==h)}Mi(a,s,c);break;case 1:if(!Mt&&(Ca(c,s),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(N){lt(c,s,N)}Mi(a,s,c);break;case 21:Mi(a,s,c);break;case 22:c.mode&1?(Mt=(h=Mt)||c.memoizedState!==null,Mi(a,s,c),Mt=h):Mi(a,s,c);break;default:Mi(a,s,c)}}function zb(a){var s=a.updateQueue;if(s!==null){a.updateQueue=null;var c=a.stateNode;c===null&&(c=a.stateNode=new zN),s.forEach(function(h){var m=r3.bind(null,a,h);c.has(h)||(c.add(h),h.then(m,m))})}}function yn(a,s){var c=s.deletions;if(c!==null)for(var h=0;h<c.length;h++){var m=c[h];try{var g=a,I=s,N=I;e:for(;N!==null;){switch(N.tag){case 5:Nt=N.stateNode,vn=!1;break e;case 3:Nt=N.stateNode.containerInfo,vn=!0;break e;case 4:Nt=N.stateNode.containerInfo,vn=!0;break e}N=N.return}if(Nt===null)throw Error(r(160));Gb(g,I,m),Nt=null,vn=!1;var L=m.alternate;L!==null&&(L.return=null),m.return=null}catch(z){lt(m,s,z)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Vb(s,a),s=s.sibling}function Vb(a,s){var c=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(yn(s,a),Fn(a),h&4){try{au(3,a,a.return),pc(3,a)}catch(ge){lt(a,a.return,ge)}try{au(5,a,a.return)}catch(ge){lt(a,a.return,ge)}}break;case 1:yn(s,a),Fn(a),h&512&&c!==null&&Ca(c,c.return);break;case 5:if(yn(s,a),Fn(a),h&512&&c!==null&&Ca(c,c.return),a.flags&32){var m=a.stateNode;try{Oi(m,"")}catch(ge){lt(a,a.return,ge)}}if(h&4&&(m=a.stateNode,m!=null)){var g=a.memoizedProps,I=c!==null?c.memoizedProps:g,N=a.type,L=a.updateQueue;if(a.updateQueue=null,L!==null)try{N==="input"&&g.type==="radio"&&g.name!=null&&b(m,g),zd(N,I);var z=zd(N,g);for(I=0;I<L.length;I+=2){var ne=L[I],oe=L[I+1];ne==="style"?kn(m,oe):ne==="dangerouslySetInnerHTML"?Ti(m,oe):ne==="children"?Oi(m,oe):A(m,ne,oe,z)}switch(N){case"input":E(m,g);break;case"textarea":He(m,g);break;case"select":var re=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!g.multiple;var he=g.value;he!=null?ie(m,!!g.multiple,he,!1):re!==!!g.multiple&&(g.defaultValue!=null?ie(m,!!g.multiple,g.defaultValue,!0):ie(m,!!g.multiple,g.multiple?[]:"",!1))}m[Ys]=g}catch(ge){lt(a,a.return,ge)}}break;case 6:if(yn(s,a),Fn(a),h&4){if(a.stateNode===null)throw Error(r(162));m=a.stateNode,g=a.memoizedProps;try{m.nodeValue=g}catch(ge){lt(a,a.return,ge)}}break;case 3:if(yn(s,a),Fn(a),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Fs(s.containerInfo)}catch(ge){lt(a,a.return,ge)}break;case 4:yn(s,a),Fn(a);break;case 13:yn(s,a),Fn(a),m=a.child,m.flags&8192&&(g=m.memoizedState!==null,m.stateNode.isHidden=g,!g||m.alternate!==null&&m.alternate.memoizedState!==null||(gp=ft())),h&4&&zb(a);break;case 22:if(ne=c!==null&&c.memoizedState!==null,a.mode&1?(Mt=(z=Mt)||ne,yn(s,a),Mt=z):yn(s,a),Fn(a),h&8192){if(z=a.memoizedState!==null,(a.stateNode.isHidden=z)&&!ne&&(a.mode&1)!==0)for(ye=a,ne=a.child;ne!==null;){for(oe=ye=ne;ye!==null;){switch(re=ye,he=re.child,re.tag){case 0:case 11:case 14:case 15:au(4,re,re.return);break;case 1:Ca(re,re.return);var me=re.stateNode;if(typeof me.componentWillUnmount=="function"){h=re,c=re.return;try{s=h,me.props=s.memoizedProps,me.state=s.memoizedState,me.componentWillUnmount()}catch(ge){lt(h,c,ge)}}break;case 5:Ca(re,re.return);break;case 22:if(re.memoizedState!==null){Jb(oe);continue}}he!==null?(he.return=re,ye=he):Jb(oe)}ne=ne.sibling}e:for(ne=null,oe=a;;){if(oe.tag===5){if(ne===null){ne=oe;try{m=oe.stateNode,z?(g=m.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(N=oe.stateNode,L=oe.memoizedProps.style,I=L!=null&&L.hasOwnProperty("display")?L.display:null,N.style.display=cn("display",I))}catch(ge){lt(a,a.return,ge)}}}else if(oe.tag===6){if(ne===null)try{oe.stateNode.nodeValue=z?"":oe.memoizedProps}catch(ge){lt(a,a.return,ge)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===a)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===a)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===a)break e;ne===oe&&(ne=null),oe=oe.return}ne===oe&&(ne=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:yn(s,a),Fn(a),h&4&&zb(a);break;case 21:break;default:yn(s,a),Fn(a)}}function Fn(a){var s=a.flags;if(s&2){try{e:{for(var c=a.return;c!==null;){if(Wb(c)){var h=c;break e}c=c.return}throw Error(r(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(Oi(m,""),h.flags&=-33);var g=Hb(a);vp(a,g,m);break;case 3:case 4:var I=h.stateNode.containerInfo,N=Hb(a);pp(a,N,I);break;default:throw Error(r(161))}}catch(L){lt(a,a.return,L)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function KN(a,s,c){ye=a,Kb(a)}function Kb(a,s,c){for(var h=(a.mode&1)!==0;ye!==null;){var m=ye,g=m.child;if(m.tag===22&&h){var I=m.memoizedState!==null||hc;if(!I){var N=m.alternate,L=N!==null&&N.memoizedState!==null||Mt;N=hc;var z=Mt;if(hc=I,(Mt=L)&&!z)for(ye=m;ye!==null;)I=ye,L=I.child,I.tag===22&&I.memoizedState!==null?Qb(m):L!==null?(L.return=I,ye=L):Qb(m);for(;g!==null;)ye=g,Kb(g),g=g.sibling;ye=m,hc=N,Mt=z}Yb(a)}else(m.subtreeFlags&8772)!==0&&g!==null?(g.return=m,ye=g):Yb(a)}}function Yb(a){for(;ye!==null;){var s=ye;if((s.flags&8772)!==0){var c=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Mt||pc(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Mt)if(c===null)h.componentDidMount();else{var m=s.elementType===s.type?c.memoizedProps:pn(s.type,c.memoizedProps);h.componentDidUpdate(m,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Jw(s,g,h);break;case 3:var I=s.updateQueue;if(I!==null){if(c=null,s.child!==null)switch(s.child.tag){case 5:c=s.child.stateNode;break;case 1:c=s.child.stateNode}Jw(s,I,c)}break;case 5:var N=s.stateNode;if(c===null&&s.flags&4){c=N;var L=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&c.focus();break;case"img":L.src&&(c.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var z=s.alternate;if(z!==null){var ne=z.memoizedState;if(ne!==null){var oe=ne.dehydrated;oe!==null&&Fs(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Mt||s.flags&512&&hp(s)}catch(re){lt(s,s.return,re)}}if(s===a){ye=null;break}if(c=s.sibling,c!==null){c.return=s.return,ye=c;break}ye=s.return}}function Jb(a){for(;ye!==null;){var s=ye;if(s===a){ye=null;break}var c=s.sibling;if(c!==null){c.return=s.return,ye=c;break}ye=s.return}}function Qb(a){for(;ye!==null;){var s=ye;try{switch(s.tag){case 0:case 11:case 15:var c=s.return;try{pc(4,s)}catch(L){lt(s,c,L)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var m=s.return;try{h.componentDidMount()}catch(L){lt(s,m,L)}}var g=s.return;try{hp(s)}catch(L){lt(s,g,L)}break;case 5:var I=s.return;try{hp(s)}catch(L){lt(s,I,L)}}}catch(L){lt(s,s.return,L)}if(s===a){ye=null;break}var N=s.sibling;if(N!==null){N.return=s.return,ye=N;break}ye=s.return}}var YN=Math.ceil,vc=C.ReactCurrentDispatcher,yp=C.ReactCurrentOwner,Br=C.ReactCurrentBatchConfig,We=0,Ot=null,pt=null,kt=0,Or=0,Pa=Li(0),bt=0,su=null,Eo=0,yc=0,mp=0,uu=null,or=null,gp=0,Na=1/0,ci=null,mc=!1,_p=null,Bi=null,gc=!1,qi=null,_c=0,lu=0,wp=null,wc=-1,bc=0;function zt(){return(We&6)!==0?ft():wc!==-1?wc:wc=ft()}function $i(a){return(a.mode&1)===0?1:(We&2)!==0&&kt!==0?kt&-kt:NN.transition!==null?(bc===0&&(bc=H_()),bc):(a=Ke,a!==0||(a=window.event,a=a===void 0?16:Z_(a.type)),a)}function mn(a,s,c,h){if(50<lu)throw lu=0,wp=null,Error(r(185));ks(a,c,h),((We&2)===0||a!==Ot)&&(a===Ot&&((We&2)===0&&(yc|=c),bt===4&&Wi(a,kt)),ar(a,h),c===1&&We===0&&(s.mode&1)===0&&(Na=ft()+500,Yl&&Di()))}function ar(a,s){var c=a.callbackNode;NP(a,s);var h=Cl(a,a===Ot?kt:0);if(h===0)c!==null&&q_(c),a.callbackNode=null,a.callbackPriority=0;else if(s=h&-h,a.callbackPriority!==s){if(c!=null&&q_(c),s===1)a.tag===0?PN(Zb.bind(null,a)):Fw(Zb.bind(null,a)),xN(function(){(We&6)===0&&Di()}),c=null;else{switch(G_(h)){case 1:c=Zd;break;case 4:c=$_;break;case 16:c=Ol;break;case 536870912:c=W_;break;default:c=Ol}c=s1(c,Xb.bind(null,a))}a.callbackPriority=s,a.callbackNode=c}}function Xb(a,s){if(wc=-1,bc=0,(We&6)!==0)throw Error(r(327));var c=a.callbackNode;if(ka()&&a.callbackNode!==c)return null;var h=Cl(a,a===Ot?kt:0);if(h===0)return null;if((h&30)!==0||(h&a.expiredLanes)!==0||s)s=Ec(a,h);else{s=h;var m=We;We|=2;var g=t1();(Ot!==a||kt!==s)&&(ci=null,Na=ft()+500,Io(a,s));do try{XN();break}catch(N){e1(a,N)}while(!0);Fh(),vc.current=g,We=m,pt!==null?s=0:(Ot=null,kt=0,s=bt)}if(s!==0){if(s===2&&(m=eh(a),m!==0&&(h=m,s=bp(a,m))),s===1)throw c=su,Io(a,0),Wi(a,h),ar(a,ft()),c;if(s===6)Wi(a,h);else{if(m=a.current.alternate,(h&30)===0&&!JN(m)&&(s=Ec(a,h),s===2&&(g=eh(a),g!==0&&(h=g,s=bp(a,g))),s===1))throw c=su,Io(a,0),Wi(a,h),ar(a,ft()),c;switch(a.finishedWork=m,a.finishedLanes=h,s){case 0:case 1:throw Error(r(345));case 2:To(a,or,ci);break;case 3:if(Wi(a,h),(h&130023424)===h&&(s=gp+500-ft(),10<s)){if(Cl(a,0)!==0)break;if(m=a.suspendedLanes,(m&h)!==h){zt(),a.pingedLanes|=a.suspendedLanes&m;break}a.timeoutHandle=xh(To.bind(null,a,or,ci),s);break}To(a,or,ci);break;case 4:if(Wi(a,h),(h&4194240)===h)break;for(s=a.eventTimes,m=-1;0<h;){var I=31-fn(h);g=1<<I,I=s[I],I>m&&(m=I),h&=~g}if(h=m,h=ft()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*YN(h/1960))-h,10<h){a.timeoutHandle=xh(To.bind(null,a,or,ci),h);break}To(a,or,ci);break;case 5:To(a,or,ci);break;default:throw Error(r(329))}}}return ar(a,ft()),a.callbackNode===c?Xb.bind(null,a):null}function bp(a,s){var c=uu;return a.current.memoizedState.isDehydrated&&(Io(a,s).flags|=256),a=Ec(a,s),a!==2&&(s=or,or=c,s!==null&&Ep(s)),a}function Ep(a){or===null?or=a:or.push.apply(or,a)}function JN(a){for(var s=a;;){if(s.flags&16384){var c=s.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var m=c[h],g=m.getSnapshot;m=m.value;try{if(!dn(g(),m))return!1}catch{return!1}}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Wi(a,s){for(s&=~mp,s&=~yc,a.suspendedLanes|=s,a.pingedLanes&=~s,a=a.expirationTimes;0<s;){var c=31-fn(s),h=1<<c;a[c]=-1,s&=~h}}function Zb(a){if((We&6)!==0)throw Error(r(327));ka();var s=Cl(a,0);if((s&1)===0)return ar(a,ft()),null;var c=Ec(a,s);if(a.tag!==0&&c===2){var h=eh(a);h!==0&&(s=h,c=bp(a,h))}if(c===1)throw c=su,Io(a,0),Wi(a,s),ar(a,ft()),c;if(c===6)throw Error(r(345));return a.finishedWork=a.current.alternate,a.finishedLanes=s,To(a,or,ci),ar(a,ft()),null}function Sp(a,s){var c=We;We|=1;try{return a(s)}finally{We=c,We===0&&(Na=ft()+500,Yl&&Di())}}function So(a){qi!==null&&qi.tag===0&&(We&6)===0&&ka();var s=We;We|=1;var c=Br.transition,h=Ke;try{if(Br.transition=null,Ke=1,a)return a()}finally{Ke=h,Br.transition=c,We=s,(We&6)===0&&Di()}}function Ip(){Or=Pa.current,tt(Pa)}function Io(a,s){a.finishedWork=null,a.finishedLanes=0;var c=a.timeoutHandle;if(c!==-1&&(a.timeoutHandle=-1,ON(c)),pt!==null)for(c=pt.return;c!==null;){var h=c;switch(kh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Vl();break;case 3:Ra(),tt(rr),tt(Dt),zh();break;case 5:Hh(h);break;case 4:Ra();break;case 13:tt(st);break;case 19:tt(st);break;case 10:Mh(h.type._context);break;case 22:case 23:Ip()}c=c.return}if(Ot=a,pt=a=Hi(a.current,null),kt=Or=s,bt=0,su=null,mp=yc=Eo=0,or=uu=null,_o!==null){for(s=0;s<_o.length;s++)if(c=_o[s],h=c.interleaved,h!==null){c.interleaved=null;var m=h.next,g=c.pending;if(g!==null){var I=g.next;g.next=m,h.next=I}c.pending=h}_o=null}return a}function e1(a,s){do{var c=pt;try{if(Fh(),oc.current=lc,ac){for(var h=ut.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}ac=!1}if(bo=0,Tt=wt=ut=null,tu=!1,ru=0,yp.current=null,c===null||c.return===null){bt=1,su=s,pt=null;break}e:{var g=a,I=c.return,N=c,L=s;if(s=kt,N.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var z=L,ne=N,oe=ne.tag;if((ne.mode&1)===0&&(oe===0||oe===11||oe===15)){var re=ne.alternate;re?(ne.updateQueue=re.updateQueue,ne.memoizedState=re.memoizedState,ne.lanes=re.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var he=Tb(I);if(he!==null){he.flags&=-257,Ob(he,I,N,g,s),he.mode&1&&Ib(g,z,s),s=he,L=z;var me=s.updateQueue;if(me===null){var ge=new Set;ge.add(L),s.updateQueue=ge}else me.add(L);break e}else{if((s&1)===0){Ib(g,z,s),Tp();break e}L=Error(r(426))}}else if(ot&&N.mode&1){var dt=Tb(I);if(dt!==null){(dt.flags&65536)===0&&(dt.flags|=256),Ob(dt,I,N,g,s),Dh(Aa(L,N));break e}}g=L=Aa(L,N),bt!==4&&(bt=2),uu===null?uu=[g]:uu.push(g),g=I;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var B=Eb(g,L,s);Yw(g,B);break e;case 1:N=L;var D=g.type,$=g.stateNode;if((g.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(Bi===null||!Bi.has($)))){g.flags|=65536,s&=-s,g.lanes|=s;var ue=Sb(g,N,s);Yw(g,ue);break e}}g=g.return}while(g!==null)}n1(c)}catch(_e){s=_e,pt===c&&c!==null&&(pt=c=c.return);continue}break}while(!0)}function t1(){var a=vc.current;return vc.current=lc,a===null?lc:a}function Tp(){(bt===0||bt===3||bt===2)&&(bt=4),Ot===null||(Eo&268435455)===0&&(yc&268435455)===0||Wi(Ot,kt)}function Ec(a,s){var c=We;We|=2;var h=t1();(Ot!==a||kt!==s)&&(ci=null,Io(a,s));do try{QN();break}catch(m){e1(a,m)}while(!0);if(Fh(),We=c,vc.current=h,pt!==null)throw Error(r(261));return Ot=null,kt=0,bt}function QN(){for(;pt!==null;)r1(pt)}function XN(){for(;pt!==null&&!SP();)r1(pt)}function r1(a){var s=a1(a.alternate,a,Or);a.memoizedProps=a.pendingProps,s===null?n1(a):pt=s,yp.current=null}function n1(a){var s=a;do{var c=s.alternate;if(a=s.return,(s.flags&32768)===0){if(c=HN(c,s,Or),c!==null){pt=c;return}}else{if(c=GN(c,s),c!==null){c.flags&=32767,pt=c;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{bt=6,pt=null;return}}if(s=s.sibling,s!==null){pt=s;return}pt=s=a}while(s!==null);bt===0&&(bt=5)}function To(a,s,c){var h=Ke,m=Br.transition;try{Br.transition=null,Ke=1,ZN(a,s,c,h)}finally{Br.transition=m,Ke=h}return null}function ZN(a,s,c,h){do ka();while(qi!==null);if((We&6)!==0)throw Error(r(327));c=a.finishedWork;var m=a.finishedLanes;if(c===null)return null;if(a.finishedWork=null,a.finishedLanes=0,c===a.current)throw Error(r(177));a.callbackNode=null,a.callbackPriority=0;var g=c.lanes|c.childLanes;if(kP(a,g),a===Ot&&(pt=Ot=null,kt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||gc||(gc=!0,s1(Ol,function(){return ka(),null})),g=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||g){g=Br.transition,Br.transition=null;var I=Ke;Ke=1;var N=We;We|=4,yp.current=null,VN(a,c),Vb(c,a),_N(Th),kl=!!Ih,Th=Ih=null,a.current=c,KN(c),IP(),We=N,Ke=I,Br.transition=g}else a.current=c;if(gc&&(gc=!1,qi=a,_c=m),g=a.pendingLanes,g===0&&(Bi=null),xP(c.stateNode),ar(a,ft()),s!==null)for(h=a.onRecoverableError,c=0;c<s.length;c++)m=s[c],h(m.value,{componentStack:m.stack,digest:m.digest});if(mc)throw mc=!1,a=_p,_p=null,a;return(_c&1)!==0&&a.tag!==0&&ka(),g=a.pendingLanes,(g&1)!==0?a===wp?lu++:(lu=0,wp=a):lu=0,Di(),null}function ka(){if(qi!==null){var a=G_(_c),s=Br.transition,c=Ke;try{if(Br.transition=null,Ke=16>a?16:a,qi===null)var h=!1;else{if(a=qi,qi=null,_c=0,(We&6)!==0)throw Error(r(331));var m=We;for(We|=4,ye=a.current;ye!==null;){var g=ye,I=g.child;if((ye.flags&16)!==0){var N=g.deletions;if(N!==null){for(var L=0;L<N.length;L++){var z=N[L];for(ye=z;ye!==null;){var ne=ye;switch(ne.tag){case 0:case 11:case 15:au(8,ne,g)}var oe=ne.child;if(oe!==null)oe.return=ne,ye=oe;else for(;ye!==null;){ne=ye;var re=ne.sibling,he=ne.return;if($b(ne),ne===z){ye=null;break}if(re!==null){re.return=he,ye=re;break}ye=he}}}var me=g.alternate;if(me!==null){var ge=me.child;if(ge!==null){me.child=null;do{var dt=ge.sibling;ge.sibling=null,ge=dt}while(ge!==null)}}ye=g}}if((g.subtreeFlags&2064)!==0&&I!==null)I.return=g,ye=I;else e:for(;ye!==null;){if(g=ye,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:au(9,g,g.return)}var B=g.sibling;if(B!==null){B.return=g.return,ye=B;break e}ye=g.return}}var D=a.current;for(ye=D;ye!==null;){I=ye;var $=I.child;if((I.subtreeFlags&2064)!==0&&$!==null)$.return=I,ye=$;else e:for(I=D;ye!==null;){if(N=ye,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:pc(9,N)}}catch(_e){lt(N,N.return,_e)}if(N===I){ye=null;break e}var ue=N.sibling;if(ue!==null){ue.return=N.return,ye=ue;break e}ye=N.return}}if(We=m,Di(),Ln&&typeof Ln.onPostCommitFiberRoot=="function")try{Ln.onPostCommitFiberRoot(xl,a)}catch{}h=!0}return h}finally{Ke=c,Br.transition=s}}return!1}function i1(a,s,c){s=Aa(c,s),s=Eb(a,s,1),a=Fi(a,s,1),s=zt(),a!==null&&(ks(a,1,s),ar(a,s))}function lt(a,s,c){if(a.tag===3)i1(a,a,c);else for(;s!==null;){if(s.tag===3){i1(s,a,c);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Bi===null||!Bi.has(h))){a=Aa(c,a),a=Sb(s,a,1),s=Fi(s,a,1),a=zt(),s!==null&&(ks(s,1,a),ar(s,a));break}}s=s.return}}function e3(a,s,c){var h=a.pingCache;h!==null&&h.delete(s),s=zt(),a.pingedLanes|=a.suspendedLanes&c,Ot===a&&(kt&c)===c&&(bt===4||bt===3&&(kt&130023424)===kt&&500>ft()-gp?Io(a,0):mp|=c),ar(a,s)}function o1(a,s){s===0&&((a.mode&1)===0?s=1:(s=Al,Al<<=1,(Al&130023424)===0&&(Al=4194304)));var c=zt();a=si(a,s),a!==null&&(ks(a,s,c),ar(a,c))}function t3(a){var s=a.memoizedState,c=0;s!==null&&(c=s.retryLane),o1(a,c)}function r3(a,s){var c=0;switch(a.tag){case 13:var h=a.stateNode,m=a.memoizedState;m!==null&&(c=m.retryLane);break;case 19:h=a.stateNode;break;default:throw Error(r(314))}h!==null&&h.delete(s),o1(a,c)}var a1;a1=function(a,s,c){if(a!==null)if(a.memoizedProps!==s.pendingProps||rr.current)ir=!0;else{if((a.lanes&c)===0&&(s.flags&128)===0)return ir=!1,WN(a,s,c);ir=(a.flags&131072)!==0}else ir=!1,ot&&(s.flags&1048576)!==0&&Mw(s,Ql,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;dc(a,s),a=s.pendingProps;var m=ba(s,Dt.current);xa(s,c),m=Yh(null,s,h,a,m,c);var g=Jh();return s.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,nr(h)?(g=!0,Kl(s)):g=!1,s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,$h(s),m.updater=cc,s.stateNode=m,m._reactInternals=s,rp(s,h,a,c),s=ap(null,s,h,!0,g,c)):(s.tag=0,ot&&g&&Nh(s),Gt(null,s,m,c),s=s.child),s;case 16:h=s.elementType;e:{switch(dc(a,s),a=s.pendingProps,m=h._init,h=m(h._payload),s.type=h,m=s.tag=i3(h),a=pn(h,a),m){case 0:s=op(null,s,h,a,c);break e;case 1:s=Nb(null,s,h,a,c);break e;case 11:s=xb(null,s,h,a,c);break e;case 14:s=Rb(null,s,h,pn(h.type,a),c);break e}throw Error(r(306,h,""))}return s;case 0:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:pn(h,m),op(a,s,h,m,c);case 1:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:pn(h,m),Nb(a,s,h,m,c);case 3:e:{if(kb(s),a===null)throw Error(r(387));h=s.pendingProps,g=s.memoizedState,m=g.element,Kw(a,s),nc(s,h,null,c);var I=s.memoizedState;if(h=I.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){m=Aa(Error(r(423)),s),s=Lb(a,s,h,c,m);break e}else if(h!==m){m=Aa(Error(r(424)),s),s=Lb(a,s,h,c,m);break e}else for(Tr=ki(s.stateNode.containerInfo.firstChild),Ir=s,ot=!0,hn=null,c=zw(s,null,h,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ia(),h===m){s=li(a,s,c);break e}Gt(a,s,h,c)}s=s.child}return s;case 5:return Qw(s),a===null&&jh(s),h=s.type,m=s.pendingProps,g=a!==null?a.memoizedProps:null,I=m.children,Oh(h,m)?I=null:g!==null&&Oh(h,g)&&(s.flags|=32),Pb(a,s),Gt(a,s,I,c),s.child;case 6:return a===null&&jh(s),null;case 13:return jb(a,s,c);case 4:return Wh(s,s.stateNode.containerInfo),h=s.pendingProps,a===null?s.child=Ta(s,null,h,c):Gt(a,s,h,c),s.child;case 11:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:pn(h,m),xb(a,s,h,m,c);case 7:return Gt(a,s,s.pendingProps,c),s.child;case 8:return Gt(a,s,s.pendingProps.children,c),s.child;case 12:return Gt(a,s,s.pendingProps.children,c),s.child;case 10:e:{if(h=s.type._context,m=s.pendingProps,g=s.memoizedProps,I=m.value,Ze(ec,h._currentValue),h._currentValue=I,g!==null)if(dn(g.value,I)){if(g.children===m.children&&!rr.current){s=li(a,s,c);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var N=g.dependencies;if(N!==null){I=g.child;for(var L=N.firstContext;L!==null;){if(L.context===h){if(g.tag===1){L=ui(-1,c&-c),L.tag=2;var z=g.updateQueue;if(z!==null){z=z.shared;var ne=z.pending;ne===null?L.next=L:(L.next=ne.next,ne.next=L),z.pending=L}}g.lanes|=c,L=g.alternate,L!==null&&(L.lanes|=c),Bh(g.return,c,s),N.lanes|=c;break}L=L.next}}else if(g.tag===10)I=g.type===s.type?null:g.child;else if(g.tag===18){if(I=g.return,I===null)throw Error(r(341));I.lanes|=c,N=I.alternate,N!==null&&(N.lanes|=c),Bh(I,c,s),I=g.sibling}else I=g.child;if(I!==null)I.return=g;else for(I=g;I!==null;){if(I===s){I=null;break}if(g=I.sibling,g!==null){g.return=I.return,I=g;break}I=I.return}g=I}Gt(a,s,m.children,c),s=s.child}return s;case 9:return m=s.type,h=s.pendingProps.children,xa(s,c),m=Fr(m),h=h(m),s.flags|=1,Gt(a,s,h,c),s.child;case 14:return h=s.type,m=pn(h,s.pendingProps),m=pn(h.type,m),Rb(a,s,h,m,c);case 15:return Ab(a,s,s.type,s.pendingProps,c);case 17:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:pn(h,m),dc(a,s),s.tag=1,nr(h)?(a=!0,Kl(s)):a=!1,xa(s,c),wb(s,h,m),rp(s,h,m,c),ap(null,s,h,!0,a,c);case 19:return Ub(a,s,c);case 22:return Cb(a,s,c)}throw Error(r(156,s.tag))};function s1(a,s){return B_(a,s)}function n3(a,s,c,h){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qr(a,s,c,h){return new n3(a,s,c,h)}function Op(a){return a=a.prototype,!(!a||!a.isReactComponent)}function i3(a){if(typeof a=="function")return Op(a)?1:0;if(a!=null){if(a=a.$$typeof,a===V)return 11;if(a===ae)return 14}return 2}function Hi(a,s){var c=a.alternate;return c===null?(c=qr(a.tag,s,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=s,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&14680064,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,s=a.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c}function Sc(a,s,c,h,m,g){var I=2;if(h=a,typeof a=="function")Op(a)&&(I=1);else if(typeof a=="string")I=5;else e:switch(a){case Y:return Oo(c.children,m,g,s);case J:I=8,m|=8;break;case k:return a=qr(12,c,s,m|2),a.elementType=k,a.lanes=g,a;case G:return a=qr(13,c,s,m),a.elementType=G,a.lanes=g,a;case K:return a=qr(19,c,s,m),a.elementType=K,a.lanes=g,a;case ce:return Ic(c,m,g,s);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case W:I=10;break e;case F:I=9;break e;case V:I=11;break e;case ae:I=14;break e;case fe:I=16,h=null;break e}throw Error(r(130,a==null?a:typeof a,""))}return s=qr(I,c,s,m),s.elementType=a,s.type=h,s.lanes=g,s}function Oo(a,s,c,h){return a=qr(7,a,h,s),a.lanes=c,a}function Ic(a,s,c,h){return a=qr(22,a,h,s),a.elementType=ce,a.lanes=c,a.stateNode={isHidden:!1},a}function xp(a,s,c){return a=qr(6,a,null,s),a.lanes=c,a}function Rp(a,s,c){return s=qr(4,a.children!==null?a.children:[],a.key,s),s.lanes=c,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}function o3(a,s,c,h,m){this.tag=s,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=th(0),this.expirationTimes=th(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=th(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Ap(a,s,c,h,m,g,I,N,L){return a=new o3(a,s,c,N,L),s===1?(s=1,g===!0&&(s|=8)):s=0,g=qr(3,null,null,s),a.current=g,g.stateNode=a,g.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},$h(g),a}function a3(a,s,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:h==null?null:""+h,children:a,containerInfo:s,implementation:c}}function u1(a){if(!a)return ji;a=a._reactInternals;e:{if(po(a)!==a||a.tag!==1)throw Error(r(170));var s=a;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(nr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(a.tag===1){var c=a.type;if(nr(c))return Dw(a,c,s)}return s}function l1(a,s,c,h,m,g,I,N,L){return a=Ap(c,h,!0,a,m,g,I,N,L),a.context=u1(null),c=a.current,h=zt(),m=$i(c),g=ui(h,m),g.callback=s??null,Fi(c,g,m),a.current.lanes=m,ks(a,m,h),ar(a,h),a}function Tc(a,s,c,h){var m=s.current,g=zt(),I=$i(m);return c=u1(c),s.context===null?s.context=c:s.pendingContext=c,s=ui(g,I),s.payload={element:a},h=h===void 0?null:h,h!==null&&(s.callback=h),a=Fi(m,s,I),a!==null&&(mn(a,m,I,g),rc(a,m,I)),I}function Oc(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function c1(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<s?c:s}}function Cp(a,s){c1(a,s),(a=a.alternate)&&c1(a,s)}function s3(){return null}var f1=typeof reportError=="function"?reportError:function(a){console.error(a)};function Pp(a){this._internalRoot=a}xc.prototype.render=Pp.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));Tc(a,s,null,null)},xc.prototype.unmount=Pp.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;So(function(){Tc(null,a,null,null)}),s[ni]=null}};function xc(a){this._internalRoot=a}xc.prototype.unstable_scheduleHydration=function(a){if(a){var s=K_();a={blockedOn:null,target:a,priority:s};for(var c=0;c<Ci.length&&s!==0&&s<Ci[c].priority;c++);Ci.splice(c,0,a),c===0&&Q_(a)}};function Np(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Rc(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function d1(){}function u3(a,s,c,h,m){if(m){if(typeof h=="function"){var g=h;h=function(){var z=Oc(I);g.call(z)}}var I=l1(s,h,a,0,null,!1,!1,"",d1);return a._reactRootContainer=I,a[ni]=I.current,Vs(a.nodeType===8?a.parentNode:a),So(),I}for(;m=a.lastChild;)a.removeChild(m);if(typeof h=="function"){var N=h;h=function(){var z=Oc(L);N.call(z)}}var L=Ap(a,0,!1,null,null,!1,!1,"",d1);return a._reactRootContainer=L,a[ni]=L.current,Vs(a.nodeType===8?a.parentNode:a),So(function(){Tc(s,L,c,h)}),L}function Ac(a,s,c,h,m){var g=c._reactRootContainer;if(g){var I=g;if(typeof m=="function"){var N=m;m=function(){var L=Oc(I);N.call(L)}}Tc(s,I,a,m)}else I=u3(c,s,a,m,h);return Oc(I)}z_=function(a){switch(a.tag){case 3:var s=a.stateNode;if(s.current.memoizedState.isDehydrated){var c=Ns(s.pendingLanes);c!==0&&(rh(s,c|1),ar(s,ft()),(We&6)===0&&(Na=ft()+500,Di()))}break;case 13:So(function(){var h=si(a,1);if(h!==null){var m=zt();mn(h,a,1,m)}}),Cp(a,1)}},nh=function(a){if(a.tag===13){var s=si(a,134217728);if(s!==null){var c=zt();mn(s,a,134217728,c)}Cp(a,134217728)}},V_=function(a){if(a.tag===13){var s=$i(a),c=si(a,s);if(c!==null){var h=zt();mn(c,a,s,h)}Cp(a,s)}},K_=function(){return Ke},Y_=function(a,s){var c=Ke;try{return Ke=a,s()}finally{Ke=c}},Yd=function(a,s,c){switch(s){case"input":if(E(a,c),s=c.name,c.type==="radio"&&s!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<c.length;s++){var h=c[s];if(h!==a&&h.form===a.form){var m=zl(h);if(!m)throw Error(r(90));_t(h),E(h,m)}}}break;case"textarea":He(a,c);break;case"select":s=c.value,s!=null&&ie(a,!!c.multiple,s,!1)}},k_=Sp,L_=So;var l3={usingClientEntryPoint:!1,Events:[Js,_a,zl,P_,N_,Sp]},cu={findFiberByHostInstance:vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},c3={bundleType:cu.bundleType,version:cu.version,rendererPackageName:cu.rendererPackageName,rendererConfig:cu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=F_(a),a===null?null:a.stateNode},findFiberByHostInstance:cu.findFiberByHostInstance||s3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{xl=Cc.inject(c3),Ln=Cc}catch{}}return sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l3,sr.createPortal=function(a,s){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Np(s))throw Error(r(200));return a3(a,s,null,c)},sr.createRoot=function(a,s){if(!Np(a))throw Error(r(299));var c=!1,h="",m=f1;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),s=Ap(a,1,!1,null,null,c,!1,h,m),a[ni]=s.current,Vs(a.nodeType===8?a.parentNode:a),new Pp(s)},sr.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=F_(s),a=a===null?null:a.stateNode,a},sr.flushSync=function(a){return So(a)},sr.hydrate=function(a,s,c){if(!Rc(s))throw Error(r(200));return Ac(null,a,s,!0,c)},sr.hydrateRoot=function(a,s,c){if(!Np(a))throw Error(r(405));var h=c!=null&&c.hydratedSources||null,m=!1,g="",I=f1;if(c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onRecoverableError!==void 0&&(I=c.onRecoverableError)),s=l1(s,null,a,1,c??null,m,!1,g,I),a[ni]=s.current,Vs(a),h)for(a=0;a<h.length;a++)c=h[a],m=c._getVersion,m=m(c._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[c,m]:s.mutableSourceEagerHydrationData.push(c,m);return new xc(s)},sr.render=function(a,s,c){if(!Rc(s))throw Error(r(200));return Ac(null,a,s,!1,c)},sr.unmountComponentAtNode=function(a){if(!Rc(a))throw Error(r(40));return a._reactRootContainer?(So(function(){Ac(null,null,a,!1,function(){a._reactRootContainer=null,a[ni]=null})}),!0):!1},sr.unstable_batchedUpdates=Sp,sr.unstable_renderSubtreeIntoContainer=function(a,s,c,h){if(!Rc(c))throw Error(r(200));if(a==null||a._reactInternals===void 0)throw Error(r(38));return Ac(a,s,c,!1,h)},sr.version="18.3.1-next-f1338f8080-20240426",sr}var w1;function P2(){if(w1)return jp.exports;w1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jp.exports=g3(),jp.exports}var b1;function _3(){if(b1)return Pc;b1=1;var t=P2();return Pc.createRoot=t.createRoot,Pc.hydrateRoot=t.hydrateRoot,Pc}var w3=_3(),Ve=pg();const du=cd(Ve);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),E3=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),E1=t=>{const e=E3(t);return e.charAt(0).toUpperCase()+e.slice(1)},N2=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var S3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=Ve.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:i,iconNode:l,...f},p)=>Ve.createElement("svg",{ref:p,...S3,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:N2("lucide",o),...f},[...l.map(([u,d])=>Ve.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=(t,e)=>{const r=Ve.forwardRef(({className:n,...o},i)=>Ve.createElement(I3,{ref:i,iconNode:e,className:N2(`lucide-${b3(E1(t))}`,`lucide-${t}`,n),...o}));return r.displayName=E1(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],O3=Pr("chevron-down",T3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],R3=Pr("chevron-up",x3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],C3=Pr("copy",A3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],N3=Pr("eye-off",P3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],L3=Pr("eye",k3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],D3=Pr("lock",j3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],F3=Pr("log-out",U3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],B3=Pr("pen",M3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],$3=Pr("refresh-cw",q3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],k2=Pr("rotate-ccw",W3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],G3=Pr("save",H3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],L2=Pr("search",z3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],K3=Pr("user",V3);function Y3({onLogin:t}){const[e,r]=Ve.useState(""),[n,o]=Ve.useState(""),[i,l]=Ve.useState(!1),[f,p]=Ve.useState(""),[u,d]=Ve.useState(!1),v="admin",y="123456",_=w=>{w.preventDefault(),p(""),d(!0);try{if(e===v&&n===y)localStorage.setItem("isLoggedIn","true"),localStorage.setItem("username",e),t();else throw new Error("")}catch(S){p(S instanceof Error?S.message:""),d(!1)}};return H.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:H.jsxs("div",{className:"w-[400px] bg-white border border-gray-200 rounded-lg p-8",children:[H.jsx("h1",{className:"text-center mb-8 text-blue-600",children:""}),H.jsxs("form",{onSubmit:_,className:"space-y-4",children:[H.jsx("div",{children:H.jsxs("div",{className:"relative",children:[H.jsx(K3,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),H.jsx("input",{type:"text",value:e,onChange:w=>r(w.target.value),placeholder:"",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded focus:outline-none focus:border-blue-500"})]})}),H.jsx("div",{children:H.jsxs("div",{className:"relative",children:[H.jsx(D3,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),H.jsx("input",{type:i?"text":"password",value:n,onChange:w=>o(w.target.value),placeholder:"",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded focus:outline-none focus:border-blue-500"}),H.jsx("button",{type:"button",onClick:()=>l(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?H.jsx(N3,{size:20}):H.jsx(L3,{size:20})})]})}),f&&H.jsx("div",{className:"text-red-600 text-center",children:f}),H.jsx("button",{type:"submit",disabled:u,className:"w-full py-3 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-blue-400 transition-colors flex items-center justify-center",children:u?H.jsxs(H.Fragment,{children:[H.jsx("span",{className:"inline-block w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"..."]}):""})]}),H.jsx("div",{className:"mt-4 text-center text-gray-500",children:"admin / 123456"})]})})}P2();function J3(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Array(12).fill(0);let I0=1;class Q3{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:n,...o}=e,i=typeof e?.id=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:I0++,l=this.toasts.find(p=>p.id===i),f=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),l?this.toasts=this.toasts.map(p=>p.id===i?(this.publish({...p,...e,id:i,title:n}),{...p,...e,id:i,dismissible:f,title:n}):p):this.addToast({title:n,...o,dismissible:f,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const o=Promise.resolve(e instanceof Function?e():e);let i=n!==void 0,l;const f=o.then(async u=>{if(l=["resolve",u],du.isValidElement(u))i=!1,this.create({id:n,type:"default",message:u});else if(Z3(u)&&!u.ok){i=!1;const v=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,y=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,w=typeof v=="object"&&!du.isValidElement(v)?v:{message:v};this.create({id:n,type:"error",description:y,...w})}else if(u instanceof Error){i=!1;const v=typeof r.error=="function"?await r.error(u):r.error,y=typeof r.description=="function"?await r.description(u):r.description,w=typeof v=="object"&&!du.isValidElement(v)?v:{message:v};this.create({id:n,type:"error",description:y,...w})}else if(r.success!==void 0){i=!1;const v=typeof r.success=="function"?await r.success(u):r.success,y=typeof r.description=="function"?await r.description(u):r.description,w=typeof v=="object"&&!du.isValidElement(v)?v:{message:v};this.create({id:n,type:"success",description:y,...w})}}).catch(async u=>{if(l=["reject",u],r.error!==void 0){i=!1;const d=typeof r.error=="function"?await r.error(u):r.error,v=typeof r.description=="function"?await r.description(u):r.description,_=typeof d=="object"&&!du.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:v,..._})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),p=()=>new Promise((u,d)=>f.then(()=>l[0]==="reject"?d(l[1]):u(l[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:p}:Object.assign(n,{unwrap:p})},this.custom=(e,r)=>{const n=r?.id||I0++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Vr=new Q3,X3=(t,e)=>{const r=e?.id||I0++;return Vr.addToast({title:t,...e,id:r}),r},Z3=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",ek=X3,tk=()=>Vr.toasts,rk=()=>Vr.getActiveToasts(),yi=Object.assign(ek,{success:Vr.success,info:Vr.info,warning:Vr.warning,error:Vr.error,custom:Vr.custom,message:Vr.message,promise:Vr.promise,dismiss:Vr.dismiss,loading:Vr.loading},{getHistory:tk,getToasts:rk});J3("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");var j2="@cloudbase/js-sdk";function nk(t){j2=t}function fd(){return j2}var D2="https:";function ik(t){D2=t}function ok(){return D2}var dd="https://support.qq.com/products/148793",_r={INVALID_PARAMS:"INVALID_PARAMS",INVALID_OPERATION:"INVALID_OPERATION",OPERATION_FAIL:"OPERATION_FAIL"},Ju;(function(t){t.local="local",t.none="none",t.session="session"})(Ju||(Ju={}));var vg=(function(){function t(){}return t})(),U2=(function(){function t(){}return t})();function Au(t,e,r){r===void 0&&(r={});var n=/\?/.test(e),o="";for(var i in r)o===""?!n&&(e+="?"):o+="&",o+=i+"="+encodeURIComponent(r[i]);return e+=o,/^http(s)?\:\/\//.test(e)?e:""+t+e}const ak=Object.freeze(Object.defineProperty({__proto__:null,AbstractSDKRequest:vg,AbstractStorage:U2,get StorageType(){return Ju},formatUrl:Au},Symbol.toStringTag,{value:"Module"}));function F2(t){return Object.prototype.toString.call(t)==="[object Array]"}function M2(t){return typeof t=="string"}function sk(t){return Object.prototype.toString.call(t)==="[object Object]"}function uk(t,e){return t instanceof e}function B2(t){return Object.prototype.toString.call(t)==="[object FormData]"}function lk(){return Math.random().toString(16).slice(2)}function q2(){var t=new Date().getTime(),e=Date?.now&&Date.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var n=Math.random()*16;return t>0?(n=(t+n)%16|0,t=Math.floor(t/16)):(n=(e+n)%16|0,e=Math.floor(e/16)),(r==="x"?n:n&7|8).toString(16)})}function $2(t,e,r){r===void 0&&(r={});var n=/\?/.test(e),o="";return Object.keys(r).forEach(function(i){o===""?!n&&(e+="?"):o+="&",o+="".concat(i,"=").concat(encodeURIComponent(r[i]))}),e+=o,/^http(s)?:\/\//.test(e)?e:"".concat(t).concat(e)}function ck(t){t===void 0&&(t={});var e=[];return Object.keys(t).forEach(function(r){e.push("".concat(r,"=").concat(encodeURIComponent(t[r])))}),e.join("&")}function W2(t,e,r){if(r===void 0&&(r=null),t&&typeof t=="function")return t(e,r);if(e)throw e;return r}function as(t,e){console.warn("[".concat(fd(),"][").concat(t,"]:").concat(e))}var fk=function(t){t=t.replace(/^\?/,"");var e={},r=t.split("&");return r.forEach(function(n){var o=n.split("="),i=o[0],l=o[1];i=decodeURIComponent(i),l=decodeURIComponent(l),i&&(e[i]?Array.isArray(e[i])?e[i].push(l):e[i]=[e[i],l]:e[i]=l)}),e},dk=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Bt=function(){return Bt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Bt.apply(this,arguments)},Fp=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function p(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,p)}u((n=n.apply(t,e||[])).next())})},Mp=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return p([u,d])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},hk=(function(t){dk(e,t);function e(r){var n=t.call(this)||this,o=r.timeout,i=r.timeoutMsg,l=r.restrictedMethods;return n.timeout=o||0,n.timeoutMsg=i||"",n.restrictedMethods=l||["get","post","upload","download"],n}return e.prototype.get=function(r){return this.request(Bt(Bt({},r),{method:"get"}),this.restrictedMethods.includes("get"))},e.prototype.post=function(r){return this.request(Bt(Bt({},r),{method:"post"}),this.restrictedMethods.includes("post"))},e.prototype.put=function(r){return this.request(Bt(Bt({},r),{method:"put"}))},e.prototype.upload=function(r){var n=r.data,o=r.file,i=r.name,l=r.method,f=r.headers,p=f===void 0?{}:f,u={post:"post",put:"put"}[l?.toLowerCase()]||"put",d=new FormData;return u==="post"?(Object.keys(n).forEach(function(v){d.append(v,n[v])}),d.append("key",i),d.append("file",o),this.request(Bt(Bt({},r),{data:d,method:u}),this.restrictedMethods.includes("upload"))):this.request(Bt(Bt({},r),{method:"put",headers:p,body:o}),this.restrictedMethods.includes("upload"))},e.prototype.download=function(r){return Fp(this,void 0,void 0,function(){var n,o,i,l;return Mp(this,function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),[4,this.get(Bt(Bt({},r),{headers:{},responseType:"blob"}))];case 1:return n=f.sent().data,o=window.URL.createObjectURL(new Blob([n])),i=decodeURIComponent(new URL(r.url).pathname.split("/").pop()||""),l=document.createElement("a"),l.href=o,l.setAttribute("download",i),l.style.display="none",document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(o),document.body.removeChild(l),[3,3];case 2:return f.sent(),[3,3];case 3:return[2,new Promise(function(p){p({statusCode:200,tempFilePath:r.url})})]}})})},e.prototype.fetch=function(r){var n;return Fp(this,void 0,void 0,function(){var o,i,l,f,p,u,d,v,y,_,w,S,T,O=this;return Mp(this,function(x){switch(x.label){case 0:return o=new AbortController,i=r.url,l=r.enableAbort,f=l===void 0?!1:l,p=r.stream,u=p===void 0?!1:p,d=r.signal,v=r.timeout,y=r.shouldThrowOnError,_=y===void 0?!0:y,w=v??this.timeout,d&&(d.aborted&&o.abort(),d.addEventListener("abort",function(){return o.abort()})),S=null,f&&w&&(S=setTimeout(function(){console.warn(O.timeoutMsg),o.abort(new Error(O.timeoutMsg))},w)),[4,fetch(i,Bt(Bt({},r),{signal:o.signal})).then(function(A){return Fp(O,void 0,void 0,function(){var C,U,q;return Mp(this,function(Y){switch(Y.label){case 0:return clearTimeout(S),_?A.ok?(C=A,[3,3]):[3,1]:[3,4];case 1:return q=(U=Promise).reject,[4,A.json()];case 2:C=q.apply(U,[Y.sent()]),Y.label=3;case 3:return[2,C];case 4:return[2,A]}})})}).catch(function(A){if(clearTimeout(S),_)return Promise.reject(A)})];case 1:return T=x.sent(),[2,{data:u?T.body:!((n=T.headers.get("content-type"))===null||n===void 0)&&n.includes("application/json")?T.json():T.text(),statusCode:T.status,header:T.headers}]}})})},e.prototype.request=function(r,n){var o=this;n===void 0&&(n=!1);var i=String(r.method).toLowerCase()||"get";return new Promise(function(l){var f=r.url,p=r.headers,u=p===void 0?{}:p,d=r.data,v=r.responseType,y=r.withCredentials,_=r.body,w=r.onUploadProgress,S=$2(ok(),f,i==="get"?d:{}),T=new XMLHttpRequest;T.open(i,S),v&&(T.responseType=v),Object.keys(u).forEach(function(A){T.setRequestHeader(A,u[A])});var O;w&&T.upload.addEventListener("progress",w),T.onreadystatechange=function(){var A={};if(T.readyState===4){var C=T.getAllResponseHeaders(),U=C.trim().split(/[\r\n]+/),q={};U.forEach(function(Y){var J=Y.split(": "),k=J.shift().toLowerCase(),W=J.join(": ");q[k]=W}),A.header=q,A.statusCode=T.status;try{A.data=v==="blob"?T.response:JSON.parse(T.responseText)}catch{A.data=v==="blob"?T.response:T.responseText}clearTimeout(O),l(A)}},n&&o.timeout&&(O=setTimeout(function(){console.warn(o.timeoutMsg),T.abort()},o.timeout));var x;B2(d)?x=d:u["content-type"]==="application/x-www-form-urlencoded"?x=ck(d):_?x=_:x=d?JSON.stringify(d):void 0,y&&(T.withCredentials=!0),T.send(x)})},e})(vg);function pk(){var t={type:"default",root:window,reqClass:hk,wsClass:WebSocket,localStorage};return t}var T0=function(){return T0=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},T0.apply(this,arguments)},O0;(function(t){t.WEB="web",t.WX_MP="wx_mp"})(O0||(O0={}));function vk(t,e){for(var r=F2(t)?t:[t],n=0,o=r;n<o.length;n++){var i=o[n],l=i.isMatch,f=i.genAdapter,p=i.runtime;if(l())return{adapter:T0({isMatch:l},f(e)),runtime:p}}}function yk(){return{adapter:pk(),runtime:O0.WEB}}var Nc={},mk=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Bp=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function p(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,p)}u((n=n.apply(t,[])).next())})},qp=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return p([u,d])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},$p=(function(t){mk(e,t);function e(r){var n=t.call(this)||this;return n.root=r,r.tcbCacheObject||(r.tcbCacheObject={}),n}return e.prototype.setItem=function(r,n){this.root.tcbCacheObject[r]=n},e.prototype.getItem=function(r){return this.root.tcbCacheObject[r]},e.prototype.removeItem=function(r){delete this.root.tcbCacheObject[r]},e.prototype.clear=function(){delete this.root.tcbCacheObject},e})(U2);function gk(t,e){switch(t){case"local":return e.localStorage?e.localStorage:(as(_r.INVALID_PARAMS,"localStorage is not supported on current platform"),new $p(e.root));case"none":return new $p(e.root);default:return e.localStorage?e.localStorage:(as(_r.INVALID_PARAMS,"localStorage is not supported on current platform"),new $p(e.root))}}var _k=(function(){function t(e){this.keys={};var r=e.persistence,n=e.platformInfo,o=n===void 0?{}:n,i=e.keys,l=i===void 0?{}:i;this.platformInfo=o,this.storage||(this.persistenceTag=this.platformInfo.adapter.primaryStorage||r,this.storage=gk(this.persistenceTag,this.platformInfo.adapter),this.keys=l)}return Object.defineProperty(t.prototype,"mode",{get:function(){return this.storage.mode||"sync"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"persistence",{get:function(){return this.persistenceTag},enumerable:!1,configurable:!0}),t.prototype.setStore=function(e,r,n){if(this.mode==="async"){as(_r.INVALID_OPERATION,"current platform's storage is asynchronous, please use setStoreAsync insteed");return}if(this.storage)try{var o={version:n||"localCachev1",content:r};this.storage.setItem(e,JSON.stringify(o))}catch(i){throw new Error(JSON.stringify({code:_r.OPERATION_FAIL,msg:"[".concat(fd(),"][").concat(_r.OPERATION_FAIL,"]setStore failed"),info:i}))}},t.prototype.setStoreAsync=function(e,r,n){return Bp(this,void 0,void 0,function(){var o;return qp(this,function(i){switch(i.label){case 0:if(!this.storage)return[2];i.label=1;case 1:return i.trys.push([1,3,,4]),o={version:n||"localCachev1",content:r},[4,this.storage.setItem(e,JSON.stringify(o))];case 2:return i.sent(),[3,4];case 3:return i.sent(),[2];case 4:return[2]}})})},t.prototype.getStore=function(e,r){var n;if(this.mode==="async"){as(_r.INVALID_OPERATION,"current platform's storage is asynchronous, please use getStoreAsync insteed");return}try{if(typeof process<"u"&&(!((n=Nc)===null||n===void 0)&&n.tcb_token))return Nc.tcb_token;if(!this.storage)return""}catch{return""}r=r||"localCachev1";var o=this.storage.getItem(e);if(!o)return"";if(o.indexOf(r)>=0){var i=JSON.parse(o);return i.content}return""},t.prototype.getStoreAsync=function(e,r){var n;return Bp(this,void 0,void 0,function(){var o,i;return qp(this,function(l){switch(l.label){case 0:try{if(typeof process<"u"&&(!((n=Nc)===null||n===void 0)&&n.tcb_token))return[2,Nc.tcb_token];if(!this.storage)return[2,""]}catch{return[2,""]}return r=r||"localCachev1",[4,this.storage.getItem(e)];case 1:return o=l.sent(),o?o.indexOf(r)>=0?(i=JSON.parse(o),[2,i.content]):[2,""]:[2,""]}})})},t.prototype.removeStore=function(e){if(this.mode==="async"){as(_r.INVALID_OPERATION,"current platform's storage is asynchronous, please use removeStoreAsync insteed");return}this.storage.removeItem(e)},t.prototype.removeStoreAsync=function(e){return Bp(this,void 0,void 0,function(){return qp(this,function(r){switch(r.label){case 0:return[4,this.storage.removeItem(e)];case 1:return r.sent(),[2]}})})},t})(),wk=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),bk=function(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))};function Ek(t,e,r){r[t]=r[t]||[],r[t].push(e)}function Sk(t,e,r){if(r?.[t]){var n=r[t].indexOf(e);n!==-1&&r[t].splice(n,1)}}var H2=(function(){function t(e,r){this.data=r||null,this.name=e}return t})(),Ik=(function(t){wk(e,t);function e(r,n){var o=t.call(this,"error",{error:r,data:n})||this;return o.error=r,o}return e})(H2),G2=(function(){function t(){this.listeners={}}return t.prototype.on=function(e,r){return Ek(e,r,this.listeners),this},t.prototype.off=function(e,r){return Sk(e,r,this.listeners),this},t.prototype.fire=function(e,r){if(uk(e,Ik))return console.error(e.error),this;var n=M2(e)?new H2(e,r||{}):e,o=n.name;if(this.listens(o)){n.target=this;for(var i=this.listeners[o]?bk([],this.listeners[o],!0):[],l=0,f=i;l<f.length;l++){var p=f[l];p.call(this,n)}}return this},t.prototype.listens=function(e){return this.listeners[e]&&this.listeners[e].length>0},t})(),hd=new G2,pd="lang_change";typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.indexOf("Firefox");function vd(t){return t.mode,t.customInfo,t.title,t.messages,function(e,r,n){}}function x0(t){this.message=t}x0.prototype=new Error,x0.prototype.name="InvalidCharacterError";typeof window<"u"&&window.atob&&window.atob.bind(window);function S1(t){this.message=t}S1.prototype=new Error,S1.prototype.name="InvalidTokenError";var xf=function(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))},Rf=_r,I1={};function Tk(t,e){var r=e.name,n=e.namespace,o=e.entity,i=e.injectEvents,l=e.IIFE,f=l===void 0?!1:l;if(I1[r]||n&&t[n])throw new Error(JSON.stringify({code:Rf.INVALID_OPERATION,msg:"Duplicate component ".concat(r)}));if(f){if(!o||typeof o!="function")throw new Error(JSON.stringify({code:Rf.INVALID_PARAMS,msg:"IIFE component's entity must be a function"}));o.call(t)}if(I1[r]=e,n?t.prototype[n]=o:z2(t.prototype,o),i){var p=i.bus,u=i.events;if(!p||!u||u.length===0)return;var d=t.prototype.fire||function(){};t.prototype.events||(t.prototype.events={});var v=t.prototype.events||{};v[r]?t.prototype.events[r].events=xf(xf([],t.prototype.events[r].events,!0),u,!0):t.prototype.events[r]={bus:p,events:u},t.prototype.fire=function(y,_){d(y,_);for(var w=Object.keys(this.events),S=0,T=w;S<T.length;S++){var O=T[S],x=this.events[O],A=x.bus,C=x.events;if(C.includes(y)){A.fire(y,_);break}}}}}function z2(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:{var r=e;return new Date(r.getTime())}case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(var n=Object.keys(e),o=0,i=n;o<i.length;o++){var l=i[o];Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=z2(t[l],e[l]))}return t}function Ok(t,e){var r=e.entity,n=e.target;if(Object.prototype.hasOwnProperty.call(t,n))throw new Error(JSON.stringify({code:Rf.INVALID_OPERATION,msg:"target:".concat(n," is not exist")}));var o=t.prototype[n];if(typeof o!="function")throw new Error(JSON.stringify({code:Rf.INVALID_OPERATION,msg:"target:".concat(n," is not a function which is the only type supports hook")}));t.prototype[n]=function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];return r.call.apply(r,xf([this],i,!1)),o.call.apply(o,xf([this],i,!1))}}/**
 * @license
 * web-streams-polyfill v4.2.0
 * Copyright 2025 Mattias Buelens, Diwank Singh Tomer and other contributors.
 * This code is released under the MIT license.
 * SPDX-License-Identifier: MIT
 */function Qu(){}function It(t){return typeof t=="object"&&t!==null||typeof t=="function"}const V2=Qu;function qe(t,e){try{Object.defineProperty(t,"name",{value:e,configurable:!0})}catch{}}const yg=Promise,xk=Promise.resolve.bind(yg),Rk=Promise.prototype.then,Ak=Promise.reject.bind(yg),Ck=xk;function mt(t){return new yg(t)}function $e(t){return mt(e=>e(t))}function we(t){return Ak(t)}function Jn(t,e,r){return Rk.call(t,e,r)}function wr(t,e,r){Jn(Jn(t,e,r),void 0,V2)}function Wp(t,e){wr(t,e)}function R0(t,e){wr(t,void 0,e)}function bi(t,e,r){return Jn(t,e,r)}function ws(t){Jn(t,void 0,V2)}let Vo=t=>{if(typeof queueMicrotask=="function")Vo=queueMicrotask;else{const e=$e(void 0);Vo=r=>Jn(e,r)}return Vo(t)};function Xo(t,e,r){if(typeof t!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(t,e,r)}function Si(t,e,r){try{return $e(Xo(t,e,r))}catch(n){return we(n)}}class nn{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){const r=this._back;let n=r;r._elements.length===16383&&(n={_elements:[],_next:void 0}),r._elements.push(e),n!==r&&(this._back=n,r._next=n),++this._size}shift(){const e=this._front;let r=e;const n=this._cursor;let o=n+1;const i=e._elements,l=i[n];return o===16384&&(r=e._next,o=0),--this._size,this._cursor=o,e!==r&&(this._front=r),i[n]=void 0,l}forEach(e){let r=this._cursor,n=this._front,o=n._elements;for(;!(r===o.length&&n._next===void 0||r===o.length&&(n=n._next,o=n._elements,r=0,o.length===0));)e(o[r]),++r}peek(){const e=this._front,r=this._cursor;return e._elements[r]}}const K2=Symbol("[[AbortSteps]]"),Y2=Symbol("[[ErrorSteps]]"),mg=Symbol("[[CancelSteps]]"),gg=Symbol("[[PullSteps]]"),_g=Symbol("[[ReleaseSteps]]");function J2(t,e){t._ownerReadableStream=e,e._reader=t,e._state==="readable"?A0(t):e._state==="closed"?(function(r){A0(r),X2(r)})(t):Q2(t,e._storedError)}function wg(t,e){return Tn(t._ownerReadableStream,e)}function _i(t){const e=t._ownerReadableStream;e._state==="readable"?bg(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):(function(r,n){Q2(r,n)})(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._readableStreamController[_g](),e._reader=void 0,t._ownerReadableStream=void 0}function Af(t){return new TypeError("Cannot "+t+" a stream using a released reader")}function A0(t){t._closedPromise=mt((e,r)=>{t._closedPromise_resolve=e,t._closedPromise_reject=r})}function Q2(t,e){A0(t),bg(t,e)}function bg(t,e){t._closedPromise_reject!==void 0&&(ws(t._closedPromise),t._closedPromise_reject(e),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0)}function X2(t){t._closedPromise_resolve!==void 0&&(t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0)}const T1=Number.isFinite||function(t){return typeof t=="number"&&isFinite(t)},Pk=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};function wi(t,e){if(t!==void 0&&typeof(r=t)!="object"&&typeof r!="function")throw new TypeError(`${e} is not an object.`);var r}function on(t,e){if(typeof t!="function")throw new TypeError(`${e} is not a function.`)}function Z2(t,e){if(!(function(r){return typeof r=="object"&&r!==null||typeof r=="function"})(t))throw new TypeError(`${e} is not an object.`)}function Zo(t,e,r){if(t===void 0)throw new TypeError(`Parameter ${e} is required in '${r}'.`)}function O1(t,e,r){if(t===void 0)throw new TypeError(`${e} is required in '${r}'.`)}function ex(t){return Number(t)}function x1(t){return t===0?0:t}function Eg(t,e){const r=Number.MAX_SAFE_INTEGER;let n=Number(t);if(n=x1(n),!T1(n))throw new TypeError(`${e} is not a finite number`);if(n=(function(o){return x1(Pk(o))})(n),n<0||n>r)throw new TypeError(`${e} is outside the accepted range of 0 to ${r}, inclusive`);return T1(n)&&n!==0?n:0}function Sg(t,e){if(!Ki(t))throw new TypeError(`${e} is not a ReadableStream.`)}function ss(t){return new Do(t)}function tx(t,e){t._reader._readRequests.push(e)}function Ig(t,e,r){const n=t._reader._readRequests.shift();r?n._closeSteps():n._chunkSteps(e)}function yd(t){return t._reader._readRequests.length}function rx(t){const e=t._reader;return e!==void 0&&!!eo(e)}class Do{constructor(e){if(Zo(e,1,"ReadableStreamDefaultReader"),Sg(e,"First parameter"),to(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");J2(this,e),this._readRequests=new nn}get closed(){return eo(this)?this._closedPromise:we(kc("closed"))}cancel(e=void 0){return eo(this)?this._ownerReadableStream===void 0?we(Af("cancel")):wg(this,e):we(kc("cancel"))}read(){if(!eo(this))return we(kc("read"));if(this._ownerReadableStream===void 0)return we(Af("read from"));let e,r;const n=mt((o,i)=>{e=o,r=i});return Xu(this,{_chunkSteps:o=>e({value:o,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:o=>r(o)}),n}releaseLock(){if(!eo(this))throw kc("releaseLock");this._ownerReadableStream!==void 0&&(function(e){_i(e);const r=new TypeError("Reader was released");nx(e,r)})(this)}}function eo(t){return!!It(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readRequests")&&t instanceof Do}function Xu(t,e){const r=t._ownerReadableStream;r._disturbed=!0,r._state==="closed"?e._closeSteps():r._state==="errored"?e._errorSteps(r._storedError):r._readableStreamController[gg](e)}function nx(t,e){const r=t._readRequests;t._readRequests=new nn,r.forEach(n=>{n._errorSteps(e)})}function kc(t){return new TypeError(`ReadableStreamDefaultReader.prototype.${t} can only be used on a ReadableStreamDefaultReader`)}var Hp,Gp,zp;function Cu(t){return t.slice()}function ix(t,e,r,n,o){new Uint8Array(t).set(new Uint8Array(r,n,o),e)}Object.defineProperties(Do.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),qe(Do.prototype.cancel,"cancel"),qe(Do.prototype.read,"read"),qe(Do.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Do.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});let ea=t=>(ea=typeof t.transfer=="function"?e=>e.transfer():typeof structuredClone=="function"?e=>structuredClone(e,{transfer:[e]}):e=>e,ea(t)),ta=t=>(ta=typeof t.detached=="boolean"?e=>e.detached:e=>e.byteLength===0,ta(t));function ox(t,e,r){if(t.slice)return t.slice(e,r);const n=r-e,o=new ArrayBuffer(n);return ix(o,0,t,e,n),o}function Pu(t,e){const r=t[e];if(r!=null){if(typeof r!="function")throw new TypeError(`${String(e)} is not a function`);return r}}function R1(t){try{const e=t.done,r=t.value;return Jn(Ck(r),n=>({done:e,value:n}))}catch(e){return we(e)}}const dl=(zp=(Hp=Symbol.asyncIterator)!==null&&Hp!==void 0?Hp:(Gp=Symbol.for)===null||Gp===void 0?void 0:Gp.call(Symbol,"Symbol.asyncIterator"))!==null&&zp!==void 0?zp:"@@asyncIterator";function ax(t,e="sync",r){if(r===void 0)if(e==="async"){if((r=Pu(t,dl))===void 0)return(function(o){const i={next(){let l;try{l=sx(o)}catch(f){return we(f)}return R1(l)},return(l){let f;try{const p=Pu(o.iterator,"return");if(p===void 0)return $e({done:!0,value:l});f=Xo(p,o.iterator,[l])}catch(p){return we(p)}return It(f)?R1(f):we(new TypeError("The iterator.return() method must return an object"))}};return{iterator:i,nextMethod:i.next,done:!1}})(ax(t,"sync",Pu(t,Symbol.iterator)))}else r=Pu(t,Symbol.iterator);if(r===void 0)throw new TypeError("The object is not iterable");const n=Xo(r,t,[]);if(!It(n))throw new TypeError("The iterator method must return an object");return{iterator:n,nextMethod:n.next,done:!1}}function sx(t){const e=Xo(t.nextMethod,t.iterator,[]);if(!It(e))throw new TypeError("The iterator.next() method must return an object");return e}class ux{constructor(e,r){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=r}next(){const e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?bi(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){const r=()=>this._returnSteps(e);return this._ongoingPromise=this._ongoingPromise?bi(this._ongoingPromise,r,r):r(),this._ongoingPromise}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const e=this._reader;let r,n;const o=mt((i,l)=>{r=i,n=l});return Xu(e,{_chunkSteps:i=>{this._ongoingPromise=void 0,Vo(()=>r({value:i,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,_i(e),r({value:void 0,done:!0})},_errorSteps:i=>{this._ongoingPromise=void 0,this._isFinished=!0,_i(e),n(i)}}),o}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;const r=this._reader;if(!this._preventCancel){const n=wg(r,e);return _i(r),bi(n,()=>({value:e,done:!0}))}return _i(r),$e({value:e,done:!0})}}const lx={next(){return A1(this)?this._asyncIteratorImpl.next():we(C1("next"))},return(t){return A1(this)?this._asyncIteratorImpl.return(t):we(C1("return"))},[dl](){return this}};function A1(t){if(!It(t)||!Object.prototype.hasOwnProperty.call(t,"_asyncIteratorImpl"))return!1;try{return t._asyncIteratorImpl instanceof ux}catch{return!1}}function C1(t){return new TypeError(`ReadableStreamAsyncIterator.${t} can only be used on a ReadableSteamAsyncIterator`)}Object.defineProperty(lx,dl,{enumerable:!1});const cx=Number.isNaN||function(t){return t!=t};function P1(t){const e=ox(t.buffer,t.byteOffset,t.byteOffset+t.byteLength);return new Uint8Array(e)}function C0(t){const e=t._queue.shift();return t._queueTotalSize-=e.size,t._queueTotalSize<0&&(t._queueTotalSize=0),e.value}function Tg(t,e,r){if(typeof(n=r)!="number"||cx(n)||n<0||r===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var n;t._queue.push({value:e,size:r}),t._queueTotalSize+=r}function co(t){t._queue=new nn,t._queueTotalSize=0}function fx(t){return t===DataView}class Qa{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!Vp(this))throw Kp("view");return this._view}respond(e){if(!Vp(this))throw Kp("respond");if(Zo(e,1,"respond"),e=Eg(e,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(ta(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");df(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!Vp(this))throw Kp("respondWithNewView");if(Zo(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(ta(e.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");hf(this._associatedReadableByteStreamController,e)}}Object.defineProperties(Qa.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),qe(Qa.prototype.respond,"respond"),qe(Qa.prototype.respondWithNewView,"respondWithNewView"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Qa.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class Xi{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!Uo(this))throw hu("byobRequest");return N0(this)}get desiredSize(){if(!Uo(this))throw hu("desiredSize");return Sx(this)}close(){if(!Uo(this))throw hu("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const e=this._controlledReadableByteStream._state;if(e!=="readable")throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);Nu(this)}enqueue(e){if(!Uo(this))throw hu("enqueue");if(Zo(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(e.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(e.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const r=this._controlledReadableByteStream._state;if(r!=="readable")throw new TypeError(`The stream (in ${r} state) is not in the readable state and cannot be enqueued to`);ff(this,e)}error(e=void 0){if(!Uo(this))throw hu("error");Zr(this,e)}[mg](e){dx(this),co(this);const r=this._cancelAlgorithm(e);return md(this),r}[gg](e){const r=this._controlledReadableByteStream;if(this._queueTotalSize>0)return void Ex(this,e);const n=this._autoAllocateChunkSize;if(n!==void 0){let o;try{o=new ArrayBuffer(n)}catch(l){return void e._errorSteps(l)}const i={buffer:o,bufferByteLength:n,byteOffset:0,byteLength:n,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(i)}tx(r,e),ia(this)}[_g](){if(this._pendingPullIntos.length>0){const e=this._pendingPullIntos.peek();e.readerType="none",this._pendingPullIntos=new nn,this._pendingPullIntos.push(e)}}}function Uo(t){return!!It(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledReadableByteStream")&&t instanceof Xi}function Vp(t){return!!It(t)&&!!Object.prototype.hasOwnProperty.call(t,"_associatedReadableByteStreamController")&&t instanceof Qa}function ia(t){if((function(r){const n=r._controlledReadableByteStream;return n._state!=="readable"||r._closeRequested||!r._started?!1:!!(rx(n)&&yd(n)>0||xg(n)&&Ox(n)>0||Sx(r)>0)})(t)){if(t._pulling)return void(t._pullAgain=!0);t._pulling=!0,wr(t._pullAlgorithm(),()=>(t._pulling=!1,t._pullAgain&&(t._pullAgain=!1,ia(t)),null),r=>(Zr(t,r),null))}}function dx(t){Og(t),t._pendingPullIntos=new nn}function hx(t,e){let r=!1;t._state==="closed"&&(r=!0);const n=px(e);e.readerType==="default"?Ig(t,n,r):(function(o,i,l){const f=o._reader,p=f._readIntoRequests.shift();l?p._closeSteps(i):p._chunkSteps(i)})(t,n,r)}function lf(t,e){for(let r=0;r<e.length;++r)hx(t,e[r])}function px(t){const e=t.bytesFilled,r=t.elementSize;return new t.viewConstructor(t.buffer,t.byteOffset,e/r)}function cf(t,e,r,n){t._queue.push({buffer:e,byteOffset:r,byteLength:n}),t._queueTotalSize+=n}function vx(t,e,r,n){let o;try{o=ox(e,r,r+n)}catch(i){throw Zr(t,i),i}cf(t,o,0,n)}function yx(t,e){e.bytesFilled>0&&vx(t,e.buffer,e.byteOffset,e.bytesFilled),us(t)}function mx(t,e){const r=Math.min(t._queueTotalSize,e.byteLength-e.bytesFilled),n=e.bytesFilled+r;let o=r,i=!1;const l=n-n%e.elementSize;l>=e.minimumFill&&(o=l-e.bytesFilled,i=!0);const f=t._queue;for(;o>0;){const p=f.peek(),u=Math.min(o,p.byteLength),d=e.byteOffset+e.bytesFilled;ix(e.buffer,d,p.buffer,p.byteOffset,u),p.byteLength===u?f.shift():(p.byteOffset+=u,p.byteLength-=u),t._queueTotalSize-=u,gx(t,u,e),o-=u}return i}function gx(t,e,r){r.bytesFilled+=e}function _x(t){t._queueTotalSize===0&&t._closeRequested?(md(t),hl(t._controlledReadableByteStream)):ia(t)}function Og(t){t._byobRequest!==null&&(t._byobRequest._associatedReadableByteStreamController=void 0,t._byobRequest._view=null,t._byobRequest=null)}function P0(t){const e=[];for(;t._pendingPullIntos.length>0&&t._queueTotalSize!==0;){const r=t._pendingPullIntos.peek();mx(t,r)&&(us(t),e.push(r))}return e}function Nk(t,e,r,n){const o=t._controlledReadableByteStream,i=e.constructor,l=(function(y){return fx(y)?1:y.BYTES_PER_ELEMENT})(i),{byteOffset:f,byteLength:p}=e,u=r*l;let d;try{d=ea(e.buffer)}catch(y){return void n._errorSteps(y)}const v={buffer:d,bufferByteLength:d.byteLength,byteOffset:f,byteLength:p,bytesFilled:0,minimumFill:u,elementSize:l,viewConstructor:i,readerType:"byob"};if(t._pendingPullIntos.length>0)return t._pendingPullIntos.push(v),void N1(o,n);if(o._state==="closed"){const y=new i(v.buffer,v.byteOffset,0);return void n._closeSteps(y)}if(t._queueTotalSize>0){if(mx(t,v)){const y=px(v);return _x(t),void n._chunkSteps(y)}if(t._closeRequested){const y=new TypeError("Insufficient bytes to fill elements in the given buffer");return Zr(t,y),void n._errorSteps(y)}}t._pendingPullIntos.push(v),N1(o,n),ia(t)}function bx(t,e){const r=t._pendingPullIntos.peek();Og(t),t._controlledReadableByteStream._state==="closed"?(function(n,o){o.readerType==="none"&&us(n);const i=n._controlledReadableByteStream;if(xg(i)){const l=[];for(;l.length<Ox(i);)l.push(us(n));lf(i,l)}})(t,r):(function(n,o,i){if(gx(0,o,i),i.readerType==="none"){yx(n,i);const p=P0(n);return void lf(n._controlledReadableByteStream,p)}if(i.bytesFilled<i.minimumFill)return;us(n);const l=i.bytesFilled%i.elementSize;if(l>0){const p=i.byteOffset+i.bytesFilled;vx(n,i.buffer,p-l,l)}i.bytesFilled-=l;const f=P0(n);hx(n._controlledReadableByteStream,i),lf(n._controlledReadableByteStream,f)})(t,e,r),ia(t)}function us(t){return t._pendingPullIntos.shift()}function md(t){t._pullAlgorithm=void 0,t._cancelAlgorithm=void 0}function Nu(t){const e=t._controlledReadableByteStream;if(!t._closeRequested&&e._state==="readable")if(t._queueTotalSize>0)t._closeRequested=!0;else{if(t._pendingPullIntos.length>0){const r=t._pendingPullIntos.peek();if(r.bytesFilled%r.elementSize!==0){const n=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Zr(t,n),n}}md(t),hl(e)}}function ff(t,e){const r=t._controlledReadableByteStream;if(t._closeRequested||r._state!=="readable")return;const{buffer:n,byteOffset:o,byteLength:i}=e;if(ta(n))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");const l=ea(n);if(t._pendingPullIntos.length>0){const f=t._pendingPullIntos.peek();if(ta(f.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");Og(t),f.buffer=ea(f.buffer),f.readerType==="none"&&yx(t,f)}rx(r)?((function(f){const p=f._controlledReadableByteStream._reader;for(;p._readRequests.length>0;){if(f._queueTotalSize===0)return;Ex(f,p._readRequests.shift())}})(t),yd(r)===0?cf(t,l,o,i):(t._pendingPullIntos.length>0&&us(t),Ig(r,new Uint8Array(l,o,i),!1))):xg(r)?(cf(t,l,o,i),lf(r,P0(t))):cf(t,l,o,i),ia(t)}function Zr(t,e){const r=t._controlledReadableByteStream;r._state==="readable"&&(dx(t),co(t),md(t),zx(r,e))}function Ex(t,e){const r=t._queue.shift();t._queueTotalSize-=r.byteLength,_x(t);const n=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);e._chunkSteps(n)}function N0(t){if(t._byobRequest===null&&t._pendingPullIntos.length>0){const e=t._pendingPullIntos.peek(),r=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled),n=Object.create(Qa.prototype);(function(o,i,l){o._associatedReadableByteStreamController=i,o._view=l})(n,t,r),t._byobRequest=n}return t._byobRequest}function Sx(t){const e=t._controlledReadableByteStream._state;return e==="errored"?null:e==="closed"?0:t._strategyHWM-t._queueTotalSize}function df(t,e){const r=t._pendingPullIntos.peek();if(t._controlledReadableByteStream._state==="closed"){if(e!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(e===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(r.bytesFilled+e>r.byteLength)throw new RangeError("bytesWritten out of range")}r.buffer=ea(r.buffer),bx(t,e)}function hf(t,e){const r=t._pendingPullIntos.peek();if(t._controlledReadableByteStream._state==="closed"){if(e.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(e.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(r.byteOffset+r.bytesFilled!==e.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.bufferByteLength!==e.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(r.bytesFilled+e.byteLength>r.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");const n=e.byteLength;r.buffer=ea(e.buffer),bx(t,n)}function Ix(t,e,r,n,o,i,l){e._controlledReadableByteStream=t,e._pullAgain=!1,e._pulling=!1,e._byobRequest=null,e._queue=e._queueTotalSize=void 0,co(e),e._closeRequested=!1,e._started=!1,e._strategyHWM=i,e._pullAlgorithm=n,e._cancelAlgorithm=o,e._autoAllocateChunkSize=l,e._pendingPullIntos=new nn,t._readableStreamController=e,wr($e(r()),()=>(e._started=!0,ia(e),null),f=>(Zr(e,f),null))}function Kp(t){return new TypeError(`ReadableStreamBYOBRequest.prototype.${t} can only be used on a ReadableStreamBYOBRequest`)}function hu(t){return new TypeError(`ReadableByteStreamController.prototype.${t} can only be used on a ReadableByteStreamController`)}function kk(t,e){if((t=`${t}`)!="byob")throw new TypeError(`${e} '${t}' is not a valid enumeration value for ReadableStreamReaderMode`);return t}function Tx(t){return new Fo(t)}function N1(t,e){t._reader._readIntoRequests.push(e)}function Ox(t){return t._reader._readIntoRequests.length}function xg(t){const e=t._reader;return e!==void 0&&!!Ho(e)}Object.defineProperties(Xi.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),qe(Xi.prototype.close,"close"),qe(Xi.prototype.enqueue,"enqueue"),qe(Xi.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Xi.prototype,Symbol.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class Fo{constructor(e){if(Zo(e,1,"ReadableStreamBYOBReader"),Sg(e,"First parameter"),to(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Uo(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");J2(this,e),this._readIntoRequests=new nn}get closed(){return Ho(this)?this._closedPromise:we(Lc("closed"))}cancel(e=void 0){return Ho(this)?this._ownerReadableStream===void 0?we(Af("cancel")):wg(this,e):we(Lc("cancel"))}read(e,r={}){if(!Ho(this))return we(Lc("read"));if(!ArrayBuffer.isView(e))return we(new TypeError("view must be an array buffer view"));if(e.byteLength===0)return we(new TypeError("view must have non-zero byteLength"));if(e.buffer.byteLength===0)return we(new TypeError("view's buffer must have non-zero byteLength"));if(ta(e.buffer))return we(new TypeError("view's buffer has been detached"));let n;try{n=(function(p,u){var d;return wi(p,u),{min:Eg((d=p?.min)!==null&&d!==void 0?d:1,`${u} has member 'min' that`)}})(r,"options")}catch(p){return we(p)}const o=n.min;if(o===0)return we(new TypeError("options.min must be greater than 0"));if((function(p){return fx(p.constructor)})(e)){if(o>e.byteLength)return we(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(o>e.length)return we(new RangeError("options.min must be less than or equal to view's length"));if(this._ownerReadableStream===void 0)return we(Af("read from"));let i,l;const f=mt((p,u)=>{i=p,l=u});return xx(this,e,o,{_chunkSteps:p=>i({value:p,done:!1}),_closeSteps:p=>i({value:p,done:!0}),_errorSteps:p=>l(p)}),f}releaseLock(){if(!Ho(this))throw Lc("releaseLock");this._ownerReadableStream!==void 0&&(function(e){_i(e);const r=new TypeError("Reader was released");Rx(e,r)})(this)}}function Ho(t){return!!It(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readIntoRequests")&&t instanceof Fo}function xx(t,e,r,n){const o=t._ownerReadableStream;o._disturbed=!0,o._state==="errored"?n._errorSteps(o._storedError):Nk(o._readableStreamController,e,r,n)}function Rx(t,e){const r=t._readIntoRequests;t._readIntoRequests=new nn,r.forEach(n=>{n._errorSteps(e)})}function Lc(t){return new TypeError(`ReadableStreamBYOBReader.prototype.${t} can only be used on a ReadableStreamBYOBReader`)}function Zu(t,e){const{highWaterMark:r}=t;if(r===void 0)return e;if(cx(r)||r<0)throw new RangeError("Invalid highWaterMark");return r}function Cf(t){const{size:e}=t;return e||(()=>1)}function Pf(t,e){wi(t,e);const r=t?.highWaterMark,n=t?.size;return{highWaterMark:r===void 0?void 0:ex(r),size:n===void 0?void 0:Lk(n,`${e} has member 'size' that`)}}function Lk(t,e){return on(t,e),r=>ex(t(r))}function jk(t,e,r){return on(t,r),n=>Si(t,e,[n])}function Dk(t,e,r){return on(t,r),()=>Si(t,e,[])}function Uk(t,e,r){return on(t,r),n=>Xo(t,e,[n])}function Fk(t,e,r){return on(t,r),(n,o)=>Si(t,e,[n,o])}function Ax(t,e){if(!Xa(t))throw new TypeError(`${e} is not a WritableStream.`)}Object.defineProperties(Fo.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),qe(Fo.prototype.cancel,"cancel"),qe(Fo.prototype.read,"read"),qe(Fo.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Fo.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});class Mo{constructor(e={},r={}){e===void 0?e=null:Z2(e,"First parameter");const n=Pf(r,"Second parameter"),o=(function(l,f){wi(l,f);const p=l?.abort,u=l?.close,d=l?.start,v=l?.type,y=l?.write;return{abort:p===void 0?void 0:jk(p,l,`${f} has member 'abort' that`),close:u===void 0?void 0:Dk(u,l,`${f} has member 'close' that`),start:d===void 0?void 0:Uk(d,l,`${f} has member 'start' that`),write:y===void 0?void 0:Fk(y,l,`${f} has member 'write' that`),type:v}})(e,"First parameter");if(Px(this),o.type!==void 0)throw new RangeError("Invalid type is specified");const i=Cf(n);(function(l,f,p,u){const d=Object.create(el.prototype);let v,y,_,w;v=f.start!==void 0?()=>f.start(d):()=>{},y=f.write!==void 0?S=>f.write(S,d):()=>$e(void 0),_=f.close!==void 0?()=>f.close():()=>$e(void 0),w=f.abort!==void 0?S=>f.abort(S):()=>$e(void 0),Fx(l,d,v,y,_,w,p,u)})(this,o,Zu(n,1),i)}get locked(){if(!Xa(this))throw Dc("locked");return ls(this)}abort(e=void 0){return Xa(this)?ls(this)?we(new TypeError("Cannot abort a stream that already has a writer")):Nf(this,e):we(Dc("abort"))}close(){return Xa(this)?ls(this)?we(new TypeError("Cannot close a stream that already has a writer")):Qn(this)?we(new TypeError("Cannot close an already-closing stream")):Nx(this):we(Dc("close"))}getWriter(){if(!Xa(this))throw Dc("getWriter");return Cx(this)}}function Cx(t){return new Yi(t)}function Px(t){t._state="writable",t._storedError=void 0,t._writer=void 0,t._writableStreamController=void 0,t._writeRequests=new nn,t._inFlightWriteRequest=void 0,t._closeRequest=void 0,t._inFlightCloseRequest=void 0,t._pendingAbortRequest=void 0,t._backpressure=!1}function Xa(t){return!!It(t)&&!!Object.prototype.hasOwnProperty.call(t,"_writableStreamController")&&t instanceof Mo}function ls(t){return t._writer!==void 0}function Nf(t,e){var r;if(t._state==="closed"||t._state==="errored")return $e(void 0);t._writableStreamController._abortReason=e,(r=t._writableStreamController._abortController)===null||r===void 0||r.abort(e);const n=t._state;if(n==="closed"||n==="errored")return $e(void 0);if(t._pendingAbortRequest!==void 0)return t._pendingAbortRequest._promise;let o=!1;n==="erroring"&&(o=!0,e=void 0);const i=mt((l,f)=>{t._pendingAbortRequest={_promise:void 0,_resolve:l,_reject:f,_reason:e,_wasAlreadyErroring:o}});return t._pendingAbortRequest._promise=i,o||Rg(t,e),i}function Nx(t){const e=t._state;if(e==="closed"||e==="errored")return we(new TypeError(`The stream (in ${e} state) is not in the writable state and cannot be closed`));const r=mt((i,l)=>{const f={_resolve:i,_reject:l};t._closeRequest=f}),n=t._writer;var o;return n!==void 0&&t._backpressure&&e==="writable"&&kg(n),Tg(o=t._writableStreamController,Ux,0),gd(o),r}function k0(t,e){t._state!=="writable"?Ag(t):Rg(t,e)}function Rg(t,e){const r=t._writableStreamController;t._state="erroring",t._storedError=e;const n=t._writer;n!==void 0&&Lx(n,e),!(function(o){return!(o._inFlightWriteRequest===void 0&&o._inFlightCloseRequest===void 0)})(t)&&r._started&&Ag(t)}function Ag(t){t._state="errored",t._writableStreamController[Y2]();const e=t._storedError;if(t._writeRequests.forEach(n=>{n._reject(e)}),t._writeRequests=new nn,t._pendingAbortRequest===void 0)return void jc(t);const r=t._pendingAbortRequest;if(t._pendingAbortRequest=void 0,r._wasAlreadyErroring)return r._reject(e),void jc(t);wr(t._writableStreamController[K2](r._reason),()=>(r._resolve(),jc(t),null),n=>(r._reject(n),jc(t),null))}function Qn(t){return t._closeRequest!==void 0||t._inFlightCloseRequest!==void 0}function jc(t){t._closeRequest!==void 0&&(t._closeRequest._reject(t._storedError),t._closeRequest=void 0);const e=t._writer;e!==void 0&&Ng(e,t._storedError)}function Cg(t,e){const r=t._writer;r!==void 0&&e!==t._backpressure&&(e?(function(n){_d(n)})(r):kg(r)),t._backpressure=e}Object.defineProperties(Mo.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),qe(Mo.prototype.abort,"abort"),qe(Mo.prototype.close,"close"),qe(Mo.prototype.getWriter,"getWriter"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Mo.prototype,Symbol.toStringTag,{value:"WritableStream",configurable:!0});class Yi{constructor(e){if(Zo(e,1,"WritableStreamDefaultWriter"),Ax(e,"First parameter"),ls(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;const r=e._state;if(r==="writable")!Qn(e)&&e._backpressure?_d(this):k1(this),pf(this);else if(r==="erroring")L0(this,e._storedError),pf(this);else if(r==="closed")k1(this),pf(n=this),$x(n);else{const o=e._storedError;L0(this,o),qx(this,o)}var n}get closed(){return xo(this)?this._closedPromise:we(Ro("closed"))}get desiredSize(){if(!xo(this))throw Ro("desiredSize");if(this._ownerWritableStream===void 0)throw ku("desiredSize");return(function(e){const r=e._ownerWritableStream,n=r._state;return n==="errored"||n==="erroring"?null:n==="closed"?0:Mx(r._writableStreamController)})(this)}get ready(){return xo(this)?this._readyPromise:we(Ro("ready"))}abort(e=void 0){return xo(this)?this._ownerWritableStream===void 0?we(ku("abort")):(function(r,n){return Nf(r._ownerWritableStream,n)})(this,e):we(Ro("abort"))}close(){if(!xo(this))return we(Ro("close"));const e=this._ownerWritableStream;return e===void 0?we(ku("close")):Qn(e)?we(new TypeError("Cannot close an already-closing stream")):kx(this)}releaseLock(){if(!xo(this))throw Ro("releaseLock");this._ownerWritableStream!==void 0&&jx(this)}write(e=void 0){return xo(this)?this._ownerWritableStream===void 0?we(ku("write to")):Dx(this,e):we(Ro("write"))}}function xo(t){return!!It(t)&&!!Object.prototype.hasOwnProperty.call(t,"_ownerWritableStream")&&t instanceof Yi}function kx(t){return Nx(t._ownerWritableStream)}function Mk(t,e){t._closedPromiseState==="pending"?Ng(t,e):(function(r,n){qx(r,n)})(t,e)}function Lx(t,e){t._readyPromiseState==="pending"?Wx(t,e):(function(r,n){L0(r,n)})(t,e)}function jx(t){const e=t._ownerWritableStream,r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Lx(t,r),Mk(t,r),e._writer=void 0,t._ownerWritableStream=void 0}function Dx(t,e){const r=t._ownerWritableStream,n=r._writableStreamController,o=(function(f,p){if(f._strategySizeAlgorithm===void 0)return 1;try{return f._strategySizeAlgorithm(p)}catch(u){return tl(f,u),1}})(n,e);if(r!==t._ownerWritableStream)return we(ku("write to"));const i=r._state;if(i==="errored")return we(r._storedError);if(Qn(r)||i==="closed")return we(new TypeError("The stream is closing or closed and cannot be written to"));if(i==="erroring")return we(r._storedError);const l=(function(f){return mt((p,u)=>{const d={_resolve:p,_reject:u};f._writeRequests.push(d)})})(r);return(function(f,p,u){try{Tg(f,p,u)}catch(v){return void tl(f,v)}const d=f._controlledWritableStream;!Qn(d)&&d._state==="writable"&&Cg(d,Pg(f)),gd(f)})(n,e,o),l}Object.defineProperties(Yi.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),qe(Yi.prototype.abort,"abort"),qe(Yi.prototype.close,"close"),qe(Yi.prototype.releaseLock,"releaseLock"),qe(Yi.prototype.write,"write"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Yi.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const Ux={};class el{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!Yp(this))throw Jp("abortReason");return this._abortReason}get signal(){if(!Yp(this))throw Jp("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(e=void 0){if(!Yp(this))throw Jp("error");this._controlledWritableStream._state==="writable"&&Bx(this,e)}[K2](e){const r=this._abortAlgorithm(e);return kf(this),r}[Y2](){co(this)}}function Yp(t){return!!It(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledWritableStream")&&t instanceof el}function Fx(t,e,r,n,o,i,l,f){e._controlledWritableStream=t,t._writableStreamController=e,e._queue=void 0,e._queueTotalSize=void 0,co(e),e._abortReason=void 0,e._abortController=(function(){if(typeof AbortController=="function")return new AbortController})(),e._started=!1,e._strategySizeAlgorithm=f,e._strategyHWM=l,e._writeAlgorithm=n,e._closeAlgorithm=o,e._abortAlgorithm=i;const p=Pg(e);Cg(t,p),wr($e(r()),()=>(e._started=!0,gd(e),null),u=>(e._started=!0,k0(t,u),null))}function kf(t){t._writeAlgorithm=void 0,t._closeAlgorithm=void 0,t._abortAlgorithm=void 0,t._strategySizeAlgorithm=void 0}function Mx(t){return t._strategyHWM-t._queueTotalSize}function gd(t){const e=t._controlledWritableStream;if(!t._started||e._inFlightWriteRequest!==void 0)return;if(e._state==="erroring")return void Ag(e);if(t._queue.length===0)return;const r=t._queue.peek().value;r===Ux?(function(n){const o=n._controlledWritableStream;(function(l){l._inFlightCloseRequest=l._closeRequest,l._closeRequest=void 0})(o),C0(n);const i=n._closeAlgorithm();kf(n),wr(i,()=>((function(l){l._inFlightCloseRequest._resolve(void 0),l._inFlightCloseRequest=void 0,l._state==="erroring"&&(l._storedError=void 0,l._pendingAbortRequest!==void 0&&(l._pendingAbortRequest._resolve(),l._pendingAbortRequest=void 0)),l._state="closed";const f=l._writer;f!==void 0&&$x(f)})(o),null),l=>((function(f,p){f._inFlightCloseRequest._reject(p),f._inFlightCloseRequest=void 0,f._pendingAbortRequest!==void 0&&(f._pendingAbortRequest._reject(p),f._pendingAbortRequest=void 0),k0(f,p)})(o,l),null))})(t):(function(n,o){const i=n._controlledWritableStream;(function(f){f._inFlightWriteRequest=f._writeRequests.shift()})(i);const l=n._writeAlgorithm(o);wr(l,()=>{(function(p){p._inFlightWriteRequest._resolve(void 0),p._inFlightWriteRequest=void 0})(i);const f=i._state;if(C0(n),!Qn(i)&&f==="writable"){const p=Pg(n);Cg(i,p)}return gd(n),null},f=>(i._state==="writable"&&kf(n),(function(p,u){p._inFlightWriteRequest._reject(u),p._inFlightWriteRequest=void 0,k0(p,u)})(i,f),null))})(t,r)}function tl(t,e){t._controlledWritableStream._state==="writable"&&Bx(t,e)}function Pg(t){return Mx(t)<=0}function Bx(t,e){const r=t._controlledWritableStream;kf(t),Rg(r,e)}function Dc(t){return new TypeError(`WritableStream.prototype.${t} can only be used on a WritableStream`)}function Jp(t){return new TypeError(`WritableStreamDefaultController.prototype.${t} can only be used on a WritableStreamDefaultController`)}function Ro(t){return new TypeError(`WritableStreamDefaultWriter.prototype.${t} can only be used on a WritableStreamDefaultWriter`)}function ku(t){return new TypeError("Cannot "+t+" a stream using a released writer")}function pf(t){t._closedPromise=mt((e,r)=>{t._closedPromise_resolve=e,t._closedPromise_reject=r,t._closedPromiseState="pending"})}function qx(t,e){pf(t),Ng(t,e)}function Ng(t,e){t._closedPromise_reject!==void 0&&(ws(t._closedPromise),t._closedPromise_reject(e),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="rejected")}function $x(t){t._closedPromise_resolve!==void 0&&(t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="resolved")}function _d(t){t._readyPromise=mt((e,r)=>{t._readyPromise_resolve=e,t._readyPromise_reject=r}),t._readyPromiseState="pending"}function L0(t,e){_d(t),Wx(t,e)}function k1(t){_d(t),kg(t)}function Wx(t,e){t._readyPromise_reject!==void 0&&(ws(t._readyPromise),t._readyPromise_reject(e),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState="rejected")}function kg(t){t._readyPromise_resolve!==void 0&&(t._readyPromise_resolve(void 0),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState="fulfilled")}Object.defineProperties(el.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(el.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const L1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:void 0,Bk=(function(){const t=L1?.DOMException;return(function(e){if(typeof e!="function"&&typeof e!="object"||e.name!=="DOMException")return!1;try{return new e,!0}catch{return!1}})(t)?t:void 0})()||(function(){const t=function(e,r){this.message=e||"",this.name=r||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return qe(t,"DOMException"),t.prototype=Object.create(Error.prototype),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,configurable:!0}),t})();function j1(t,e,r,n,o,i){const l=ss(t),f=Cx(e);t._disturbed=!0;let p=!1,u=$e(void 0);return mt((d,v)=>{let y;if(i!==void 0){if(y=()=>{const U=i.reason!==void 0?i.reason:new Bk("Aborted","AbortError"),q=[];n||q.push(()=>e._state==="writable"?Nf(e,U):$e(void 0)),o||q.push(()=>t._state==="readable"?Tn(t,U):$e(void 0)),x(()=>Promise.all(q.map(Y=>Y())),!0,U)},i.aborted)return void y();i.addEventListener("abort",y)}var _,w,S;if(O(t,l._closedPromise,U=>(n?A(!0,U):x(()=>Nf(e,U),!0,U),null)),O(e,f._closedPromise,U=>(o?A(!0,U):x(()=>Tn(t,U),!0,U),null)),_=t,w=l._closedPromise,S=()=>(r?A():x(()=>(function(U){const q=U._ownerWritableStream,Y=q._state;return Qn(q)||Y==="closed"?$e(void 0):Y==="errored"?we(q._storedError):kx(U)})(f)),null),_._state==="closed"?S():Wp(w,S),Qn(e)||e._state==="closed"){const U=new TypeError("the destination writable stream closed before all data could be piped to it");o?A(!0,U):x(()=>Tn(t,U),!0,U)}function T(){const U=u;return Jn(u,()=>U!==u?T():void 0)}function O(U,q,Y){U._state==="errored"?Y(U._storedError):R0(q,Y)}function x(U,q,Y){function J(){return wr(U(),()=>C(q,Y),k=>C(!0,k)),null}p||(p=!0,e._state!=="writable"||Qn(e)?J():Wp(T(),J))}function A(U,q){p||(p=!0,e._state!=="writable"||Qn(e)?C(U,q):Wp(T(),()=>C(U,q)))}function C(U,q){return jx(f),_i(l),i!==void 0&&i.removeEventListener("abort",y),U?v(q):d(void 0),null}ws(mt((U,q)=>{(function Y(J){J?U():Jn(p?$e(!0):Jn(f._readyPromise,()=>mt((k,W)=>{Xu(l,{_chunkSteps:F=>{u=Jn(Dx(f,F),void 0,Qu),k(!1)},_closeSteps:()=>k(!0),_errorSteps:W})})),Y,q)})(!1)}))})}class Zi{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Uc(this))throw Fc("desiredSize");return Lg(this)}close(){if(!Uc(this))throw Fc("close");if(!vs(this))throw new TypeError("The stream is not in a state that permits close");ra(this)}enqueue(e=void 0){if(!Uc(this))throw Fc("enqueue");if(!vs(this))throw new TypeError("The stream is not in a state that permits enqueue");return ps(this,e)}error(e=void 0){if(!Uc(this))throw Fc("error");Cn(this,e)}[mg](e){co(this);const r=this._cancelAlgorithm(e);return Lf(this),r}[gg](e){const r=this._controlledReadableStream;if(this._queue.length>0){const n=C0(this);this._closeRequested&&this._queue.length===0?(Lf(this),hl(r)):rl(this),e._chunkSteps(n)}else tx(r,e),rl(this)}[_g](){}}function Uc(t){return!!It(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledReadableStream")&&t instanceof Zi}function rl(t){if(Hx(t)){if(t._pulling)return void(t._pullAgain=!0);t._pulling=!0,wr(t._pullAlgorithm(),()=>(t._pulling=!1,t._pullAgain&&(t._pullAgain=!1,rl(t)),null),e=>(Cn(t,e),null))}}function Hx(t){const e=t._controlledReadableStream;return!vs(t)||!t._started?!1:to(e)&&yd(e)>0?!0:Lg(t)>0}function Lf(t){t._pullAlgorithm=void 0,t._cancelAlgorithm=void 0,t._strategySizeAlgorithm=void 0}function ra(t){if(!vs(t))return;const e=t._controlledReadableStream;t._closeRequested=!0,t._queue.length===0&&(Lf(t),hl(e))}function ps(t,e){if(!vs(t))return;const r=t._controlledReadableStream;if(to(r)&&yd(r)>0)Ig(r,e,!1);else{let n;try{n=t._strategySizeAlgorithm(e)}catch(o){throw Cn(t,o),o}try{Tg(t,e,n)}catch(o){throw Cn(t,o),o}}rl(t)}function Cn(t,e){const r=t._controlledReadableStream;r._state==="readable"&&(co(t),Lf(t),zx(r,e))}function Lg(t){const e=t._controlledReadableStream._state;return e==="errored"?null:e==="closed"?0:t._strategyHWM-t._queueTotalSize}function vs(t){const e=t._controlledReadableStream._state;return!t._closeRequested&&e==="readable"}function Gx(t,e,r,n,o,i,l){e._controlledReadableStream=t,e._queue=void 0,e._queueTotalSize=void 0,co(e),e._started=!1,e._closeRequested=!1,e._pullAgain=!1,e._pulling=!1,e._strategySizeAlgorithm=l,e._strategyHWM=i,e._pullAlgorithm=n,e._cancelAlgorithm=o,t._readableStreamController=e,wr($e(r()),()=>(e._started=!0,rl(e),null),f=>(Cn(e,f),null))}function Fc(t){return new TypeError(`ReadableStreamDefaultController.prototype.${t} can only be used on a ReadableStreamDefaultController`)}function qk(t,e){return Uo(t._readableStreamController)?(function(r){let n,o,i,l,f,p=ss(r),u=!1,d=!1,v=!1,y=!1,_=!1;const w=mt(Y=>{f=Y});function S(Y){R0(Y._closedPromise,J=>(Y!==p||(Zr(i._readableStreamController,J),Zr(l._readableStreamController,J),y&&_||f(void 0)),null))}function T(){Ho(p)&&(_i(p),p=ss(r),S(p)),Xu(p,{_chunkSteps:Y=>{Vo(()=>{d=!1,v=!1;const J=Y;let k=Y;if(!y&&!_)try{k=P1(Y)}catch(W){return Zr(i._readableStreamController,W),Zr(l._readableStreamController,W),void f(Tn(r,W))}y||ff(i._readableStreamController,J),_||ff(l._readableStreamController,k),u=!1,d?x():v&&A()})},_closeSteps:()=>{u=!1,y||Nu(i._readableStreamController),_||Nu(l._readableStreamController),i._readableStreamController._pendingPullIntos.length>0&&df(i._readableStreamController,0),l._readableStreamController._pendingPullIntos.length>0&&df(l._readableStreamController,0),y&&_||f(void 0)},_errorSteps:()=>{u=!1}})}function O(Y,J){eo(p)&&(_i(p),p=Tx(r),S(p));const k=J?l:i,W=J?i:l;xx(p,Y,1,{_chunkSteps:F=>{Vo(()=>{d=!1,v=!1;const V=J?_:y;if(J?y:_)V||hf(k._readableStreamController,F);else{let G;try{G=P1(F)}catch(K){return Zr(k._readableStreamController,K),Zr(W._readableStreamController,K),void f(Tn(r,K))}V||hf(k._readableStreamController,F),ff(W._readableStreamController,G)}u=!1,d?x():v&&A()})},_closeSteps:F=>{u=!1;const V=J?_:y,G=J?y:_;V||Nu(k._readableStreamController),G||Nu(W._readableStreamController),F!==void 0&&(V||hf(k._readableStreamController,F),!G&&W._readableStreamController._pendingPullIntos.length>0&&df(W._readableStreamController,0)),V&&G||f(void 0)},_errorSteps:()=>{u=!1}})}function x(){if(u)return d=!0,$e(void 0);u=!0;const Y=N0(i._readableStreamController);return Y===null?T():O(Y._view,!1),$e(void 0)}function A(){if(u)return v=!0,$e(void 0);u=!0;const Y=N0(l._readableStreamController);return Y===null?T():O(Y._view,!0),$e(void 0)}function C(Y){if(y=!0,n=Y,_){const J=Cu([n,o]),k=Tn(r,J);f(k)}return w}function U(Y){if(_=!0,o=Y,y){const J=Cu([n,o]),k=Tn(r,J);f(k)}return w}function q(){}return i=U1(q,x,C),l=U1(q,A,U),S(p),[i,l]})(t):(function(r){const n=ss(r);let o,i,l,f,p,u=!1,d=!1,v=!1,y=!1;const _=mt(x=>{p=x});function w(){return u?(d=!0,$e(void 0)):(u=!0,Xu(n,{_chunkSteps:x=>{Vo(()=>{d=!1;const A=x,C=x;v||ps(l._readableStreamController,A),y||ps(f._readableStreamController,C),u=!1,d&&w()})},_closeSteps:()=>{u=!1,v||ra(l._readableStreamController),y||ra(f._readableStreamController),v&&y||p(void 0)},_errorSteps:()=>{u=!1}}),$e(void 0))}function S(x){if(v=!0,o=x,y){const A=Cu([o,i]),C=Tn(r,A);p(C)}return _}function T(x){if(y=!0,i=x,v){const A=Cu([o,i]),C=Tn(r,A);p(C)}return _}function O(){}return l=nl(O,w,S),f=nl(O,w,T),R0(n._closedPromise,x=>(Cn(l._readableStreamController,x),Cn(f._readableStreamController,x),v&&y||p(void 0),null)),[l,f]})(t)}function $k(t){return It(e=t)&&e.getReader!==void 0?(function(r){let n;function o(){let l;try{l=r.read()}catch(f){return we(f)}return bi(l,f=>{if(!It(f))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");if(f.done)ra(n._readableStreamController);else{const p=f.value;ps(n._readableStreamController,p)}})}function i(l){try{return $e(r.cancel(l))}catch(f){return we(f)}}return n=nl(Qu,o,i,0),n})(t.getReader()):(function(r){let n;const o=ax(r,"async");function i(){let f;try{f=sx(o)}catch(p){return we(p)}return bi($e(f),p=>{if(!It(p))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");if(p.done)ra(n._readableStreamController);else{const u=p.value;ps(n._readableStreamController,u)}})}function l(f){const p=o.iterator;let u;try{u=Pu(p,"return")}catch(d){return we(d)}return u===void 0?$e(void 0):bi(Si(u,p,[f]),d=>{if(!It(d))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")})}return n=nl(Qu,i,l,0),n})(t);var e}function Wk(t,e,r){return on(t,r),n=>Si(t,e,[n])}function Hk(t,e,r){return on(t,r),n=>Si(t,e,[n])}function Gk(t,e,r){return on(t,r),n=>Xo(t,e,[n])}function zk(t,e){if((t=`${t}`)!="bytes")throw new TypeError(`${e} '${t}' is not a valid enumeration value for ReadableStreamType`);return t}function D1(t,e){wi(t,e);const r=t?.preventAbort,n=t?.preventCancel,o=t?.preventClose,i=t?.signal;return i!==void 0&&(function(l,f){if(!(function(p){if(typeof p!="object"||p===null)return!1;try{return typeof p.aborted=="boolean"}catch{return!1}})(l))throw new TypeError(`${f} is not an AbortSignal.`)})(i,`${e} has member 'signal' that`),{preventAbort:!!r,preventCancel:!!n,preventClose:!!o,signal:i}}Object.defineProperties(Zi.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),qe(Zi.prototype.close,"close"),qe(Zi.prototype.enqueue,"enqueue"),qe(Zi.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Zi.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});let Lt=class{constructor(e={},r={}){e===void 0?e=null:Z2(e,"First parameter");const n=Pf(r,"Second parameter"),o=(function(i,l){wi(i,l);const f=i,p=f?.autoAllocateChunkSize,u=f?.cancel,d=f?.pull,v=f?.start,y=f?.type;return{autoAllocateChunkSize:p===void 0?void 0:Eg(p,`${l} has member 'autoAllocateChunkSize' that`),cancel:u===void 0?void 0:Wk(u,f,`${l} has member 'cancel' that`),pull:d===void 0?void 0:Hk(d,f,`${l} has member 'pull' that`),start:v===void 0?void 0:Gk(v,f,`${l} has member 'start' that`),type:y===void 0?void 0:zk(y,`${l} has member 'type' that`)}})(e,"First parameter");if(jg(this),o.type==="bytes"){if(n.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");(function(i,l,f){const p=Object.create(Xi.prototype);let u,d,v;u=l.start!==void 0?()=>l.start(p):()=>{},d=l.pull!==void 0?()=>l.pull(p):()=>$e(void 0),v=l.cancel!==void 0?_=>l.cancel(_):()=>$e(void 0);const y=l.autoAllocateChunkSize;if(y===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");Ix(i,p,u,d,v,f,y)})(this,o,Zu(n,0))}else{const i=Cf(n);(function(l,f,p,u){const d=Object.create(Zi.prototype);let v,y,_;v=f.start!==void 0?()=>f.start(d):()=>{},y=f.pull!==void 0?()=>f.pull(d):()=>$e(void 0),_=f.cancel!==void 0?w=>f.cancel(w):()=>$e(void 0),Gx(l,d,v,y,_,p,u)})(this,o,Zu(n,1),i)}}get locked(){if(!Ki(this))throw Ao("locked");return to(this)}cancel(e=void 0){return Ki(this)?to(this)?we(new TypeError("Cannot cancel a stream that already has a reader")):Tn(this,e):we(Ao("cancel"))}getReader(e=void 0){if(!Ki(this))throw Ao("getReader");return(function(r,n){wi(r,n);const o=r?.mode;return{mode:o===void 0?void 0:kk(o,`${n} has member 'mode' that`)}})(e,"First parameter").mode===void 0?ss(this):Tx(this)}pipeThrough(e,r={}){if(!Ki(this))throw Ao("pipeThrough");Zo(e,1,"pipeThrough");const n=(function(i,l){wi(i,l);const f=i?.readable;O1(f,"readable","ReadableWritablePair"),Sg(f,`${l} has member 'readable' that`);const p=i?.writable;return O1(p,"writable","ReadableWritablePair"),Ax(p,`${l} has member 'writable' that`),{readable:f,writable:p}})(e,"First parameter"),o=D1(r,"Second parameter");if(to(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(ls(n.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return ws(j1(this,n.writable,o.preventClose,o.preventAbort,o.preventCancel,o.signal)),n.readable}pipeTo(e,r={}){if(!Ki(this))return we(Ao("pipeTo"));if(e===void 0)return we("Parameter 1 is required in 'pipeTo'.");if(!Xa(e))return we(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let n;try{n=D1(r,"Second parameter")}catch(o){return we(o)}return to(this)?we(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):ls(e)?we(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):j1(this,e,n.preventClose,n.preventAbort,n.preventCancel,n.signal)}tee(){if(!Ki(this))throw Ao("tee");return Cu(qk(this))}values(e=void 0){if(!Ki(this))throw Ao("values");return(function(r,n){const o=ss(r),i=new ux(o,n),l=Object.create(lx);return l._asyncIteratorImpl=i,l})(this,(function(r,n){return wi(r,n),{preventCancel:!!r?.preventCancel}})(e,"First parameter").preventCancel)}[dl](e){return this.values(e)}static from(e){return $k(e)}};function nl(t,e,r,n=1,o=()=>1){const i=Object.create(Lt.prototype);return jg(i),Gx(i,Object.create(Zi.prototype),t,e,r,n,o),i}function U1(t,e,r){const n=Object.create(Lt.prototype);return jg(n),Ix(n,Object.create(Xi.prototype),t,e,r,0,void 0),n}function jg(t){t._state="readable",t._reader=void 0,t._storedError=void 0,t._disturbed=!1}function Ki(t){return!!It(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readableStreamController")&&t instanceof Lt}function to(t){return t._reader!==void 0}function Tn(t,e){if(t._disturbed=!0,t._state==="closed")return $e(void 0);if(t._state==="errored")return we(t._storedError);hl(t);const r=t._reader;if(r!==void 0&&Ho(r)){const n=r._readIntoRequests;r._readIntoRequests=new nn,n.forEach(o=>{o._closeSteps(void 0)})}return bi(t._readableStreamController[mg](e),Qu)}function hl(t){t._state="closed";const e=t._reader;if(e!==void 0&&(X2(e),eo(e))){const r=e._readRequests;e._readRequests=new nn,r.forEach(n=>{n._closeSteps()})}}function zx(t,e){t._state="errored",t._storedError=e;const r=t._reader;r!==void 0&&(bg(r,e),eo(r)?nx(r,e):Rx(r,e))}function Ao(t){return new TypeError(`ReadableStream.prototype.${t} can only be used on a ReadableStream`)}Object.defineProperties(Lt,{from:{enumerable:!0}}),Object.defineProperties(Lt.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),qe(Lt.from,"from"),qe(Lt.prototype.cancel,"cancel"),qe(Lt.prototype.getReader,"getReader"),qe(Lt.prototype.pipeThrough,"pipeThrough"),qe(Lt.prototype.pipeTo,"pipeTo"),qe(Lt.prototype.tee,"tee"),qe(Lt.prototype.values,"values"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Lt.prototype,Symbol.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(Lt.prototype,dl,{value:Lt.prototype.values,writable:!0,configurable:!0});const Vk=t=>t.byteLength;qe(Vk,"size");const Kk=()=>1;qe(Kk,"size");function Yk(t,e,r){return on(t,r),n=>Si(t,e,[n])}function Jk(t,e,r){return on(t,r),n=>Xo(t,e,[n])}function Qk(t,e,r){return on(t,r),(n,o)=>Si(t,e,[n,o])}function Xk(t,e,r){return on(t,r),n=>Si(t,e,[n])}let jf=class{constructor(e={},r={},n={}){e===void 0&&(e=null);const o=Pf(r,"Second parameter"),i=Pf(n,"Third parameter"),l=(function(y,_){wi(y,_);const w=y?.cancel,S=y?.flush,T=y?.readableType,O=y?.start,x=y?.transform,A=y?.writableType;return{cancel:w===void 0?void 0:Xk(w,y,`${_} has member 'cancel' that`),flush:S===void 0?void 0:Yk(S,y,`${_} has member 'flush' that`),readableType:T,start:O===void 0?void 0:Jk(O,y,`${_} has member 'start' that`),transform:x===void 0?void 0:Qk(x,y,`${_} has member 'transform' that`),writableType:A}})(e,"First parameter");if(l.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(l.writableType!==void 0)throw new RangeError("Invalid writableType specified");const f=Zu(i,0),p=Cf(i),u=Zu(o,1),d=Cf(o);let v;(function(y,_,w,S,T,O){function x(){return _}function A(J){return(function(k,W){const F=k._transformStreamController;return k._backpressure?bi(k._backpressureChangePromise,()=>{const V=k._writable;if(V._state==="erroring")throw V._storedError;return M1(F,W)}):M1(F,W)})(y,J)}function C(J){return(function(k,W){const F=k._transformStreamController;if(F._finishPromise!==void 0)return F._finishPromise;const V=k._readable;F._finishPromise=mt((K,ae)=>{F._finishPromise_resolve=K,F._finishPromise_reject=ae});const G=F._cancelAlgorithm(W);return vf(F),wr(G,()=>(V._state==="errored"?La(F,V._storedError):(Cn(V._readableStreamController,W),Qp(F)),null),K=>(Cn(V._readableStreamController,K),La(F,K),null)),F._finishPromise})(y,J)}function U(){return(function(J){const k=J._transformStreamController;if(k._finishPromise!==void 0)return k._finishPromise;const W=J._readable;k._finishPromise=mt((V,G)=>{k._finishPromise_resolve=V,k._finishPromise_reject=G});const F=k._flushAlgorithm();return vf(k),wr(F,()=>(W._state==="errored"?La(k,W._storedError):(ra(W._readableStreamController),Qp(k)),null),V=>(Cn(W._readableStreamController,V),La(k,V),null)),k._finishPromise})(y)}function q(){return(function(J){return Df(J,!1),J._backpressureChangePromise})(y)}function Y(J){return(function(k,W){const F=k._transformStreamController;if(F._finishPromise!==void 0)return F._finishPromise;const V=k._writable;F._finishPromise=mt((K,ae)=>{F._finishPromise_resolve=K,F._finishPromise_reject=ae});const G=F._cancelAlgorithm(W);return vf(F),wr(G,()=>(V._state==="errored"?La(F,V._storedError):(tl(V._writableStreamController,W),j0(k),Qp(F)),null),K=>(tl(V._writableStreamController,K),j0(k),La(F,K),null)),F._finishPromise})(y,J)}y._writable=(function(J,k,W,F,V=1,G=()=>1){const K=Object.create(Mo.prototype);return Px(K),Fx(K,Object.create(el.prototype),J,k,W,F,V,G),K})(x,A,U,C,w,S),y._readable=nl(x,q,Y,T,O),y._backpressure=void 0,y._backpressureChangePromise=void 0,y._backpressureChangePromise_resolve=void 0,Df(y,!0),y._transformStreamController=void 0})(this,mt(y=>{v=y}),u,d,f,p),(function(y,_){const w=Object.create(Bo.prototype);let S,T,O;S=_.transform!==void 0?x=>_.transform(x,w):x=>{try{return Kx(w,x),$e(void 0)}catch(A){return we(A)}},T=_.flush!==void 0?()=>_.flush(w):()=>$e(void 0),O=_.cancel!==void 0?x=>_.cancel(x):()=>$e(void 0),(function(x,A,C,U,q){A._controlledTransformStream=x,x._transformStreamController=A,A._transformAlgorithm=C,A._flushAlgorithm=U,A._cancelAlgorithm=q,A._finishPromise=void 0,A._finishPromise_resolve=void 0,A._finishPromise_reject=void 0})(y,w,S,T,O)})(this,l),l.start!==void 0?v(l.start(this._transformStreamController)):v(void 0)}get readable(){if(!F1(this))throw B1("readable");return this._readable}get writable(){if(!F1(this))throw B1("writable");return this._writable}};function F1(t){return!!It(t)&&!!Object.prototype.hasOwnProperty.call(t,"_transformStreamController")&&t instanceof jf}function Vx(t,e){Cn(t._readable._readableStreamController,e),Dg(t,e)}function Dg(t,e){vf(t._transformStreamController),tl(t._writable._writableStreamController,e),j0(t)}function j0(t){t._backpressure&&Df(t,!1)}function Df(t,e){t._backpressureChangePromise!==void 0&&t._backpressureChangePromise_resolve(),t._backpressureChangePromise=mt(r=>{t._backpressureChangePromise_resolve=r}),t._backpressure=e}Object.defineProperties(jf.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(jf.prototype,Symbol.toStringTag,{value:"TransformStream",configurable:!0});class Bo{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Mc(this))throw Bc("desiredSize");return Lg(this._controlledTransformStream._readable._readableStreamController)}enqueue(e=void 0){if(!Mc(this))throw Bc("enqueue");Kx(this,e)}error(e=void 0){if(!Mc(this))throw Bc("error");var r;r=e,Vx(this._controlledTransformStream,r)}terminate(){if(!Mc(this))throw Bc("terminate");(function(e){const r=e._controlledTransformStream;ra(r._readable._readableStreamController);const n=new TypeError("TransformStream terminated");Dg(r,n)})(this)}}function Mc(t){return!!It(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledTransformStream")&&t instanceof Bo}function vf(t){t._transformAlgorithm=void 0,t._flushAlgorithm=void 0,t._cancelAlgorithm=void 0}function Kx(t,e){const r=t._controlledTransformStream,n=r._readable._readableStreamController;if(!vs(n))throw new TypeError("Readable side is not in a state that permits enqueue");try{ps(n,e)}catch(i){throw Dg(r,i),r._readable._storedError}(function(i){return!Hx(i)})(n)!==r._backpressure&&Df(r,!0)}function M1(t,e){return bi(t._transformAlgorithm(e),void 0,r=>{throw Vx(t._controlledTransformStream,r),r})}function Bc(t){return new TypeError(`TransformStreamDefaultController.prototype.${t} can only be used on a TransformStreamDefaultController`)}function Qp(t){t._finishPromise_resolve!==void 0&&(t._finishPromise_resolve(),t._finishPromise_resolve=void 0,t._finishPromise_reject=void 0)}function La(t,e){t._finishPromise_reject!==void 0&&(ws(t._finishPromise),t._finishPromise_reject(e),t._finishPromise_resolve=void 0,t._finishPromise_reject=void 0)}function B1(t){return new TypeError(`TransformStream.prototype.${t} can only be used on a TransformStream`)}Object.defineProperties(Bo.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),qe(Bo.prototype.enqueue,"enqueue"),qe(Bo.prototype.error,"error"),qe(Bo.prototype.terminate,"terminate"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Bo.prototype,Symbol.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});var Zk=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),ys=function(){return ys=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},ys.apply(this,arguments)},eL=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function p(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,p)}u((n=n.apply(t,e||[])).next())})},tL=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return p([u,d])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},rL=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r};function nL(){if(typeof wx>"u"||typeof Page>"u"||!wx.getSystemInfoSync||!wx.getStorageSync||!wx.setStorageSync||!wx.connectSocket||!wx.request)return!1;try{if(!wx.getSystemInfoSync()||wx.getSystemInfoSync().AppPlatform==="qq")return!1}catch{return!1}return!0}function iL(){return typeof App>"u"&&typeof getApp>"u"&&!wx.onAppHide&&!wx.offAppHide&&!wx.onAppShow&&!wx.offAppShow}var Xp="Error when aborting requestTask",D0=(function(t){Zk(e,t);function e(r){r===void 0&&(r={});var n=t.call(this)||this,o=r.timeout,i=r.timeoutMsg,l=r.restrictedMethods;return n._timeout=o||0,n._timeoutMsg=i||"",n._restrictedMethods=l||["get","post","upload","download"],n}return e.prototype.post=function(r){var n=this;return new Promise(function(o,i){var l=r.url,f=r.data,p=r.headers,u=wx.request({url:Au("https:",l),data:f,timeout:n._timeout,method:"POST",header:p,success:function(d){d.statusCode>=200&&d.statusCode<300?o({statusCode:d.statusCode,status:d.statusCode,data:d.data}):i(d)},fail:function(d){i(d)},complete:function(d){if(!(!d||!d.errMsg)&&!(!n._timeout||n._restrictedMethods.indexOf("post")===-1)){var v=d.errMsg;if(v==="request:fail timeout"){console.warn(n._timeoutMsg);try{u.abort()}catch{}}}}})})},e.prototype.get=function(r){var n=this;return new Promise(function(o,i){var l=r.url,f=r.body,p=r.headers,u=Au("https:",l),d=wx.request({url:u,data:f,timeout:n._timeout,method:"GET",header:p,success:function(v){v.statusCode>=200&&v.statusCode<300?o({statusCode:v.statusCode,status:v.statusCode,data:v.data}):i(v)},fail:function(v){i(v)},complete:function(v){if(!(!v||!v.errMsg)&&!(!n._timeout||n._restrictedMethods.indexOf("get")===-1)){var y=v.errMsg;if(y.includes("timeout")){console.warn(n._timeoutMsg);try{d.abort()}catch(_){console.warn(Xp,_)}}}}})})},e.prototype.upload=function(r){var n=this,o=this;return new Promise(function(i){return eL(n,void 0,void 0,function(){var l,f,p,u,d,v;return tL(this,function(y){return l=r.url,f=r.file,p=r.data,u=r.headers,d=r.onUploadProgress,v=wx.uploadFile({url:l,filePath:f,name:"file",formData:ys({},p),header:u,timeout:this._timeout,success:function(_){var w={statusCode:_.statusCode,data:_.data||{}};_.statusCode===200&&p.success_action_status&&(w.statusCode=parseInt(p.success_action_status,10)),i(w)},fail:function(_){i(_)},complete:function(_){if(!(!_||!_.errMsg)&&!(!o._timeout||o._restrictedMethods.indexOf("upload")===-1)){var w=_.errMsg;if(w==="request:fail timeout"){console.warn(o._timeoutMsg);try{v.abort()}catch{}}}}}),d&&v.onProgressUpdate(function(_){d(_)}),[2]})})})},e.prototype.download=function(r){var n=this,o=this;return new Promise(function(i,l){var f=r.url,p=r.headers,u=wx.downloadFile({url:Au("https:",f),header:p,timeout:n._timeout,success:function(d){d.statusCode===200&&d.tempFilePath?i({statusCode:200,tempFilePath:d.tempFilePath}):i(d)},fail:function(d){l(d)},complete:function(d){if(!(!d||!d.errMsg)&&!(!o._timeout||o._restrictedMethods.indexOf("download")===-1)){var v=d.errMsg;if(v==="request:fail timeout"){console.warn(o._timeoutMsg);try{u.abort()}catch{}}}}})})},e.prototype.fetch=function(r){var n=r.url,o=r.body,i=r.enableAbort,l=r.headers,f=r.method,p=r.stream,u=p===void 0?!1:p,d=r.signal,v=r.timeout,y=this,_=v??this._timeout,w=null,S=new Lt({start:function(T){w=T},cancel:function(){w=null}});return new Promise(function(T,O){u&&T({data:S});var x=wx.request({url:Au("https:",n),data:o,timeout:_,method:f.toUpperCase(),header:l,success:function(C){var U;(U=w)===null||U===void 0||U.close(),!u&&T(C)},fail:function(C){var U;if((U=w)===null||U===void 0||U.close(),O(C),u)throw C},complete:function(C){if(!(!C||!C.errMsg)&&!(!_||y._restrictedMethods.indexOf("post")===-1||!i)){var U=C.errMsg;if(U==="request:fail timeout"){console.warn(y._timeoutMsg);try{x.abort()}catch(q){console.warn(Xp,q)}}}},enableChunked:u});if(x.onChunkReceived(function(C){var U;(U=w)===null||U===void 0||U.enqueue(new Uint8Array(C.data))}),d){var A=function(){try{x.abort()}catch(C){console.warn(Xp,C)}};d.aborted?A():d.addEventListener("abort",function(){return A()})}})},e})(vg),Yx={setItem:function(t,e){wx.setStorageSync(t,e)},getItem:function(t){return wx.getStorageSync(t)},removeItem:function(t){wx.removeStorageSync(t)},clear:function(){wx.clearStorageSync()}},Jx=(function(){function t(e,r){r===void 0&&(r={});var n=wx.connectSocket(ys({url:e},r)),o={set onopen(i){n.onOpen(i)},set onmessage(i){n.onMessage(i)},set onclose(i){n.onClose(i)},set onerror(i){n.onError(i)},send:function(i){return n.send({data:i})},close:function(i,l){return n.close({code:i,reason:l})},get readyState(){return n.readyState},CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3};return o}return t})();function Qx(t){var e={},r=t.replace(/^[?#]/,"");if(!r)return e;var n=r.split("&");return n.forEach(function(o){var i=o.split("="),l=i[0],f=i[1];l=decodeURIComponent(l),f=decodeURIComponent(f),l&&(e[l]?Array.isArray(e[l])?e[l].push(f):e[l]=[e[l],f]:e[l]=f)}),e}function oL(t){var e={root:{globalThis:{}},reqClass:D0,wsClass:Jx,captchaOptions:{openURIWithCallback:function(r){var n=t.EventBus,o={},i=r;console.log("openURIWithCallback",r);var l=r.match(/^(data:.*?)(\?[^#\s]*)?$/);if(l){i=l[1],console.log("openURIWithCallback url",i);var f=l[2];f&&(o=Qx(f))}console.log("openURIWithCallback queryObj",o);var p=o.token,u=rL(o,["token"]);return/^data:/.test(i)&&!p?Promise.reject({error:"invalid_argument",error_description:"invalie captcha data: "+r}):p?new Promise(function(d){console.log("wait for captcha..."),n.$emit("CAPTCHA_DATA_CHANGE",ys(ys({},u),{token:p,url:i})),n.$once("RESOLVE_CAPTCHA_DATA",function(v){d(v)})}):Promise.reject({error:"unimplemented",error_description:"need to impl captcha data"})}},localStorage:Yx,primaryStorage:Ju.local,getAppSign:function(){var r=wx.getAccountInfoSync();return iL()?r&&r.plugin?r.plugin.appId:"":r&&r.miniProgram?r.miniProgram.appId:""}};return e}var Vn={genAdapter:oL,isMatch:nL,runtime:"wx_mp"},Bu=function(){return Bu=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Bu.apply(this,arguments)},aL=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r},pi={},sL=function(){D0.prototype.upload=function(e){var r=this,n=this;return new Promise(function(o){var i=e.url,l=e.file,f=e.data,p=e.headers,u=wx.getFileSystemManager(),d=wx.request({url:i,method:e.method,header:Bu({"content-type":" "},p),data:u.readFileSync(l),timeout:r._timeout,success:function(v){var y={statusCode:v.statusCode,data:v.data||{}};v.statusCode===200&&f?.success_action_status&&(y.statusCode=parseInt(f.success_action_status,10)),o(y)},fail:function(v){o(v)},complete:function(v){if(v?.errMsg&&!(!n._timeout||n._restrictedMethods.indexOf("upload")===-1)){var y=v.errMsg;if(y==="request:fail timeout"){console.warn(n._timeoutMsg);try{d.abort()}catch{}}}}})})};function t(){return typeof App>"u"&&typeof getApp>"u"&&!wx.onAppHide&&!wx.offAppHide&&!wx.onAppShow&&!wx.offAppShow}return Vn.genAdapter=function(r){var n={root:{globalThis:{}},reqClass:D0,wsClass:Jx,captchaOptions:{openURIWithCallback:function(o){var i=r.EventBus,l={},f=o;console.log("openURIWithCallback",o);var p=o.match(/^(data:.*?)(\?[^#\s]*)?$/);if(p){f=p[1],console.log("openURIWithCallback url",f);var u=p[2];u&&(l=Qx(u))}console.log("openURIWithCallback queryObj",l);var d=l.token,v=aL(l,["token"]);return/^data:/.test(f)&&!d?Promise.reject({error:"invalid_argument",error_description:"invalie captcha data: ".concat(o)}):d?new Promise(function(y){console.log("wait for captcha..."),i.$emit("CAPTCHA_DATA_CHANGE",Bu(Bu({},v),{token:d,url:f})),i.$once("RESOLVE_CAPTCHA_DATA",function(_){y(_)})}):Promise.reject({error:"unimplemented",error_description:"need to impl captcha data"})}},localStorage:Yx,primaryStorage:Ju.local,getAppSign:function(){var o=wx.getAccountInfoSync();return t()?o&&o.plugin?o.plugin.appId:"":o&&o.miniProgram?o.miniProgram.appId:""}};return n},Vn},Za=function(){return Za=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Za.apply(this,arguments)},uL="user_info",q1=_k,U0={},F0={};function $1(t){var e=t.env,r=t.platformInfo,n="".concat(uL,"_").concat(e),o={userInfoKey:n};U0[e]=U0[e]||new q1(Za(Za({},t),{keys:o,platformInfo:r})),F0[e]=F0[e]||new q1(Za(Za({},t),{keys:o,platformInfo:r,persistence:"local"}))}function lL(t){return U0[t]}function Xx(t){return F0[t]}var Uf=function(){return Uf=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Uf.apply(this,arguments)},cL=["ap-shanghai","ap-guangzhou","ap-shenzhen-fsi","ap-shanghai-fsi","ap-nanjing","ap-beijing","ap-chengdu","ap-chongqing","ap-hongkong"],fL=nk,dL=ik,Zx="",eR="@cloudbase/js-sdk";function hL(t){Zx=t}function Ff(){return Zx}function pL(t){eR=t,fL(t)}function vL(){return eR}var yL="2020-01-10",tR=[],mL=["env","endPointKey","region"],M0="https:";function rR(t){return tR.find(function(e){return mL.filter(function(r){return t[r]!=null}).every(function(r){return e[r]===t[r]})})}function Mf(t){var e,r;t.protocol&&!/:$/.test(t.protocol)&&(t.protocol="".concat(t.protocol,":"));var n=rR(t);n?(t.baseUrl!=null&&(n.baseUrl=t.baseUrl),t.protocol!=null&&(n.protocol=t.protocol)):tR.push(Uf(Uf({},t),{protocol:(e=t.protocol)!==null&&e!==void 0?e:M0})),t.endPointKey==="CLOUD_API"&&dL((r=t.protocol)!==null&&r!==void 0?r:M0)}function Bf(t,e,r){return rR({env:t,endPointKey:e,region:r})}function gL(t,e,r){r===void 0&&(r="ap-shanghai"),r=r||"ap-shanghai";var n="//".concat(t,".api.tcloudbasegateway.com/v1");cL.includes(r)||(n="//".concat(t,".api.intl.tcloudbasegateway.com/v1")),Mf({endPointKey:"GATEWAY",env:t,baseUrl:n,protocol:e})}function _L(t,e,r){var n="//".concat(t,".").concat(e||"ap-shanghai",".tcb-api.tencentcloudapi.com/web");Mf({env:t,region:e,baseUrl:n,protocol:r,endPointKey:"CLOUD_API"})}function W1(t,e){e===void 0&&(e="CLOUD_API");var r=Bf(t,e||"CLOUD_API"),n=r.protocol,o=r.baseUrl,i="".concat(n).concat(o);return i.match(/(http(s)?:)?\/\/([^/?#]*)/)[0]}var H1;(function(t){t.NULL="NULL",t.ANONYMOUS="ANONYMOUS",t.WECHAT="WECHAT",t.WECHAT_PUBLIC="WECHAT-PUBLIC",t.WECHAT_OPEN="WECHAT-OPEN",t.CUSTOM="CUSTOM",t.EMAIL="EMAIL",t.USERNAME="USERNAME",t.PHONE="PHONE"})(H1||(H1={}));var Ue=function(){return Ue=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ue.apply(this,arguments)},Mn=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function p(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,p)}u((n=n.apply(t,e||[])).next())})},Bn=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return p([u,d])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},wL=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r},Zp=_r,bL=lk,EL=B2,G1=$2,SL=["auth.getJwt","auth.logout","auth.signInWithTicket","auth.signInAnonymously","auth.signIn","auth.fetchAccessTokenWithRefreshToken","auth.signUpWithEmailAndPassword","auth.activateEndUserMail","auth.sendPasswordResetEmail","auth.resetPasswordWithToken","auth.isUsernameRegistered"];function ev(t,e,r){var n=t[e];t[e]=function(o){var i={},l={};r.forEach(function(p){var u=p.call(t,o),d=u.data,v=u.headers;Object.assign(i,d),Object.assign(l,v)});var f=o.data;return f&&(function(){if(EL(f)){Object.keys(i).forEach(function(p){f.append(p,i[p])});return}o.data=Ue(Ue({},f),i)})(),o.headers=Ue(Ue({},o.headers||{}),l),n.call(t,o)}}function tv(){var t=bL();return{data:{seqId:t},headers:{"X-SDK-Version":"@cloudbase/js-sdk/".concat(Ff()),"x-seqid":t}}}var IL=(function(){function t(e){var r=this;this.throwWhenRequestFail=!1,this.config=e;var n={timeout:this.config.timeout,timeoutMsg:"[@cloudbase/js-sdk] ".concat(this.config.timeout/1e3,"s"),restrictedMethods:["post","put"]};this.reqClass=new pi.adapter.reqClass(n),this.throwWhenRequestFail=e.throw||!1,this.localCache=Xx(this.config.env),this.config.endPointMode!=="GATEWAY"&&(ev(this.reqClass,"post",[tv]),ev(this.reqClass,"upload",[tv]),ev(this.reqClass,"download",[tv])),hd.on(pd,function(o){var i;r.config.i18n=((i=o.data)===null||i===void 0?void 0:i.i18n)||r.config.i18n})}return t.prototype.getAccessToken=function(e){return e===void 0&&(e=null),Mn(this,void 0,void 0,function(){var r,n,o;return Bn(this,function(i){switch(i.label){case 0:if(e!=null)return[2,e];if(r=this.config._fromApp,!r.oauthInstance)throw new Error("you can't request without auth");return n=r.oauthInstance,o=n.oauth2client,[4,this.getOauthAccessTokenV2(o)];case 1:return[2,i.sent().accessToken]}})})},t.prototype.getDefaultHeaders=function(){var e,r,n;return e={},e[(r=this.config.i18n)===null||r===void 0?void 0:r.LANG_HEADER_KEY]=(n=this.config.i18n)===null||n===void 0?void 0:n.lang,e["X-SDK-Version"]="@cloudbase/js-sdk/".concat(Ff()),e},t.prototype.post=function(e,r){return Mn(this,void 0,void 0,function(){var n;return Bn(this,function(o){switch(o.label){case 0:return[4,this.reqClass.post(Ue(Ue({},e),{headers:Ue(Ue({},e.headers),this.getDefaultHeaders()),customReqOpts:r}))];case 1:return n=o.sent(),[2,n]}})})},t.prototype.upload=function(e){return Mn(this,void 0,void 0,function(){var r;return Bn(this,function(n){switch(n.label){case 0:return[4,this.reqClass.upload(Ue(Ue({},e),{headers:Ue(Ue({},e.headers),this.getDefaultHeaders())}))];case 1:return r=n.sent(),[2,r]}})})},t.prototype.download=function(e){return Mn(this,void 0,void 0,function(){var r;return Bn(this,function(n){switch(n.label){case 0:return[4,this.reqClass.download(Ue(Ue({},e),{headers:Ue(Ue({},e.headers),this.getDefaultHeaders())}))];case 1:return r=n.sent(),[2,r]}})})},t.prototype.getBaseEndPoint=function(e){return e===void 0&&(e="CLOUD_API"),W1(this.config.env,e)},t.prototype.getOauthAccessTokenV2=function(e){return Mn(this,void 0,void 0,function(){var r,n;return Bn(this,function(o){switch(o.label){case 0:return[4,e.getAccessToken()];case 1:return r=o.sent(),[4,e.getCredentials()];case 2:return n=o.sent(),[2,{accessToken:r,accessTokenExpire:new Date(n.expires_at).getTime()}]}})})},t.prototype.request=function(e,r,n,o){var i,l;return Mn(this,void 0,void 0,function(){var f,p,u,d,v,y,_,w,S,T,O,x,A,C,U,q,Y,J,k,W,F;return Bn(this,function(V){switch(V.label){case 0:if(f="x-tcb-trace_".concat(this.config.env),p="application/x-www-form-urlencoded",u=Ue({action:e,dataVersion:yL,env:this.config.env},r),SL.indexOf(e)!==-1)return[3,2];if(d=this.config._fromApp,!d.oauthInstance)throw new Error("you can't request without auth");return v=d.oauthInstance,y=v.oauth2client,_=u,[4,this.getOauthAccessTokenV2(y)];case 1:_.access_token=V.sent().accessToken,V.label=2;case 2:return e==="storage.uploadFile"?(w=new FormData,Object.keys(w).forEach(function(G){Object.prototype.hasOwnProperty.call(w,G)&&w[G]!==void 0&&w.append(G,u[G])}),p="multipart/form-data"):(p="application/json;charset=UTF-8",w={},Object.keys(u).forEach(function(G){u[G]!==void 0&&(w[G]=u[G])})),S={headers:Ue({"content-type":p},this.getDefaultHeaders())},n?.onUploadProgress&&(S.onUploadProgress=n.onUploadProgress),this.config.region&&(S.headers["X-TCB-Region"]=this.config.region),T=this.localCache.getStore(f),T&&(S.headers["X-TCB-Trace"]=T),O=n?.parse!==void 0?n.parse:r.parse,x=n?.inQuery!==void 0?n.inQuery:r.inQuery,A=n?.search!==void 0?n.search:r.search,C=Ue(Ue({},n?.defaultQuery||{}),{env:this.config.env}),O&&(C.parse=!0),x&&(C=Ue(Ue({},x),C)),U=this.config.endPointMode||"CLOUD_API",q=Bf(this.config.env,U),Y=q.baseUrl,J=q.protocol,U==="GATEWAY"&&(e==="functions.invokeFunction"||/^(storage|database)\./.test(e))&&(Y="".concat(Y.match(/\/\/([^/?#]*)/)[0],"/web")),n.pathname?k=G1(J,"".concat((i=W1(this.config.env,U))===null||i===void 0?void 0:i.replace(/^https?:/,""),"/").concat(n.pathname),C):k=G1(J,Y,C),A&&(k+=A),[4,this.post(Ue({url:k,data:w},S),o)];case 3:if(W=V.sent(),F=(l=W.header)===null||l===void 0?void 0:l["x-tcb-trace"],F&&this.localCache.setStore(f,F),Number(W.status)!==200&&Number(W.statusCode)!==200||!W.data)throw new Error("network request error");return[2,W]}})})},t.prototype.fetch=function(e){var r,n,o,i,l,f,p,u;return Mn(this,void 0,void 0,function(){var d,v,y,_,w,S,T,O=this;return Bn(this,function(x){switch(x.label){case 0:d=e.token,v=e.headers,y=v===void 0?{}:v,_=wL(e,["token","headers"]),w=function(){return Mn(O,void 0,void 0,function(){var A,C,U,q,Y;return Bn(this,function(J){switch(J.label){case 0:return C=(A=this.reqClass).fetch,q={},Y={"X-SDK-Version":"@cloudbase/js-sdk/".concat(Ff())},U="Bearer ".concat,[4,this.getAccessToken(d)];case 1:return[2,C.apply(A,[Ue.apply(void 0,[(q.headers=Ue.apply(void 0,[Ue.apply(void 0,[(Y.Authorization=U.apply("Bearer ",[J.sent()]),Y),this.getDefaultHeaders()]),y]),q),_])])]}})})},x.label=1;case 1:return x.trys.push([1,3,,6]),[4,w()];case 2:return S=x.sent(),[2,S];case 3:if(T=x.sent(),T?.code!=="ACCESS_TOKEN_EXPIRED")return[3,5];if(typeof((i=(o=(n=(r=this.config)===null||r===void 0?void 0:r._fromApp)===null||n===void 0?void 0:n.oauthInstance)===null||o===void 0?void 0:o.authApi)===null||i===void 0?void 0:i.refreshTokenForce)!="function")throw T;return[4,(u=(p=(f=(l=this.config)===null||l===void 0?void 0:l._fromApp)===null||f===void 0?void 0:f.oauthInstance)===null||p===void 0?void 0:p.authApi)===null||u===void 0?void 0:u.refreshTokenForce()];case 4:return x.sent(),[2,w()];case 5:throw T;case 6:return[2]}})})},t.prototype.send=function(e,r,n,o){return r===void 0&&(r={}),n===void 0&&(n={}),Mn(this,void 0,void 0,function(){var i;return Bn(this,function(l){switch(l.label){case 0:return[4,this.request(e,r,Ue(Ue({},n),{onUploadProgress:r.onUploadProgress}),o)];case 1:if(i=l.sent(),i.data.code&&this.throwWhenRequestFail)throw new Error(JSON.stringify({code:Zp.OPERATION_FAIL,msg:"[".concat(i.data.code,"] ").concat(i.data.message)}));return[2,i.data]}})})},t.prototype.gateWay=function(e,r){return Mn(this,void 0,void 0,function(){var n,o,i,l,f,p,u,d,v,y,_,w,S,T,O,x;return Bn(this,function(A){switch(A.label){case 0:if(n=e.name,o=e.data,i=e.path,l=i===void 0?"":i,f=e.method,p=e.header,u=p===void 0?{}:p,!n||!l)throw new Error(JSON.stringify({code:Zp.INVALID_PARAMS,msg:"[gateWay] invalid function name or path"}));try{d=o?JSON.stringify(o):""}catch{throw new Error(JSON.stringify({code:Zp.INVALID_PARAMS,msg:"[gateWay] invalid data"}))}return v=q2(),y=Bf(this.config.env,"GATEWAY"),_=y.baseUrl,w=y.protocol,S="".concat(w).concat(_,"/").concat(l,"/").concat(n),[4,this.fetch({method:f||"POST",headers:Ue({"Content-Type":"application/json; charset=utf-8","X-Request-Id":v},u),body:d,url:S,customReqOpts:r})];case 1:return T=A.sent(),O=[Ue({requestId:v},T)],x={},[4,T.data];case 2:return[2,Ue.apply(void 0,O.concat([(x.data=A.sent(),x)]))]}})})},t})(),nR={};function TL(t){nR[t.env]=new IL(Ue(Ue({},t),{throw:!0}))}function OL(t){return nR[t]}var rv,qf;(function(t){t.ZH="zh-CN",t.EN="en-US"})(qf||(qf={}));var xL="Accept-Language",RL=(rv={},rv[qf.EN]={" AI+ ":"Please check the calling method or visit the AI+ homepage to view the documentation","AI+ ":"AI+ request error, error code",:"error message",:"not implemented"," wasm ":"wasm loading is not supported in mini programs"," js ":"dynamic js loading is not supported in mini programs",:"request timeout"," privatelink sdk ":"missing privatelink sdk address"},rv),z1=function(t,e){var r;return((r=RL[e])===null||r===void 0?void 0:r[t])||t},AL=function(t){return"lang_".concat(t.clientId||t.env)},CL=function(t,e){var r,n,o=AL(e),i=(t.adapter||{}).localStorage,l=e.lang||((r=i?.getItem)===null||r===void 0?void 0:r.call(i,o))||qf.ZH;return(n=i?.setItem)===null||n===void 0||n.call(i,o,l),new Proxy({t:function(f){return z1(f,l)},LANG_HEADER_KEY:xL,lang:l},{get:function(f,p){var u;return p==="lang"&&((u=i?.getItem)===null||u===void 0?void 0:u.call(i,o))||f[p]},set:function(f,p,u){var d;return p==="lang"&&u!==f[p]&&(f[p]=u,f.t=function(v){return z1(v,u)},(d=i?.setItem)===null||d===void 0||d.call(i,o,u),hd.fire(pd,{i18n:f})),f[p]=u,!0}})},Co={},Vt={},V1;function iR(){if(V1)return Vt;V1=1,Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.COMMUNITY_SITE_URL=Vt.IS_DEBUG_MODE=Vt.getProtocol=Vt.setProtocol=Vt.getSdkName=Vt.setSdkName=void 0;var t="@cloudbase/js-sdk";function e(l){t=l}Vt.setSdkName=e;function r(){return t}Vt.getSdkName=r;var n="https:";function o(l){n=l}Vt.setProtocol=o;function i(){return n}return Vt.getProtocol=i,Vt.IS_DEBUG_MODE=!1,Vt.COMMUNITY_SITE_URL="https://support.qq.com/products/148793",Vt}var pu={},K1;function PL(){return K1||(K1=1,Object.defineProperty(pu,"__esModule",{value:!0}),pu.ERRORS=void 0,pu.ERRORS={INVALID_PARAMS:"INVALID_PARAMS",INVALID_SYNTAX:"INVALID_SYNTAX",INVALID_OPERATION:"INVALID_OPERATION",OPERATION_FAIL:"OPERATION_FAIL",NETWORK_ERROR:"NETWORK_ERROR",UNKOWN_ERROR:"UNKOWN_ERROR"}),pu}var Y1;function wd(){return Y1||(Y1=1,(function(t){var e=Co&&Co.__createBinding||(Object.create?(function(n,o,i,l){l===void 0&&(l=i);var f=Object.getOwnPropertyDescriptor(o,i);(!f||("get"in f?!o.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return o[i]}}),Object.defineProperty(n,l,f)}):(function(n,o,i,l){l===void 0&&(l=i),n[l]=o[i]})),r=Co&&Co.__exportStar||function(n,o){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(o,i)&&e(o,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),t.OATUH_LOGINTYPE=void 0,r(iR(),t),r(PL(),t),t.OATUH_LOGINTYPE="constants"})(Co)),Co}var Me=wd(),il=function(){return il=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},il.apply(this,arguments)},oR=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function p(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,p)}u((n=n.apply(t,e||[])).next())})},aR=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return p([u,d])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};function NL(t,e){var r,n,o;return oR(this,void 0,void 0,function(){var i,l,f,p,u,d,v,y,_,w,S,T,O,x,A,C;return aR(this,function(U){switch(U.label){case 0:if(i=t||{},l=i.name,f=i.body,p=i.path,u=p===void 0?"":p,d=i.method,v=d===void 0?"POST":d,y=i.headers,_=y===void 0?{}:y,w=i.token,!l)throw new Error(JSON.stringify({code:Me.ERRORS.INVALID_PARAMS,msg:"[apis] invalid api name"}));return S=this.getEndPointWithKey("GATEWAY"),T=S.BASE_URL,O=S.PROTOCOL,x="".concat(O).concat(T,"/apis/").concat(l),A=u.startsWith("/")?u:"/".concat(u),[4,this.request.fetch(il({url:"".concat(x).concat(A),method:v||"POST",headers:il({"Content-Type":"application/json; charset=utf-8"},_),body:f,token:((r=w?.trim)===null||r===void 0?void 0:r.call(w))||((o=(n=_.Authorization)===null||n===void 0?void 0:n.replace)===null||o===void 0?void 0:o.call(n,/^Bearer /,""))||null},e))];case 1:return C=U.sent(),[4,C.data];case 2:return[2,U.sent()]}})})}var kL=["GET","POST","PUT","DELETE","HEAD","OPTIONS","PATCH","REQUEST"];function LL(t){var e=this;return new Proxy({},{get:function(r,n){if(typeof n!="string")throw new Error("[apis] method must be string");var o=n.toLocaleUpperCase();if(!kL.includes(o))throw new Error("[apis] invalid method: ".concat(n));return function(i,l){return oR(e,void 0,void 0,function(){return aR(this,function(f){switch(f.label){case 0:return[4,NL.call(this,il({name:t,method:(o==="REQUEST"?i.method:o)||"POST"},i),l)];case 1:return[2,f.sent()]}})})}}})}function jL(){var t=this;return new Proxy({},{get:function(e,r){if(typeof r=="string")return LL.call(t,r)}})}var qu=function(){return qu=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},qu.apply(this,arguments)},J1=function(t,e,r,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var f=t.length-1;f>=0;f--)(l=t[f])&&(i=(o<3?l(i):o>3?l(e,r,i):l(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i},ja=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},DL=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function p(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,p)}u((n=n.apply(t,e||[])).next())})},UL=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return p([u,d])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},FL=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r},ML=vk,BL=yk,qc=_r,Q1=dd,X1=as,Z1=vd,qL={timeout:15e3,persistence:"local"},eE=1e3*60*10,tE=100,rE={},$L=(function(){function t(e){this.cloudbaseConfig=e||this.cloudbaseConfig,this.authInstance=null,this.oauthInstance=null,this.version=Ff()}return Object.defineProperty(t.prototype,"config",{get:function(){return this.cloudbaseConfig},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"platform",{get:function(){return pi},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cache",{get:function(){return lL(this.cloudbaseConfig.env)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localCache",{get:function(){return Xx(this.cloudbaseConfig.env)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"request",{get:function(){return OL(this.cloudbaseConfig.env)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"apis",{get:function(){return jL.call(this)},enumerable:!1,configurable:!0}),t.prototype.init=function(e){var r;if(!e.env)throw new Error(JSON.stringify({code:qc.INVALID_PARAMS,msg:"env must not be specified"}));pi.adapter||this.useDefaultAdapter();var n={timeout:e.timeout||5e3,timeoutMsg:"[".concat(vL(),"][REQUEST TIMEOUT] request had been abort since didn't finished within").concat(e.timeout/1e3,"s")};this.requestClient=new pi.adapter.reqClass(n),this.cloudbaseConfig=qu(qu(qu({},qL),e),{i18n:CL(pi,e)}),delete this.cloudbaseConfig.lang,this.cloudbaseConfig.timeout=this.formatTimeout(this.cloudbaseConfig.timeout);var o=this.cloudbaseConfig,i=o.env,l=o.persistence,f=o.debug,p=o.timeout,u=o.oauthClient,d=o.i18n;$1({env:i,persistence:l,debug:f,platformInfo:this.platform}),_L(i,e.region||""),gL(i,M0,e.region||"");var v=new t(this.cloudbaseConfig);return TL({env:i,region:e.region||"",timeout:p,oauthClient:u,_fromApp:v,i18n:d,endPointMode:e.endPointMode}),v.requestClient=this.requestClient,(r=this===null||this===void 0?void 0:this.fire)===null||r===void 0||r.call(this,"cloudbase_init",v),this.try2InitAuth(e,v),v},t.prototype.updateConfig=function(e){var r=e.persistence,n=e.debug;this.cloudbaseConfig.persistence=r,this.cloudbaseConfig.debug=n,$1({env:this.cloudbaseConfig.env,persistence:r,debug:n,platformInfo:this.platform})},t.prototype.updateLang=function(e){var r;!e||e===((r=this.cloudbaseConfig.i18n)===null||r===void 0?void 0:r.lang)||(this.cloudbaseConfig.i18n.lang=e)},t.prototype.registerExtension=function(e){rE[e.name]=e},t.prototype.invokeExtension=function(e,r){return DL(this,void 0,void 0,function(){var n;return UL(this,function(o){switch(o.label){case 0:if(n=rE[e],!n)throw new Error(JSON.stringify({code:qc.INVALID_PARAMS,msg:"extension:".concat(e," must be registered before invoke")}));return[4,n.invoke(r,this)];case 1:return[2,o.sent()]}})})},t.prototype.useAdapters=function(e,r){var n=ML(e,r)||{},o=n.adapter,i=n.runtime;o&&(pi.adapter=o),i&&(pi.runtime=i)},t.prototype.registerHook=function(e){Ok(t,e)},t.prototype.registerComponent=function(e){Tk(t,e)},t.prototype.registerVersion=function(e){hL(e),this.version=e},t.prototype.registerSdkName=function(e){pL(e)},t.prototype.registerEndPoint=function(e,r){Mf({baseUrl:e,protocol:r,env:this.config.env,endPointKey:"CLOUD_API"})},t.prototype.registerEndPointWithKey=function(e){Mf({env:this.config.env,endPointKey:e.key,baseUrl:e.url,protocol:e.protocol})},t.prototype.getEndPointWithKey=function(e){var r=Bf(this.config.env,e);return{BASE_URL:r.baseUrl,PROTOCOL:r.protocol}},t.prototype.parseCaptcha=function(e){var r={},n=e.match(/^(data:.*?)(\?[^#\s]*)?$/);if(n){e=n[1];var o=n[2];o&&(r=fk(o))}var i=r.token,l=FL(r,["token"]);return/^data:/.test(e)&&!i?{error:"invalid_argument",error_description:"invalid captcha data: ".concat(e)}:i?{state:l.state,token:i,captchaData:e}:{error:"unimplemented",error_description:"need to impl captcha data"}},t.prototype.useDefaultAdapter=function(){var e=BL(),r=e.adapter,n=e.runtime;pi.adapter=r,pi.runtime=n},t.prototype.formatTimeout=function(e){switch(!0){case e>eE:return X1(qc.INVALID_PARAMS,"timeout is greater than maximum value[10min]"),eE;case e<tE:return X1(qc.INVALID_PARAMS,"timeout is less than maximum value[100ms]"),tE;default:return e}},t.prototype.try2InitAuth=function(e,r){try{e.accessKey&&r.auth()}catch(n){console.log("try2InitAuth error:",n)}},J1([Z1({mode:"sync",title:"Cloudbase ",messages:["","  1 -  cloudbase.init() ","  2 - https://docs.cloudbase.net/api-reference/webv3/adapter#%E7%AC%AC-2-%E6%AD%A5%E9%85%8D%E7%BD%AE%E5%AE%89%E5%85%A8%E5%BA%94%E7%94%A8%E6%9D%A5%E6%BA%90","".concat(Q1)]}),ja("design:type",Function),ja("design:paramtypes",[Object]),ja("design:returntype",t)],t.prototype,"init",null),J1([Z1({title:"",messages:["","  1 -  invokeExtension() ","  2 -  registerExtension() ","".concat(Q1)]}),ja("design:type",Function),ja("design:paramtypes",[String,Object]),ja("design:returntype",Promise)],t.prototype,"invokeExtension",null),t})(),yr=new $L;yr.useAdapters(sL());const bd="/auth";var Pe;(function(t){t.AUTH_SIGN_UP_URL="/v1/signup",t.AUTH_TOKEN_URL="/v1/token",t.AUTH_REVOKE_URL="/v1/revoke",t.WEDA_USER_URL="/v1/plugin/weda/userinfo",t.AUTH_RESET_PASSWORD="/v1/reset",t.AUTH_GET_DEVICE_CODE="/v1/device/code",t.CHECK_USERNAME="/v1/checkUsername",t.CHECK_IF_USER_EXIST="/v1/checkIfUserExist",t.GET_PROVIDER_TYPE="/v1/mgr/provider/providerSubType",t.AUTH_SIGN_IN_URL="/v1/signin",t.AUTH_SIGN_IN_ANONYMOUSLY_URL="/v1/signin/anonymously",t.AUTH_SIGN_IN_WITH_PROVIDER_URL="/v1/signin/with/provider",t.AUTH_SIGN_IN_WITH_WECHAT_URL="/v1/signin/wechat/noauth",t.AUTH_SIGN_IN_CUSTOM="/v1/signin/custom",t.PROVIDER_TOKEN_URL="/v1/provider/token",t.PROVIDER_URI_URL="/v1/provider/uri",t.USER_ME_URL="/v1/user/me",t.AUTH_SIGNOUT_URL="/v1/user/signout",t.USER_QUERY_URL="/v1/user/query",t.USER_PRIFILE_URL="/v1/user/profile",t.USER_BASIC_EDIT_URL="/v1/user/basic/edit",t.USER_TRANS_BY_PROVIDER_URL="/v1/user/trans/by/provider",t.PROVIDER_LIST="/v1/user/provider",t.PROVIDER_BIND_URL="/v1/user/provider/bind",t.PROVIDER_UNBIND_URL="/v1/user/provider",t.CHECK_PWD_URL="/v1/user/sudo",t.SUDO_URL="/v1/user/sudo",t.BIND_CONTACT_URL="/v1/user/contact",t.AUTH_SET_PASSWORD="/v1/user/password",t.AUTHORIZE_DEVICE_URL="/v1/user/device/authorize",t.AUTHORIZE_URL="/v1/user/authorize",t.AUTHORIZE_INFO_URL="/v1/user/authorize/info",t.AUTHORIZED_DEVICES_DELETE_URL="/v1/user/authorized/devices/",t.AUTH_REVOKE_ALL_URL="/v1/user/revoke/all",t.GET_USER_BEHAVIOR_LOG="/v1/user/security/history",t.VERIFICATION_URL="/v1/verification",t.VERIFY_URL="/v1/verification/verify",t.CAPTCHA_DATA_URL="/v1/captcha/data",t.VERIFY_CAPTCHA_DATA_URL="/v1/captcha/data/verify",t.GET_CAPTCHA_URL="/v1/captcha/init",t.GET_MINIPROGRAM_QRCODE="/v1/qrcode/generate",t.GET_MINIPROGRAM_QRCODE_STATUS="/v1/qrcode/get/status"})(Pe||(Pe={}));var cs;(function(t){t.AUTH_SIGN_IN_URL="/v2/signin/username",t.AUTH_TOKEN_URL="/v2/token",t.USER_ME_URL="/v2/user/me",t.VERIFY_URL="/v2/signin/verificationcode",t.AUTH_SIGN_IN_WITH_PROVIDER_URL="/v2/signin/with/provider",t.AUTH_PUBLIC_KEY="/v2/signin/publichkey",t.AUTH_RESET_PASSWORD="/v2/signin/password/update"})(cs||(cs={}));var nE;(function(t){t.REGISTER="REGISTER",t.SIGN_IN="SIGN_IN",t.PASSWORD_RESET="PASSWORD_RESET",t.EMAIL_ADDRESS_CHANGE="EMAIL_ADDRESS_CHANGE",t.PHONE_NUMBER_CHANGE="PHONE_NUMBER_CHANGE"})(nE||(nE={}));var Zt;(function(t){t.UNREACHABLE="unreachable",t.LOCAL="local",t.CANCELLED="cancelled",t.UNKNOWN="unknown",t.UNAUTHENTICATED="unauthenticated",t.RESOURCE_EXHAUSTED="resource_exhausted",t.FAILED_PRECONDITION="failed_precondition",t.INVALID_ARGUMENT="invalid_argument",t.DEADLINE_EXCEEDED="deadline_exceeded",t.NOT_FOUND="not_found",t.ALREADY_EXISTS="already_exists",t.PERMISSION_DENIED="permission_denied",t.ABORTED="aborted",t.OUT_OF_RANGE="out_of_range",t.UNIMPLEMENTED="unimplemented",t.INTERNAL="internal",t.UNAVAILABLE="unavailable",t.DATA_LOSS="data_loss",t.INVALID_PASSWORD="invalid_password",t.PASSWORD_NOT_SET="password_not_set",t.INVALID_STATUS="invalid_status",t.USER_PENDING="user_pending",t.USER_BLOCKED="user_blocked",t.INVALID_VERIFICATION_CODE="invalid_verification_code",t.TWO_FACTOR_REQUIRED="two_factor_required",t.INVALID_TWO_FACTOR="invalid_two_factor",t.INVALID_TWO_FACTOR_RECOVERY="invalid_two_factor_recovery",t.UNDER_REVIEW="under_review",t.INVALID_REQUEST="invalid_request",t.UNAUTHORIZED_CLIENT="unauthorized_client",t.ACCESS_DENIED="access_denied",t.UNSUPPORTED_RESPONSE_TYPE="unsupported_response_type",t.INVALID_SCOPE="invalid_scope",t.INVALID_GRANT="invalid_grant",t.SERVER_ERROR="server_error",t.TEMPORARILY_UNAVAILABLE="temporarily_unavailable",t.INTERACTION_REQUIRED="interaction_required",t.LOGIN_REQUIRED="login_required",t.ACCOUNT_SELECTION_REQUIRED="account_selection_required",t.CONSENT_REQUIRED="consent_required",t.INVALID_REQUEST_URI="invalid_request_uri",t.INVALID_REQUEST_OBJECT="invalid_request_object",t.REQUEST_NOT_SUPPORTED="request_not_supported",t.REQUEST_URI_NOT_SUPPORTED="request_uri_not_supported",t.REGISTRATION_NOT_SUPPORTED="registration_not_supported",t.CAPTCHA_REQUIRED="captcha_required",t.CAPTCHA_INVALID="captcha_invalid"})(Zt||(Zt={}));var iE;(function(t){t.CLIENT_ID="client_id",t.CLIENT_SECRET="client_secret",t.RESPONSE_TYPE="response_type",t.SCOPE="scope",t.STATE="state",t.REDIRECT_URI="redirect_uri",t.ERROR="error",t.ERROR_DESCRIPTION="error_description",t.ERROR_URI="error_uri",t.GRANT_TYPE="grant_type",t.CODE="code",t.ACCESS_TOKEN="access_token",t.TOKEN_TYPE="token_type",t.EXPIRES_IN="expires_in",t.USERNAME="username",t.PASSWORD="password",t.REFRESH_TOKEN="refresh_token"})(iE||(iE={}));function sR(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}const yf=t=>{const e=n=>{for(const o in t)t.hasOwnProperty(o)&&(n[o]=yf(t[o]));return n},r=t==null?"NullOrUndefined":Object.prototype.toString.call(t).slice(8,-1);if(["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"].includes(r))return t.slice();switch(r){case"Object":return e(Object.create(Object.getPrototypeOf(t)));case"Array":return e([]);case"Date":return new Date(t.valueOf());case"RegExp":return new RegExp(t.source,(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.sticky?"y":"")+(t.unicode?"u":""));default:return t}},oE=t=>{const e=/^(?:http(s)?:\/\/[^\/]+)?(\/[^\?#]*)/,r=t.match(e);return r&&r[2]||""};let vu=new Map;class uR{constructor(e){this.clientId=e?.clientId||"",vu=vu||new Map}async run(e,r){e=`${this.clientId}_${e}`;let n=vu.get(e);return n||(n=new Promise((o,i)=>{(async()=>{try{await this.runIdlePromise();const l=r();o(await l)}catch(l){i(l)}finally{vu.delete(e)}})()}),vu.set(e,n)),n}runIdlePromise(){return Promise.resolve()}}const $c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function WL(t){t=String(t);let e,r,n,o,i="",l=0;const f=t.length%3;for(;l<t.length;){if((r=t.charCodeAt(l++))>255||(n=t.charCodeAt(l++))>255||(o=t.charCodeAt(l++))>255)throw new TypeError("Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.");e=r<<16|n<<8|o,i+=$c.charAt(e>>18&63)+$c.charAt(e>>12&63)+$c.charAt(e>>6&63)+$c.charAt(e&63)}return f?i.slice(0,f-3)+"===".substring(f):i}function Ug(){if(typeof globalThis>"u")return!1;const{wx:t}=globalThis;if(typeof t>"u"||globalThis.Page===void 0||!t.getSystemInfoSync||!t.getStorageSync||!t.setStorageSync||!t.connectSocket||!t.request)return!1;try{if(!t.getSystemInfoSync()||t.getSystemInfoSync().AppPlatform==="qq")return!1}catch{return!1}return!0}let ol=!1;function aE(){ol=ol||typeof window!==void 0&&window.__wxjs_environment==="miniprogram"}try{Ug()||(ol=ol||!!navigator.userAgent.match(/miniprogram/i)||window.__wxjs_environment==="miniprogram",window&&window.WeixinJSBridge&&window.WeixinJSBridge.invoke?aE():typeof document<"u"&&document.addEventListener("WeixinJSBridgeReady",aE,!1))}catch{}function sE(){return ol}const uE="x-request-id",lE="x-device-id",cE="device_id",HL=async function(t,e){let r=null,n=null;try{const o=Object.assign({},e);o.method||(o.method="GET"),o.body&&typeof o.body!="string"&&(o.body=JSON.stringify(o.body));const l=await(await fetch(t,o)).json();l?.error?(n=l,n.error_uri=new URL(t).pathname):r=l}catch(o){n={error:Zt.UNREACHABLE,error_description:o.message,error_uri:new URL(t).pathname}}if(n)throw n;return r};function GL(){return sR()}class zL{constructor(e){this._env=e?.env||""}async getItem(e){return window.localStorage.getItem(`${e}${this._env}`)}async removeItem(e){window.localStorage.removeItem(`${e}${this._env}`)}async setItem(e,r){window.localStorage.setItem(`${e}${this._env}`,r)}getItemSync(e){return window.localStorage.getItem(`${e}${this._env}`)}removeItemSync(e){window.localStorage.removeItem(`${e}${this._env}`)}setItemSync(e,r){window.localStorage.setItem(`${e}${this._env}`,r)}}const Fg=new zL;function lR(t){let e=!0;return t?.expires_at&&t?.access_token&&(e=t.expires_at<new Date),e}class VL{constructor(e){this.credentials=null,this.accessKeyCredentials=null,this.singlePromise=null,this.tokenSectionName=e.tokenSectionName,this.storage=e.storage,this.clientId=e.clientId,this.singlePromise=new uR({clientId:this.clientId}),this.credentials=e.credentials||null}getStorageCredentialsSync(){let e=null;const r=this.storage.getItemSync(this.tokenSectionName);if(r!=null)try{e=JSON.parse(r),e?.expires_at&&(e.expires_at=new Date(e.expires_at))}catch{this.storage.removeItem(this.tokenSectionName),e=null}return e}async setCredentials(e){if(e?.expires_in){if(e?.expires_at||(e.expires_at=new Date(Date.now()+(e.expires_in-30)*1e3)),this.storage){const r=JSON.stringify(e);await this.storage.setItem(this.tokenSectionName,r)}this.credentials=e}else this.storage&&await this.storage.removeItem(this.tokenSectionName),this.credentials=null}setAccessKeyCredentials(e){this.accessKeyCredentials=e}async getCredentials(){return this.singlePromise.run("getCredentials",async()=>{if(lR(this.credentials)){const{credentials:e,isAccessKeyCredentials:r}=await this.getStorageCredentials();if(r)return e;this.credentials=e}return this.credentials})}async getStorageCredentials(){return this.singlePromise.run("_getStorageCredentials",async()=>{let e=null,r=!1;const n=await this.storage.getItem(this.tokenSectionName);if(n)try{e=JSON.parse(n),e?.expires_at&&(e.expires_at=new Date(e.expires_at))}catch{await this.storage.removeItem(this.tokenSectionName),e=null}else e=this.accessKeyCredentials||null,r=!0;return{credentials:e,isAccessKeyCredentials:r}})}}class Rn{constructor(e){this.singlePromise=null,e.clientSecret||(e.clientSecret=""),!e.clientId&&e.env&&(e.clientId=e.env),this.apiOrigin=e.apiOrigin,this.apiPath=e.apiPath||bd,this.clientId=e.clientId,this.i18n=e.i18n,this.singlePromise=new uR({clientId:this.clientId}),this.retry=this.formatRetry(e.retry,Rn.defaultRetry),e.baseRequest?this.baseRequest=e.baseRequest:this.baseRequest=HL,this.tokenInURL=e.tokenInURL,this.headers=e.headers,this.storage=e.storage||Fg,this.localCredentials=new VL({tokenSectionName:`credentials_${e.clientId}`,storage:this.storage,clientId:e.clientId}),this.clientSecret=e.clientSecret,e.clientId&&(this.basicAuth=`Basic ${WL(`${e.clientId}:${this.clientSecret}`)}`),this.wxCloud=e.wxCloud;try{Ug()&&(this.useWxCloud=e.useWxCloud,this.wxCloud===void 0&&e.env&&(wx.cloud.init({env:e.env}),this.wxCloud=wx.cloud))}catch{}this.refreshTokenFunc=e.refreshTokenFunc||this.defaultRefreshTokenFunc,this.anonymousSignInFunc=e.anonymousSignInFunc,this.onCredentialsError=e.onCredentialsError,hd.on(pd,r=>{this.i18n=r.data?.i18n||this.i18n})}setCredentials(e){return this.localCredentials.setCredentials(e)}setAccessKeyCredentials(e){return this.localCredentials.setAccessKeyCredentials(e)}async getAccessToken(){const e=await this.getCredentials();if(e?.access_token)return Promise.resolve(e.access_token);const r={error:Zt.UNAUTHENTICATED};return Promise.reject(r)}async request(e,r){r||(r={});const n=this.formatRetry(r.retry,this.retry);if(r.headers={...r.headers,[this.i18n?.LANG_HEADER_KEY]:this.i18n?.lang},this.headers&&(r.headers={...this.headers,...r.headers}),r.headers[uE]||(r.headers[uE]=GL()),!r.headers[lE]){const l=await this.getDeviceId();r.headers[lE]=l}if(r?.withBasicAuth&&this.basicAuth&&(r.headers.Authorization=this.basicAuth),r?.withCredentials){const l=await this.getCredentials();l&&(this.tokenInURL?(e.indexOf("?")<0&&(e+="?"),e+=`access_token=${l.access_token}`):r.headers.Authorization=`${l.token_type} ${l.access_token}`)}else this.clientId&&e.indexOf("client_id")<0&&(e+=e.indexOf("?")<0?"?":"&",e+=`client_id=${this.clientId}`);e.startsWith("/")&&(e=`${this.apiOrigin}${this.apiPath}${e}`);let o=null;const i=n+1;for(let l=0;l<i;l++){try{r.useWxCloud||this.useWxCloud?o=await this.wxCloudCallFunction(e,r):o=await this.baseRequest(e,r);break}catch(f){if(r.withCredentials&&f&&f.error===Zt.UNAUTHENTICATED)return await this.setCredentials(null),Promise.reject(f);if(l===n||!f||f.error!=="unreachable")return Promise.reject(f)}await this.sleep(Rn.retryInterval)}return o}async wxCloudCallFunction(e,r){let n=null,o=null;try{let i="";try{i=await wx.getRendererUserAgent()}catch{}const{result:l}=await this.wxCloud.callFunction({name:"httpOverCallFunction",data:{url:e,method:r.method,headers:{origin:"https://servicewechat.com","User-Agent":i,...r.headers},body:r.body}});l?.body?.error_code?(o=l?.body,o.error_uri=oE(e)):n=l?.body}catch(i){o={error:Zt.UNREACHABLE,error_description:i.message,error_uri:oE(e)}}if(o)throw o;return n}async getCredentials(){let e=await this.localCredentials.getCredentials();if(!e){const r="credentials not found";return this.onCredentialsError?.({msg:r}),this.unAuthenticatedError(r)}if(lR(e))if(e.refresh_token)try{e=await this.refreshToken(e)}catch(r){if(e.scope==="anonymous")e=await this.anonymousLogin(e);else return this.onCredentialsError?.({msg:r.error_description}),Promise.reject(r)}else if(e.scope==="anonymous")e=await this.anonymousLogin(e);else{const r="no refresh token found in credentials";return this.onCredentialsError?.({msg:r}),this.unAuthenticatedError(r)}return e}getCredentialsSync(){return this.localCredentials.getStorageCredentialsSync()}getCredentialsAsync(){return this.getCredentials()}async getScope(){const e=await this.localCredentials.getCredentials();if(!e){const r="credentials not found";return this.onCredentialsError?.({msg:r}),this.unAuthenticatedError(r)}return e.scope}async getGroups(){const e=await this.localCredentials.getCredentials();if(!e){const r="credentials not found";return this.onCredentialsError?.({msg:r}),this.unAuthenticatedError(r)}return e.groups}async refreshToken(e){return this.singlePromise.run("_refreshToken",async()=>{if(!e||!e.refresh_token){const r="no refresh token found in credentials";return this.onCredentialsError?.({msg:r}),this.unAuthenticatedError(r)}try{const r=await this.refreshTokenFunc(e.refresh_token,e);return await this.localCredentials.setCredentials(r),r}catch(r){if(r.error===Zt.INVALID_GRANT){await this.localCredentials.setCredentials(null);const n=r.error_description;return this.onCredentialsError?.({msg:n}),this.unAuthenticatedError(n)}return this.onCredentialsError?.({msg:r.error_description}),Promise.reject(r)}})}async anonymousLogin(e){return this.singlePromise.run("_anonymousLogin",async()=>(this.anonymousSignInFunc?e=await this.anonymousSignInFunc(e)||await this.localCredentials.getCredentials():e=await this.anonymousSignIn(e),e))}checkRetry(e){let r=null;if((typeof e!="number"||e<Rn.minRetry||e>Rn.maxRetry)&&(r={error:Zt.UNREACHABLE,error_description:"wrong options param: retry"}),r)throw r;return e}formatRetry(e,r){return typeof e>"u"?r:this.checkRetry(e)}async sleep(e){return new Promise(r=>{setTimeout(()=>{r()},e)})}async anonymousSignIn(e){return this.singlePromise.run("_anonymous",async()=>{if(!e||e.scope!=="anonymous")return this.unAuthenticatedError("no anonymous in credentials");try{const r=await this.request(Pe.AUTH_SIGN_IN_ANONYMOUSLY_URL,{method:"POST",withBasicAuth:!0,body:{}});return await this.localCredentials.setCredentials(r),r}catch(r){return r.error===Zt.INVALID_GRANT?(await this.localCredentials.setCredentials(null),this.unAuthenticatedError(r.error_description)):Promise.reject(r)}})}async defaultRefreshTokenFunc(e,r){if(e===void 0||e===""){const i="refresh token not found";return this.onCredentialsError?.({msg:i}),this.unAuthenticatedError(i)}let n=Pe.AUTH_TOKEN_URL;return r?.version==="v2"&&(n=cs.AUTH_TOKEN_URL),{...await this.request(n,{method:"POST",body:{client_id:this.clientId,client_secret:this.clientSecret,grant_type:"refresh_token",refresh_token:e}}),version:r?.version||"v1"}}async getDeviceId(){if(this.deviceID)return this.deviceID;let e=await this.storage.getItem(cE);return typeof e=="string"&&e.length>=16&&e.length<=48||(e=sR(),await this.storage.setItem(cE,e)),this.deviceID=e,e}unAuthenticatedError(e){const r={error:Zt.UNAUTHENTICATED,error_description:e};return Promise.reject(r)}}Rn.defaultRetry=2;Rn.minRetry=0;Rn.maxRetry=5;Rn.retryInterval=1e3;class Lu{constructor(e){if(this.params={},typeof e=="string")this.parse(e);else if(e&&typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.append(r,e[r])}parse(e){e.split("&").forEach(n=>{const[o,i]=n.split("=").map(decodeURIComponent);this.append(o,i)})}append(e,r){this.params[e]?this.params[e]=this.params[e].concat([r]):this.params[e]=[r]}get(e){return this.params[e]?this.params[e][0]:null}getAll(e){return this.params[e]||[]}delete(e){delete this.params[e]}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}set(e,r){this.params[e]=[r]}toString(){const e=[];for(const r in this.params)Object.prototype.hasOwnProperty.call(this.params,r)&&this.params[r].forEach(n=>{e.push(`${encodeURIComponent(r)}=${encodeURIComponent(n)}`)});return e.join("&")}}class KL{constructor(e){e.openURIWithCallback||(e.openURIWithCallback=this.getDefaultOpenURIWithCallback()),e.storage||(e.storage=Fg),this.config=e,this.tokenSectionName=`captcha_${e.clientId}`}isMatch(){return this.config?.adapter?.isMatch?.()||Ug()}async request(e,r){r||(r={}),r.method||(r.method="GET");const n=`${r.method}:${e}`;let o=e;r.withCaptcha&&(o=await this.appendCaptchaTokenToURL(e,n,!1));let i;try{i=await this.config.request(o,r)}catch(l){return l.error===Zt.CAPTCHA_REQUIRED||l.error===Zt.CAPTCHA_INVALID?(e=await this.appendCaptchaTokenToURL(e,n,l.error===Zt.CAPTCHA_INVALID),this.config.request(e,r)):Promise.reject(l)}return i}getDefaultOpenURIWithCallback(){if(!this.isMatch()&&!sE()&&(window.location.search.indexOf("__captcha")>0&&(document.body.style.display="none"),document.getElementById("captcha_panel_wrap")===null)){const e=document.createElement("div");e.style.cssText="background-color: rgba(0, 0, 0, 0.7);position: fixed;left: 0px;right: 0px;top: 0px;bottom: 0px;padding: 9vw 0 0 0;display: none;z-index:100;",e.setAttribute("id","captcha_panel_wrap"),setTimeout(()=>{document.body.appendChild(e)},0)}return this.defaultOpenURIWithCallback}async defaultOpenURIWithCallback(e,r){const{width:n="355px",height:o="355px"}=r||{};if(e.match(/^(data:.*)$/))return Promise.reject({error:Zt.UNIMPLEMENTED,error_description:"need to impl captcha data"});const l=document.getElementById("captcha_panel_wrap"),f=document.createElement("iframe");return l.innerHTML="",f.setAttribute("src",e),f.setAttribute("id","review-panel-iframe"),f.style.cssText=`min-width:${n};display:block;height:${o};margin:0 auto;background-color: rgb(255, 255, 255);border: none;`,l.appendChild(f),l.style.display="block",new Promise((p,u)=>{f.onload=function(){try{const d=window.location,v=f.contentWindow.location;if(v.host+v.pathname===d.host+d.pathname){l.style.display="none";const y=new Lu(v.search),_=y.get("captcha_token");return _?p({captcha_token:_,expires_in:Number(y.get("expires_in"))}):u({error:y.get("error"),error_description:y.get("error_description")})}l.style.display="block"}catch{l.style.display="block"}}})}async getCaptchaToken(e,r){if(!e){const i=await this.findCaptchaToken();if(i)return i}let n;if(!this.isMatch()&&!sE()){const i=`${window.location.origin+window.location.pathname}?__captcha=on`;if(n=await this.config.request(Pe.GET_CAPTCHA_URL,{method:"POST",body:{client_id:this.config.clientId,redirect_uri:i,state:r},withCredentials:!1}),n.captcha_token){const l={captcha_token:n.captcha_token,expires_in:n.expires_in};return this.saveCaptchaToken(l),n.captcha_token}}else{const i=await this.config.request(Pe.CAPTCHA_DATA_URL,{method:"POST",body:{state:r,redirect_uri:""},withCredentials:!1});n={url:`${i.data}?state=${encodeURIComponent(r)}&token=${encodeURIComponent(i.token)}`}}const o=await this.config.openURIWithCallback(n.url);return this.saveCaptchaToken(o),o.captcha_token}async appendCaptchaTokenToURL(e,r,n){const o=await this.getCaptchaToken(n,r);return e.indexOf("?")>0?e+=`&captcha_token=${o}`:e+=`?captcha_token=${o}`,e}async saveCaptchaToken(e){e.expires_at=new Date(Date.now()+(e.expires_in-10)*1e3);const r=JSON.stringify(e);await this.config.storage.setItem(this.tokenSectionName,r)}async findCaptchaToken(){const e=await this.config.storage.getItem(this.tokenSectionName);if(e!=null)try{const r=JSON.parse(e);return r?.expires_at&&(r.expires_at=new Date(r.expires_at)),r.expires_at<new Date?null:r.captcha_token}catch{return await this.config.storage.removeItem(this.tokenSectionName),null}return null}}var YL={};function nv(t,e){const r=()=>{try{return require("../utils/encrypt")}catch{return}};try{if((e?.root?.globalThis||globalThis).IS_MP_BUILD)return;if(!YL.IS_MP_BUILD&&t)return r()}catch{if(t)return r()}}let JL=class mf{static parseParamsToSearch(e){return Object.keys(e).forEach(n=>{e[n]||delete e[n]}),new Lu(e).toString()}constructor(e){let{request:r}=e,n=e.credentialsClient;if(!n){const o={apiOrigin:e.apiOrigin,apiPath:e.apiPath,clientId:e.clientId,storage:e.storage,env:e.env,baseRequest:e.baseRequest,anonymousSignInFunc:e.anonymousSignInFunc,wxCloud:e.wxCloud,onCredentialsError:e.onCredentialsError,headers:e.headers||{},i18n:e.i18n};n=new Rn(o)}if(!r){const o=n.request.bind(n),i=new KL({clientId:e.clientId,request:o,storage:e.storage,adapter:e.adapter,...e.captchaOptions});r=i.request.bind(i)}this.config={env:e.env,apiOrigin:e.apiOrigin,apiPath:e.apiPath,clientId:e.clientId,request:r,credentialsClient:n,storage:e.storage||Fg,adapter:e.adapter}}getParamsByVersion(e,r){const n=yf(e),o={v2:cs}[n?.version]?.[r]||Pe[r];return n&&delete n.version,{params:n,url:o}}async signIn(e){const r=e.version||"v1",n=this.getParamsByVersion(e,"AUTH_SIGN_IN_URL");n.params.query&&delete n.params.query;const o=await this.getEncryptParams(n.params),i=await this.config.request(n.url,{method:"POST",body:o});return await this.config.credentialsClient.setCredentials({...i,version:r}),Promise.resolve(i)}async signInAnonymously(e={},r=!1){const n=await this.config.request(Pe.AUTH_SIGN_IN_ANONYMOUSLY_URL,{method:"POST",body:e,useWxCloud:r});return await this.config.credentialsClient.setCredentials(n),Promise.resolve(n)}async signUp(e){const r=await this.config.request(Pe.AUTH_SIGN_UP_URL,{method:"POST",body:e});return await this.config.credentialsClient.setCredentials(r),Promise.resolve(r)}async signOut(e){let r={};if(e){try{r=await this.config.request(Pe.AUTH_SIGNOUT_URL,{method:"POST",withCredentials:!0,body:e})}catch(i){i.error!==Zt.UNAUTHENTICATED&&console.log("sign_out_error",i)}return await this.config.credentialsClient.setCredentials(),r}const n=await this.config.credentialsClient.getAccessToken(),o=await this.config.request(Pe.AUTH_REVOKE_URL,{method:"POST",body:{token:n}});return await this.config.credentialsClient.setCredentials(),Promise.resolve(o)}async revokeAllDevices(){await this.config.request(Pe.AUTH_REVOKE_ALL_URL,{method:"DELETE",withCredentials:!0})}async revokeDevice(e){await this.config.request(Pe.AUTHORIZED_DEVICES_DELETE_URL+e.device_id,{method:"DELETE",withCredentials:!0})}async getVerification(e,r){let n=!1;(e.target==="CUR_USER"||await this.hasLoginState())&&(n=!0);const o=yf(e);return o.phone_number&&!/^\+\d{1,3}\s+\d+/.test(o.phone_number)&&(o.phone_number=`+86 ${o.phone_number}`),this.config.request(Pe.VERIFICATION_URL,{method:"POST",body:o,withCaptcha:r?.withCaptcha||!1,withCredentials:n})}async verify(e){const r=this.getParamsByVersion(e,"VERIFY_URL"),n=await this.config.request(r.url,{method:"POST",body:r.params});return e?.version==="v2"&&await this.config.credentialsClient.setCredentials({...n,version:"v2"}),n}async genProviderRedirectUri(e){const{provider_redirect_uri:r,other_params:n={},...o}=e;r&&!o.redirect_uri&&(o.redirect_uri=r);let i=`${Pe.PROVIDER_URI_URL}?${mf.parseParamsToSearch(o)}`;return Object.keys(n).forEach(l=>{const f=n[l];l==="sign_out_uri"&&!(f?.length>0)||(i+=`&other_params[${l}]=${encodeURIComponent(f)}`)}),this.config.request(i,{method:"GET"})}async grantProviderToken(e,r=!1){return this.config.request(Pe.PROVIDER_TOKEN_URL,{method:"POST",body:e,useWxCloud:r})}async patchProviderToken(e){return this.config.request(Pe.PROVIDER_TOKEN_URL,{method:"PATCH",body:e})}async signInWithProvider(e,r=!1){const n=this.getParamsByVersion(e,"AUTH_SIGN_IN_WITH_PROVIDER_URL"),o=await this.config.request(n.url,{method:"POST",body:n.params,useWxCloud:r});return await this.config.credentialsClient.setCredentials({...o,version:e?.version||"v1"}),Promise.resolve(o)}async signInCustom(e){const r=await this.config.request(Pe.AUTH_SIGN_IN_CUSTOM,{method:"POST",body:e});return await this.config.credentialsClient.setCredentials(r),Promise.resolve(r)}async signInWithWechat(e={}){const r=await this.config.request(Pe.AUTH_SIGN_IN_WITH_WECHAT_URL,{method:"POST",body:e});return await this.config.credentialsClient.setCredentials(r),Promise.resolve(r)}async bindWithProvider(e){return this.config.request(Pe.PROVIDER_BIND_URL,{method:"POST",body:e,withCredentials:!0})}async getUserProfile(e){return this.getUserInfo(e)}async getUserInfo(e={}){const r=this.getParamsByVersion(e,"USER_ME_URL");if(r.params?.query){const o=new Lu(r.params.query);r.url+=`?${o.toString()}`}const n=await this.config.request(r.url,{method:"GET",withCredentials:!0});return n.sub&&(n.uid=n.sub),n}async getWedaUserInfo(){return await this.config.request(Pe.WEDA_USER_URL,{method:"GET",withCredentials:!0})}async deleteMe(e){const r=this.getParamsByVersion(e,"USER_ME_URL"),n=`${r.url}?${mf.parseParamsToSearch(r.params)}`;return this.config.request(n,{method:"DELETE",withCredentials:!0})}async hasLoginState(){try{return await this.config.credentialsClient.getAccessToken(),!0}catch{return!1}}hasLoginStateSync(){return this.config.credentialsClient.getCredentialsSync()}async getLoginState(){return this.config.credentialsClient.getCredentialsAsync()}async transByProvider(e){return this.config.request(Pe.USER_TRANS_BY_PROVIDER_URL,{method:"PATCH",body:e,withCredentials:!0})}async grantToken(e){const r=this.getParamsByVersion(e,"AUTH_TOKEN_URL");return this.config.request(r.url,{method:"POST",body:r.params})}async getProviders(){return this.config.request(Pe.PROVIDER_LIST,{method:"GET",withCredentials:!0})}async unbindProvider(e){return this.config.request(`${Pe.PROVIDER_UNBIND_URL}/${e.provider_id}`,{method:"DELETE",withCredentials:!0})}async checkPassword(e){return this.config.request(`${Pe.CHECK_PWD_URL}`,{method:"POST",withCredentials:!0,body:e})}async editContact(e){return this.config.request(`${Pe.BIND_CONTACT_URL}`,{method:"PATCH",withCredentials:!0,body:e})}async setPassword(e){return this.config.request(`${Pe.AUTH_SET_PASSWORD}`,{method:"PATCH",withCredentials:!0,body:e})}async updatePasswordByOld(e){const r=await this.sudo({password:e.old_password});return this.setPassword({sudo_token:r.sudo_token,new_password:e.new_password})}async sudo(e){return this.config.request(`${Pe.SUDO_URL}`,{method:"POST",withCredentials:!0,body:e})}async sendVerificationCodeToCurrentUser(e){return e.target="CUR_USER",this.config.request(Pe.VERIFICATION_URL,{method:"POST",body:e,withCredentials:!0,withCaptcha:!0})}async changeBoundProvider(e){return this.config.request(`${Pe.PROVIDER_LIST}/${e.provider_id}/trans`,{method:"POST",body:{provider_trans_token:e.trans_token},withCredentials:!0})}async setUserProfile(e){return this.config.request(Pe.USER_PRIFILE_URL,{method:"PATCH",body:e,withCredentials:!0})}async updateUserBasicInfo(e){return this.config.request(Pe.USER_BASIC_EDIT_URL,{method:"POST",withCredentials:!0,body:e})}async queryUserProfile(e){const r=new Lu(e);return this.config.request(`${Pe.USER_QUERY_URL}?${r.toString()}`,{method:"GET",withCredentials:!0})}setCustomSignFunc(e){this.getCustomSignTicketFn=e}async signInWithCustomTicket(){const e=this.getCustomSignTicketFn;if(!e)return Promise.reject({error:"failed_precondition",error_description:"please use setCustomSignFunc to set custom sign function"});const r=await e();return this.signInCustom({provider_id:"custom",ticket:r})}async resetPassword(e){return this.config.request(Pe.AUTH_RESET_PASSWORD,{method:"POST",body:e})}async authorize(e){return this.config.request(Pe.AUTHORIZE_URL,{method:"POST",withCredentials:!0,body:e})}async authorizeDevice(e){return this.config.request(Pe.AUTHORIZE_DEVICE_URL,{method:"POST",withCredentials:!0,body:e})}async deviceAuthorize(e){return this.config.request(Pe.AUTH_GET_DEVICE_CODE,{method:"POST",body:e,withCredentials:!0})}async authorizeInfo(e){const r=`${Pe.AUTHORIZE_INFO_URL}?${mf.parseParamsToSearch(e)}`;let n=!0,o=!1;return await this.hasLoginState()&&(o=!0,n=!1),this.config.request(r,{method:"GET",withBasicAuth:n,withCredentials:o})}async checkUsername(e){return this.config.request(Pe.CHECK_USERNAME,{method:"GET",body:e,withCredentials:!0})}async checkIfUserExist(e){const r=new Lu(e);return this.config.request(`${Pe.CHECK_IF_USER_EXIST}?${r.toString()}`,{method:"GET"})}async loginScope(){return this.config.credentialsClient.getScope()}async loginGroups(){return this.config.credentialsClient.getGroups()}async refreshTokenForce(e){const r=await this.config.credentialsClient.getCredentials();return await this.config.credentialsClient.refreshToken({...r,version:e?.version||"v1"})}async getCredentials(){return this.config.credentialsClient.getCredentials()}async getPublicKey(){return this.config.request(cs.AUTH_PUBLIC_KEY,{method:"POST",body:{}})}async getEncryptParams(e){const{isEncrypt:r}=e;delete e.isEncrypt;const n=yf(e),o=nv(r,this.config.adapter);if(!o)return e;let i="",l="";try{const f=await this.getPublicKey();if(i=f.public_key,l=f.public_key_thumbprint,!i||!l)throw f}catch(f){throw f}return{params:o.getEncryptInfo({publicKey:i,payload:n}),public_key_thumbprint:l}}async getProviderSubType(){return this.config.request(Pe.GET_PROVIDER_TYPE,{method:"POST",body:{provider_id:"weda"}})}async verifyCaptchaData({token:e,key:r}){return this.config.request(Pe.VERIFY_CAPTCHA_DATA_URL,{method:"POST",body:{token:e,key:r},withCredentials:!1})}async createCaptchaData({state:e,redirect_uri:r=void 0}){return this.config.request(Pe.CAPTCHA_DATA_URL,{method:"POST",body:{state:e,redirect_uri:r},withCredentials:!1})}async getMiniProgramCode(e){return this.config.request(Pe.GET_MINIPROGRAM_QRCODE,{method:"POST",body:e})}async getMiniProgramQrCodeStatus(e){return this.config.request(Pe.GET_MINIPROGRAM_QRCODE_STATUS,{method:"POST",body:e})}async getUserBehaviorLog(e){const r={LOGIN:"query[action]=USER_LOGIN",MODIFY:"ne_query[action]=USER_LOGIN"},n=`${Pe.GET_USER_BEHAVIOR_LOG}?${r[e.type]}&limit=${e.limit}${e.page_token?`&page_token=${e.page_token}`:""}`;return this.config.request(n,{method:"GET",withCredentials:!0})}async modifyPassword(e){let r="",n="";const o=nv(!0,this.config.adapter);if(!o)throw new Error("do not support encrypt, a encrypt util required.");try{const f=await this.getPublicKey();if(r=f.public_key,n=f.public_key_thumbprint,!r||!n)throw f}catch(f){throw f}const i=e.password?o.getEncryptInfo({publicKey:r,payload:e.password}):"",l=o.getEncryptInfo({publicKey:r,payload:e.new_password});return this.config.request(Pe.USER_BASIC_EDIT_URL,{method:"POST",withCredentials:!0,body:{user_id:e.user_id,encrypt_password:i,encrypt_new_password:l,public_key_thumbprint:n}})}async modifyPasswordWithoutLogin(e){let r="",n="";const o=nv(!0,this.config.adapter);if(!o)throw new Error("do not support encrypt, a encrypt util required.");try{const f=await this.getPublicKey();if(r=f.public_key,n=f.public_key_thumbprint,!r||!n)throw f}catch(f){throw f}const i=e.password?o.getEncryptInfo({publicKey:r,payload:e.password}):"",l=o.getEncryptInfo({publicKey:r,payload:e.new_password});return this.config.request(cs.AUTH_RESET_PASSWORD,{method:"POST",body:{username:e.username,password:i,new_password:l,public_key_thumbprint:n}})}};class QL{constructor(e){const{apiOrigin:r,apiPath:n=bd,clientId:o,env:i,storage:l,request:f,baseRequest:p,anonymousSignInFunc:u,wxCloud:d,adapter:v,onCredentialsError:y,headers:_,i18n:w,useWxCloud:S}=e;this.oauth2client=new Rn({apiOrigin:r,apiPath:n,clientId:o,env:i,storage:l,baseRequest:p||f,anonymousSignInFunc:u,wxCloud:d,onCredentialsError:y,headers:_||{},i18n:w,useWxCloud:S}),this.authApi=new JL({credentialsClient:this.oauth2client,...e,request:f?this.oauth2client.request.bind(this.oauth2client):void 0,adapter:v})}}var Oe={},fE;function bs(){if(fE)return Oe;fE=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.parseQueryString=Oe.transformPhone=Oe.sleep=Oe.printGroupLog=Oe.throwError=Oe.printInfo=Oe.printError=Oe.printWarn=Oe.execCallback=Oe.createPromiseCallback=Oe.removeParam=Oe.getHash=Oe.getQuery=Oe.toQueryString=Oe.formatUrl=Oe.generateRequestId=Oe.genSeqId=Oe.isFormData=Oe.isInstanceOf=Oe.isNull=Oe.isPalinObject=Oe.isUndefined=Oe.isString=Oe.isArray=void 0;var t=wd();function e(k){return Object.prototype.toString.call(k)==="[object Array]"}Oe.isArray=e;function r(k){return typeof k=="string"}Oe.isString=r;function n(k){return typeof k>"u"}Oe.isUndefined=n;function o(k){return Object.prototype.toString.call(k)==="[object Object]"}Oe.isPalinObject=o;function i(k){return Object.prototype.toString.call(k)==="[object Null]"}Oe.isNull=i;function l(k,W){return k instanceof W}Oe.isInstanceOf=l;function f(k){return Object.prototype.toString.call(k)==="[object FormData]"}Oe.isFormData=f;function p(){return Math.random().toString(16).slice(2)}Oe.genSeqId=p;function u(){var k=new Date().getTime(),W=Date?.now&&Date.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(F){var V=Math.random()*16;return k>0?(V=(k+V)%16|0,k=Math.floor(k/16)):(V=(W+V)%16|0,W=Math.floor(W/16)),(F==="x"?V:V&7|8).toString(16)})}Oe.generateRequestId=u;function d(k,W,F){F===void 0&&(F={});var V=/\?/.test(W),G="";return Object.keys(F).forEach(function(K){G===""?!V&&(W+="?"):G+="&",G+="".concat(K,"=").concat(encodeURIComponent(F[K]))}),W+=G,/^http(s)?:\/\//.test(W)?W:"".concat(k).concat(W)}Oe.formatUrl=d;function v(k){k===void 0&&(k={});var W=[];return Object.keys(k).forEach(function(F){W.push("".concat(F,"=").concat(encodeURIComponent(k[F])))}),W.join("&")}Oe.toQueryString=v;function y(k,W){if(typeof window>"u")return!1;var F=W||window.location.search,V=new RegExp("(^|&)".concat(k,"=([^&]*)(&|$)")),G=F.substr(F.indexOf("?")+1).match(V);return G!=null?G[2]:""}Oe.getQuery=y;var _=function(k){if(typeof window>"u")return"";var W=window.location.hash.match(new RegExp("[#?&/]".concat(k,"=([^&#]*)")));return W?W[1]:""};Oe.getHash=_;function w(k,W){var F=W.split("?")[0],V,G=[],K=W.indexOf("?")!==-1?W.split("?")[1]:"";if(K!==""){G=K.split("&");for(var ae=G.length-1;ae>=0;ae-=1)V=G[ae].split("=")[0],V===k&&G.splice(ae,1);F="".concat(F,"?").concat(G.join("&"))}return F}Oe.removeParam=w;function S(){var k;if(!Promise){k=function(){},k.promise={};var W=function(){throw new Error('Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.')};return Object.defineProperty(k.promise,"then",{get:W}),Object.defineProperty(k.promise,"catch",{get:W}),k}var F=new Promise(function(V,G){k=function(K,ae){return K?G(K):V(ae)}});return k.promise=F,k}Oe.createPromiseCallback=S;function T(k,W,F){if(F===void 0&&(F=null),k&&typeof k=="function")return k(W,F);if(W)throw W;return F}Oe.execCallback=T;function O(k,W){console.warn("[".concat((0,t.getSdkName)(),"][").concat(k,"]:").concat(W))}Oe.printWarn=O;function x(k,W){console.error({code:k,msg:"[".concat((0,t.getSdkName)(),"][").concat(k,"]:").concat(W)})}Oe.printError=x;function A(k,W){console.log("[".concat((0,t.getSdkName)(),"][").concat(k,"]:").concat(W))}Oe.printInfo=A;function C(k,W){throw new Error(JSON.stringify({code:k,msg:"[".concat((0,t.getSdkName)(),"][").concat(k,"]:").concat(W)}))}Oe.throwError=C;function U(k){var W,F=k.title,V=k.subtitle,G=V===void 0?"":V,K=k.content,ae=K===void 0?[]:K,fe=k.printTrace,ce=fe===void 0?!1:fe,Q=k.collapsed,ee=Q===void 0?!1:Q;ee?(console.groupCollapsed||console.error)(F,G):(console.group||console.error)(F,G);for(var X=0,j=ae;X<j.length;X++){var Z=j[X],Ie=Z.type,xe=Z.body;switch(Ie){case"info":console.log(xe);break;case"warn":console.warn(xe);break;case"error":console.error(xe);break}}ce&&(console.trace||console.log)("stack trace:"),(W=console.groupEnd)===null||W===void 0||W.call(console)}Oe.printGroupLog=U;var q=function(k){return k===void 0&&(k=0),new Promise(function(W){return setTimeout(W,k)})};Oe.sleep=q;function Y(k){return"+86".concat(k)}Oe.transformPhone=Y;var J=function(k){k=k.replace(/^\?/,"");var W={},F=k.split("&");return F.forEach(function(V){var G=V.split("="),K=G[0],ae=G[1];K=decodeURIComponent(K),ae=decodeURIComponent(ae),K&&(W[K]?Array.isArray(W[K])?W[K].push(ae):W[K]=[W[K],ae]:W[K]=ae)}),W};return Oe.parseQueryString=J,Oe}var fs=bs(),Po={},fi={},dE;function XL(){if(dE)return fi;dE=1;var t=fi&&fi.__awaiter||function(d,v,y,_){function w(S){return S instanceof y?S:new y(function(T){T(S)})}return new(y||(y=Promise))(function(S,T){function O(C){try{A(_.next(C))}catch(U){T(U)}}function x(C){try{A(_.throw(C))}catch(U){T(U)}}function A(C){C.done?S(C.value):w(C.value).then(O,x)}A((_=_.apply(d,v||[])).next())})},e=fi&&fi.__generator||function(d,v){var y={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},_,w,S,T;return T={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function O(A){return function(C){return x([A,C])}}function x(A){if(_)throw new TypeError("Generator is already executing.");for(;T&&(T=0,A[0]&&(y=0)),y;)try{if(_=1,w&&(S=A[0]&2?w.return:A[0]?w.throw||((S=w.return)&&S.call(w),0):w.next)&&!(S=S.call(w,A[1])).done)return S;switch(w=0,S&&(A=[A[0]&2,S.value]),A[0]){case 0:case 1:S=A;break;case 4:return y.label++,{value:A[1],done:!1};case 5:y.label++,w=A[1],A=[0];continue;case 7:A=y.ops.pop(),y.trys.pop();continue;default:if(S=y.trys,!(S=S.length>0&&S[S.length-1])&&(A[0]===6||A[0]===2)){y=0;continue}if(A[0]===3&&(!S||A[1]>S[0]&&A[1]<S[3])){y.label=A[1];break}if(A[0]===6&&y.label<S[1]){y.label=S[1],S=A;break}if(S&&y.label<S[2]){y.label=S[2],y.ops.push(A);break}S[2]&&y.ops.pop(),y.trys.pop();continue}A=v.call(d,y)}catch(C){A=[6,C],w=0}finally{_=S=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}};Object.defineProperty(fi,"__esModule",{value:!0}),fi.catchErrorsDecorator=void 0;var r=bs(),n=wd(),o=!1;typeof navigator<"u"&&navigator.userAgent&&(o=navigator.userAgent.indexOf("Firefox")!==-1);var i=o?/(\.js\/)?__decorate(\$\d+)?<@.*\d$/:/(\/\w+\.js\.)?__decorate(\$\d+)?\s*\(.*\)$/,l=/https?:\/\/.+:\d*\/.*\.js:\d+:\d+/;function f(d){var v=d.mode,y=v===void 0?"async":v,_=d.customInfo,w=_===void 0?{}:_,S=d.title,T=d.messages,O=T===void 0?[]:T;return function(x,A,C){if(n.IS_DEBUG_MODE){var U=w.className||x.constructor.name,q=w.methodName||A,Y=C.value,J=p(new Error);y==="sync"?C.value=function(){for(var k=[],W=0;W<arguments.length;W++)k[W]=arguments[W];var F=u({err:new Error,className:U,methodName:q,sourceLink:J});try{return Y.apply(this,k)}catch(Q){var V=Q,G=Q.message,K=Q.error,ae=Q.error_description,fe={title:S||"".concat(U,".").concat(q," failed"),content:[{type:"error",body:Q}]};if(G&&/^\{.*\}$/.test(G)){var ce=JSON.parse(G);fe.subtitle=G,ce.code&&(F?(F.code=ce.code,F.msg=ce.msg):(Q.code=ce.code,Q.message=ce.msg),V=F||Q,fe.content=O.map(function(ee){return{type:"info",body:ee}}))}throw K&&ae&&(fe.subtitle=ae,F?(F.code=K,F.msg=ae):(Q.code=K,Q.message=ae),V=F||Q,fe.content=O.map(function(ee){return{type:"info",body:ee}})),(0,r.printGroupLog)(fe),V}}:C.value=function(){for(var k=[],W=0;W<arguments.length;W++)k[W]=arguments[W];return t(this,void 0,void 0,function(){var F,V,G,K,ae,fe,ce,Q;return e(this,function(ee){switch(ee.label){case 0:F=u({err:new Error,className:U,methodName:q,sourceLink:J}),ee.label=1;case 1:return ee.trys.push([1,3,,4]),[4,Y.apply(this,k)];case 2:return[2,ee.sent()];case 3:throw V=ee.sent(),G=V,K=V.message,ae=V.error,fe=V.error_description,ce={title:S||"".concat(U,".").concat(q," failed"),content:[{type:"error",body:V}]},K&&/^\{.*\}$/.test(K)&&(Q=JSON.parse(K),ce.subtitle=Q,Q.code&&(F?(F.code=Q.code,F.message=Q.msg):(V.code=Q.code,V.message=Q.msg),G=F||V,ce.content=O.map(function(X){return{type:"info",body:X}}))),ae&&fe&&(ce.subtitle=fe,F?(F.code=ae,F.msg=fe):(V.code=ae,V.message=fe),G=F||V,ce.content=O.map(function(X){return{type:"info",body:X}})),(0,r.printGroupLog)(ce),G;case 4:return[2]}})})}}}}fi.catchErrorsDecorator=f;function p(d){var v="",y=d.stack.split(`
`),_=y.findIndex(function(S){return i.test(S)});if(_!==-1){var w=l.exec(y[_+1]||"");v=w?w[0]:""}return v}function u(d){var v=d.err,y=d.className,_=d.methodName,w=d.sourceLink;if(!w)return null;var S=v.stack.split(`
`),T=o?/^catchErrorsDecorator\/<\/descriptor.value@.*\d$/:new RegExp("".concat(y,"\\.descriptor.value\\s*\\[as\\s").concat(_,"\\]\\s*\\(.*\\)$")),O=o?/^catchErrorsDecorator\/<\/descriptor.value/:new RegExp("".concat(y,"\\.descriptor.value\\s*\\[as\\s").concat(_,"\\]")),x=S.findIndex(function(U){return T.test(U)}),A;if(x!==-1){var C=S.filter(function(U,q){return q>x});C.unshift(S[x].replace(O,"".concat(y,".").concat(_)).replace(l,w)),A=new Error,A.stack="".concat(o?"@debugger":"Error",`
`).concat(C.join(`
`))}return A}return fi}var hE;function ZL(){return hE||(hE=1,(function(t){var e=Po&&Po.__createBinding||(Object.create?(function(n,o,i,l){l===void 0&&(l=i);var f=Object.getOwnPropertyDescriptor(o,i);(!f||("get"in f?!o.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return o[i]}}),Object.defineProperty(n,l,f)}):(function(n,o,i,l){l===void 0&&(l=i),n[l]=o[i]})),r=Po&&Po.__exportStar||function(n,o){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(o,i)&&e(o,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(XL(),t)})(Po)),Po}var Qe=ZL(),Et={},pE;function ej(){if(pE)return Et;pE=1;var t=Et&&Et.__extends||(function(){var y=function(_,w){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,T){S.__proto__=T}||function(S,T){for(var O in T)Object.prototype.hasOwnProperty.call(T,O)&&(S[O]=T[O])},y(_,w)};return function(_,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");y(_,w);function S(){this.constructor=_}_.prototype=w===null?Object.create(w):(S.prototype=w.prototype,new S)}})(),e=Et&&Et.__spreadArray||function(y,_,w){if(w||arguments.length===2)for(var S=0,T=_.length,O;S<T;S++)(O||!(S in _))&&(O||(O=Array.prototype.slice.call(_,0,S)),O[S]=_[S]);return y.concat(O||Array.prototype.slice.call(_))};Object.defineProperty(Et,"__esModule",{value:!0}),Et.removeEventListener=Et.activateEvent=Et.addEventListener=Et.CloudbaseEventEmitter=Et.IErrorEvent=Et.CloudbaseEvent=void 0;var r=bs();function n(y,_,w){w[y]=w[y]||[],w[y].push(_)}function o(y,_,w){if(w?.[y]){var S=w[y].indexOf(_);S!==-1&&w[y].splice(S,1)}}var i=(function(){function y(_,w){this.data=w||null,this.name=_}return y})();Et.CloudbaseEvent=i;var l=(function(y){t(_,y);function _(w,S){var T=y.call(this,"error",{error:w,data:S})||this;return T.error=w,T}return _})(i);Et.IErrorEvent=l;var f=(function(){function y(){this.listeners={}}return y.prototype.on=function(_,w){return n(_,w,this.listeners),this},y.prototype.off=function(_,w){return o(_,w,this.listeners),this},y.prototype.fire=function(_,w){if((0,r.isInstanceOf)(_,l))return console.error(_.error),this;var S=(0,r.isString)(_)?new i(_,w||{}):_,T=S.name;if(this.listens(T)){S.target=this;for(var O=this.listeners[T]?e([],this.listeners[T],!0):[],x=0,A=O;x<A.length;x++){var C=A[x];C.call(this,S)}}return this},y.prototype.listens=function(_){return this.listeners[_]&&this.listeners[_].length>0},y})();Et.CloudbaseEventEmitter=f;var p=new f;function u(y,_){p.on(y,_)}Et.addEventListener=u;function d(y,_){_===void 0&&(_={}),p.fire(y,_)}Et.activateEvent=d;function v(y,_){p.off(y,_)}return Et.removeEventListener=v,Et}var tj=ej(),gn={};const cR=d3(ak);var vE;function rj(){if(vE)return gn;vE=1;var t={},e=gn&&gn.__extends||(function(){var d=function(v,y){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,w){_.__proto__=w}||function(_,w){for(var S in w)Object.prototype.hasOwnProperty.call(w,S)&&(_[S]=w[S])},d(v,y)};return function(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");d(v,y);function _(){this.constructor=v}v.prototype=y===null?Object.create(y):(_.prototype=y.prototype,new _)}})(),r=gn&&gn.__awaiter||function(d,v,y,_){function w(S){return S instanceof y?S:new y(function(T){T(S)})}return new(y||(y=Promise))(function(S,T){function O(C){try{A(_.next(C))}catch(U){T(U)}}function x(C){try{A(_.throw(C))}catch(U){T(U)}}function A(C){C.done?S(C.value):w(C.value).then(O,x)}A((_=_.apply(d,v||[])).next())})},n=gn&&gn.__generator||function(d,v){var y={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},_,w,S,T;return T={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function O(A){return function(C){return x([A,C])}}function x(A){if(_)throw new TypeError("Generator is already executing.");for(;T&&(T=0,A[0]&&(y=0)),y;)try{if(_=1,w&&(S=A[0]&2?w.return:A[0]?w.throw||((S=w.return)&&S.call(w),0):w.next)&&!(S=S.call(w,A[1])).done)return S;switch(w=0,S&&(A=[A[0]&2,S.value]),A[0]){case 0:case 1:S=A;break;case 4:return y.label++,{value:A[1],done:!1};case 5:y.label++,w=A[1],A=[0];continue;case 7:A=y.ops.pop(),y.trys.pop();continue;default:if(S=y.trys,!(S=S.length>0&&S[S.length-1])&&(A[0]===6||A[0]===2)){y=0;continue}if(A[0]===3&&(!S||A[1]>S[0]&&A[1]<S[3])){y.label=A[1];break}if(A[0]===6&&y.label<S[1]){y.label=S[1],S=A;break}if(S&&y.label<S[2]){y.label=S[2],y.ops.push(A);break}S[2]&&y.ops.pop(),y.trys.pop();continue}A=v.call(d,y)}catch(C){A=[6,C],w=0}finally{_=S=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}};Object.defineProperty(gn,"__esModule",{value:!0}),gn.CloudbaseCache=void 0;var o=cR,i=bs(),l=wd(),f=(function(d){e(v,d);function v(y){var _=d.call(this)||this;return _.root=y,y.tcbCacheObject||(y.tcbCacheObject={}),_}return v.prototype.setItem=function(y,_){this.root.tcbCacheObject[y]=_},v.prototype.getItem=function(y){return this.root.tcbCacheObject[y]},v.prototype.removeItem=function(y){delete this.root.tcbCacheObject[y]},v.prototype.clear=function(){delete this.root.tcbCacheObject},v})(o.AbstractStorage);function p(d,v){switch(d){case"local":return v.localStorage?v.localStorage:((0,i.printWarn)(l.ERRORS.INVALID_PARAMS,"localStorage is not supported on current platform"),new f(v.root));case"none":return new f(v.root);default:return v.localStorage?v.localStorage:((0,i.printWarn)(l.ERRORS.INVALID_PARAMS,"localStorage is not supported on current platform"),new f(v.root))}}var u=(function(){function d(v){this.keys={};var y=v.persistence,_=v.platformInfo,w=_===void 0?{}:_,S=v.keys,T=S===void 0?{}:S;this.platformInfo=w,this.storage||(this.persistenceTag=this.platformInfo.adapter.primaryStorage||y,this.storage=p(this.persistenceTag,this.platformInfo.adapter),this.keys=T)}return Object.defineProperty(d.prototype,"mode",{get:function(){return this.storage.mode||"sync"},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"persistence",{get:function(){return this.persistenceTag},enumerable:!1,configurable:!0}),d.prototype.setStore=function(v,y,_){if(this.mode==="async"){(0,i.printWarn)(l.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use setStoreAsync insteed");return}if(this.storage)try{var w={version:_||"localCachev1",content:y};this.storage.setItem(v,JSON.stringify(w))}catch(S){throw new Error(JSON.stringify({code:l.ERRORS.OPERATION_FAIL,msg:"[".concat((0,l.getSdkName)(),"][").concat(l.ERRORS.OPERATION_FAIL,"]setStore failed"),info:S}))}},d.prototype.setStoreAsync=function(v,y,_){return r(this,void 0,void 0,function(){var w;return n(this,function(S){switch(S.label){case 0:if(!this.storage)return[2];S.label=1;case 1:return S.trys.push([1,3,,4]),w={version:_||"localCachev1",content:y},[4,this.storage.setItem(v,JSON.stringify(w))];case 2:return S.sent(),[3,4];case 3:return S.sent(),[2];case 4:return[2]}})})},d.prototype.getStore=function(v,y){var _;if(this.mode==="async"){(0,i.printWarn)(l.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use getStoreAsync insteed");return}try{if(typeof process<"u"&&(!((_=t)===null||_===void 0)&&_.tcb_token))return t.tcb_token;if(!this.storage)return""}catch{return""}y=y||"localCachev1";var w=this.storage.getItem(v);if(!w)return"";if(w.indexOf(y)>=0){var S=JSON.parse(w);return S.content}return""},d.prototype.getStoreAsync=function(v,y){var _;return r(this,void 0,void 0,function(){var w,S;return n(this,function(T){switch(T.label){case 0:try{if(typeof process<"u"&&(!((_=t)===null||_===void 0)&&_.tcb_token))return[2,t.tcb_token];if(!this.storage)return[2,""]}catch{return[2,""]}return y=y||"localCachev1",[4,this.storage.getItem(v)];case 1:return w=T.sent(),w?w.indexOf(y)>=0?(S=JSON.parse(w),[2,S.content]):[2,""]:[2,""]}})})},d.prototype.removeStore=function(v){if(this.mode==="async"){(0,i.printWarn)(l.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use removeStoreAsync insteed");return}this.storage.removeItem(v)},d.prototype.removeStoreAsync=function(v){return r(this,void 0,void 0,function(){return n(this,function(y){switch(y.label){case 0:return[4,this.storage.removeItem(v)];case 1:return y.sent(),[2]}})})},d})();return gn.CloudbaseCache=u,gn}var nj=rj(),_n={},Kt={},yE;function ij(){if(yE)return Kt;yE=1;var t=Kt&&Kt.__extends||(function(){var u=function(d,v){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,_){y.__proto__=_}||function(y,_){for(var w in _)Object.prototype.hasOwnProperty.call(_,w)&&(y[w]=_[w])},u(d,v)};return function(d,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");u(d,v);function y(){this.constructor=d}d.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}})(),e=Kt&&Kt.__assign||function(){return e=Object.assign||function(u){for(var d,v=1,y=arguments.length;v<y;v++){d=arguments[v];for(var _ in d)Object.prototype.hasOwnProperty.call(d,_)&&(u[_]=d[_])}return u},e.apply(this,arguments)},r=Kt&&Kt.__awaiter||function(u,d,v,y){function _(w){return w instanceof v?w:new v(function(S){S(w)})}return new(v||(v=Promise))(function(w,S){function T(A){try{x(y.next(A))}catch(C){S(C)}}function O(A){try{x(y.throw(A))}catch(C){S(C)}}function x(A){A.done?w(A.value):_(A.value).then(T,O)}x((y=y.apply(u,d||[])).next())})},n=Kt&&Kt.__generator||function(u,d){var v={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},y,_,w,S;return S={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(S[Symbol.iterator]=function(){return this}),S;function T(x){return function(A){return O([x,A])}}function O(x){if(y)throw new TypeError("Generator is already executing.");for(;S&&(S=0,x[0]&&(v=0)),v;)try{if(y=1,_&&(w=x[0]&2?_.return:x[0]?_.throw||((w=_.return)&&w.call(_),0):_.next)&&!(w=w.call(_,x[1])).done)return w;switch(_=0,w&&(x=[x[0]&2,w.value]),x[0]){case 0:case 1:w=x;break;case 4:return v.label++,{value:x[1],done:!1};case 5:v.label++,_=x[1],x=[0];continue;case 7:x=v.ops.pop(),v.trys.pop();continue;default:if(w=v.trys,!(w=w.length>0&&w[w.length-1])&&(x[0]===6||x[0]===2)){v=0;continue}if(x[0]===3&&(!w||x[1]>w[0]&&x[1]<w[3])){v.label=x[1];break}if(x[0]===6&&v.label<w[1]){v.label=w[1],w=x;break}if(w&&v.label<w[2]){v.label=w[2],v.ops.push(x);break}w[2]&&v.ops.pop(),v.trys.pop();continue}x=d.call(u,v)}catch(A){x=[6,A],_=0}finally{y=w=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}};Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.WebRequest=Kt.genAdapter=void 0;var o=cR,i=bs(),l=iR(),f=(function(u){t(d,u);function d(v){var y=u.call(this)||this,_=v.timeout,w=v.timeoutMsg,S=v.restrictedMethods;return y.timeout=_||0,y.timeoutMsg=w||"",y.restrictedMethods=S||["get","post","upload","download"],y}return d.prototype.get=function(v){return this.request(e(e({},v),{method:"get"}),this.restrictedMethods.includes("get"))},d.prototype.post=function(v){return this.request(e(e({},v),{method:"post"}),this.restrictedMethods.includes("post"))},d.prototype.put=function(v){return this.request(e(e({},v),{method:"put"}))},d.prototype.upload=function(v){var y=v.data,_=v.file,w=v.name,S=v.method,T=v.headers,O=T===void 0?{}:T,x={post:"post",put:"put"}[S?.toLowerCase()]||"put",A=new FormData;return x==="post"?(Object.keys(y).forEach(function(C){A.append(C,y[C])}),A.append("key",w),A.append("file",_),this.request(e(e({},v),{data:A,method:x}),this.restrictedMethods.includes("upload"))):this.request(e(e({},v),{method:"put",headers:O,body:_}),this.restrictedMethods.includes("upload"))},d.prototype.download=function(v){return r(this,void 0,void 0,function(){var y,_,w,S;return n(this,function(T){switch(T.label){case 0:return T.trys.push([0,2,,3]),[4,this.get(e(e({},v),{headers:{},responseType:"blob"}))];case 1:return y=T.sent().data,_=window.URL.createObjectURL(new Blob([y])),w=decodeURIComponent(new URL(v.url).pathname.split("/").pop()||""),S=document.createElement("a"),S.href=_,S.setAttribute("download",w),S.style.display="none",document.body.appendChild(S),S.click(),window.URL.revokeObjectURL(_),document.body.removeChild(S),[3,3];case 2:return T.sent(),[3,3];case 3:return[2,new Promise(function(O){O({statusCode:200,tempFilePath:v.url})})]}})})},d.prototype.fetch=function(v){var y;return r(this,void 0,void 0,function(){var _,w,S,T,O,x,A,C,U,q,Y,J,k,W=this;return n(this,function(F){switch(F.label){case 0:return _=new AbortController,w=v.url,S=v.enableAbort,T=S===void 0?!1:S,O=v.stream,x=O===void 0?!1:O,A=v.signal,C=v.timeout,U=v.shouldThrowOnError,q=U===void 0?!0:U,Y=C??this.timeout,A&&(A.aborted&&_.abort(),A.addEventListener("abort",function(){return _.abort()})),J=null,T&&Y&&(J=setTimeout(function(){console.warn(W.timeoutMsg),_.abort(new Error(W.timeoutMsg))},Y)),[4,fetch(w,e(e({},v),{signal:_.signal})).then(function(V){return r(W,void 0,void 0,function(){var G,K,ae;return n(this,function(fe){switch(fe.label){case 0:return clearTimeout(J),q?V.ok?(G=V,[3,3]):[3,1]:[3,4];case 1:return ae=(K=Promise).reject,[4,V.json()];case 2:G=ae.apply(K,[fe.sent()]),fe.label=3;case 3:return[2,G];case 4:return[2,V]}})})}).catch(function(V){if(clearTimeout(J),q)return Promise.reject(V)})];case 1:return k=F.sent(),[2,{data:x?k.body:!((y=k.headers.get("content-type"))===null||y===void 0)&&y.includes("application/json")?k.json():k.text(),statusCode:k.status,header:k.headers}]}})})},d.prototype.request=function(v,y){var _=this;y===void 0&&(y=!1);var w=String(v.method).toLowerCase()||"get";return new Promise(function(S){var T=v.url,O=v.headers,x=O===void 0?{}:O,A=v.data,C=v.responseType,U=v.withCredentials,q=v.body,Y=v.onUploadProgress,J=(0,i.formatUrl)((0,l.getProtocol)(),T,w==="get"?A:{}),k=new XMLHttpRequest;k.open(w,J),C&&(k.responseType=C),Object.keys(x).forEach(function(V){k.setRequestHeader(V,x[V])});var W;Y&&k.upload.addEventListener("progress",Y),k.onreadystatechange=function(){var V={};if(k.readyState===4){var G=k.getAllResponseHeaders(),K=G.trim().split(/[\r\n]+/),ae={};K.forEach(function(fe){var ce=fe.split(": "),Q=ce.shift().toLowerCase(),ee=ce.join(": ");ae[Q]=ee}),V.header=ae,V.statusCode=k.status;try{V.data=C==="blob"?k.response:JSON.parse(k.responseText)}catch{V.data=C==="blob"?k.response:k.responseText}clearTimeout(W),S(V)}},y&&_.timeout&&(W=setTimeout(function(){console.warn(_.timeoutMsg),k.abort()},_.timeout));var F;(0,i.isFormData)(A)?F=A:x["content-type"]==="application/x-www-form-urlencoded"?F=(0,i.toQueryString)(A):q?F=q:F=A?JSON.stringify(A):void 0,U&&(k.withCredentials=!0),k.send(F)})},d})(o.AbstractSDKRequest);Kt.WebRequest=f;function p(){var u={type:"default",root:window,reqClass:f,wsClass:WebSocket,localStorage};return u}return Kt.genAdapter=p,Kt}var mE;function oj(){return mE||(mE=1,(function(t){var e=_n&&_n.__assign||function(){return e=Object.assign||function(d){for(var v,y=1,_=arguments.length;y<_;y++){v=arguments[y];for(var w in v)Object.prototype.hasOwnProperty.call(v,w)&&(d[w]=v[w])}return d},e.apply(this,arguments)},r=_n&&_n.__createBinding||(Object.create?(function(d,v,y,_){_===void 0&&(_=y);var w=Object.getOwnPropertyDescriptor(v,y);(!w||("get"in w?!v.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return v[y]}}),Object.defineProperty(d,_,w)}):(function(d,v,y,_){_===void 0&&(_=y),d[_]=v[y]})),n=_n&&_n.__setModuleDefault||(Object.create?(function(d,v){Object.defineProperty(d,"default",{enumerable:!0,value:v})}):function(d,v){d.default=v}),o=_n&&_n.__importStar||function(d){if(d&&d.__esModule)return d;var v={};if(d!=null)for(var y in d)y!=="default"&&Object.prototype.hasOwnProperty.call(d,y)&&r(v,d,y);return n(v,d),v};Object.defineProperty(t,"__esModule",{value:!0}),t.useDefaultAdapter=t.useAdapters=t.RUNTIME=void 0;var i=o(ij()),l=bs(),f;(function(d){d.WEB="web",d.WX_MP="wx_mp"})(f=t.RUNTIME||(t.RUNTIME={}));function p(d,v){for(var y=(0,l.isArray)(d)?d:[d],_=0,w=y;_<w.length;_++){var S=w[_],T=S.isMatch,O=S.genAdapter,x=S.runtime;if(T())return{adapter:e({isMatch:T},O(v)),runtime:x}}}t.useAdapters=p;function u(){return{adapter:i.genAdapter(),runtime:f.WEB}}t.useDefaultAdapter=u})(_n)),_n}var aj=oj(),An=function(){return An=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},An.apply(this,arguments)},$u=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function p(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,p)}u((n=n.apply(t,e||[])).next())})},Wu=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return p([u,d])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},fR=(function(){function t(e){var r,n;try{this.localStorage=e?.localStorage||(((n=(r=e?.adapter)===null||r===void 0?void 0:r.root)===null||n===void 0?void 0:n.globalThis)||globalThis).localStorage}catch{this.localStorage=e?.localStorage||{}}}return t.prototype.getItem=function(e){return $u(this,void 0,void 0,function(){return Wu(this,function(r){return[2,this.localStorage.getItem(e)]})})},t.prototype.removeItem=function(e){return $u(this,void 0,void 0,function(){return Wu(this,function(r){return this.localStorage.removeItem(e),[2]})})},t.prototype.setItem=function(e,r){return $u(this,void 0,void 0,function(){return Wu(this,function(n){return this.localStorage.setItem(e,r),[2]})})},t.prototype.getItemSync=function(e){return this.localStorage.getItem(e)},t.prototype.setItemSync=function(e,r){this.localStorage.setItem(e,r)},t.prototype.removeItemSync=function(e){this.localStorage.removeItem(e)},t})(),sj=/^[^:]+:\/\/[^/]+(\/[^?#]+)/,dR=function(t,e){var r,n,o,i=(r=e?.headers)===null||r===void 0?void 0:r["x-request-id"];return t||(t={}),(t?.code||!((n=t?.data)===null||n===void 0)&&n.error_code)&&(t={error:t.code||t.data.error,error_description:t.data.error_description||t.message||t.code||t.data.error_code,request_id:t.requestId,error_code:(o=t.data)===null||o===void 0?void 0:o.error_code}),t?.request_id||(t.request_id=t.request_id||i),t?.error?(t.error_uri=lj(e?.url),t):t?.data||{}};function uj(t){return function(e,r){return $u(this,void 0,void 0,function(){return Wu(this,function(n){return[2,new Promise(function(o,i){var l=Object.assign({},r);l.body&&typeof l.body!="string"&&(l.body=JSON.stringify(l.body));var f=wx.request({url:e,data:l.body,timeout:t._timeout,method:l.method||"GET",header:l.headers,success:function(p){p=dR(p,An(An({},r),{url:e})),p.error&&i(p),o(p)},fail:function(p){i({error:"unreachable",error_description:p.message})},complete:function(p){if(!(!p||!p.errMsg)&&!(!t._timeout||t._restrictedMethods.indexOf("request")===-1)){var u=p.errMsg;if(u==="request:fail timeout"){console.warn(t._timeoutMsg);try{f.abort()}catch{}}}}})})]})})}}function lj(t){return sj.test(t)?RegExp.$1:t}var cj=function(t,e){var r=An({},t);try{if(!t?.storage&&e?.localStorage&&(r.storage=new fR({localStorage:e.localStorage,adapter:e})),!t.captchaOptions&&e?.captchaOptions&&(r.captchaOptions=e.captchaOptions),!t.baseRequest&&!t.request&&e?.reqClass){var n={timeout:1e4,restrictedMethods:["get","post","upload","download","request"]},o=new e.reqClass(n);r.baseRequest=function(i,l){var f,p,u,d,v;return $u(this,void 0,void 0,function(){var y,_,w,S;return Wu(this,function(T){switch(T.label){case 0:if(y={},_=((f=l.method)===null||f===void 0?void 0:f.toLocaleLowerCase())||"post",w=(u=(p=o?.[_])===null||p===void 0?void 0:p.bind)===null||u===void 0?void 0:u.call(p,o),typeof w!="function")throw new Error("invalid ".concat(_," request method"));T.label=1;case 1:return T.trys.push([1,3,,4]),(!(!((d=l.headers)===null||d===void 0)&&d["content-type"])||!((v=l.headers)===null||v===void 0)&&v["content-type"].includes("application/json"))&&!["string","undefined"].includes(typeof l.body)&&(l.data=l.data||l.body,l.body=JSON.stringify(l.body)),[4,w(An({url:i},l))];case 2:return y=T.sent(),y=dR(y,An(An({},l),{url:i})),[3,4];case 3:throw S=T.sent(),y=S,S;case 4:if(y?.error)throw y;return[2,y]}})})}}}catch(i){console.error("user adapter generate fail:",i)}return r},fj=function(t,e){if(!Vn.isMatch()||t.storage&&t.baseRequest)return t;var r=An({},t),n={};try{var o=Vn.genAdapter({}),i=o.localStorage,l=o.reqClass;if(i&&(n.storage=new fR({localStorage:i,adapter:e})),l){var f=new l({timeout:1e4,restrictedMethods:["get","post","upload","download","request"]});n.request=uj(f)}return r.captchaOptions&&(n.baseRequest=n.request,n.request=void 0),An(An({},r),n)}catch(p){console.error("adapter generate fail:",p)}return r},dj=function(t){return t.adapter&&t.adapter.type!=="default"?cj(t,t.adapter):fj(t,t.adapter)},jt=function(){return jt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},jt.apply(this,arguments)},Xe=function(t,e,r,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var f=t.length-1;f>=0;f--)(l=t[f])&&(i=(o<3?l(i):o>3?l(e,r,i):l(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i},le=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},pe=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function p(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,p)}u((n=n.apply(t,e||[])).next())})},ve=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return p([u,d])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},hj="auth",gf={SIGN_OUT:"sign_out",SIGN_IN:"sign_in",CREDENTIALS_ERROR:"credentials_error"},_f={LOGIN_STATE_CHANGED:"loginStateChanged"},wf=new tj.CloudbaseEventEmitter,pj=function(t){wf.fire(_f.LOGIN_STATE_CHANGED,jt(jt({},t),{eventType:gf.CREDENTIALS_ERROR}))},vj=(function(){function t(e){var r=e.cache,n=e.oauthInstance;this.cache=r,this.oauthInstance=n,this.setUserInfo()}return t.prototype.checkLocalInfo=function(){return pe(this,void 0,void 0,function(){return ve(this,function(e){return this.uid=this.getLocalUserInfo("uid"),this.gender=this.getLocalUserInfo("gender"),this.picture=this.getLocalUserInfo("picture"),this.email=this.getLocalUserInfo("email"),this.emailVerified=this.getLocalUserInfo("email_verified"),this.phoneNumber=this.getLocalUserInfo("phone_number"),this.username=this.getLocalUserInfo("username"),this.name=this.getLocalUserInfo("name"),this.birthdate=this.getLocalUserInfo("birthdate"),this.zoneinfo=this.getLocalUserInfo("zoneinfo"),this.locale=this.getLocalUserInfo("locale"),this.sub=this.getLocalUserInfo("sub"),this.createdFrom=this.getLocalUserInfo("created_from"),this.providers=this.getLocalUserInfo("providers"),[2]})})},t.prototype.checkLocalInfoAsync=function(){return pe(this,void 0,void 0,function(){var e,r,n,o;return ve(this,function(i){switch(i.label){case 0:return e=this,[4,this.getLocalUserInfoAsync("uid")];case 1:return e.uid=i.sent(),r=this,[4,this.getLocalUserInfoAsync("gender")];case 2:return r.gender=i.sent(),this.picture=this.getLocalUserInfo("picture"),n=this,[4,this.getLocalUserInfoAsync("email")];case 3:return n.email=i.sent(),this.emailVerified=this.getLocalUserInfo("email_verified"),this.phoneNumber=this.getLocalUserInfo("phone_number"),o=this,[4,this.getLocalUserInfoAsync("username")];case 4:return o.username=i.sent(),this.name=this.getLocalUserInfo("name"),this.birthdate=this.getLocalUserInfo("birthdate"),this.zoneinfo=this.getLocalUserInfo("zoneinfo"),this.locale=this.getLocalUserInfo("locale"),this.sub=this.getLocalUserInfo("sub"),this.createdFrom=this.getLocalUserInfo("created_from"),this.providers=this.getLocalUserInfo("providers"),[2]}})})},t.prototype.update=function(e){return pe(this,void 0,void 0,function(){var r;return ve(this,function(n){switch(n.label){case 0:return[4,this.oauthInstance.authApi.setUserProfile(jt({},e))];case 1:return r=n.sent(),this.setLocalUserInfo(r),[2]}})})},t.prototype.updateUserBasicInfo=function(e){return pe(this,void 0,void 0,function(){return ve(this,function(r){switch(r.label){case 0:return[4,this.oauthInstance.authApi.updateUserBasicInfo(jt({},e))];case 1:return r.sent(),this.setLocalUserInfo({username:e.username}),[2]}})})},t.prototype.updatePassword=function(e,r){return this.oauthInstance.authApi.updatePasswordByOld({old_password:r,new_password:e})},t.prototype.updateUsername=function(e){return typeof e!="string"&&fs.throwError(Me.ERRORS.INVALID_PARAMS,"username must be a string"),this.update({username:e})},t.prototype.refresh=function(e){return pe(this,void 0,void 0,function(){var r;return ve(this,function(n){switch(n.label){case 0:return[4,this.oauthInstance.authApi.getUserInfo(e)];case 1:if(r=n.sent(),r.code==="INVALID_ACCESS_TOKEN")throw this.setLocalUserInfo({}),r;return this.setLocalUserInfo(r),[2,r]}})})},t.prototype.getLocalUserInfo=function(e){var r=this.cache.keys.userInfoKey,n=this.cache.getStore(r);return n[e]},t.prototype.getLocalUserInfoAsync=function(e){return pe(this,void 0,void 0,function(){var r,n;return ve(this,function(o){switch(o.label){case 0:return r=this.cache.keys.userInfoKey,[4,this.cache.getStoreAsync(r)];case 1:return n=o.sent(),[2,n[e]]}})})},t.prototype.setUserInfo=function(){var e=this,r=this.cache.keys.userInfoKey,n=this.cache.getStore(r);["uid","email","name","gender","picture","email_verified","phone_number","birthdate","zoneinfo","locale","sub","created_from","providers","username"].forEach(function(o){e[o]=n[o]})},t.prototype.setLocalUserInfo=function(e){var r=this.cache.keys.userInfoKey;this.cache.setStore(r,e),this.setUserInfo()},Xe([Qe.catchErrorsDecorator({title:"",messages:["","  1 -  User.update() ","  2 - ","".concat(Me.COMMUNITY_SITE_URL)]}),le("design:type",Function),le("design:paramtypes",[Object]),le("design:returntype",Promise)],t.prototype,"update",null),Xe([Qe.catchErrorsDecorator({title:"",messages:["","  1 -  User.updatePassword() ","  3 - ","".concat(Me.COMMUNITY_SITE_URL)]}),le("design:type",Function),le("design:paramtypes",[String,String]),le("design:returntype",void 0)],t.prototype,"updatePassword",null),Xe([Qe.catchErrorsDecorator({title:"",messages:["","  1 -  User.updateUsername() ","  2 - ","".concat(Me.COMMUNITY_SITE_URL)]}),le("design:type",Function),le("design:paramtypes",[String]),le("design:returntype",void 0)],t.prototype,"updateUsername",null),Xe([Qe.catchErrorsDecorator({title:"",messages:["","  1 -  User.refresh() ","".concat(Me.COMMUNITY_SITE_URL)]}),le("design:type",Function),le("design:paramtypes",[Object]),le("design:returntype",Promise)],t.prototype,"refresh",null),t})(),iv=(function(){function t(e){var r=e.envId,n=e.cache,o=e.oauthInstance;r||fs.throwError(Me.ERRORS.INVALID_PARAMS,"envId is not defined"),this.cache=n,this.oauthInstance=o,this.user=new vj({cache:this.cache,oauthInstance:o})}return t.prototype.checkLocalState=function(){var e;this.oauthLoginState=(e=this.oauthInstance)===null||e===void 0?void 0:e.authApi.hasLoginStateSync(),this.user.checkLocalInfo()},t.prototype.checkLocalStateAsync=function(){var e;return pe(this,void 0,void 0,function(){return ve(this,function(r){switch(r.label){case 0:return[4,(e=this.oauthInstance)===null||e===void 0?void 0:e.authApi.getLoginState()];case 1:return r.sent(),[4,this.user.checkLocalInfoAsync()];case 2:return r.sent(),[2]}})})},t})(),yj=(function(){function t(e){this.config=e,this.cache=e.cache,this.oauthInstance=e.oauthInstance,this.setAccessKey()}return t.prototype.bindPhoneNumber=function(e){return pe(this,void 0,void 0,function(){return ve(this,function(r){return[2,this.oauthInstance.authApi.editContact(e)]})})},t.prototype.unbindProvider=function(e){return pe(this,void 0,void 0,function(){return ve(this,function(r){return[2,this.oauthInstance.authApi.unbindProvider(e)]})})},t.prototype.bindEmail=function(e){return this.oauthInstance.authApi.editContact(e)},t.prototype.verify=function(e){return pe(this,void 0,void 0,function(){return ve(this,function(r){return[2,this.oauthInstance.authApi.verify(e)]})})},t.prototype.getVerification=function(e,r){return pe(this,void 0,void 0,function(){return ve(this,function(n){return[2,this.oauthInstance.authApi.getVerification(e,r)]})})},Object.defineProperty(t.prototype,"currentUser",{get:function(){if(this.cache.mode==="async"){fs.printWarn(Me.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use getCurrentUser instead");return}var e=this.hasLoginState();return e&&e.user||null},enumerable:!1,configurable:!0}),t.prototype.getCurrentUser=function(){return pe(this,void 0,void 0,function(){var e;return ve(this,function(r){switch(r.label){case 0:return[4,this.getLoginState()];case 1:return e=r.sent(),e?[4,e.user.checkLocalInfoAsync()]:[3,3];case 2:return r.sent(),[2,e.user||null];case 3:return[2,null]}})})},t.prototype.signInAnonymously=function(e){return e===void 0&&(e={}),pe(this,void 0,void 0,function(){return ve(this,function(r){switch(r.label){case 0:return[4,this.oauthInstance.authApi.signInAnonymously(e)];case 1:return r.sent(),[2,this.createLoginState()]}})})},t.prototype.signInAnonymouslyInWx=function(e){var r=e===void 0?{}:e,n=r.useWxCloud;return pe(this,void 0,void 0,function(){var o,i,l=this;return ve(this,function(f){switch(f.label){case 0:if(!Vn.isMatch())throw Error("wx api undefined");return o=wx.getAccountInfoSync().miniProgram,i=function(p){return pe(l,void 0,void 0,function(){var u,d,v;return ve(this,function(y){switch(y.label){case 0:u=void 0,d=void 0,y.label=1;case 1:return y.trys.push([1,4,,5]),[4,this.oauthInstance.authApi.grantProviderToken({provider_id:o?.appId,provider_code:p,provider_params:{provider_code_type:"open_id",appid:o?.appId}},n)];case 2:if(u=y.sent(),u?.error_code||!u.provider_token)throw u;return[4,this.oauthInstance.authApi.signInAnonymously({provider_token:u.provider_token},n)];case 3:if(d=y.sent(),d?.error_code)throw d;return[3,5];case 4:throw v=y.sent(),v;case 5:return[2]}})})},[4,new Promise(function(p,u){wx.login({success:function(d){return pe(l,void 0,void 0,function(){var v;return ve(this,function(y){switch(y.label){case 0:return y.trys.push([0,2,,3]),[4,i(d.code)];case 1:return y.sent(),p(!0),[3,3];case 2:return v=y.sent(),u(v),[3,3];case 3:return[2]}})})},fail:function(d){var v=new Error(d?.errMsg);v.code=d?.errno,u(v)}})})];case 1:return f.sent(),[2,this.createLoginState(void 0,{asyncRefreshUser:!0})]}})})},t.prototype.bindOpenId=function(){return pe(this,void 0,void 0,function(){var e,r,n=this;return ve(this,function(o){switch(o.label){case 0:if(!Vn.isMatch())throw Error("wx api undefined");return e=wx.getAccountInfoSync().miniProgram,r=function(i){return pe(n,void 0,void 0,function(){var l,f;return ve(this,function(p){switch(p.label){case 0:l=void 0,p.label=1;case 1:return p.trys.push([1,4,,5]),[4,this.oauthInstance.authApi.grantProviderToken({provider_id:e?.appId,provider_code:i,provider_params:{provider_code_type:"open_id",appid:e?.appId}})];case 2:if(l=p.sent(),l?.error_code||!l.provider_token)throw l;return[4,this.oauthInstance.authApi.bindWithProvider({provider_token:l.provider_token})];case 3:return p.sent(),[3,5];case 4:throw f=p.sent(),f;case 5:return[2]}})})},[4,new Promise(function(i,l){wx.login({success:function(f){return pe(n,void 0,void 0,function(){var p;return ve(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,r(f.code)];case 1:return u.sent(),i(!0),[3,3];case 2:return p=u.sent(),l(p),[3,3];case 3:return[2]}})})},fail:function(f){var p=new Error(f?.errMsg);p.code=f?.errno,l(p)}})})];case 1:return o.sent(),[2]}})})},t.prototype.signInWithOpenId=function(e){var r=e===void 0?{}:e,n=r.useWxCloud,o=n===void 0?!0:n;return pe(this,void 0,void 0,function(){var i,l,f=this;return ve(this,function(p){switch(p.label){case 0:if(!Vn.isMatch())throw Error("wx api undefined");return i=wx.getAccountInfoSync().miniProgram,l=function(u){return pe(f,void 0,void 0,function(){var d,v,y;return ve(this,function(_){switch(_.label){case 0:d=void 0,v=void 0,_.label=1;case 1:return _.trys.push([1,4,,5]),[4,this.oauthInstance.authApi.grantProviderToken({provider_id:i?.appId,provider_code:u,provider_params:{provider_code_type:"open_id",appid:i?.appId}},o)];case 2:if(d=_.sent(),d?.error_code||!d.provider_token)throw d;return[4,this.oauthInstance.authApi.signInWithProvider({provider_token:d.provider_token},o)];case 3:if(v=_.sent(),v?.error_code)throw v;return[3,5];case 4:throw y=_.sent(),y;case 5:return[4,this.oauthInstance.oauth2client.setCredentials(v)];case 6:return _.sent(),[2]}})})},[4,new Promise(function(u,d){wx.login({success:function(v){return pe(f,void 0,void 0,function(){var y;return ve(this,function(_){switch(_.label){case 0:return _.trys.push([0,2,,3]),[4,l(v.code)];case 1:return _.sent(),u(!0),[3,3];case 2:return y=_.sent(),d(y),[3,3];case 3:return[2]}})})},fail:function(v){var y=new Error(v?.errMsg);y.code=v?.errno,d(y)}})})];case 1:return p.sent(),[2,this.createLoginState()]}})})},t.prototype.signInWithUnionId=function(){return pe(this,void 0,void 0,function(){var e,r=this;return ve(this,function(n){switch(n.label){case 0:if(!Vn.isMatch())throw Error("wx api undefined");n.label=1;case 1:return n.trys.push([1,3,,4]),[4,new Promise(function(o,i){var l=wx.getAccountInfoSync().miniProgram;wx.login({success:function(f){return pe(r,void 0,void 0,function(){var p,u,d,v,y;return ve(this,function(_){switch(_.label){case 0:p=l?.appId,_.label=1;case 1:return _.trys.push([1,4,,5]),[4,this.oauthInstance.authApi.grantProviderToken({provider_code:f.code,provider_id:p,provider_params:{provider_code_type:"union_id",appid:l?.appId}})];case 2:return u=_.sent(),d=u.provider_token,d?[4,this.oauthInstance.authApi.signInWithProvider({provider_id:p,provider_token:d})]:(i(u),[2]);case 3:return v=_.sent(),v?.error_code?(i(v),[2]):(o(!0),[3,5]);case 4:return y=_.sent(),i(y),[3,5];case 5:return[2]}})})},fail:function(f){var p=new Error(f?.errMsg);p.code=f?.errno,i(p)}})})];case 2:return n.sent(),[3,4];case 3:throw e=n.sent(),e;case 4:return[2,this.createLoginState()]}})})},t.prototype.signInWithPhoneAuth=function(e){var r=e.phoneCode,n=r===void 0?"":r;return pe(this,void 0,void 0,function(){var o,i,l,f,p,u;return ve(this,function(d){switch(d.label){case 0:if(!Vn.isMatch())throw Error("wx api undefined");return o=wx.getAccountInfoSync().miniProgram,i={provider_params:{provider_code_type:"phone"},provider_id:o.appId},[4,wx.login()];case 1:l=d.sent().code,i.provider_code=l,d.label=2;case 2:return d.trys.push([2,6,,7]),[4,this.oauthInstance.authApi.grantProviderToken(i)];case 3:if(f=d.sent(),f.error_code)throw f;return[4,this.oauthInstance.authApi.patchProviderToken({provider_token:f.provider_token,provider_id:o.appId,provider_params:{code:n,provider_code_type:"phone"}})];case 4:if(f=d.sent(),f.error_code)throw f;return[4,this.oauthInstance.authApi.signInWithProvider({provider_token:f.provider_token})];case 5:if(p=d.sent(),p?.error_code)throw p;return[3,7];case 6:throw u=d.sent(),u;case 7:return[2,this.createLoginState()]}})})},t.prototype.signInWithSms=function(e){var r=e.verificationInfo,n=r===void 0?{verification_id:"",is_user:!1}:r,o=e.verificationCode,i=o===void 0?"":o,l=e.phoneNum,f=l===void 0?"":l,p=e.bindInfo,u=p===void 0?void 0:p;return pe(this,void 0,void 0,function(){return ve(this,function(d){try{return[2,this.signInWithUsername({verificationInfo:n,verificationCode:i,bindInfo:u,username:f,loginType:"sms"})]}catch(v){throw v}return[2]})})},t.prototype.signInWithEmail=function(e){var r=e.verificationInfo,n=r===void 0?{verification_id:"",is_user:!1}:r,o=e.verificationCode,i=o===void 0?"":o,l=e.bindInfo,f=l===void 0?void 0:l,p=e.email,u=p===void 0?"":p;return pe(this,void 0,void 0,function(){return ve(this,function(d){try{return[2,this.signInWithUsername({verificationInfo:n,verificationCode:i,bindInfo:f,username:u,loginType:"email"})]}catch(v){throw v}return[2]})})},t.prototype.setCustomSignFunc=function(e){this.oauthInstance.authApi.setCustomSignFunc(e)},t.prototype.signInWithCustomTicket=function(){return pe(this,void 0,void 0,function(){return ve(this,function(e){switch(e.label){case 0:return[4,this.oauthInstance.authApi.signInWithCustomTicket()];case 1:return e.sent(),[2,this.createLoginState()]}})})},t.prototype.signIn=function(e){return pe(this,void 0,void 0,function(){return ve(this,function(r){switch(r.label){case 0:return[4,this.oauthInstance.authApi.signIn(e)];case 1:return r.sent(),[2,this.createLoginState(e)]}})})},t.prototype.signUp=function(e){return pe(this,void 0,void 0,function(){return ve(this,function(r){switch(r.label){case 0:return[4,this.oauthInstance.authApi.signUp(e)];case 1:return r.sent(),[2,this.createLoginState()]}})})},t.prototype.setPassword=function(e){return pe(this,void 0,void 0,function(){return ve(this,function(r){return[2,this.oauthInstance.authApi.setPassword(e)]})})},t.prototype.isUsernameRegistered=function(e){return pe(this,void 0,void 0,function(){var r;return ve(this,function(n){switch(n.label){case 0:return typeof e!="string"&&fs.throwError(Me.ERRORS.INVALID_PARAMS,"username must be a string"),[4,this.oauthInstance.authApi.checkIfUserExist({username:e})];case 1:return r=n.sent().exist,[2,r]}})})},t.prototype.signOut=function(e){return pe(this,void 0,void 0,function(){var r,n;return ve(this,function(o){switch(o.label){case 0:return r=this.cache.keys.userInfoKey,[4,this.oauthInstance.authApi.signOut(e)];case 1:return n=o.sent(),[4,this.cache.removeStoreAsync(r)];case 2:return o.sent(),wf.fire(_f.LOGIN_STATE_CHANGED,{eventType:gf.SIGN_OUT}),[2,n]}})})},t.prototype.hasLoginState=function(){var e;if(this.cache.mode==="async"){fs.printWarn(Me.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use getLoginState insteed");return}var r=(e=this.oauthInstance)===null||e===void 0?void 0:e.authApi.hasLoginStateSync();if(r){var n=new iv({envId:this.config.env,cache:this.cache,oauthInstance:this.oauthInstance});return n}return null},t.prototype.getLoginState=function(){return pe(this,void 0,void 0,function(){var e,r;return ve(this,function(n){switch(n.label){case 0:e=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.oauthInstance.authApi.getLoginState()];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[2,null];case 4:return e?(r=new iv({envId:this.config.env,cache:this.cache,oauthInstance:this.oauthInstance}),[2,r]):[2,null]}})})},t.prototype.getUserInfo=function(e){return pe(this,void 0,void 0,function(){return ve(this,function(r){return[2,this.oauthInstance.authApi.getUserInfo(e)]})})},t.prototype.getWedaUserInfo=function(){return pe(this,void 0,void 0,function(){return ve(this,function(e){return[2,this.oauthInstance.authApi.getWedaUserInfo()]})})},t.prototype.updateUserBasicInfo=function(e){return pe(this,void 0,void 0,function(){var r;return ve(this,function(n){switch(n.label){case 0:return[4,this.getLoginState()];case 1:return r=n.sent(),r?[4,r.user.updateUserBasicInfo(e)]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.getAuthHeader=function(){return console.error("Auth.getAuthHeader API "),{}},t.prototype.bindWithProvider=function(e){return pe(this,void 0,void 0,function(){return ve(this,function(r){return[2,this.oauthInstance.authApi.bindWithProvider(e)]})})},t.prototype.queryUser=function(e){return pe(this,void 0,void 0,function(){return ve(this,function(r){return[2,this.oauthInstance.authApi.queryUserProfile(e)]})})},t.prototype.getAccessToken=function(){return pe(this,void 0,void 0,function(){var e;return ve(this,function(r){switch(r.label){case 0:return[4,this.oauthInstance.oauth2client.getAccessToken()];case 1:return e=r.sent(),[2,{accessToken:e,env:this.config.env}]}})})},t.prototype.grantProviderToken=function(e){return pe(this,void 0,void 0,function(){return ve(this,function(r){return[2,this.oauthInstance.authApi.grantProviderToken(e)]})})},t.prototype.patchProviderToken=function(e){return pe(this,void 0,void 0,function(){return ve(this,function(r){return[2,this.oauthInstance.authApi.patchProviderToken(e)]})})},t.prototype.signInWithProvider=function(e){return pe(this,void 0,void 0,function(){return ve(this,function(r){switch(r.label){case 0:return[4,this.oauthInstance.authApi.signInWithProvider(e)];case 1:return r.sent(),[2,this.createLoginState(e)]}})})},t.prototype.signInWithWechat=function(e){return e===void 0&&(e={}),pe(this,void 0,void 0,function(){return ve(this,function(r){switch(r.label){case 0:return[4,this.oauthInstance.authApi.signInWithWechat(e)];case 1:return r.sent(),[2,this.createLoginState(e)]}})})},t.prototype.grantToken=function(e){return pe(this,void 0,void 0,function(){return ve(this,function(r){switch(r.label){case 0:return[4,this.oauthInstance.authApi.grantToken(e)];case 1:return r.sent(),[2,this.createLoginState()]}})})},t.prototype.genProviderRedirectUri=function(e){return pe(this,void 0,void 0,function(){return ve(this,function(r){return[2,this.oauthInstance.authApi.genProviderRedirectUri(e)]})})},t.prototype.resetPassword=function(e){return pe(this,void 0,void 0,function(){return ve(this,function(r){return[2,this.oauthInstance.authApi.resetPassword(e)]})})},t.prototype.deviceAuthorize=function(e){return pe(this,void 0,void 0,function(){return ve(this,function(r){return[2,this.oauthInstance.authApi.deviceAuthorize(e)]})})},t.prototype.sudo=function(e){return pe(this,void 0,void 0,function(){return ve(this,function(r){return[2,this.oauthInstance.authApi.sudo(e)]})})},t.prototype.deleteMe=function(e){return pe(this,void 0,void 0,function(){return ve(this,function(r){return[2,this.oauthInstance.authApi.deleteMe(e)]})})},t.prototype.getProviders=function(){return pe(this,void 0,void 0,function(){return ve(this,function(e){return[2,this.oauthInstance.authApi.getProviders()]})})},t.prototype.loginScope=function(){return pe(this,void 0,void 0,function(){return ve(this,function(e){return[2,this.oauthInstance.authApi.loginScope()]})})},t.prototype.loginGroups=function(){return pe(this,void 0,void 0,function(){return ve(this,function(e){return[2,this.oauthInstance.authApi.loginGroups()]})})},t.prototype.onLoginStateChanged=function(e){return pe(this,void 0,void 0,function(){var r,n=this;return ve(this,function(o){switch(o.label){case 0:return wf.on(_f.LOGIN_STATE_CHANGED,function(i){return pe(n,void 0,void 0,function(){var l,f,p;return ve(this,function(u){switch(u.label){case 0:return((p=i?.data)===null||p===void 0?void 0:p.eventType)===gf.CREDENTIALS_ERROR?[3,2]:[4,this.getLoginState()];case 1:return f=u.sent(),[3,3];case 2:f={},u.label=3;case 3:return l=f,e.call(this,jt(jt({},i),l)),[2]}})})}),[4,this.getLoginState()];case 1:return r=o.sent(),e.call(this,r),[2]}})})},t.prototype.refreshTokenForce=function(e){return pe(this,void 0,void 0,function(){return ve(this,function(r){return[2,this.oauthInstance.authApi.refreshTokenForce(e)]})})},t.prototype.getCredentials=function(){return pe(this,void 0,void 0,function(){return ve(this,function(e){return[2,this.oauthInstance.authApi.getCredentials()]})})},t.prototype.setCredentials=function(e){return pe(this,void 0,void 0,function(){return ve(this,function(r){switch(r.label){case 0:return[4,this.oauthInstance.oauth2client.setCredentials(e)];case 1:return r.sent(),[2]}})})},t.prototype.getProviderSubType=function(){return pe(this,void 0,void 0,function(){return ve(this,function(e){return[2,this.oauthInstance.authApi.getProviderSubType()]})})},t.prototype.createCaptchaData=function(e){return pe(this,void 0,void 0,function(){return ve(this,function(r){return[2,this.oauthInstance.authApi.createCaptchaData(e)]})})},t.prototype.verifyCaptchaData=function(e){return pe(this,void 0,void 0,function(){return ve(this,function(r){return[2,this.oauthInstance.authApi.verifyCaptchaData(e)]})})},t.prototype.getMiniProgramQrCode=function(e){return pe(this,void 0,void 0,function(){return ve(this,function(r){return[2,this.oauthInstance.authApi.getMiniProgramCode(e)]})})},t.prototype.getMiniProgramQrCodeStatus=function(e){return pe(this,void 0,void 0,function(){return ve(this,function(r){return[2,this.oauthInstance.authApi.getMiniProgramQrCodeStatus(e)]})})},t.prototype.modifyPassword=function(e){return pe(this,void 0,void 0,function(){return ve(this,function(r){return[2,this.oauthInstance.authApi.modifyPassword(e)]})})},t.prototype.modifyPasswordWithoutLogin=function(e){return pe(this,void 0,void 0,function(){return ve(this,function(r){return[2,this.oauthInstance.authApi.modifyPasswordWithoutLogin(e)]})})},t.prototype.getUserBehaviorLog=function(e){return pe(this,void 0,void 0,function(){return ve(this,function(r){return[2,this.oauthInstance.authApi.getUserBehaviorLog(e)]})})},t.prototype.toDefaultLoginPage=function(e){return e===void 0&&(e={}),pe(this,void 0,void 0,function(){var r,n,o,i,l;return ve(this,function(f){return r=e.config_version||"env",n=Object.keys(e.query||{}).map(function(p){return"".concat(p,"=").concat(e.query[p])}).join("&"),Vn.isMatch()?wx.navigateTo({url:"/packages/$wd_system/pages/login/index".concat(n?"?".concat(n):"")}):(o=e.redirect_uri||window.location.href,i=new URL(o),l="".concat(i.origin,"/__auth/?app_id=").concat(e.app_id||"","&env_id=").concat(this.config.env,"&client_id=").concat(this.config.clientId||this.config.env,"&config_version=").concat(r,"&redirect_uri=").concat(encodeURIComponent(o)).concat(n?"&".concat(n):""),window.location.href=l),[2]})})},t.prototype.createLoginState=function(e,r){return pe(this,void 0,void 0,function(){var n;return ve(this,function(o){switch(o.label){case 0:return n=new iv({envId:this.config.env,cache:this.cache,oauthInstance:this.oauthInstance}),[4,n.checkLocalStateAsync()];case 1:return o.sent(),r?.asyncRefreshUser?(n.user.refresh(e),[3,4]):[3,2];case 2:return[4,n.user.refresh(e)];case 3:o.sent(),o.label=4;case 4:return wf.fire(_f.LOGIN_STATE_CHANGED,{eventType:gf.SIGN_IN}),[2,n]}})})},t.prototype.signInWithUsername=function(e){var r=e.verificationInfo,n=r===void 0?{verification_id:"",is_user:!1}:r,o=e.verificationCode,i=o===void 0?"":o,l=e.username,f=l===void 0?"":l,p=e.bindInfo,u=p===void 0?void 0:p,d=e.loginType,v=d===void 0?"":d;return pe(this,void 0,void 0,function(){var y,_,w,S,T,O,x,A;return ve(this,function(C){switch(C.label){case 0:return C.trys.push([0,8,,9]),[4,this.oauthInstance.authApi.verify({verification_id:n.verification_id,verification_code:i})];case 1:if(y=C.sent(),y?.error_code)throw y;return _=y.verification_token,w=/^\+\d{1,3}\s+\d+/.test(f)?f:"+86 ".concat(f),S={phone_number:w},v==="email"&&(w=f,S={email:w}),n.is_user?[4,this.oauthInstance.authApi.signIn({username:w,verification_token:_})]:[3,5];case 2:if(T=C.sent(),T?.error_code)throw T;return u?[4,this.oauthInstance.authApi.bindWithProvider({provider_token:u?.providerToken})]:[3,4];case 3:if(O=C.sent(),O?.error_code)throw O;C.label=4;case 4:return[3,7];case 5:return[4,this.oauthInstance.authApi.signUp(jt(jt({},S),{verification_token:_,provider_token:u?.providerId}))];case 6:if(x=C.sent(),x?.error_code)throw x;C.label=7;case 7:return[2,this.createLoginState()];case 8:throw A=C.sent(),A;case 9:return[2]}})})},t.prototype.setAccessKey=function(){return pe(this,void 0,void 0,function(){return ve(this,function(e){if(this.config.accessKey)try{this.oauthInstance.oauth2client.setAccessKeyCredentials({access_token:this.config.accessKey,token_type:"Bearer",scope:"accessKey",expires_at:new Date(+new Date+ +new Date),expires_in:+new Date+ +new Date})}catch(r){console.warn("accessKey error: ",r)}return[2]})})},Xe([Qe.catchErrorsDecorator({title:"",messages:["","  1 -  auth().bindPhoneNumber() ","  2 - ","".concat(Me.COMMUNITY_SITE_URL)]}),le("design:type",Function),le("design:paramtypes",[Object]),le("design:returntype",Promise)],t.prototype,"bindPhoneNumber",null),Xe([Qe.catchErrorsDecorator({title:"",messages:["","  1 -  auth().unbindProvider() ","  2 - ","".concat(Me.COMMUNITY_SITE_URL)]}),le("design:type",Function),le("design:paramtypes",[Object]),le("design:returntype",Promise)],t.prototype,"unbindProvider",null),Xe([Qe.catchErrorsDecorator({title:"",messages:["","  1 -  auth().bindEmail() ","  2 - ","".concat(Me.COMMUNITY_SITE_URL)]}),le("design:type",Function),le("design:paramtypes",[Object]),le("design:returntype",void 0)],t.prototype,"bindEmail",null),Xe([Qe.catchErrorsDecorator({title:"",messages:["","  1 -  auth().verify() ","  2 - /","".concat(Me.COMMUNITY_SITE_URL)]}),le("design:type",Function),le("design:paramtypes",[Object]),le("design:returntype",Promise)],t.prototype,"verify",null),Xe([Qe.catchErrorsDecorator({title:"",messages:["","  1 -  auth().getVerification() ","  2 - /","".concat(Me.COMMUNITY_SITE_URL)]}),le("design:type",Function),le("design:paramtypes",[Object,Object]),le("design:returntype",Promise)],t.prototype,"getVerification",null),Xe([Qe.catchErrorsDecorator({title:"",messages:["","  1 -  auth().getCurrentUser() ","".concat(Me.COMMUNITY_SITE_URL)]}),le("design:type",Function),le("design:paramtypes",[]),le("design:returntype",Promise)],t.prototype,"getCurrentUser",null),Xe([Qe.catchErrorsDecorator({title:"",messages:["","  1 - ","  2 -  auth().signInAnonymously() ","".concat(Me.COMMUNITY_SITE_URL)]}),le("design:type",Function),le("design:paramtypes",[Object]),le("design:returntype",Promise)],t.prototype,"signInAnonymously",null),Xe([Qe.catchErrorsDecorator({title:"",messages:["","  1 - ","  2 -  auth().signInAnonymouslyInWx() ","".concat(Me.COMMUNITY_SITE_URL)]}),le("design:type",Function),le("design:paramtypes",[Object]),le("design:returntype",Promise)],t.prototype,"signInAnonymouslyInWx",null),Xe([Qe.catchErrorsDecorator({title:"OpenID",messages:["","  1 - openId","  2 -  auth().bindOpenId() ","".concat(Me.COMMUNITY_SITE_URL)]}),le("design:type",Function),le("design:paramtypes",[]),le("design:returntype",Promise)],t.prototype,"bindOpenId",null),Xe([Qe.catchErrorsDecorator({title:"openId",messages:["","  1 - openId","  2 -  auth().signInWithOpenId() ","".concat(Me.COMMUNITY_SITE_URL)]}),le("design:type",Function),le("design:paramtypes",[Object]),le("design:returntype",Promise)],t.prototype,"signInWithOpenId",null),Xe([Qe.catchErrorsDecorator({title:"unionId",messages:["","  1 - unionId","  2 -  auth().signInWithUnionId() ","".concat(Me.COMMUNITY_SITE_URL)]}),le("design:type",Function),le("design:paramtypes",[]),le("design:returntype",Promise)],t.prototype,"signInWithUnionId",null),Xe([Qe.catchErrorsDecorator({title:"",messages:["","  1 - ","  2 -  auth().signInWithPhoneAuth() ","".concat(Me.COMMUNITY_SITE_URL)]}),le("design:type",Function),le("design:paramtypes",[Object]),le("design:returntype",Promise)],t.prototype,"signInWithPhoneAuth",null),Xe([Qe.catchErrorsDecorator({title:"",messages:["","  1 - ","  2 -  auth().signInWithSms() ","".concat(Me.COMMUNITY_SITE_URL)]}),le("design:type",Function),le("design:paramtypes",[Object]),le("design:returntype",Promise)],t.prototype,"signInWithSms",null),Xe([Qe.catchErrorsDecorator({title:"",messages:["","  1 - ","  2 -  auth().signInWithEmail() ","".concat(Me.COMMUNITY_SITE_URL)]}),le("design:type",Function),le("design:paramtypes",[Object]),le("design:returntype",Promise)],t.prototype,"signInWithEmail",null),Xe([Qe.catchErrorsDecorator({title:"",messages:["","  1 - ","  2 -  auth().signInWithCustomTicket() ","  3 - ticket ","  4 -  ticket ","".concat(Me.COMMUNITY_SITE_URL)]}),le("design:type",Function),le("design:paramtypes",[]),le("design:returntype",Promise)],t.prototype,"signInWithCustomTicket",null),Xe([Qe.catchErrorsDecorator({title:"",messages:["","  1 - ","  2 -  auth().signUp() ","".concat(Me.COMMUNITY_SITE_URL)]}),le("design:type",Function),le("design:paramtypes",[Object]),le("design:returntype",Promise)],t.prototype,"signUp",null),Xe([Qe.catchErrorsDecorator({title:"",messages:["","  1 -  auth().isUsernameRegistered() ","".concat(Me.COMMUNITY_SITE_URL)]}),le("design:type",Function),le("design:paramtypes",[String]),le("design:returntype",Promise)],t.prototype,"isUsernameRegistered",null),Xe([Qe.catchErrorsDecorator({title:"",messages:["","  1 -  auth().signOut() ","  2 - signOut","".concat(Me.COMMUNITY_SITE_URL)]}),le("design:type",Function),le("design:paramtypes",[Object]),le("design:returntype",Promise)],t.prototype,"signOut",null),Xe([Qe.catchErrorsDecorator({title:"",messages:["","  1 -  auth().getLoginState() ","".concat(Me.COMMUNITY_SITE_URL)]}),le("design:type",Function),le("design:paramtypes",[]),le("design:returntype",Promise)],t.prototype,"getLoginState",null),Xe([Qe.catchErrorsDecorator({title:"",messages:["","  1 - ","  2 -  auth().getUserInfo() ","".concat(Me.COMMUNITY_SITE_URL)]}),le("design:type",Function),le("design:paramtypes",[Object]),le("design:returntype",Promise)],t.prototype,"getUserInfo",null),Xe([Qe.catchErrorsDecorator({title:"",messages:["","  1 - ","  2 -  auth().getWedaUserInfo() ","".concat(Me.COMMUNITY_SITE_URL)]}),le("design:type",Function),le("design:paramtypes",[]),le("design:returntype",Promise)],t.prototype,"getWedaUserInfo",null),Xe([Qe.catchErrorsDecorator({title:"",messages:["","  1 -  auth().bindWithProvider() ","  2 - ","".concat(Me.COMMUNITY_SITE_URL)]}),le("design:type",Function),le("design:paramtypes",[Object]),le("design:returntype",Promise)],t.prototype,"bindWithProvider",null),Xe([Qe.catchErrorsDecorator({title:"",messages:["","  1 -  auth().getProviderSubType() ","".concat(Me.COMMUNITY_SITE_URL)]}),le("design:type",Function),le("design:paramtypes",[]),le("design:returntype",Promise)],t.prototype,"getProviderSubType",null),t})();function mj(t,e){var r=t.region,n=r===void 0?"ap-shanghai":r,o=t.i18n,i=t.accessKey,l=t.useWxCloud,f=e?.platform||aj.useDefaultAdapter(),p=f.runtime,u=f.adapter,d=e||{},v=d.env,y=d.clientId,_=d.debug,w=d.cache,S=d.app,T=(e||{}).apiOrigin;T||(T="https://".concat(v,".").concat(n,".tcb-api.tencentcloudapi.com"));var O={env:v,clientId:y,i18n:o,accessKey:i,useWxCloud:l},x=new QL(dj(jt(jt({},O),{apiOrigin:T,apiPath:t?.apiPath||bd,storage:t?.storage,baseRequest:t?.baseRequest,request:t?.request,anonymousSignInFunc:t?.anonymousSignInFunc,captchaOptions:t?.captchaOptions,wxCloud:t?.wxCloud,adapter:u,onCredentialsError:pj,headers:jt({"X-SDK-Version":"@cloudbase/js-sdk/".concat(t.sdkVersion)},t.headers||{})}))),A=new yj(jt(jt({},O),{region:n,persistence:t.persistence,debug:_,cache:w||new nj.CloudbaseCache({persistence:t.persistence,keys:{userInfoKey:"user_info_".concat(v)},platformInfo:f}),runtime:p||"web",_fromApp:S,oauthInstance:x}));return{authInstance:A,oauthInstance:x}}var hR={name:hj,namespace:"auth",entity:function(t){if(t===void 0&&(t={region:"",persistence:"local",apiPath:bd}),this.authInstance)return fs.printWarn(Me.ERRORS.INVALID_OPERATION,"every cloudbase instance should has only one auth object"),this.authInstance;var e=this.platform.adapter,r=t.persistence||e.primaryStorage;r&&r!==this.config.persistence&&this.updateConfig({persistence:r});var n=mj(jt(jt({wxCloud:this.config.wxCloud,storage:this.config.storage},t),{persistence:this.config.persistence,i18n:this.config.i18n,accessKey:this.config.accessKey,useWxCloud:this.config.useWxCloud,sdkVersion:this.version}),{env:this.config.env,clientId:this.config.clientId,apiOrigin:this.request.getBaseEndPoint(this.config.endPointMode||"CLOUD_API"),platform:this.platform,cache:this.cache,app:this,debug:this.config.debug}),o=n.authInstance,i=n.oauthInstance;return this.oauthInstance=i,this.authInstance=o,this.authInstance}};try{cloudbase.registerComponent(hR)}catch{}function gj(t){try{t.registerComponent(hR)}catch(e){console.warn(e)}}var $f=function(){return $f=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},$f.apply(this,arguments)},pR=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function p(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,p)}u((n=n.apply(t,e||[])).next())})},vR=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return p([u,d])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},gE=_r,B0="cloudrun",_j=(function(){function t(){}return t.prototype.callContainer=function(e,r){return pR(this,void 0,void 0,function(){var n,o,i;return vR(this,function(l){switch(l.label){case 0:if(n=e.name,o=e.data,!n)throw new Error(JSON.stringify({code:gE.INVALID_PARAMS,msg:"[".concat(B0,".callContainer] invalid name")}));try{i=o?JSON.stringify(o):""}catch{throw new Error(JSON.stringify({code:gE.INVALID_PARAMS,msg:"[".concat(B0,".callContainer] invalid data")}))}return[4,yR.call(this,$f($f({},e),{data:i}),r)];case 1:return[2,l.sent()]}})})},t})();function yR(t,e){return pR(this,void 0,void 0,function(){var r,n,o,i,l,f,p,u,d,v,y,_,w;return vR(this,function(S){switch(S.label){case 0:return r=t.name,n=t.data,o=t.path,i=o===void 0?"":o,l=t.method,f=t.header,p=f===void 0?{}:f,u=this.getEndPointWithKey("GATEWAY"),d=u.BASE_URL,v=u.PROTOCOL,y="".concat(v).concat(d,"/cloudrun/").concat(r),_=i.startsWith("/")?i:"/".concat(i),[4,this.request.fetch({method:l||"POST",headers:Object.assign({},{"Content-Type":"application/json; charset=utf-8"},p),body:n,url:"".concat(y).concat(_),customReqOpts:e})];case 1:return w=S.sent(),e.from==="node-sdk"?[2,w]:[4,w.data];case 2:return[2,S.sent()]}})})}var wj=new _j,mR={name:B0,entity:{callContainer:wj.callContainer}};try{cloudbase.registerComponent(mR)}catch{}function gR(t){try{t.registerComponent(mR)}catch(e){console.warn(e)}}try{window.registerCloudrun=gR}catch{}var qo=function(){return qo=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},qo.apply(this,arguments)},bj=function(t,e,r,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var f=t.length-1;f>=0;f--)(l=t[f])&&(i=(o<3?l(i):o>3?l(e,r,i):l(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i},ov=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},Ej=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function p(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,p)}u((n=n.apply(t,e||[])).next())})},Sj=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return p([u,d])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Ij=fd,av=_r,Tj=dd,yu=W2,Oj=vd,bf="functions",xj=(function(){function t(){}return t.prototype.callFunction=function(e,r,n){var o,i,l;return Ej(this,void 0,void 0,function(){var f,p,u,d,v,y,_,w,S,T,O,x,A,F,C,U,q,Y,J,k,W,F,V;return Sj(this,function(G){switch(G.label){case 0:if(f=e.name,p=e.data,u=e.query,d=e.parse,v=e.search,y=e.type,_=e.path,w=_===void 0?"":_,S=e.method,T=e.header,O=T===void 0?{}:T,!f)throw new Error(JSON.stringify({code:av.INVALID_PARAMS,msg:"[".concat(bf,".callFunction] invalid function name")}));try{x=p?JSON.stringify(p):""}catch{throw new Error(JSON.stringify({code:av.INVALID_PARAMS,msg:"[".concat(bf,".callFunction] invalid data")}))}return y!=="cloudrun"?[3,2]:(A=q2(),[4,yR.call(this,{name:f,data:x,path:w,method:S,header:qo(qo({},O),{"X-Request-Id":A})})]);case 1:return F=G.sent(),[2,{result:F,requestId:A}];case 2:C=this,U=C.request,q=C.config,Y="functions.invokeFunction",J={inQuery:u,parse:d,search:v,function_name:f,request_data:x},k={},G.label=3;case 3:return G.trys.push([3,8,,9]),q.endPointMode!=="GATEWAY"?[3,5]:[4,U.gateWay(qo(qo({},e),{path:"functions"}),n)];case 4:return W=G.sent(),k=qo({requestId:W.requestId},!((o=W.data)===null||o===void 0)&&o.code?W.data:{data:{response_data:W.data}}),[3,7];case 5:return[4,U.send(Y,J,{defaultQuery:!((i=p?.params)===null||i===void 0)&&i.action?{action:(l=p?.params)===null||l===void 0?void 0:l.action}:{}},n)];case 6:k=G.sent(),G.label=7;case 7:if(k.code)return[2,yu(r,null,k)];if(F=k.data.response_data,d||q.endPointMode==="GATEWAY")return[2,yu(r,null,{result:F,requestId:k.requestId})];try{return F=JSON.parse(k.data.response_data),[2,yu(r,null,{result:F,requestId:k.requestId})]}catch{yu(r,new Error("[".concat(Ij(),"][").concat(av.INVALID_PARAMS,"][").concat(bf,".callFunction] response data must be json")))}return[3,9];case 8:return V=G.sent(),yu(r,V),[3,9];case 9:return[2]}})})},bj([Oj({customInfo:{},title:"",messages:["","  1 -  callFunction() ","  2 - ","  3 - ","".concat(Tj)]}),ov("design:type",Function),ov("design:paramtypes",[Object,Function,Object]),ov("design:returntype",Promise)],t.prototype,"callFunction",null),t})(),Rj=new xj,_R={name:bf,entity:{callFunction:Rj.callFunction}};try{cloudbase.registerComponent(_R)}catch{}function Aj(t){try{t.registerComponent(_R)}catch(e){console.warn(e)}}var vt=function(){return vt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},vt.apply(this,arguments)},Da=function(t,e,r,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var f=t.length-1;f>=0;f--)(l=t[f])&&(i=(o<3?l(i):o>3?l(e,r,i):l(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i},Rt=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},Jr=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function p(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,p)}u((n=n.apply(t,e||[])).next())})},Qr=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return p([u,d])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Gn;(function(t){t.put="put",t.post="post"})(Gn||(Gn={}));var _E=fd,ur=_r,Ua=dd,sv=F2,mu=M2,Cj=sk,xr=W2,Fa=vd,Yt="storage";function wE(t){var e=t.lastIndexOf("/");return e===-1?t:t.slice(e+1)}var gu={getUploadInfo:function(t,e,r){return Jr(void 0,void 0,void 0,function(){var n,o,i;return Qr(this,function(l){switch(l.label){case 0:return[4,t.gateWay({path:"storages",name:"get-objects-upload-info",data:[vt({objectId:e.path},e.headers?{signedHeader:e.headers}:{})]},r)];case 1:return n=l.sent(),o=((i=n.data)===null||i===void 0?void 0:i[0])||{},n=vt(vt({},n),{data:vt(vt({},o.code?vt({},o):{}),{authorization:o.authorization,token:o.token,url:o.uploadUrl,fileId:o.cloudObjectId,cosFileId:o.cloudObjectMeta,download_url:o.downloadUrl})}),[2,n]}})})},getDownLoadInfo:function(t,e,r){return Jr(void 0,void 0,void 0,function(){var n,o;return Qr(this,function(i){switch(i.label){case 0:return[4,t.gateWay({path:"storages",name:"get-objects-download-info",data:e.convertedFileList.map(function(l){return{cloudObjectId:l.fileid}})},r)];case 1:return n=i.sent(),n=vt(vt({},n),{data:{download_list:(o=n.data)===null||o===void 0?void 0:o.map(function(l){return{code:l.code||"SUCCESS",message:l.message,fileid:l.cloudObjectId,download_url:l.downloadUrl,fileID:l.cloudObjectId,tempFileURL:l.downloadUrl}})}}),[2,n]}})})},delete:function(t,e,r){return Jr(void 0,void 0,void 0,function(){var n,o;return Qr(this,function(i){switch(i.label){case 0:return[4,t.gateWay({path:"storages",name:"delete-objects",data:e.fileList.map(function(l){return{cloudObjectId:l}})},r)];case 1:return n=i.sent(),n=vt(vt({},n),{data:{delete_list:(o=n.data)===null||o===void 0?void 0:o.map(function(l){return{code:l.code||"SUCCESS",fileID:l.cloudObjectId,message:l.message}})}}),[2,n]}})})},copyFile:function(t,e,r){return Jr(void 0,void 0,void 0,function(){var n,o;return Qr(this,function(i){switch(i.label){case 0:return[4,t.gateWay({path:"storages",name:"copy-objects",data:e.convertedFileList.map(function(l){return{srcPath:l.src_path,dstPath:l.dst_path,overwrite:l.overwrite,removeOriginal:l.remove_original}})},r)];case 1:return n=i.sent(),n=vt(vt({},n),{data:{copy_list:(o=n.data)===null||o===void 0?void 0:o.map(function(l){return{code:l.code||"SUCCESS",fileID:l.cloudObjectId,message:l.message}})}}),[2,n]}})})}},Pj=(function(){function t(){}return t.prototype.isGateWay=function(){var e=this.config,r=e.endPointMode||"CLOUD_API";return r==="GATEWAY"},t.prototype.uploadFile=function(e,r){var n;return Jr(this,void 0,void 0,function(){var o,i,l,f,p,u,d,v,y,_,w,S,T,O,x,A,C,U,q,Y,J,k,W,F,V,G,K;return Qr(this,function(ae){switch(ae.label){case 0:if(o=e.cloudPath,i=e.filePath,l=e.onUploadProgress,f=e.method,p=f===void 0?"put":f,u=e.headers,d=u===void 0?{}:u,v=e.fileContent,!mu(o)||!i&&!v)throw new Error(JSON.stringify({code:ur.INVALID_PARAMS,msg:"[".concat(Yt,".uploadFile] invalid params")}));return y={put:Gn.put,post:Gn.post}[p.toLocaleLowerCase()]||Gn.put,_="storage.getUploadMetadata",w=this.request,S={path:o,method:y},y===Gn.put&&(S.headers=d),T={},this.isGateWay()?[4,gu.getUploadInfo(w,S,e.customReqOpts)]:[3,2];case 1:return T=ae.sent(),[3,4];case 2:return[4,w.send(_,S,e.customReqOpts)];case 3:T=ae.sent(),ae.label=4;case 4:return O=T.data,x=O.url,A=O.authorization,C=O.token,U=O.fileId,q=O.cosFileId,Y=O.download_url,J=T.requestId,!((n=T.data)===null||n===void 0)&&n.code?[2,xr(r,new Error("[".concat(_E(),"][").concat(ur.OPERATION_FAIL,"][").concat(Yt,"]:").concat(T.data)))]:(k={url:x,file:i,name:o,onUploadProgress:l,fileContent:v,fileId:U,requestId:J},W=vt(vt({},k),{method:Gn.put,headers:vt(vt({},d),{authorization:A,"x-cos-meta-fileid":q,"x-cos-security-token":C})}),F=vt(vt({},k),{method:Gn.post,data:{key:o,signature:A,"x-cos-meta-fileid":q,success_action_status:"201","x-cos-security-token":C}}),V=(K={},K[Gn.put]={params:W,isSuccess:function(fe){return fe>=200&&fe<300}},K[Gn.post]={params:F,isSuccess:function(fe){return fe===201}},K),[4,w.upload(V[y].params)]);case 5:return G=ae.sent(),V[y].isSuccess(G.statusCode)?[2,xr(r,null,{fileID:U,download_url:Y,requestId:J})]:[2,xr(r,new Error("[".concat(_E(),"][").concat(ur.OPERATION_FAIL,"][").concat(Yt,"]:").concat(G.data)))]}})})},t.prototype.getUploadMetadata=function(e,r){return Jr(this,void 0,void 0,function(){var n,o,i,l,f;return Qr(this,function(p){switch(p.label){case 0:if(n=e.cloudPath,!mu(n))throw new Error(JSON.stringify({code:ur.INVALID_PARAMS,msg:"[".concat(Yt,".getUploadMetadata] invalid cloudPath")}));o=this.request,i="storage.getUploadMetadata",p.label=1;case 1:return p.trys.push([1,6,,7]),l={},this.isGateWay()?[4,gu.getUploadInfo(o,{path:n},e.customReqOpts)]:[3,3];case 2:return l=p.sent(),[3,5];case 3:return[4,o.send(i,{path:n},e.customReqOpts)];case 4:l=p.sent(),p.label=5;case 5:return[2,xr(r,null,l)];case 6:return f=p.sent(),[2,xr(r,f)];case 7:return[2]}})})},t.prototype.deleteFile=function(e,r){return Jr(this,void 0,void 0,function(){var n,o,i,l,f,p,u,d;return Qr(this,function(v){switch(v.label){case 0:if(n=e.fileList,!n||!sv(n)||n.length===0)throw new Error(JSON.stringify({code:ur.INVALID_PARAMS,msg:"[".concat(Yt,".deleteFile] fileList must not be empty")}));for(o=0,i=n;o<i.length;o++)if(l=i[o],!l||!mu(l))throw new Error(JSON.stringify({code:ur.INVALID_PARAMS,msg:"[".concat(Yt,".deleteFile] fileID must be string")}));return f="storage.batchDeleteFile",p=this.request,u={},this.isGateWay()?[4,gu.delete(p,{fileList:n},e.customReqOpts)]:[3,2];case 1:return u=v.sent(),[3,4];case 2:return[4,p.send(f,{fileid_list:n},e.customReqOpts)];case 3:u=v.sent(),v.label=4;case 4:return u.code?[2,xr(r,null,u)]:(d={fileList:u.data.delete_list,requestId:u.requestId},[2,xr(r,null,d)])}})})},t.prototype.getTempFileURL=function(e,r){return Jr(this,void 0,void 0,function(){var n,o,i,l,f,p,u,d;return Qr(this,function(v){switch(v.label){case 0:if(n=e.fileList,!n||!sv(n)||n.length===0)throw new Error(JSON.stringify({code:ur.INVALID_PARAMS,msg:"[".concat(Yt,".getTempFileURL] fileList must not be empty")}));for(o=[],i=0,l=n;i<l.length;i++)if(f=l[i],Cj(f)){if(!Object.prototype.hasOwnProperty.call(f,"fileID")||!Object.prototype.hasOwnProperty.call(f,"maxAge"))throw new Error(JSON.stringify({code:ur.INVALID_PARAMS,msg:"[".concat(Yt,".getTempFileURL] file info must include fileID and maxAge")}));o.push({fileid:f.fileID,max_age:f.maxAge})}else if(mu(f))o.push({fileid:f});else throw new Error(JSON.stringify({code:ur.INVALID_PARAMS,msg:"[".concat(Yt,".getTempFileURL] invalid fileList")}));return p="storage.batchGetDownloadUrl",u=this.request,d={},this.isGateWay()?[4,gu.getDownLoadInfo(u,{convertedFileList:o},e.customReqOpts)]:[3,2];case 1:return d=v.sent(),[3,4];case 2:return[4,u.send(p,{file_list:o},e.customReqOpts)];case 3:d=v.sent(),v.label=4;case 4:return d.code?[2,xr(r,null,d)]:[2,xr(r,null,{fileList:d.data.download_list,requestId:d.requestId})]}})})},t.prototype.downloadFile=function(e,r){return Jr(this,void 0,void 0,function(){var n,o,i,l,f,p;return Qr(this,function(u){switch(u.label){case 0:if(n=e.fileID,!mu(n))throw new Error(JSON.stringify({code:ur.INVALID_PARAMS,msg:"[".concat(Yt,".getTempFileURL] fileID must be string")}));return[4,this.getTempFileURL.call(this,{fileList:[{fileID:n,maxAge:600}],customReqOpts:e.customReqOpts})];case 1:return o=u.sent(),i=o.fileList[0],i.code!=="SUCCESS"?[2,xr(r,i)]:(l=this.request,f=encodeURI(i.download_url),[4,l.download({url:f,tempFilePath:e.tempFilePath})]);case 2:return p=u.sent(),[2,xr(r,null,p)]}})})},t.prototype.copyFile=function(e,r){return Jr(this,void 0,void 0,function(){var n,o,i,l,f,p,u,d,v,y;return Qr(this,function(_){switch(_.label){case 0:if(n=e.fileList,!n||!sv(n)||n.length===0)throw new Error(JSON.stringify({code:ur.INVALID_PARAMS,msg:"[".concat(Yt,".copyFile] fileList must not be empty")}));for(o=[],i=0,l=n;i<l.length;i++){if(f=l[i],p=f.srcPath,u=f.dstPath,!p||!u||typeof p!="string"||typeof u!="string")throw new Error(JSON.stringify({code:ur.INVALID_PARAMS,msg:"[".concat(Yt,".copyFile] srcPath and dstPath may not be empty")}));if(p===u)throw new Error(JSON.stringify({code:ur.INVALID_PARAMS,msg:"[".concat(Yt,".copyFile] srcPath and dstPath can not be the same")}));if(wE(p)!==wE(u))throw new Error(JSON.stringify({code:ur.INVALID_PARAMS,msg:"[".concat(Yt,".copyFile] srcPath and dstPath file name must be the same")}));o.push({src_path:p,dst_path:u,overwrite:f.overwrite,remove_original:f.removeOriginal})}return d="storage.batchCopyFile",v=this.request,y={},this.isGateWay()?[4,gu.copyFile(v,{convertedFileList:o},e.customReqOpts)]:[3,2];case 1:return y=_.sent(),[3,4];case 2:return[4,v.send(d,{file_list:o},e.customReqOpts)];case 3:y=_.sent(),_.label=4;case 4:return y.code?[2,xr(r,null,y)]:[2,xr(r,null,{fileList:y.data.copy_list,requestId:y.requestId})]}})})},t.prototype.getFileInfo=function(e){var r;return Jr(this,void 0,void 0,function(){var n,o,i=this;return Qr(this,function(l){switch(l.label){case 0:return[4,this.getTempFileURL(e)];case 1:return n=l.sent(),n?.fileList&&((r=n?.fileList)===null||r===void 0?void 0:r.length)>0?[4,Promise.all(n.fileList.map(function(f){return Jr(i,void 0,void 0,function(){var p,u,d,v,y;return Qr(this,function(_){switch(_.label){case 0:if(f.code!=="SUCCESS")return[2,{code:f.code,fileID:f.fileID,tempFileURL:f.tempFileURL}];_.label=1;case 1:return _.trys.push([1,3,,4]),p=this.request,[4,p.fetch({url:f.tempFileURL,method:"HEAD"})];case 2:return u=_.sent(),d=parseInt(u.headers["content-length"])||0,v=u.headers["content-type"]||"",y={code:f.code,fileID:f.fileID,tempFileURL:f.tempFileURL,cloudId:f.fileID,fileName:f.fileID.split("/").pop(),contentType:v,mime:v.split(";")[0].trim(),size:d},[2,y];case 3:return _.sent(),[2,{code:"FETCH_FILE_INFO_ERROR",fileID:f.fileID,tempFileURL:f.tempFileURL}];case 4:return[2]}})})}))]:[3,3];case 2:return o=l.sent(),[2,{fileList:o,requestId:n.requestId}];case 3:return[2,{fileList:[],requestId:n.requestId}]}})})},Da([Fa({customInfo:{},title:"",messages:["","  1 -  uploadFile() ","  2 - https://console.cloud.tencent.com/tcb/env/safety","  3 - ","".concat(Ua)]}),Rt("design:type",Function),Rt("design:paramtypes",[Object,Function]),Rt("design:returntype",Promise)],t.prototype,"uploadFile",null),Da([Fa({customInfo:{},title:"",messages:["","  1 -  getUploadMetadata() ","  2 - https://console.cloud.tencent.com/tcb/env/safety","  3 - ","".concat(Ua)]}),Rt("design:type",Function),Rt("design:paramtypes",[Object,Function]),Rt("design:returntype",Promise)],t.prototype,"getUploadMetadata",null),Da([Fa({customInfo:{},title:"",messages:["","  1 -  deleteFile() ","  2 - https://console.cloud.tencent.com/tcb/env/safety","  3 - ","".concat(Ua)]}),Rt("design:type",Function),Rt("design:paramtypes",[Object,Function]),Rt("design:returntype",Promise)],t.prototype,"deleteFile",null),Da([Fa({customInfo:{},title:"",messages:["","  1 -  getTempFileURL() ","  2 - https://console.cloud.tencent.com/tcb/env/safety","  3 - ","".concat(Ua)]}),Rt("design:type",Function),Rt("design:paramtypes",[Object,Function]),Rt("design:returntype",Promise)],t.prototype,"getTempFileURL",null),Da([Fa({customInfo:{},title:"",messages:["","  1 -  downloadFile() ","  2 - https://console.cloud.tencent.com/tcb/env/safety","  3 - ","".concat(Ua)]}),Rt("design:type",Function),Rt("design:paramtypes",[Object,Function]),Rt("design:returntype",Promise)],t.prototype,"downloadFile",null),Da([Fa({customInfo:{},title:"",messages:["","  1 -  copyFile() ","  2 - https://console.cloud.tencent.com/tcb/env/safety","  3 - ","".concat(Ua)]}),Rt("design:type",Function),Rt("design:paramtypes",[Object,Function]),Rt("design:returntype",Promise)],t.prototype,"copyFile",null),t})(),zi=new Pj,wR={name:Yt,entity:{uploadFile:zi.uploadFile,deleteFile:zi.deleteFile,getTempFileURL:zi.getTempFileURL,downloadFile:zi.downloadFile,getUploadMetadata:zi.getUploadMetadata,copyFile:zi.copyFile,getFileInfo:zi.getFileInfo,isGateWay:zi.isGateWay}};try{cloudbase.registerComponent(wR)}catch{}function bR(t){try{t.registerComponent(wR)}catch(e){console.warn(e)}}try{window.registerStorage=bR}catch{}var uv,bE;function ER(){if(bE)return uv;bE=1;var t=typeof Ja=="object"&&Ja&&Ja.Object===Object&&Ja;return uv=t,uv}var lv,EE;function ei(){if(EE)return lv;EE=1;var t=ER(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return lv=r,lv}var cv,SE;function Ed(){if(SE)return cv;SE=1;var t=ei(),e=t.Symbol;return cv=e,cv}var fv,IE;function Nj(){if(IE)return fv;IE=1;var t=Ed(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,o=t?t.toStringTag:void 0;function i(l){var f=r.call(l,o),p=l[o];try{l[o]=void 0;var u=!0}catch{}var d=n.call(l);return u&&(f?l[o]=p:delete l[o]),d}return fv=i,fv}var dv,TE;function kj(){if(TE)return dv;TE=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return dv=r,dv}var hv,OE;function pl(){if(OE)return hv;OE=1;var t=Ed(),e=Nj(),r=kj(),n="[object Null]",o="[object Undefined]",i=t?t.toStringTag:void 0;function l(f){return f==null?f===void 0?o:n:i&&i in Object(f)?e(f):r(f)}return hv=l,hv}var pv,xE;function Es(){if(xE)return pv;xE=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return pv=t,pv}var vv,RE;function SR(){if(RE)return vv;RE=1;var t=pl(),e=Es(),r="[object AsyncFunction]",n="[object Function]",o="[object GeneratorFunction]",i="[object Proxy]";function l(f){if(!e(f))return!1;var p=t(f);return p==n||p==o||p==r||p==i}return vv=l,vv}var yv,AE;function Lj(){if(AE)return yv;AE=1;var t=ei(),e=t["__core-js_shared__"];return yv=e,yv}var mv,CE;function jj(){if(CE)return mv;CE=1;var t=Lj(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return mv=r,mv}var gv,PE;function IR(){if(PE)return gv;PE=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return gv=r,gv}var _v,NE;function Dj(){if(NE)return _v;NE=1;var t=SR(),e=jj(),r=Es(),n=IR(),o=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,l=Function.prototype,f=Object.prototype,p=l.toString,u=f.hasOwnProperty,d=RegExp("^"+p.call(u).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v(y){if(!r(y)||e(y))return!1;var _=t(y)?d:i;return _.test(n(y))}return _v=v,_v}var wv,kE;function Uj(){if(kE)return wv;kE=1;function t(e,r){return e?.[r]}return wv=t,wv}var bv,LE;function oa(){if(LE)return bv;LE=1;var t=Dj(),e=Uj();function r(n,o){var i=e(n,o);return t(i)?i:void 0}return bv=r,bv}var Ev,jE;function Fj(){if(jE)return Ev;jE=1;var t=oa(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Ev=e,Ev}var Sv,DE;function TR(){if(DE)return Sv;DE=1;var t=Fj();function e(r,n,o){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:o,writable:!0}):r[n]=o}return Sv=e,Sv}var Iv,UE;function OR(){if(UE)return Iv;UE=1;function t(e,r){return e===r||e!==e&&r!==r}return Iv=t,Iv}var Tv,FE;function Mg(){if(FE)return Tv;FE=1;var t=TR(),e=OR(),r=Object.prototype,n=r.hasOwnProperty;function o(i,l,f){var p=i[l];(!(n.call(i,l)&&e(p,f))||f===void 0&&!(l in i))&&t(i,l,f)}return Tv=o,Tv}var Ov,ME;function Ss(){if(ME)return Ov;ME=1;var t=Array.isArray;return Ov=t,Ov}var xv,BE;function Is(){if(BE)return xv;BE=1;function t(e){return e!=null&&typeof e=="object"}return xv=t,xv}var Rv,qE;function Bg(){if(qE)return Rv;qE=1;var t=pl(),e=Is(),r="[object Symbol]";function n(o){return typeof o=="symbol"||e(o)&&t(o)==r}return Rv=n,Rv}var Av,$E;function Mj(){if($E)return Av;$E=1;var t=Ss(),e=Bg(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function o(i,l){if(t(i))return!1;var f=typeof i;return f=="number"||f=="symbol"||f=="boolean"||i==null||e(i)?!0:n.test(i)||!r.test(i)||l!=null&&i in Object(l)}return Av=o,Av}var Cv,WE;function Sd(){if(WE)return Cv;WE=1;var t=oa(),e=t(Object,"create");return Cv=e,Cv}var Pv,HE;function Bj(){if(HE)return Pv;HE=1;var t=Sd();function e(){this.__data__=t?t(null):{},this.size=0}return Pv=e,Pv}var Nv,GE;function qj(){if(GE)return Nv;GE=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return Nv=t,Nv}var kv,zE;function $j(){if(zE)return kv;zE=1;var t=Sd(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function o(i){var l=this.__data__;if(t){var f=l[i];return f===e?void 0:f}return n.call(l,i)?l[i]:void 0}return kv=o,kv}var Lv,VE;function Wj(){if(VE)return Lv;VE=1;var t=Sd(),e=Object.prototype,r=e.hasOwnProperty;function n(o){var i=this.__data__;return t?i[o]!==void 0:r.call(i,o)}return Lv=n,Lv}var jv,KE;function Hj(){if(KE)return jv;KE=1;var t=Sd(),e="__lodash_hash_undefined__";function r(n,o){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=t&&o===void 0?e:o,this}return jv=r,jv}var Dv,YE;function Gj(){if(YE)return Dv;YE=1;var t=Bj(),e=qj(),r=$j(),n=Wj(),o=Hj();function i(l){var f=-1,p=l==null?0:l.length;for(this.clear();++f<p;){var u=l[f];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=o,Dv=i,Dv}var Uv,JE;function zj(){if(JE)return Uv;JE=1;function t(){this.__data__=[],this.size=0}return Uv=t,Uv}var Fv,QE;function Id(){if(QE)return Fv;QE=1;var t=OR();function e(r,n){for(var o=r.length;o--;)if(t(r[o][0],n))return o;return-1}return Fv=e,Fv}var Mv,XE;function Vj(){if(XE)return Mv;XE=1;var t=Id(),e=Array.prototype,r=e.splice;function n(o){var i=this.__data__,l=t(i,o);if(l<0)return!1;var f=i.length-1;return l==f?i.pop():r.call(i,l,1),--this.size,!0}return Mv=n,Mv}var Bv,ZE;function Kj(){if(ZE)return Bv;ZE=1;var t=Id();function e(r){var n=this.__data__,o=t(n,r);return o<0?void 0:n[o][1]}return Bv=e,Bv}var qv,eS;function Yj(){if(eS)return qv;eS=1;var t=Id();function e(r){return t(this.__data__,r)>-1}return qv=e,qv}var $v,tS;function Jj(){if(tS)return $v;tS=1;var t=Id();function e(r,n){var o=this.__data__,i=t(o,r);return i<0?(++this.size,o.push([r,n])):o[i][1]=n,this}return $v=e,$v}var Wv,rS;function Td(){if(rS)return Wv;rS=1;var t=zj(),e=Vj(),r=Kj(),n=Yj(),o=Jj();function i(l){var f=-1,p=l==null?0:l.length;for(this.clear();++f<p;){var u=l[f];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=o,Wv=i,Wv}var Hv,nS;function qg(){if(nS)return Hv;nS=1;var t=oa(),e=ei(),r=t(e,"Map");return Hv=r,Hv}var Gv,iS;function Qj(){if(iS)return Gv;iS=1;var t=Gj(),e=Td(),r=qg();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Gv=n,Gv}var zv,oS;function Xj(){if(oS)return zv;oS=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return zv=t,zv}var Vv,aS;function Od(){if(aS)return Vv;aS=1;var t=Xj();function e(r,n){var o=r.__data__;return t(n)?o[typeof n=="string"?"string":"hash"]:o.map}return Vv=e,Vv}var Kv,sS;function Zj(){if(sS)return Kv;sS=1;var t=Od();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Kv=e,Kv}var Yv,uS;function eD(){if(uS)return Yv;uS=1;var t=Od();function e(r){return t(this,r).get(r)}return Yv=e,Yv}var Jv,lS;function tD(){if(lS)return Jv;lS=1;var t=Od();function e(r){return t(this,r).has(r)}return Jv=e,Jv}var Qv,cS;function rD(){if(cS)return Qv;cS=1;var t=Od();function e(r,n){var o=t(this,r),i=o.size;return o.set(r,n),this.size+=o.size==i?0:1,this}return Qv=e,Qv}var Xv,fS;function xR(){if(fS)return Xv;fS=1;var t=Qj(),e=Zj(),r=eD(),n=tD(),o=rD();function i(l){var f=-1,p=l==null?0:l.length;for(this.clear();++f<p;){var u=l[f];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=o,Xv=i,Xv}var Zv,dS;function nD(){if(dS)return Zv;dS=1;var t=xR(),e="Expected a function";function r(n,o){if(typeof n!="function"||o!=null&&typeof o!="function")throw new TypeError(e);var i=function(){var l=arguments,f=o?o.apply(this,l):l[0],p=i.cache;if(p.has(f))return p.get(f);var u=n.apply(this,l);return i.cache=p.set(f,u)||p,u};return i.cache=new(r.Cache||t),i}return r.Cache=t,Zv=r,Zv}var ey,hS;function iD(){if(hS)return ey;hS=1;var t=nD(),e=500;function r(n){var o=t(n,function(l){return i.size===e&&i.clear(),l}),i=o.cache;return o}return ey=r,ey}var ty,pS;function oD(){if(pS)return ty;pS=1;var t=iD(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(o){var i=[];return o.charCodeAt(0)===46&&i.push(""),o.replace(e,function(l,f,p,u){i.push(p?u.replace(r,"$1"):f||l)}),i});return ty=n,ty}var ry,vS;function aD(){if(vS)return ry;vS=1;function t(e,r){for(var n=-1,o=e==null?0:e.length,i=Array(o);++n<o;)i[n]=r(e[n],n,e);return i}return ry=t,ry}var ny,yS;function sD(){if(yS)return ny;yS=1;var t=Ed(),e=aD(),r=Ss(),n=Bg(),o=t?t.prototype:void 0,i=o?o.toString:void 0;function l(f){if(typeof f=="string")return f;if(r(f))return e(f,l)+"";if(n(f))return i?i.call(f):"";var p=f+"";return p=="0"&&1/f==-1/0?"-0":p}return ny=l,ny}var iy,mS;function uD(){if(mS)return iy;mS=1;var t=sD();function e(r){return r==null?"":t(r)}return iy=e,iy}var oy,gS;function $g(){if(gS)return oy;gS=1;var t=Ss(),e=Mj(),r=oD(),n=uD();function o(i,l){return t(i)?i:e(i,l)?[i]:r(n(i))}return oy=o,oy}var ay,_S;function RR(){if(_S)return ay;_S=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,o){var i=typeof n;return o=o??t,!!o&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<o}return ay=r,ay}var sy,wS;function Wg(){if(wS)return sy;wS=1;var t=Bg();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return sy=e,sy}var uy,bS;function lD(){if(bS)return uy;bS=1;var t=Mg(),e=$g(),r=RR(),n=Es(),o=Wg();function i(l,f,p,u){if(!n(l))return l;f=e(f,l);for(var d=-1,v=f.length,y=v-1,_=l;_!=null&&++d<v;){var w=o(f[d]),S=p;if(w==="__proto__"||w==="constructor"||w==="prototype")return l;if(d!=y){var T=_[w];S=u?u(T,w,_):void 0,S===void 0&&(S=n(T)?T:r(f[d+1])?[]:{})}t(_,w,S),_=_[w]}return l}return uy=i,uy}var ly,ES;function cD(){if(ES)return ly;ES=1;var t=lD();function e(r,n,o){return r==null?r:t(r,n,o)}return ly=e,ly}var fD=cD();const dD=cd(fD);var cy,SS;function hD(){if(SS)return cy;SS=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return cy=t,cy}var fy,IS;function pD(){if(IS)return fy;IS=1;var t=$g(),e=Wg();function r(n,o){o=t(o,n);for(var i=0,l=o.length;n!=null&&i<l;)n=n[e(o[i++])];return i&&i==l?n:void 0}return fy=r,fy}var dy,TS;function vD(){if(TS)return dy;TS=1;function t(e,r,n){var o=-1,i=e.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var l=Array(i);++o<i;)l[o]=e[o+r];return l}return dy=t,dy}var hy,OS;function yD(){if(OS)return hy;OS=1;var t=pD(),e=vD();function r(n,o){return o.length<2?n:t(n,e(o,0,-1))}return hy=r,hy}var py,xS;function mD(){if(xS)return py;xS=1;var t=$g(),e=hD(),r=yD(),n=Wg();function o(i,l){return l=t(l,i),i=r(i,l),i==null||delete i[n(e(l))]}return py=o,py}var vy,RS;function gD(){if(RS)return vy;RS=1;var t=mD();function e(r,n){return r==null?!0:t(r,n)}return vy=e,vy}var _D=gD();const wD=cd(_D);var yy,AS;function bD(){if(AS)return yy;AS=1;var t=Td();function e(){this.__data__=new t,this.size=0}return yy=e,yy}var my,CS;function ED(){if(CS)return my;CS=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return my=t,my}var gy,PS;function SD(){if(PS)return gy;PS=1;function t(e){return this.__data__.get(e)}return gy=t,gy}var _y,NS;function ID(){if(NS)return _y;NS=1;function t(e){return this.__data__.has(e)}return _y=t,_y}var wy,kS;function TD(){if(kS)return wy;kS=1;var t=Td(),e=qg(),r=xR(),n=200;function o(i,l){var f=this.__data__;if(f instanceof t){var p=f.__data__;if(!e||p.length<n-1)return p.push([i,l]),this.size=++f.size,this;f=this.__data__=new r(p)}return f.set(i,l),this.size=f.size,this}return wy=o,wy}var by,LS;function OD(){if(LS)return by;LS=1;var t=Td(),e=bD(),r=ED(),n=SD(),o=ID(),i=TD();function l(f){var p=this.__data__=new t(f);this.size=p.size}return l.prototype.clear=e,l.prototype.delete=r,l.prototype.get=n,l.prototype.has=o,l.prototype.set=i,by=l,by}var Ey,jS;function xD(){if(jS)return Ey;jS=1;function t(e,r){for(var n=-1,o=e==null?0:e.length;++n<o&&r(e[n],n,e)!==!1;);return e}return Ey=t,Ey}var Sy,DS;function xd(){if(DS)return Sy;DS=1;var t=Mg(),e=TR();function r(n,o,i,l){var f=!i;i||(i={});for(var p=-1,u=o.length;++p<u;){var d=o[p],v=l?l(i[d],n[d],d,i,n):void 0;v===void 0&&(v=n[d]),f?e(i,d,v):t(i,d,v)}return i}return Sy=r,Sy}var Iy,US;function RD(){if(US)return Iy;US=1;function t(e,r){for(var n=-1,o=Array(e);++n<e;)o[n]=r(n);return o}return Iy=t,Iy}var Ty,FS;function AD(){if(FS)return Ty;FS=1;var t=pl(),e=Is(),r="[object Arguments]";function n(o){return e(o)&&t(o)==r}return Ty=n,Ty}var Oy,MS;function CD(){if(MS)return Oy;MS=1;var t=AD(),e=Is(),r=Object.prototype,n=r.hasOwnProperty,o=r.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(l){return e(l)&&n.call(l,"callee")&&!o.call(l,"callee")};return Oy=i,Oy}var ju={exports:{}},xy,BS;function PD(){if(BS)return xy;BS=1;function t(){return!1}return xy=t,xy}ju.exports;var qS;function AR(){return qS||(qS=1,(function(t,e){var r=ei(),n=PD(),o=e&&!e.nodeType&&e,i=o&&!0&&t&&!t.nodeType&&t,l=i&&i.exports===o,f=l?r.Buffer:void 0,p=f?f.isBuffer:void 0,u=p||n;t.exports=u})(ju,ju.exports)),ju.exports}var Ry,$S;function CR(){if($S)return Ry;$S=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return Ry=e,Ry}var Ay,WS;function ND(){if(WS)return Ay;WS=1;var t=pl(),e=CR(),r=Is(),n="[object Arguments]",o="[object Array]",i="[object Boolean]",l="[object Date]",f="[object Error]",p="[object Function]",u="[object Map]",d="[object Number]",v="[object Object]",y="[object RegExp]",_="[object Set]",w="[object String]",S="[object WeakMap]",T="[object ArrayBuffer]",O="[object DataView]",x="[object Float32Array]",A="[object Float64Array]",C="[object Int8Array]",U="[object Int16Array]",q="[object Int32Array]",Y="[object Uint8Array]",J="[object Uint8ClampedArray]",k="[object Uint16Array]",W="[object Uint32Array]",F={};F[x]=F[A]=F[C]=F[U]=F[q]=F[Y]=F[J]=F[k]=F[W]=!0,F[n]=F[o]=F[T]=F[i]=F[O]=F[l]=F[f]=F[p]=F[u]=F[d]=F[v]=F[y]=F[_]=F[w]=F[S]=!1;function V(G){return r(G)&&e(G.length)&&!!F[t(G)]}return Ay=V,Ay}var Cy,HS;function Hg(){if(HS)return Cy;HS=1;function t(e){return function(r){return e(r)}}return Cy=t,Cy}var Du={exports:{}};Du.exports;var GS;function Gg(){return GS||(GS=1,(function(t,e){var r=ER(),n=e&&!e.nodeType&&e,o=n&&!0&&t&&!t.nodeType&&t,i=o&&o.exports===n,l=i&&r.process,f=(function(){try{var p=o&&o.require&&o.require("util").types;return p||l&&l.binding&&l.binding("util")}catch{}})();t.exports=f})(Du,Du.exports)),Du.exports}var Py,zS;function kD(){if(zS)return Py;zS=1;var t=ND(),e=Hg(),r=Gg(),n=r&&r.isTypedArray,o=n?e(n):t;return Py=o,Py}var Ny,VS;function PR(){if(VS)return Ny;VS=1;var t=RD(),e=CD(),r=Ss(),n=AR(),o=RR(),i=kD(),l=Object.prototype,f=l.hasOwnProperty;function p(u,d){var v=r(u),y=!v&&e(u),_=!v&&!y&&n(u),w=!v&&!y&&!_&&i(u),S=v||y||_||w,T=S?t(u.length,String):[],O=T.length;for(var x in u)(d||f.call(u,x))&&!(S&&(x=="length"||_&&(x=="offset"||x=="parent")||w&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||o(x,O)))&&T.push(x);return T}return Ny=p,Ny}var ky,KS;function zg(){if(KS)return ky;KS=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,o=typeof n=="function"&&n.prototype||t;return r===o}return ky=e,ky}var Ly,YS;function NR(){if(YS)return Ly;YS=1;function t(e,r){return function(n){return e(r(n))}}return Ly=t,Ly}var jy,JS;function LD(){if(JS)return jy;JS=1;var t=NR(),e=t(Object.keys,Object);return jy=e,jy}var Dy,QS;function jD(){if(QS)return Dy;QS=1;var t=zg(),e=LD(),r=Object.prototype,n=r.hasOwnProperty;function o(i){if(!t(i))return e(i);var l=[];for(var f in Object(i))n.call(i,f)&&f!="constructor"&&l.push(f);return l}return Dy=o,Dy}var Uy,XS;function kR(){if(XS)return Uy;XS=1;var t=SR(),e=CR();function r(n){return n!=null&&e(n.length)&&!t(n)}return Uy=r,Uy}var Fy,ZS;function Vg(){if(ZS)return Fy;ZS=1;var t=PR(),e=jD(),r=kR();function n(o){return r(o)?t(o):e(o)}return Fy=n,Fy}var My,eI;function DD(){if(eI)return My;eI=1;var t=xd(),e=Vg();function r(n,o){return n&&t(o,e(o),n)}return My=r,My}var By,tI;function UD(){if(tI)return By;tI=1;function t(e){var r=[];if(e!=null)for(var n in Object(e))r.push(n);return r}return By=t,By}var qy,rI;function FD(){if(rI)return qy;rI=1;var t=Es(),e=zg(),r=UD(),n=Object.prototype,o=n.hasOwnProperty;function i(l){if(!t(l))return r(l);var f=e(l),p=[];for(var u in l)u=="constructor"&&(f||!o.call(l,u))||p.push(u);return p}return qy=i,qy}var $y,nI;function Kg(){if(nI)return $y;nI=1;var t=PR(),e=FD(),r=kR();function n(o){return r(o)?t(o,!0):e(o)}return $y=n,$y}var Wy,iI;function MD(){if(iI)return Wy;iI=1;var t=xd(),e=Kg();function r(n,o){return n&&t(o,e(o),n)}return Wy=r,Wy}var Uu={exports:{}};Uu.exports;var oI;function BD(){return oI||(oI=1,(function(t,e){var r=ei(),n=e&&!e.nodeType&&e,o=n&&!0&&t&&!t.nodeType&&t,i=o&&o.exports===n,l=i?r.Buffer:void 0,f=l?l.allocUnsafe:void 0;function p(u,d){if(d)return u.slice();var v=u.length,y=f?f(v):new u.constructor(v);return u.copy(y),y}t.exports=p})(Uu,Uu.exports)),Uu.exports}var Hy,aI;function qD(){if(aI)return Hy;aI=1;function t(e,r){var n=-1,o=e.length;for(r||(r=Array(o));++n<o;)r[n]=e[n];return r}return Hy=t,Hy}var Gy,sI;function $D(){if(sI)return Gy;sI=1;function t(e,r){for(var n=-1,o=e==null?0:e.length,i=0,l=[];++n<o;){var f=e[n];r(f,n,e)&&(l[i++]=f)}return l}return Gy=t,Gy}var zy,uI;function LR(){if(uI)return zy;uI=1;function t(){return[]}return zy=t,zy}var Vy,lI;function Yg(){if(lI)return Vy;lI=1;var t=$D(),e=LR(),r=Object.prototype,n=r.propertyIsEnumerable,o=Object.getOwnPropertySymbols,i=o?function(l){return l==null?[]:(l=Object(l),t(o(l),function(f){return n.call(l,f)}))}:e;return Vy=i,Vy}var Ky,cI;function WD(){if(cI)return Ky;cI=1;var t=xd(),e=Yg();function r(n,o){return t(n,e(n),o)}return Ky=r,Ky}var Yy,fI;function jR(){if(fI)return Yy;fI=1;function t(e,r){for(var n=-1,o=r.length,i=e.length;++n<o;)e[i+n]=r[n];return e}return Yy=t,Yy}var Jy,dI;function DR(){if(dI)return Jy;dI=1;var t=NR(),e=t(Object.getPrototypeOf,Object);return Jy=e,Jy}var Qy,hI;function UR(){if(hI)return Qy;hI=1;var t=jR(),e=DR(),r=Yg(),n=LR(),o=Object.getOwnPropertySymbols,i=o?function(l){for(var f=[];l;)t(f,r(l)),l=e(l);return f}:n;return Qy=i,Qy}var Xy,pI;function HD(){if(pI)return Xy;pI=1;var t=xd(),e=UR();function r(n,o){return t(n,e(n),o)}return Xy=r,Xy}var Zy,vI;function FR(){if(vI)return Zy;vI=1;var t=jR(),e=Ss();function r(n,o,i){var l=o(n);return e(n)?l:t(l,i(n))}return Zy=r,Zy}var em,yI;function GD(){if(yI)return em;yI=1;var t=FR(),e=Yg(),r=Vg();function n(o){return t(o,r,e)}return em=n,em}var tm,mI;function zD(){if(mI)return tm;mI=1;var t=FR(),e=UR(),r=Kg();function n(o){return t(o,r,e)}return tm=n,tm}var rm,gI;function VD(){if(gI)return rm;gI=1;var t=oa(),e=ei(),r=t(e,"DataView");return rm=r,rm}var nm,_I;function KD(){if(_I)return nm;_I=1;var t=oa(),e=ei(),r=t(e,"Promise");return nm=r,nm}var im,wI;function YD(){if(wI)return im;wI=1;var t=oa(),e=ei(),r=t(e,"Set");return im=r,im}var om,bI;function JD(){if(bI)return om;bI=1;var t=oa(),e=ei(),r=t(e,"WeakMap");return om=r,om}var am,EI;function Jg(){if(EI)return am;EI=1;var t=VD(),e=qg(),r=KD(),n=YD(),o=JD(),i=pl(),l=IR(),f="[object Map]",p="[object Object]",u="[object Promise]",d="[object Set]",v="[object WeakMap]",y="[object DataView]",_=l(t),w=l(e),S=l(r),T=l(n),O=l(o),x=i;return(t&&x(new t(new ArrayBuffer(1)))!=y||e&&x(new e)!=f||r&&x(r.resolve())!=u||n&&x(new n)!=d||o&&x(new o)!=v)&&(x=function(A){var C=i(A),U=C==p?A.constructor:void 0,q=U?l(U):"";if(q)switch(q){case _:return y;case w:return f;case S:return u;case T:return d;case O:return v}return C}),am=x,am}var sm,SI;function QD(){if(SI)return sm;SI=1;var t=Object.prototype,e=t.hasOwnProperty;function r(n){var o=n.length,i=new n.constructor(o);return o&&typeof n[0]=="string"&&e.call(n,"index")&&(i.index=n.index,i.input=n.input),i}return sm=r,sm}var um,II;function XD(){if(II)return um;II=1;var t=ei(),e=t.Uint8Array;return um=e,um}var lm,TI;function Qg(){if(TI)return lm;TI=1;var t=XD();function e(r){var n=new r.constructor(r.byteLength);return new t(n).set(new t(r)),n}return lm=e,lm}var cm,OI;function ZD(){if(OI)return cm;OI=1;var t=Qg();function e(r,n){var o=n?t(r.buffer):r.buffer;return new r.constructor(o,r.byteOffset,r.byteLength)}return cm=e,cm}var fm,xI;function e4(){if(xI)return fm;xI=1;var t=/\w*$/;function e(r){var n=new r.constructor(r.source,t.exec(r));return n.lastIndex=r.lastIndex,n}return fm=e,fm}var dm,RI;function t4(){if(RI)return dm;RI=1;var t=Ed(),e=t?t.prototype:void 0,r=e?e.valueOf:void 0;function n(o){return r?Object(r.call(o)):{}}return dm=n,dm}var hm,AI;function r4(){if(AI)return hm;AI=1;var t=Qg();function e(r,n){var o=n?t(r.buffer):r.buffer;return new r.constructor(o,r.byteOffset,r.length)}return hm=e,hm}var pm,CI;function n4(){if(CI)return pm;CI=1;var t=Qg(),e=ZD(),r=e4(),n=t4(),o=r4(),i="[object Boolean]",l="[object Date]",f="[object Map]",p="[object Number]",u="[object RegExp]",d="[object Set]",v="[object String]",y="[object Symbol]",_="[object ArrayBuffer]",w="[object DataView]",S="[object Float32Array]",T="[object Float64Array]",O="[object Int8Array]",x="[object Int16Array]",A="[object Int32Array]",C="[object Uint8Array]",U="[object Uint8ClampedArray]",q="[object Uint16Array]",Y="[object Uint32Array]";function J(k,W,F){var V=k.constructor;switch(W){case _:return t(k);case i:case l:return new V(+k);case w:return e(k,F);case S:case T:case O:case x:case A:case C:case U:case q:case Y:return o(k,F);case f:return new V;case p:case v:return new V(k);case u:return r(k);case d:return new V;case y:return n(k)}}return pm=J,pm}var vm,PI;function i4(){if(PI)return vm;PI=1;var t=Es(),e=Object.create,r=(function(){function n(){}return function(o){if(!t(o))return{};if(e)return e(o);n.prototype=o;var i=new n;return n.prototype=void 0,i}})();return vm=r,vm}var ym,NI;function o4(){if(NI)return ym;NI=1;var t=i4(),e=DR(),r=zg();function n(o){return typeof o.constructor=="function"&&!r(o)?t(e(o)):{}}return ym=n,ym}var mm,kI;function a4(){if(kI)return mm;kI=1;var t=Jg(),e=Is(),r="[object Map]";function n(o){return e(o)&&t(o)==r}return mm=n,mm}var gm,LI;function s4(){if(LI)return gm;LI=1;var t=a4(),e=Hg(),r=Gg(),n=r&&r.isMap,o=n?e(n):t;return gm=o,gm}var _m,jI;function u4(){if(jI)return _m;jI=1;var t=Jg(),e=Is(),r="[object Set]";function n(o){return e(o)&&t(o)==r}return _m=n,_m}var wm,DI;function l4(){if(DI)return wm;DI=1;var t=u4(),e=Hg(),r=Gg(),n=r&&r.isSet,o=n?e(n):t;return wm=o,wm}var bm,UI;function c4(){if(UI)return bm;UI=1;var t=OD(),e=xD(),r=Mg(),n=DD(),o=MD(),i=BD(),l=qD(),f=WD(),p=HD(),u=GD(),d=zD(),v=Jg(),y=QD(),_=n4(),w=o4(),S=Ss(),T=AR(),O=s4(),x=Es(),A=l4(),C=Vg(),U=Kg(),q=1,Y=2,J=4,k="[object Arguments]",W="[object Array]",F="[object Boolean]",V="[object Date]",G="[object Error]",K="[object Function]",ae="[object GeneratorFunction]",fe="[object Map]",ce="[object Number]",Q="[object Object]",ee="[object RegExp]",X="[object Set]",j="[object String]",Z="[object Symbol]",Ie="[object WeakMap]",xe="[object ArrayBuffer]",Re="[object DataView]",de="[object Float32Array]",je="[object Float64Array]",Te="[object Int8Array]",Le="[object Int16Array]",Fe="[object Int32Array]",nt="[object Uint8Array]",_t="[object Uint8ClampedArray]",er="[object Uint16Array]",un="[object Uint32Array]",R={};R[k]=R[W]=R[xe]=R[Re]=R[F]=R[V]=R[de]=R[je]=R[Te]=R[Le]=R[Fe]=R[fe]=R[ce]=R[Q]=R[ee]=R[X]=R[j]=R[Z]=R[nt]=R[_t]=R[er]=R[un]=!0,R[G]=R[K]=R[Ie]=!1;function b(E,P,M,te,ie,Ne){var ke,He=P&q,it=P&Y,Ye=P&J;if(M&&(ke=ie?M(E,te,ie,Ne):M(E)),ke!==void 0)return ke;if(!x(E))return E;var ln=S(E);if(ln){if(ke=y(E),!He)return l(E,ke)}else{var tr=v(E),Ti=tr==K||tr==ae;if(T(E))return i(E,He);if(tr==Q||tr==k||Ti&&!ie){if(ke=it||Ti?{}:w(E),!He)return it?p(E,o(ke,E)):f(E,n(ke,E))}else{if(!R[tr])return ie?E:{};ke=_(E,tr,He)}}Ne||(Ne=new t);var Oi=Ne.get(E);if(Oi)return Oi;Ne.set(E,ke),A(E)?E.forEach(function(cn){ke.add(b(cn,P,M,cn,E,Ne))}):O(E)&&E.forEach(function(cn,kn){ke.set(kn,b(cn,P,M,kn,E,Ne))});var ho=Ye?it?d:u:it?U:C,Sl=ln?void 0:ho(E);return e(Sl||E,function(cn,kn){Sl&&(kn=cn,cn=E[kn]),r(ke,kn,b(cn,P,M,kn,E,Ne))}),ke}return bm=b,bm}var Em,FI;function f4(){if(FI)return Em;FI=1;var t=c4(),e=1,r=4;function n(o){return t(o,e|r)}return Em=n,Em}var d4=f4();const h4=cd(d4);function es(t){return t===void 0&&(t=""),"".concat(t?"".concat(t,"_"):"").concat(+new Date,"_").concat(Math.random())}var p4=(function(){function t(e){this.close=e.close,this.onChange=e.onChange,this.onError=e.onError,e.debug&&Object.defineProperty(this,"virtualClient",{get:function(){return e.virtualClient}})}return t})(),MI=(function(){function t(e){var r=e.id,n=e.docChanges,o=e.docs,i=e.msgType,l=e.type,f,p;Object.defineProperties(this,{id:{get:function(){return r},enumerable:!0},docChanges:{get:function(){return f||(f=JSON.parse(JSON.stringify(n))),f},enumerable:!0},docs:{get:function(){return p||(p=JSON.parse(JSON.stringify(o))),p},enumerable:!0},msgType:{get:function(){return i},enumerable:!0},type:{get:function(){return l},enumerable:!0}})}return t})(),Rd=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),v4=(function(t){Rd(e,t);function e(r){var n=t.call(this,"Watch Error ".concat(JSON.stringify(r.msgData)," (requestid: ").concat(r.requestId,")"))||this;return n.isRealtimeErrorMessageError=!0,n.payload=r,n}return e})(Error),BI=function(t){return t?.isRealtimeErrorMessageError},y4=(function(t){Rd(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="timeout",r.payload=null,r.generic=!0,r}return e})(Error),m4=function(t){return t.type==="timeout"},g4=(function(t){Rd(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="cancelled",r.payload=null,r.generic=!0,r}return e})(Error),_4=function(t){return t.type==="cancelled"},Kr=(function(t){Rd(e,t);function e(r){var n=t.call(this,r.errMsg)||this;return n.errCode="UNKNOWN_ERROR",Object.defineProperties(n,{message:{get:function(){return"errCode: ".concat(this.errCode," ").concat(mr[this.errCode]||""," | errMsg: ").concat(this.errMsg)},set:function(o){this.errMsg=o}}}),n.errCode=r.errCode||"UNKNOWN_ERROR",n.errMsg=r.errMsg,n}return Object.defineProperty(e.prototype,"message",{get:function(){return"errCode: ".concat(this.errCode," | errMsg: ").concat(this.errMsg)},set:function(r){this.errMsg=r},enumerable:!1,configurable:!0}),e})(Error),mr={UNKNOWN_ERROR:"UNKNOWN_ERROR",SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG:"SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG",SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA:"SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA",SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR:"SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR",SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED:"SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED",SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL:"SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL",SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR:"SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR"},q0=function(t){return t===void 0&&(t=0),new Promise(function(e){return setTimeout(e,t)})},Rr=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function p(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,p)}u((n=n.apply(t,e||[])).next())})},lr=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return p([u,d])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},qI=function(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))},Je;(function(t){t.LOGGINGIN="LOGGINGIN",t.INITING="INITING",t.REBUILDING="REBUILDING",t.ACTIVE="ACTIVE",t.ERRORED="ERRORED",t.CLOSING="CLOSING",t.CLOSED="CLOSED",t.PAUSED="PAUSED",t.RESUMING="RESUMING"})(Je||(Je={}));var w4=100,Wc=2,b4=2,E4=10*1e3,S4=10*1e3,I4=10*1e3,T4=(function(){function t(e){var r=this;this.watchStatus=Je.INITING,this.wsLogin=function(n,o){return Rr(r,void 0,void 0,function(){var i;return lr(this,function(l){switch(l.label){case 0:return this.watchStatus=Je.LOGGINGIN,[4,this.login(n,o)];case 1:return i=l.sent(),this.envId||(this.envId=i.envId),[2,i]}})})},this.initWatch=function(n){return Rr(r,void 0,void 0,function(){var o,i=this;return lr(this,function(l){switch(l.label){case 0:if(this.initWatchPromise!==null&&this.initWatchPromise!==void 0)return[2,this.initWatchPromise];this.initWatchPromise=new Promise(function(f,p){(function(){return Rr(i,void 0,void 0,function(){var u,d,v,y,_,w,S,T,O,x,A;return lr(this,function(C){switch(C.label){case 0:return C.trys.push([0,3,,4]),this.watchStatus===Je.PAUSED?(console.log("[realtime] initWatch cancelled on pause"),[2,f()]):[4,this.wsLogin(this.envId,n)];case 1:return u=C.sent().envId,this.watchStatus===Je.PAUSED?(console.log("[realtime] initWatch cancelled on pause"),[2,f()]):(this.watchStatus=Je.INITING,d={watchId:this.watchId,requestId:es(),msgType:"INIT_WATCH",msgData:{envId:u,collName:this.collectionName,query:this.query,limit:this.limit,orderBy:this.orderBy}},[4,this.send({msg:d,waitResponse:!0,skipOnMessage:!0,timeout:S4})]);case 2:if(v=C.sent(),y=v.msgData,_=y.events,w=y.currEvent,this.sessionInfo={queryID:v.msgData.queryID,currentEventId:w-1,currentDocs:[]},_.length>0){for(S=0,T=_;S<T.length;S++)O=T[S],O.ID=w;this.handleServerEvents(v)}else this.sessionInfo.currentEventId=w,x=new MI({id:w,docChanges:[],docs:[],type:"init"}),this.listener.onChange(x),this.scheduleSendACK();return this.onWatchStart(this,this.sessionInfo.queryID),this.watchStatus=Je.ACTIVE,this.availableRetries.INIT_WATCH=Wc,f(),[3,4];case 3:return A=C.sent(),this.handleWatchEstablishmentError(A,{operationName:"INIT_WATCH",resolve:f,reject:p}),[3,4];case 4:return[2]}})})})()}),o=!1,l.label=1;case 1:return l.trys.push([1,,3,4]),[4,this.initWatchPromise];case 2:return l.sent(),o=!0,[3,4];case 3:return this.initWatchPromise=void 0,[7];case 4:return console.log("[realtime] initWatch ".concat(o?"success":"fail")),[2]}})})},this.rebuildWatch=function(n){return Rr(r,void 0,void 0,function(){var o,i=this;return lr(this,function(l){switch(l.label){case 0:if(this.rebuildWatchPromise!==null&&this.rebuildWatchPromise!==void 0)return[2,this.rebuildWatchPromise];this.rebuildWatchPromise=new Promise(function(f,p){(function(){return Rr(i,void 0,void 0,function(){var u,d,v,y;return lr(this,function(_){switch(_.label){case 0:return _.trys.push([0,3,,4]),this.watchStatus===Je.PAUSED?(console.log("[realtime] rebuildWatch cancelled on pause"),[2,f()]):[4,this.wsLogin(this.envId,n)];case 1:if(u=_.sent().envId,!this.sessionInfo)throw new Error("can not rebuildWatch without a successful initWatch (lack of sessionInfo)");return this.watchStatus===Je.PAUSED?(console.log("[realtime] rebuildWatch cancelled on pause"),[2,f()]):(this.watchStatus=Je.REBUILDING,d={watchId:this.watchId,requestId:es(),msgType:"REBUILD_WATCH",msgData:{envId:u,collName:this.collectionName,queryID:this.sessionInfo.queryID,eventID:this.sessionInfo.currentEventId}},[4,this.send({msg:d,waitResponse:!0,skipOnMessage:!1,timeout:I4})]);case 2:return v=_.sent(),this.handleServerEvents(v),this.watchStatus=Je.ACTIVE,this.availableRetries.REBUILD_WATCH=Wc,f(),[3,4];case 3:return y=_.sent(),this.handleWatchEstablishmentError(y,{operationName:"REBUILD_WATCH",resolve:f,reject:p}),[3,4];case 4:return[2]}})})})()}),o=!1,l.label=1;case 1:return l.trys.push([1,,3,4]),[4,this.rebuildWatchPromise];case 2:return l.sent(),o=!0,[3,4];case 3:return this.rebuildWatchPromise=void 0,[7];case 4:return console.log("[realtime] rebuildWatch ".concat(o?"success":"fail")),[2]}})})},this.handleWatchEstablishmentError=function(n,o){return Rr(r,void 0,void 0,function(){var i,l,f,p=this;return lr(this,function(u){return i=o.operationName==="INIT_WATCH",l=function(){p.closeWithError(new Kr({errCode:i?mr.SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL:mr.SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL,errMsg:n})),o.reject(n)},f=function(d){p.useRetryTicket(o.operationName)?i?(p.initWatchPromise=void 0,o.resolve(p.initWatch(d))):(p.rebuildWatchPromise=void 0,o.resolve(p.rebuildWatch(d))):l()},this.handleCommonError(n,{onSignError:function(){return f(!0)},onTimeoutError:function(){return f(!1)},onNotRetryableError:l,onCancelledError:o.reject,onUnknownError:function(){(function(){return Rr(p,void 0,void 0,function(){var d,v=this;return lr(this,function(y){switch(y.label){case 0:return y.trys.push([0,8,,9]),d=function(){return Rr(v,void 0,void 0,function(){return lr(this,function(_){switch(_.label){case 0:return this.pause(),[4,this.onceWSConnected()];case 1:return _.sent(),f(!0),[2]}})})},this.isWSConnected()?[3,2]:[4,d()];case 1:return y.sent(),[3,7];case 2:return[4,q0(w4)];case 3:return y.sent(),this.watchStatus!==Je.PAUSED?[3,4]:(o.reject(new g4("".concat(o.operationName," cancelled due to pause after unknownError"))),[3,7]);case 4:return this.isWSConnected()?[3,6]:[4,d()];case 5:return y.sent(),[3,7];case 6:f(!1),y.label=7;case 7:return[3,9];case 8:return y.sent(),f(!0),[3,9];case 9:return[2]}})})})()}}),[2]})})},this.closeWatch=function(){return Rr(r,void 0,void 0,function(){var n,o,i;return lr(this,function(l){switch(l.label){case 0:if(n=this.sessionInfo?this.sessionInfo.queryID:"",this.watchStatus!==Je.ACTIVE)return this.watchStatus=Je.CLOSED,this.onWatchClose(this,n),[2];l.label=1;case 1:return l.trys.push([1,3,4,5]),this.watchStatus=Je.CLOSING,o={watchId:this.watchId,requestId:es(),msgType:"CLOSE_WATCH",msgData:null},[4,this.send({msg:o})];case 2:return l.sent(),this.sessionInfo=void 0,this.watchStatus=Je.CLOSED,[3,5];case 3:return i=l.sent(),this.closeWithError(new Kr({errCode:mr.SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL,errMsg:i})),[3,5];case 4:return this.onWatchClose(this,n),[7];case 5:return[2]}})})},this.scheduleSendACK=function(){r.clearACKSchedule(),r.ackTimeoutId=setTimeout(function(){r.waitExpectedTimeoutId?r.scheduleSendACK():r.sendACK()},E4)},this.clearACKSchedule=function(){r.ackTimeoutId&&clearTimeout(r.ackTimeoutId)},this.sendACK=function(){return Rr(r,void 0,void 0,function(){var n,o,i;return lr(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),this.watchStatus!==Je.ACTIVE?(this.scheduleSendACK(),[2]):this.sessionInfo?(n={watchId:this.watchId,requestId:es(),msgType:"CHECK_LAST",msgData:{queryID:this.sessionInfo.queryID,eventID:this.sessionInfo.currentEventId}},[4,this.send({msg:n})]):(console.warn("[realtime listener] can not send ack without a successful initWatch (lack of sessionInfo)"),[2]);case 1:return l.sent(),this.scheduleSendACK(),[3,3];case 2:if(o=l.sent(),BI(o))switch(i=o.payload,i.msgData.code){case"CHECK_LOGIN_FAILED":case"SIGN_EXPIRED_ERROR":case"SIGN_INVALID_ERROR":case"SIGN_PARAM_INVALID":return this.rebuildWatch(),[2];case"QUERYID_INVALID_ERROR":case"SYS_ERR":case"INVALIID_ENV":case"COLLECTION_PERMISSION_DENIED":return this.closeWithError(new Kr({errCode:mr.SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL,errMsg:i.msgData.code})),[2]}return this.availableRetries.CHECK_LAST&&this.availableRetries.CHECK_LAST>0?(this.availableRetries.CHECK_LAST-=1,this.scheduleSendACK()):this.closeWithError(new Kr({errCode:mr.SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL,errMsg:o})),[3,3];case 3:return[2]}})})},this.handleCommonError=function(n,o){if(BI(n)){var i=n.payload;switch(i.msgData.code){case"CHECK_LOGIN_FAILED":case"SIGN_EXPIRED_ERROR":case"SIGN_INVALID_ERROR":case"SIGN_PARAM_INVALID":{o.onSignError(n);return}case"QUERYID_INVALID_ERROR":case"SYS_ERR":case"INVALIID_ENV":case"COLLECTION_PERMISSION_DENIED":{o.onNotRetryableError(n);return}default:{o.onNotRetryableError(n);return}}}else if(m4(n)){o.onTimeoutError(n);return}else if(_4(n)){o.onCancelledError(n);return}o.onUnknownError(n)},this.watchId="watchid_".concat(+new Date,"_").concat(Math.random()),this.envId=e.envId,this.collectionName=e.collectionName,this.query=e.query,this.limit=e.limit,this.orderBy=e.orderBy,this.send=e.send,this.login=e.login,this.isWSConnected=e.isWSConnected,this.onceWSConnected=e.onceWSConnected,this.getWaitExpectedTimeoutLength=e.getWaitExpectedTimeoutLength,this.onWatchStart=e.onWatchStart,this.onWatchClose=e.onWatchClose,this.debug=e.debug,this.availableRetries={INIT_WATCH:Wc,REBUILD_WATCH:Wc,CHECK_LAST:b4},this.listener=new p4({close:function(){r.closeWatch()},onChange:e.onChange,onError:e.onError,debug:this.debug,virtualClient:this}),this.initWatch()}return t.prototype.onMessage=function(e){var r=this;switch(this.watchStatus){case Je.PAUSED:{if(e.msgType!=="ERROR")return;break}case Je.LOGGINGIN:case Je.INITING:case Je.REBUILDING:{console.warn("[realtime listener] internal non-fatal error: unexpected message received while ".concat(this.watchStatus));return}case Je.CLOSED:{console.warn("[realtime listener] internal non-fatal error: unexpected message received when the watch has closed");return}case Je.ERRORED:{console.warn("[realtime listener] internal non-fatal error: unexpected message received when the watch has ended with error");return}}if(!this.sessionInfo){console.warn("[realtime listener] internal non-fatal error: sessionInfo not found while message is received.");return}switch(this.scheduleSendACK(),e.msgType){case"NEXT_EVENT":{console.warn("nextevent ".concat(e.msgData.currEvent," ignored"),e),this.handleServerEvents(e);break}case"CHECK_EVENT":{this.sessionInfo.currentEventId<e.msgData.currEvent&&(this.sessionInfo.expectEventId=e.msgData.currEvent,this.clearWaitExpectedEvent(),this.waitExpectedTimeoutId=setTimeout(function(){r.rebuildWatch()},this.getWaitExpectedTimeoutLength()),console.log("[realtime] waitExpectedTimeoutLength ".concat(this.getWaitExpectedTimeoutLength())));break}case"ERROR":{this.closeWithError(new Kr({errCode:mr.SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG,errMsg:"".concat(e.msgData.code," - ").concat(e.msgData.message)}));break}default:{console.warn("[realtime listener] virtual client receive unexpected msg ".concat(e.msgType,": "),e);break}}},t.prototype.closeWithError=function(e){var r;this.watchStatus=Je.ERRORED,this.clearACKSchedule(),this.listener.onError(e),this.onWatchClose(this,((r=this.sessionInfo)===null||r===void 0?void 0:r.queryID)||""),console.log("[realtime] client closed (".concat(this.collectionName," ").concat(this.query,") (watchId ").concat(this.watchId,")"))},t.prototype.pause=function(){this.watchStatus=Je.PAUSED,console.log("[realtime] client paused (".concat(this.collectionName," ").concat(this.query,") (watchId ").concat(this.watchId,")"))},t.prototype.resume=function(){return Rr(this,void 0,void 0,function(){var e;return lr(this,function(r){switch(r.label){case 0:this.watchStatus=Je.RESUMING,console.log("[realtime] client resuming with ".concat(this.sessionInfo?"REBUILD_WATCH":"INIT_WATCH"," (").concat(this.collectionName," ").concat(this.query,") (").concat(this.watchId,")")),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.sessionInfo?this.rebuildWatch():this.initWatch()];case 2:return r.sent(),console.log("[realtime] client successfully resumed (".concat(this.collectionName," ").concat(this.query,") (").concat(this.watchId,")")),[3,4];case 3:return e=r.sent(),console.error("[realtime] client resume failed (".concat(this.collectionName," ").concat(this.query,") (").concat(this.watchId,")"),e),[3,4];case 4:return[2]}})})},t.prototype.useRetryTicket=function(e){return this.availableRetries[e]&&this.availableRetries[e]>0?(this.availableRetries[e]-=1,console.log("[realtime] ".concat(e," use a retry ticket, now only ").concat(this.availableRetries[e]," retry left")),!0):!1},t.prototype.handleServerEvents=function(e){return Rr(this,void 0,void 0,function(){var r;return lr(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),this.scheduleSendACK(),[4,this.handleServerEventsInternel(e)];case 1:return n.sent(),this.postHandleServerEventsValidityCheck(e),[3,3];case 2:throw r=n.sent(),console.error("[realtime listener] internal non-fatal error: handle server events failed with error: ",r),r;case 3:return[2]}})})},t.prototype.handleServerEventsInternel=function(e){return Rr(this,void 0,void 0,function(){var r,n,o,i,l,f,p,u,d,v,y,_;return lr(this,function(w){switch(w.label){case 0:if(r=e.requestId,n=e.msgData.events,o=e.msgType,!n.length||!this.sessionInfo)return[2];i=this.sessionInfo;try{l=n.map(O4)}catch(S){return this.closeWithError(new Kr({errCode:mr.SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA,errMsg:S})),[2]}f=qI([],i.currentDocs,!0),p=!1,u=function(S,T){var O,x,A,C,U,q,J,J,Y,Y,J,k,k,W,F,V;return lr(this,function(G){switch(G.label){case 0:return O=l[S],i.currentEventId>=O.id?(!l[S-1]||O.id>l[S-1].id?console.warn("[realtime] duplicate event received, cur ".concat(i.currentEventId," but got ").concat(O.id)):console.error("[realtime listener] server non-fatal error: events out of order (the latter event's id is smaller than that of the former) (requestId ".concat(r,")")),[2,"continue"]):[3,1];case 1:if(i.currentEventId!==O.id-1)return[3,2];switch(O.dataType){case"update":{if(!O.doc)switch(O.queueType){case"update":case"dequeue":{if(x=f.find(function(K){return K._id===O.docId}),x){if(A=h4(x),O.updatedFields&&Object.keys(O.updatedFields).forEach(function(K){dD(A,K,O.updatedFields[K])}),O.removedFields)for(C=0,U=O.removedFields;C<U.length;C++)q=U[C],wD(A,q);O.doc=A}else console.error("[realtime listener] internal non-fatal server error: unexpected update dataType event where no doc is associated.");break}case"enqueue":throw J=new Kr({errCode:mr.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:'HandleServerEvents: full doc is not provided with dataType="update" and queueType="enqueue" (requestId '.concat(e.requestId,")")}),d.closeWithError(J),J}break}case"replace":{if(!O.doc)throw J=new Kr({errCode:mr.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:'HandleServerEvents: full doc is not provided with dataType="replace" (requestId '.concat(e.requestId,")")}),d.closeWithError(J),J;break}case"remove":{Y=f.find(function(K){return K._id===O.docId}),Y?O.doc=Y:console.error("[realtime listener] internal non-fatal server error: unexpected remove event where no doc is associated.");break}case"limit":{if(!O.doc)switch(O.queueType){case"dequeue":{Y=f.find(function(K){return K._id===O.docId}),Y?O.doc=Y:console.error("[realtime listener] internal non-fatal server error: unexpected limit dataType event where no doc is associated.");break}case"enqueue":throw J=new Kr({errCode:mr.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:'HandleServerEvents: full doc is not provided with dataType="limit" and queueType="enqueue" (requestId '.concat(e.requestId,")")}),d.closeWithError(J),J}break}}switch(O.queueType){case"init":{p?f.push(O.doc):(p=!0,f=[O.doc]);break}case"enqueue":{f.push(O.doc);break}case"dequeue":{k=f.findIndex(function(K){return K._id===O.docId}),k>-1?f.splice(k,1):console.error("[realtime listener] internal non-fatal server error: unexpected dequeue event where no doc is associated.");break}case"update":{k=f.findIndex(function(K){return K._id===O.docId}),k>-1?f[k]=O.doc:console.error("[realtime listener] internal non-fatal server error: unexpected queueType update event where no doc is associated.");break}}return(S===T-1||l[S+1]&&l[S+1].id!==O.id)&&(W=qI([],f,!0),F=l.slice(0,S+1).filter(function(K){return K.id===O.id}),d.sessionInfo.currentEventId=O.id,d.sessionInfo.currentDocs=f,V=new MI({id:O.id,docChanges:F,docs:W,msgType:o}),d.listener.onChange(V)),[3,4];case 2:return console.warn("[realtime listener] event received is out of order, cur ".concat(d.sessionInfo.currentEventId," but got ").concat(O.id)),[4,d.rebuildWatch()];case 3:return G.sent(),[2,{value:void 0}];case 4:return[2]}})},d=this,v=0,y=l.length,w.label=1;case 1:return v<y?[5,u(v,y)]:[3,4];case 2:if(_=w.sent(),typeof _=="object")return[2,_.value];w.label=3;case 3:return v++,[3,1];case 4:return[2]}})})},t.prototype.postHandleServerEventsValidityCheck=function(e){if(!this.sessionInfo){console.error("[realtime listener] internal non-fatal error: sessionInfo lost after server event handling, this should never occur");return}if(this.sessionInfo.expectEventId&&this.sessionInfo.currentEventId>=this.sessionInfo.expectEventId&&this.clearWaitExpectedEvent(),this.sessionInfo.currentEventId<e.msgData.currEvent){console.warn("[realtime listener] internal non-fatal error: client eventId does not match with server event id after server event handling");return}},t.prototype.clearWaitExpectedEvent=function(){this.waitExpectedTimeoutId&&(clearTimeout(this.waitExpectedTimeoutId),this.waitExpectedTimeoutId=void 0)},t})();function O4(t){var e={id:t.ID,dataType:t.DataType,queueType:t.QueueType,docId:t.DocID,doc:t.Doc&&t.Doc!=="{}"?JSON.parse(t.Doc):void 0};return t.DataType==="update"&&(t.UpdatedFields&&(e.updatedFields=JSON.parse(t.UpdatedFields)),(t.removedFields||t.RemovedFields)&&(e.removedFields=JSON.parse(t.removedFields))),e}var MR={1e3:{code:1e3,name:"Normal Closure",description:"Normal closure; the connection successfully completed whatever purpose for which it was created."},1001:{code:1001,name:"Going Away",description:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection."},1002:{code:1002,name:"Protocol Error",description:"The endpoint is terminating the connection due to a protocol error."},1003:{code:1003,name:"Unsupported Data",description:"The connection is being terminated because the endpoint received data of a type it cannot accept (for example, a text-only endpoint received binary data)."},1005:{code:1005,name:"No Status Received",description:"Indicates that no status code was provided even though one was expected."},1006:{code:1006,name:"Abnormal Closure",description:"Used to indicate that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected."},1007:{code:1007,name:"Invalid frame payload data",description:"The endpoint is terminating the connection because a message was received that contained inconsistent data (e.g., non-UTF-8 data within a text message)."},1008:{code:1008,name:"Policy Violation",description:"The endpoint is terminating the connection because it received a message that violates its policy. This is a generic status code, used when codes 1003 and 1009 are not suitable."},1009:{code:1009,name:"Message too big",description:"The endpoint is terminating the connection because a data frame was received that is too large."},1010:{code:1010,name:"Missing Extension",description:"The client is terminating the connection because it expected the server to negotiate one or more extension, but the server didn't."},1011:{code:1011,name:"Internal Error",description:"The server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request."},1012:{code:1012,name:"Service Restart",description:"The server is terminating the connection because it is restarting."},1013:{code:1013,name:"Try Again Later",description:"The server is terminating the connection due to a temporary condition, e.g. it is overloaded and is casting off some of its clients."},1014:{code:1014,name:"Bad Gateway",description:"The server was acting as a gateway or proxy and received an invalid response from the upstream server. This is similar to 502 HTTP Status Code."},1015:{code:1015,name:"TLS Handshake",description:"Indicates that the connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified)."},3e3:{code:3e3,name:"Reconnect WebSocket",description:"The client is terminating the connection because it wants to reconnect"},3001:{code:3001,name:"No Realtime Listeners",description:"The client is terminating the connection because no more realtime listeners exist"},3002:{code:3002,name:"Heartbeat Ping Error",description:"The client is terminating the connection due to its failure in sending heartbeat messages"},3003:{code:3003,name:"Heartbeat Pong Timeout Error",description:"The client is terminating the connection because no heartbeat response is received from the server"},3050:{code:3050,name:"Server Close",description:"The client is terminating the connection because no heartbeat response is received from the server"}},zr;(function(t){t[t.NormalClosure=1e3]="NormalClosure",t[t.GoingAway=1001]="GoingAway",t[t.ProtocolError=1002]="ProtocolError",t[t.UnsupportedData=1003]="UnsupportedData",t[t.NoStatusReceived=1005]="NoStatusReceived",t[t.AbnormalClosure=1006]="AbnormalClosure",t[t.InvalidFramePayloadData=1007]="InvalidFramePayloadData",t[t.PolicyViolation=1008]="PolicyViolation",t[t.MessageTooBig=1009]="MessageTooBig",t[t.MissingExtension=1010]="MissingExtension",t[t.InternalError=1011]="InternalError",t[t.ServiceRestart=1012]="ServiceRestart",t[t.TryAgainLater=1013]="TryAgainLater",t[t.BadGateway=1014]="BadGateway",t[t.TLSHandshake=1015]="TLSHandshake",t[t.ReconnectWebSocket=3e3]="ReconnectWebSocket",t[t.NoRealtimeListeners=3001]="NoRealtimeListeners",t[t.HeartbeatPingError=3002]="HeartbeatPingError",t[t.HeartbeatPongTimeoutError=3003]="HeartbeatPongTimeoutError",t[t.NoAuthentication=3050]="NoAuthentication"})(zr||(zr={}));var Sm=function(t,e){var r=MR[t],n=r?"".concat(r.name,", code ").concat(t,", reason ").concat(e||r.description):"code ".concat(t);return new Kr({errCode:mr.SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED,errMsg:n})},BR=null,qR="web";function x4(){return BR}function R4(t){BR=t}function $I(){return qR}function A4(t){qR=t}var Wf=function(){return Wf=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Wf.apply(this,arguments)},wn=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function p(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,p)}u((n=n.apply(t,e||[])).next())})},bn=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return p([u,d])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Im={OPEN:1},WI=3,C4=5e3,P4=1e4,N4=5,k4=1e4,L4=2,j4=2,D4=5e3,U4=(function(){function t(e){var r=this;this.virtualWSClient=new Set,this.queryIdClientMap=new Map,this.watchIdClientMap=new Map,this.pingFailed=0,this.pongMissed=0,this.logins=new Map,this.wsReadySubsribers=[],this.wsResponseWait=new Map,this.rttObserved=[],this.send=function(n){return wn(r,void 0,void 0,function(){var o=this;return bn(this,function(i){return[2,new Promise(function(l,f){(function(){return wn(o,void 0,void 0,function(){var p,u,d,v,y,_,w,S,T=this;return bn(this,function(O){switch(O.label){case 0:u=!1,d=!1,v=function(x){u=!0,p&&clearTimeout(p),l(x)},y=function(x){d=!0,p&&clearTimeout(p),f(x)},n.timeout&&(p=setTimeout(function(){(function(){return wn(T,void 0,void 0,function(){return bn(this,function(x){switch(x.label){case 0:return!u||!d?[4,q0(0)]:[3,2];case 1:x.sent(),(!u||!d)&&y(new y4("wsclient.send timedout")),x.label=2;case 2:return[2]}})})})()},n.timeout)),O.label=1;case 1:return O.trys.push([1,8,,9]),this.wsInitPromise!==void 0||this.wsInitPromise!==null?[4,this.wsInitPromise]:[3,3];case 2:O.sent(),O.label=3;case 3:if(!this.ws)return y(new Error("invalid state: ws connection not exists, can not send message")),[2];if(this.ws.readyState!==Im.OPEN)return y(new Error("ws readyState invalid: ".concat(this.ws.readyState,", can not send message"))),[2];n.waitResponse&&(_={resolve:v,reject:y,skipOnMessage:n.skipOnMessage},this.wsResponseWait.set(n.msg.requestId,_)),O.label=4;case 4:return O.trys.push([4,6,,7]),[4,this.ws.send(JSON.stringify(n.msg))];case 5:return O.sent(),n.waitResponse||v(void 0),[3,7];case 6:return w=O.sent(),w&&(y(w),n.waitResponse&&this.wsResponseWait.delete(n.msg.requestId)),[3,7];case 7:return[3,9];case 8:return S=O.sent(),y(S),[3,9];case 9:return[2]}})})})()})]})})},this.closeAllClients=function(n){r.virtualWSClient.forEach(function(o){o.closeWithError(n)})},this.pauseClients=function(n){(n||r.virtualWSClient).forEach(function(o){o.pause()})},this.resumeClients=function(n){(n||r.virtualWSClient).forEach(function(o){o.resume()})},this.initWebSocketConnection=function(n,o){return o===void 0&&(o=r.maxReconnect),wn(r,void 0,void 0,function(){var i=this;return bn(this,function(l){switch(l.label){case 0:if(n&&this.reconnectState)return[2];if(n&&(this.reconnectState=!0),this.wsInitPromise!==void 0&&this.wsInitPromise!==null)return[2,this.wsInitPromise];n&&this.pauseClients(),this.close(zr.ReconnectWebSocket),this.wsInitPromise=new Promise(function(f,p){(function(){return wn(i,void 0,void 0,function(){var u,d,v,y=this;return bn(this,function(_){switch(_.label){case 0:return _.trys.push([0,6,,11]),[4,this.getWsSign()];case 1:return u=_.sent(),[4,new Promise(function(w){var S=u.wsUrl||"wss://tcb-ws.tencentcloudapi.com",T=x4();y.ws=T?new T(S):new WebSocket(S),w(void 0)})];case 2:return _.sent(),this.ws.connect?[4,this.ws.connect()]:[3,4];case 3:_.sent(),_.label=4;case 4:return[4,this.initWebSocketEvent()];case 5:return _.sent(),f(),n&&(this.resumeClients(),this.reconnectState=!1),[3,11];case 6:return d=_.sent(),console.error("[realtime] initWebSocketConnection connect fail",d),o>0?(v=!0,this.wsInitPromise=void 0,v?[4,q0(this.reconnectInterval)]:[3,8]):[3,9];case 7:_.sent(),n&&(this.reconnectState=!1),_.label=8;case 8:return f(this.initWebSocketConnection(n,o-1)),[3,10];case 9:p(d),n&&this.closeAllClients(new Kr({errCode:mr.SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WATCH_FAIL,errMsg:d})),_.label=10;case 10:return[3,11];case 11:return[2]}})})})()}),l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,this.wsInitPromise];case 2:return l.sent(),this.wsReadySubsribers.forEach(function(f){var p=f.resolve;return p()}),[3,5];case 3:return l.sent(),this.wsReadySubsribers.forEach(function(f){var p=f.reject;return p()}),[3,5];case 4:return this.wsInitPromise=void 0,this.wsReadySubsribers=[],[7];case 5:return[2]}})})},this.initWebSocketEvent=function(){return new Promise(function(n,o){if(!r.ws)throw new Error("can not initWebSocketEvent, ws not exists");var i=!1;r.ws.onopen=function(l){console.warn("[realtime] ws event: open",l),i=!0,n()},r.ws.onerror=function(l){r.logins=new Map,i?(console.error("[realtime] ws event: error",l),r.clearHeartbeat(),r.virtualWSClient.forEach(function(f){return f.closeWithError(new Kr({errCode:mr.SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR,errMsg:l}))})):(console.error("[realtime] ws open failed with ws event: error",l),o(l))},r.ws.onclose=function(l){switch(console.warn("[realtime] ws event: close",l),r.logins=new Map,r.clearHeartbeat(),l.code){case zr.ReconnectWebSocket:break;case zr.NoRealtimeListeners:break;case zr.HeartbeatPingError:case zr.HeartbeatPongTimeoutError:case zr.NormalClosure:case zr.AbnormalClosure:{r.maxReconnect>0?r.initWebSocketConnection(!0,r.maxReconnect):r.closeAllClients(Sm(l.code));break}case zr.NoAuthentication:{r.closeAllClients(Sm(l.code,l.reason));break}default:r.maxReconnect>0?r.initWebSocketConnection(!0,r.maxReconnect):r.closeAllClients(Sm(l.code))}},r.ws.onmessage=function(l){var f,p=((f=l.data)===null||f===void 0?void 0:f.data)||l.data;r.heartbeat();var u;try{u=typeof p=="string"?JSON.parse(p):p}catch(x){throw new Error("[realtime] onMessage parse res.data error: ".concat(x))}if(u.msgType==="ERROR"){var d=null;r.virtualWSClient.forEach(function(x){x.watchId===u.watchId&&(d=x)}),d&&d.listener.onError(u)}var v=r.wsResponseWait.get(u.requestId);if(v){try{u.msgType==="ERROR"?v.reject(new v4(u)):v.resolve(u)}catch(x){console.error("ws onMessage responseWaitSpec.resolve(msg) errored:",x)}finally{r.wsResponseWait.delete(u.requestId)}if(v.skipOnMessage)return}if(u.msgType==="PONG"){if(r.lastPingSendTS){var y=Date.now()-r.lastPingSendTS;if(y>P4){console.warn("[realtime] untrusted rtt observed: ".concat(y));return}r.rttObserved.length>=WI&&r.rttObserved.splice(0,r.rttObserved.length-WI+1),r.rttObserved.push(y)}return}var _=u.watchId&&r.watchIdClientMap.get(u.watchId);if(_)_.onMessage(u);else switch(console.error("[realtime] no realtime listener found responsible for watchId ".concat(u.watchId,": "),u),u.msgType){case"INIT_EVENT":case"NEXT_EVENT":case"CHECK_EVENT":{_=r.queryIdClientMap.get(u.msgData.queryID),_&&_.onMessage(u);break}default:for(var w=0,S=Array.from(r.watchIdClientMap.entries());w<S.length;w++){var T=S[w],O=T[1];O.onMessage(u);break}}},r.heartbeat()})},this.isWSConnected=function(){return!!(r.ws&&r.ws.readyState===Im.OPEN)},this.onceWSConnected=function(){return wn(r,void 0,void 0,function(){var n=this;return bn(this,function(o){return this.isWSConnected()?[2]:this.wsInitPromise!==null&&this.wsInitPromise!==void 0?[2,this.wsInitPromise]:[2,new Promise(function(i,l){n.wsReadySubsribers.push({resolve:i,reject:l})})]})})},this.webLogin=function(n,o){return wn(r,void 0,void 0,function(){var i,l,f,p,u,d,v,y,_=this;return bn(this,function(w){switch(w.label){case 0:if(!o){if(n){if(i=this.logins.get(n),i){if(i.loggedIn&&i.loginResult)return[2,i.loginResult];if(i.loggingInPromise!==null&&i.loggingInPromise!==void 0)return[2,i.loggingInPromise]}}else if(l=this.logins.get(""),l?.loggingInPromise!==null&&l?.loggingInPromise!==void 0)return[2,l.loggingInPromise]}f=new Promise(function(S,T){(function(){return wn(_,void 0,void 0,function(){var O,x,A,C,U;return bn(this,function(q){switch(q.label){case 0:return q.trys.push([0,3,,4]),[4,this.getWsSign()];case 1:return O=q.sent(),x={envId:O.envId||"",accessToken:"",referrer:"web",sdkVersion:"",dataVersion:""},A={watchId:void 0,requestId:es(),msgType:"LOGIN",msgData:x,exMsgData:{runtime:$I(),signStr:O.signStr,secretVersion:O.secretVersion}},[4,this.send({msg:A,waitResponse:!0,skipOnMessage:!0,timeout:D4})];case 2:return C=q.sent(),C.msgData.code?T(new Error("".concat(C.msgData.code," ").concat(C.msgData.message))):S({envId:O.envId}),[3,4];case 3:return U=q.sent(),T(U),[3,4];case 4:return[2]}})})})()}),p=n&&this.logins.get(n),u=Date.now(),p?(p.loggedIn=!1,p.loggingInPromise=f,p.loginStartTS=u):(p={loggedIn:!1,loggingInPromise:f,loginStartTS:u},this.logins.set(n||"",p)),w.label=1;case 1:return w.trys.push([1,3,,4]),[4,f];case 2:if(d=w.sent(),v=n&&this.logins.get(n),v&&v===p&&v.loginStartTS===u)return p.loggedIn=!0,p.loggingInPromise=void 0,p.loginStartTS=void 0,p.loginResult=d,[2,d];if(v){if(v.loggedIn&&v.loginResult)return[2,v.loginResult];if(v.loggingInPromise!==null&&v.loggingInPromise!==void 0)return[2,v.loggingInPromise];throw new Error("ws unexpected login info")}else throw new Error("ws login info reset");case 3:throw y=w.sent(),p.loggedIn=!1,p.loggingInPromise=void 0,p.loginStartTS=void 0,p.loginResult=void 0,y;case 4:return[2]}})})},this.getWsSign=function(){return wn(r,void 0,void 0,function(){var n,o,i,l,f,p,u;return bn(this,function(d){switch(d.label){case 0:return this.wsSign&&this.wsSign.expiredTs>Date.now()?[2,this.wsSign]:(n=Date.now()+6e4,[4,this.context.appConfig.request.send("auth.wsWebSign",{runtime:$I()})]);case 1:if(o=d.sent(),o.code)throw new Error("[tcb-js-sdk] : ".concat(o.code));if(o.data)return i=o.data,l=i.signStr,f=i.wsUrl,p=i.secretVersion,u=i.envId,[2,{signStr:l,wsUrl:f,secretVersion:p,envId:u,expiredTs:n}];throw new Error("[tcb-js-sdk] ")}})})},this.getWaitExpectedTimeoutLength=function(){return r.rttObserved.length?r.rttObserved.reduce(function(n,o){return n+o})/r.rttObserved.length*1.5:C4},this.ping=function(){return wn(r,void 0,void 0,function(){var n;return bn(this,function(o){switch(o.label){case 0:return n={watchId:void 0,requestId:es(),msgType:"PING",msgData:null},[4,this.send({msg:n})];case 1:return o.sent(),[2]}})})},this.onWatchStart=function(n,o){r.queryIdClientMap.set(o,n)},this.onWatchClose=function(n,o){o&&r.queryIdClientMap.delete(o),r.watchIdClientMap.delete(n.watchId),r.virtualWSClient.delete(n),r.virtualWSClient.size||r.close(zr.NoRealtimeListeners)},this.maxReconnect=e.maxReconnect||N4,this.reconnectInterval=e.reconnectInterval||k4,this.context=e.context}return t.prototype.clearHeartbeat=function(){this.pingTimeoutId&&clearTimeout(this.pingTimeoutId),this.pongTimeoutId&&clearTimeout(this.pongTimeoutId)},t.prototype.close=function(e){this.clearHeartbeat(),this.ws&&(this.ws.close(e,MR[e].name),this.ws=void 0)},t.prototype.watch=function(e){!this.ws&&(this.wsInitPromise===void 0||this.wsInitPromise===null)&&this.initWebSocketConnection(!1);var r=new T4(Wf(Wf({},e),{send:this.send,login:this.webLogin,isWSConnected:this.isWSConnected,onceWSConnected:this.onceWSConnected,getWaitExpectedTimeoutLength:this.getWaitExpectedTimeoutLength,onWatchStart:this.onWatchStart,onWatchClose:this.onWatchClose,debug:!0}));return this.virtualWSClient.add(r),this.watchIdClientMap.set(r.watchId,r),r.listener},t.prototype.heartbeat=function(e){var r=this;this.clearHeartbeat(),this.pingTimeoutId=setTimeout(function(){(function(){return wn(r,void 0,void 0,function(){var n=this;return bn(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),!this.ws||this.ws.readyState!==Im.OPEN?[2]:(this.lastPingSendTS=Date.now(),[4,this.ping()]);case 1:return o.sent(),this.pingFailed=0,this.pongTimeoutId=setTimeout(function(){console.error("pong timed out"),n.pongMissed<j4?(n.pongMissed+=1,n.heartbeat(!0)):n.initWebSocketConnection(!0)},this.context.appConfig.realtimePongWaitTimeout),[3,3];case 2:return o.sent(),this.pingFailed<L4?(this.pingFailed+=1,this.heartbeat()):this.close(zr.HeartbeatPingError),[3,3];case 3:return[2]}})})})()},e?0:this.context.appConfig.realtimePingInterval)},t})(),$R={target:"database",entity:function(){var t=this.platform,e=t.adapter,r=t.runtime;R4(e.wsClass),A4(r)}},WR={name:"realtime",IIFE:!0,entity:function(){this.prototype.wsClientClass=U4}};try{cloudbase.registerComponent(WR),cloudbase.registerHook($R)}catch{}function F4(t){try{t.registerComponent(WR),t.registerHook($R)}catch(e){console.warn(e)}}var M4=function(t,e,r,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var f=t.length-1;f>=0;f--)(l=t[f])&&(i=(o<3?l(i):o>3?l(e,r,i):l(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i},Tm=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},B4=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function p(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,p)}u((n=n.apply(t,e||[])).next())})},q4=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return p([u,d])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},$4=_r,W4=dd,H4=vd,HR="analytics",G4=["mall"];function z4(t){if(Object.prototype.toString.call(t).slice(8,-1)!=="Object")return!1;var e=t.report_data,r=t.report_type;return!(G4.includes(r)===!1||Object.prototype.toString.call(e).slice(8,-1)!=="Object"||e.action_time!==void 0&&!Number.isInteger(e.action_time)||typeof e.action_type!="string")}var V4=(function(){function t(){}return t.prototype.analytics=function(e){return B4(this,void 0,void 0,function(){var r,n,o,i,l;return q4(this,function(f){if(!z4(e))throw new Error(JSON.stringify({code:$4.INVALID_PARAMS,msg:"[".concat(HR,".analytics] invalid report data")}));return r="analytics.report",n=e.report_data.action_time===void 0?Math.floor(Date.now()/1e3):e.report_data.action_time,o={analytics_scene:e.report_type,analytics_data:Object.assign({},e.report_data,{action_time:n})},i={requestData:o},l=this.request,l.send(r,i),[2]})})},M4([H4({customInfo:{},title:"",messages:["","  1 -  analytics() ","".concat(W4)]}),Tm("design:type",Function),Tm("design:paramtypes",[Object]),Tm("design:returntype",Promise)],t.prototype,"analytics",null),t})(),K4=new V4,GR={name:HR,entity:{analytics:K4.analytics}};try{cloudbase.registerComponent(GR)}catch{}function Y4(t){try{t.registerComponent(GR)}catch(e){console.warn(e)}}var $0=function(t,e){return $0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},$0(t,e)};function vl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");$0(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var yt=function(){return yt=Object.assign||function(e){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},yt.apply(this,arguments)};function so(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function p(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,p)}u((n=n.apply(t,[])).next())})}function uo(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return p([u,d])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Go=(function(t){vl(e,t);function e(r,n){var o=t.call(this,r)||this;return o.name="WxCloudSDKError",o.code=n?.code,o.requestId=n?.requestId,o.originError=n?.originError,o}return e})(Error);function W0(){return typeof window<"u"&&window||typeof globalThis<"u"&&globalThis}function J4(){try{var t=W0();return t?typeof wx>"u"?W0().location.href:t.__wxRoute:void 0}catch{}}function Q4(){var t=W0();if(t?.navigator)return t.navigator.userAgent;if(typeof wx<"u"&&wx.getSystemInfo){var e;return wx.getSystemInfo({success:function(r){r&&(e=["brand","model","version","system","platform","SDKVersion","language"].map(function(n){return"".concat(n,": ").concat(r[n])}).join(", "))}}),e}}var X4="1.7.2",Z4=function(t){var e=t.dataSourceName,r=t.methodName,n=t.params,o=t.realMethodName,i=t.callFunction,l=t.envType,f=l===void 0?"prod":l,p=t.mode;return so(void 0,void 0,void 0,function(){var u,d,v,y,_,w;return uo(this,function(S){switch(S.label){case 0:u={data:{},requestId:""},S.label=1;case 1:return S.trys.push([1,3,,4]),[4,i({name:"lowcode-datasource",data:{dataSourceName:e,methodName:r,params:n,userAgent:Q4(),referrer:J4(),"x-sdk-version":X4,envType:f,mode:p}})];case 2:if(d=S.sent(),v=((_=d?.result)===null||_===void 0?void 0:_.requestId)||d?.requestId||d?.requestID,d?.result.code)throw new Go("".concat(d?.result.message,`
 models.`).concat(e?"".concat(e,"."):"").concat(o,`
`).concat(d?.result.code,`
ID`).concat(v||"N/A"),{code:d?.result.code,requestId:v});return u.data=((w=d?.result)===null||w===void 0?void 0:w.data)||{},u.requestId=v,[3,4];case 3:throw y=S.sent(),y.name==="WxCloudSDKError"?y:(console.log(y),new Go("".concat(y.message,`
       models.`).concat(e?"".concat(e,"."):"").concat(o,`
      IDN/A`),{code:"UnknownError",originError:y}));case 4:return[2,u]}})})},HI=function(t){var e=t.sql,r=t.params,n=t.config,o=t.callFunction,i=t.unsafe,l=i===void 0?!1:i;return so(void 0,void 0,void 0,function(){return uo(this,function(f){return[2,Z4({realMethodName:"$runSQL",methodName:"callWedaApi",params:{action:"RunMysqlCommand",data:{sqlTemplate:e,config:n,parameter:l?"":Object.entries(r||{}).reduce(function(p,u){var d=u[0],v=u[1];if(v!==void 0){var y="OBJECT",_=typeof v;switch(_){case"boolean":{y="BOOLEAN";break}case"number":{y="NUMBER";break}case"string":{y="STRING";break}default:Array.isArray(v)?y="ARRAY":y="OBJECT"}p.push({key:d,type:y,value:y==="STRING"?v:JSON.stringify(v)})}return p},[])||[]}},callFunction:o,mode:"sdk"})]})})},e5=function(t){return{$runSQL:function(e,r,n){return so(this,void 0,void 0,function(){var o;return uo(this,function(i){switch(i.label){case 0:return[4,HI({sql:e,params:r,config:yt(yt({},n),{preparedStatements:!0}),callFunction:t})];case 1:return o=i.sent(),[2,o]}})})},$runSQLRaw:function(e,r){return so(this,void 0,void 0,function(){var n;return uo(this,function(o){switch(o.label){case 0:return[4,HI({sql:e,params:[],config:yt(yt({},r),{preparedStatements:!1}),callFunction:t})];case 1:return n=o.sent(),[2,n]}})})}}},GI={filter:{where:{}},select:{$master:!0}};function di(t){return{getUrl:function(e){return"".concat(e,"/").concat(t)},method:"post"}}var t5={get:yt(yt({},di("get")),{defaultParams:yt({},GI)}),list:yt(yt({},di("list")),{defaultParams:yt({},GI)}),create:di("create"),createMany:di("createMany"),update:yt(yt({},di("update")),{method:"put"}),updateMany:yt(yt({},di("updateMany")),{method:"put"}),upsert:di("upsert"),delete:di("delete"),deleteMany:di("deleteMany")},Hc="Unknown error occurred",zI="NotSupported",r5=function(t,e,r,n){var o=e5(t);return new Proxy({},{get:function(i,l){if(typeof l=="string")return Object.prototype.hasOwnProperty.call(o,l)?o[l]:n5(r,l,e,n)}})},VI=function(t,e,r,n,o){return new Go("".concat(t,`
 models.`).concat(e,".").concat(r,`
`).concat(n,`
ID`).concat(o),{code:n,requestId:o})},n5=function(t,e,r,n){var o=new Proxy({},{get:function(i,l){if(l!=="runSQLTemplate"){var f=t5[l];if(!f){var p=new Error(": ".concat(l));throw new Go(p.message||Hc,{originError:p,code:zI,requestId:"N/A"})}return function(u){return u===void 0&&(u={}),so(void 0,void 0,void 0,function(){var d,v,y,_,w,S,T,O,x,A;return uo(this,function(C){switch(C.label){case 0:d=f.getUrl,v=f.method,y=f.defaultParams,_=y===void 0?{}:y,w=Object.assign({},_,u),S=w.envType==="pre"?"pre":"prod",T=[t,S,d(e)].join("/"),C.label=1;case 1:return C.trys.push([1,3,,4]),[4,r({url:T,body:JSON.stringify(w),method:v})];case 2:if(O=C.sent(),O.code)throw VI(O?.message,e,l,O?.code,O?.requestId);return l==="get"&&Object.assign(O,{data:(A=O.data.record)!==null&&A!==void 0?A:O.data}),[2,O];case 3:throw x=C.sent(),new Go(x?.message||Hc,{originError:x});case 4:return[2]}})})}}else{if(!n?.sqlBaseUrl){var p=new Error(": ".concat(l));throw new Go(p.message||Hc,{originError:p,code:zI,requestId:"N/A"})}return function(u){return so(void 0,void 0,void 0,function(){var d,v,y,_,w,S,T,O,x,A,C,U,q,Y,J,k;return uo(this,function(W){switch(W.label){case 0:d=u.params,v=u.templateName,y=u.envType,_=y==="pre"?"pre":"prod",w=[n.sqlBaseUrl,_,v,"run"].join("/"),S=Object.entries(d||{}).reduce(function(F,V){var G=V[0],K=V[1];if(K!==void 0){var ae="OBJECT",fe=typeof K;switch(fe){case"boolean":{ae="BOOLEAN";break}case"number":{ae="NUMBER";break}case"string":{ae="STRING";break}default:Array.isArray(K)?ae="ARRAY":ae="OBJECT"}F.push({key:G,type:ae,value:ae==="STRING"?K:JSON.stringify(K)})}return F},[]),W.label=1;case 1:return W.trys.push([1,3,,4]),[4,r({url:w,body:JSON.stringify({parameter:S}),method:"POST"})];case 2:if(T=W.sent(),!((x=T?.Response)===null||x===void 0)&&x.Error)throw VI((C=(A=T?.Response)===null||A===void 0?void 0:A.Error)===null||C===void 0?void 0:C.Message,e,l,(q=(U=T?.Response)===null||U===void 0?void 0:U.Error)===null||q===void 0?void 0:q.Code,(Y=T?.Response)===null||Y===void 0?void 0:Y.RequestId);return[2,yt(yt({},(J=T?.Response)!==null&&J!==void 0?J:{}),{data:(k=T?.Response)===null||k===void 0?void 0:k.Data})];case 3:throw O=W.sent(),new Go(O?.message||Hc,{originError:O});case 4:return[2]}})})}}}});return o},i5=(function(){function t(e){var r=this;this.map=new Map,e&&(e instanceof Headers?e.forEach(function(n,o){r.append(o,n)}):Array.isArray(e)?e.forEach(function(n){var o=n[0],i=n[1];r.append(o,i)}):typeof e=="object"&&Object.keys(e).forEach(function(n){r.append(n,e[n])}))}return t.prototype.append=function(e,r){var n=e.toLowerCase(),o=this.map.get(n);o?this.map.set(n,"".concat(o,", ").concat(r)):this.map.set(n,String(r))},t.prototype.delete=function(e){this.map.delete(e.toLowerCase())},t.prototype.forEach=function(e,r){var n=this;this.map.forEach(function(o,i){e.call(r,o,i,n)})},t.prototype.get=function(e){return this.map.get(e.toLowerCase())||null},t.prototype.has=function(e){return this.map.has(e.toLowerCase())},t.prototype.set=function(e,r){this.map.set(e.toLowerCase(),String(r))},t.prototype.entries=function(){return this.map.entries()},t.prototype.keys=function(){return this.map.keys()},t.prototype.values=function(){return this.map.values()},t.prototype.getSetCookie=function(){var e=[];return this.map.forEach(function(r,n){n==="set-cookie"&&e.push(r)}),e},t.prototype.toJSON=function(){var e={};return this.map.forEach(function(r,n){e[n]=r}),e},t.prototype[Symbol.iterator]=function(){return this.entries()},t})();typeof globalThis=="object"&&!globalThis.Headers&&(globalThis.Headers=i5);var Gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function o5(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Nr=function(t){try{return!!t()}catch{return!0}},a5=Nr,Ad=!a5(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),zR=Ad,VR=Function.prototype,H0=VR.call,s5=zR&&VR.bind.bind(H0,H0),Ht=zR?s5:function(t){return function(){return H0.apply(t,arguments)}},KR=Ht,u5=KR({}.toString),l5=KR("".slice),Xg=function(t){return l5(u5(t),8,-1)},c5=Ht,f5=Nr,d5=Xg,Om=Object,h5=c5("".split),YR=f5(function(){return!Om("z").propertyIsEnumerable(0)})?function(t){return d5(t)==="String"?h5(t,""):Om(t)}:Om,Zg=function(t){return t==null},p5=Zg,v5=TypeError,e_=function(t){if(p5(t))throw new v5("Can't call method on "+t);return t},y5=YR,m5=e_,yl=function(t){return y5(m5(t))},ml={},_u=function(t){return t&&t.Math===Math&&t},br=_u(typeof globalThis=="object"&&globalThis)||_u(typeof window=="object"&&window)||_u(typeof self=="object"&&self)||_u(typeof Gc=="object"&&Gc)||_u(typeof Gc=="object"&&Gc)||(function(){return this})()||Function("return this")(),xm=typeof document=="object"&&document.all,Er=typeof xm>"u"&&xm!==void 0?function(t){return typeof t=="function"||t===xm}:function(t){return typeof t=="function"},g5=br,_5=Er,KI=g5.WeakMap,w5=_5(KI)&&/native code/.test(String(KI)),b5=Er,aa=function(t){return typeof t=="object"?t!==null:b5(t)},E5=Nr,kr=!E5(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),sa={},S5=br,YI=aa,G0=S5.document,I5=YI(G0)&&YI(G0.createElement),JR=function(t){return I5?G0.createElement(t):{}},T5=kr,O5=Nr,x5=JR,QR=!T5&&!O5(function(){return Object.defineProperty(x5("div"),"a",{get:function(){return 7}}).a!==7}),R5=kr,A5=Nr,XR=R5&&A5(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),C5=aa,P5=String,N5=TypeError,ua=function(t){if(C5(t))return t;throw new N5(P5(t)+" is not an object")},k5=Ad,zc=Function.prototype.call,Ii=k5?zc.bind(zc):function(){return zc.apply(zc,arguments)},t_={},Rm=t_,Am=br,L5=Er,JI=function(t){return L5(t)?t:void 0},Ts=function(t,e){return arguments.length<2?JI(Rm[t])||JI(Am[t]):Rm[t]&&Rm[t][e]||Am[t]&&Am[t][e]},j5=Ht,ZR=j5({}.isPrototypeOf),D5=br,QI=D5.navigator,XI=QI&&QI.userAgent,U5=XI?String(XI):"",eA=br,Cm=U5,ZI=eA.process,eT=eA.Deno,tT=ZI&&ZI.versions||eT&&eT.version,rT=tT&&tT.v8,On,Hf;rT&&(On=rT.split("."),Hf=On[0]>0&&On[0]<4?1:+(On[0]+On[1]));!Hf&&Cm&&(On=Cm.match(/Edge\/(\d+)/),(!On||On[1]>=74)&&(On=Cm.match(/Chrome\/(\d+)/),On&&(Hf=+On[1])));var F5=Hf,nT=F5,M5=Nr,B5=br,q5=B5.String,tA=!!Object.getOwnPropertySymbols&&!M5(function(){var t=Symbol("symbol detection");return!q5(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&nT&&nT<41}),$5=tA,rA=$5&&!Symbol.sham&&typeof Symbol.iterator=="symbol",W5=Ts,H5=Er,G5=ZR,z5=rA,V5=Object,nA=z5?function(t){return typeof t=="symbol"}:function(t){var e=W5("Symbol");return H5(e)&&G5(e.prototype,V5(t))},K5=String,iA=function(t){try{return K5(t)}catch{return"Object"}},Y5=Er,J5=iA,Q5=TypeError,r_=function(t){if(Y5(t))return t;throw new Q5(J5(t)+" is not a function")},X5=r_,Z5=Zg,n_=function(t,e){var r=t[e];return Z5(r)?void 0:X5(r)},Pm=Ii,Nm=Er,km=aa,eU=TypeError,tU=function(t,e){var r,n;if(e==="string"&&Nm(r=t.toString)&&!km(n=Pm(r,t))||Nm(r=t.valueOf)&&!km(n=Pm(r,t))||e!=="string"&&Nm(r=t.toString)&&!km(n=Pm(r,t)))return n;throw new eU("Can't convert object to primitive value")},oA={exports:{}},rU=!0,iT=br,nU=Object.defineProperty,iU=function(t,e){try{nU(iT,t,{value:e,configurable:!0,writable:!0})}catch{iT[t]=e}return e},oU=br,aU=iU,oT="__core-js_shared__",aT=oA.exports=oU[oT]||aU(oT,{});(aT.versions||(aT.versions=[])).push({version:"3.45.0",mode:"pure",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.45.0/LICENSE",source:"https://github.com/zloirock/core-js"});var i_=oA.exports,sT=i_,aA=function(t,e){return sT[t]||(sT[t]=e||{})},sU=e_,uU=Object,Cd=function(t){return uU(sU(t))},lU=Ht,cU=Cd,fU=lU({}.hasOwnProperty),ti=Object.hasOwn||function(e,r){return fU(cU(e),r)},dU=Ht,hU=0,pU=Math.random(),vU=dU(1.1.toString),sA=function(t){return"Symbol("+(t===void 0?"":t)+")_"+vU(++hU+pU,36)},yU=br,mU=aA,uT=ti,gU=sA,_U=tA,wU=rA,ts=yU.Symbol,Lm=mU("wks"),bU=wU?ts.for||ts:ts&&ts.withoutSetter||gU,ri=function(t){return uT(Lm,t)||(Lm[t]=_U&&uT(ts,t)?ts[t]:bU("Symbol."+t)),Lm[t]},EU=Ii,lT=aa,cT=nA,SU=n_,IU=tU,TU=ri,OU=TypeError,xU=TU("toPrimitive"),RU=function(t,e){if(!lT(t)||cT(t))return t;var r=SU(t,xU),n;if(r){if(e===void 0&&(e="default"),n=EU(r,t,e),!lT(n)||cT(n))return n;throw new OU("Can't convert object to primitive value")}return e===void 0&&(e="number"),IU(t,e)},AU=RU,CU=nA,uA=function(t){var e=AU(t,"string");return CU(e)?e:e+""},PU=kr,NU=QR,kU=XR,Vc=ua,fT=uA,LU=TypeError,jm=Object.defineProperty,jU=Object.getOwnPropertyDescriptor,Dm="enumerable",Um="configurable",Fm="writable";sa.f=PU?kU?function(e,r,n){if(Vc(e),r=fT(r),Vc(n),typeof e=="function"&&r==="prototype"&&"value"in n&&Fm in n&&!n[Fm]){var o=jU(e,r);o&&o[Fm]&&(e[r]=n.value,n={configurable:Um in n?n[Um]:o[Um],enumerable:Dm in n?n[Dm]:o[Dm],writable:!1})}return jm(e,r,n)}:jm:function(e,r,n){if(Vc(e),r=fT(r),Vc(n),NU)try{return jm(e,r,n)}catch{}if("get"in n||"set"in n)throw new LU("Accessors not supported");return"value"in n&&(e[r]=n.value),e};var gl=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},DU=kr,UU=sa,FU=gl,Pd=DU?function(t,e,r){return UU.f(t,e,FU(1,r))}:function(t,e,r){return t[e]=r,t},MU=aA,BU=sA,dT=MU("keys"),o_=function(t){return dT[t]||(dT[t]=BU(t))},a_={},qU=w5,lA=br,$U=aa,WU=Pd,Mm=ti,Bm=i_,HU=o_,GU=a_,hT="Object already initialized",z0=lA.TypeError,zU=lA.WeakMap,Gf,al,zf,VU=function(t){return zf(t)?al(t):Gf(t,{})},KU=function(t){return function(e){var r;if(!$U(e)||(r=al(e)).type!==t)throw new z0("Incompatible receiver, "+t+" required");return r}};if(qU||Bm.state){var qn=Bm.state||(Bm.state=new zU);qn.get=qn.get,qn.has=qn.has,qn.set=qn.set,Gf=function(t,e){if(qn.has(t))throw new z0(hT);return e.facade=t,qn.set(t,e),e},al=function(t){return qn.get(t)||{}},zf=function(t){return qn.has(t)}}else{var Ma=HU("state");GU[Ma]=!0,Gf=function(t,e){if(Mm(t,Ma))throw new z0(hT);return e.facade=t,WU(t,Ma,e),e},al=function(t){return Mm(t,Ma)?t[Ma]:{}},zf=function(t){return Mm(t,Ma)}}var Nd={set:Gf,get:al,has:zf,enforce:VU,getterFor:KU},YU=Ad,cA=Function.prototype,pT=cA.apply,vT=cA.call,JU=typeof Reflect=="object"&&Reflect.apply||(YU?vT.bind(pT):function(){return vT.apply(pT,arguments)}),QU=Xg,XU=Ht,fA=function(t){if(QU(t)==="Function")return XU(t)},dA={},s_={},hA={}.propertyIsEnumerable,pA=Object.getOwnPropertyDescriptor,ZU=pA&&!hA.call({1:2},1);s_.f=ZU?function(e){var r=pA(this,e);return!!r&&r.enumerable}:hA;var eF=kr,tF=Ii,rF=s_,nF=gl,iF=yl,oF=uA,aF=ti,sF=QR,yT=Object.getOwnPropertyDescriptor;dA.f=eF?yT:function(e,r){if(e=iF(e),r=oF(r),sF)try{return yT(e,r)}catch{}if(aF(e,r))return nF(!tF(rF.f,e,r),e[r])};var uF=Nr,lF=Er,cF=/#|\.prototype\./,_l=function(t,e){var r=dF[fF(t)];return r===pF?!0:r===hF?!1:lF(e)?uF(e):!!e},fF=_l.normalize=function(t){return String(t).replace(cF,".").toLowerCase()},dF=_l.data={},hF=_l.NATIVE="N",pF=_l.POLYFILL="P",vF=_l,mT=fA,yF=r_,mF=Ad,gF=mT(mT.bind),kd=function(t,e){return yF(t),e===void 0?t:mF?gF(t,e):function(){return t.apply(e,arguments)}},wu=br,_F=JU,wF=fA,bF=Er,EF=dA.f,SF=vF,Ba=t_,IF=kd,qa=Pd,gT=ti,TF=function(t){var e=function(r,n,o){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(r);case 2:return new t(r,n)}return new t(r,n,o)}return _F(t,this,arguments)};return e.prototype=t.prototype,e},Os=function(t,e){var r=t.target,n=t.global,o=t.stat,i=t.proto,l=n?wu:o?wu[r]:wu[r]&&wu[r].prototype,f=n?Ba:Ba[r]||qa(Ba,r,{})[r],p=f.prototype,u,d,v,y,_,w,S,T,O;for(y in e)u=SF(n?y:r+(o?".":"#")+y,t.forced),d=!u&&l&&gT(l,y),w=f[y],d&&(t.dontCallGetSet?(O=EF(l,y),S=O&&O.value):S=l[y]),_=d&&S?S:e[y],!(!u&&!i&&typeof w==typeof _)&&(t.bind&&d?T=IF(_,wu):t.wrap&&d?T=TF(_):i&&bF(_)?T=wF(_):T=_,(t.sham||_&&_.sham||w&&w.sham)&&qa(T,"sham",!0),qa(f,y,T),i&&(v=r+"Prototype",gT(Ba,v)||qa(Ba,v,{}),qa(Ba[v],y,_),t.real&&p&&(u||!p[y])&&qa(p,y,_)))},V0=kr,OF=ti,vA=Function.prototype,xF=V0&&Object.getOwnPropertyDescriptor,yA=OF(vA,"name"),RF=yA&&(function(){}).name==="something";yA&&(!V0||V0&&xF(vA,"name").configurable);var AF={PROPER:RF},mA={},CF=Math.ceil,PF=Math.floor,NF=Math.trunc||function(e){var r=+e;return(r>0?PF:CF)(r)},kF=NF,u_=function(t){var e=+t;return e!==e||e===0?0:kF(e)},LF=u_,jF=Math.max,DF=Math.min,gA=function(t,e){var r=LF(t);return r<0?jF(r+e,0):DF(r,e)},UF=u_,FF=Math.min,MF=function(t){var e=UF(t);return e>0?FF(e,9007199254740991):0},BF=MF,_A=function(t){return BF(t.length)},qF=yl,$F=gA,WF=_A,HF=function(t){return function(e,r,n){var o=qF(e),i=WF(o);if(i===0)return!t&&-1;var l=$F(n,i),f;if(t&&r!==r){for(;i>l;)if(f=o[l++],f!==f)return!0}else for(;i>l;l++)if((t||l in o)&&o[l]===r)return t||l||0;return!t&&-1}},GF={indexOf:HF(!1)},zF=Ht,qm=ti,VF=yl,KF=GF.indexOf,YF=a_,_T=zF([].push),JF=function(t,e){var r=VF(t),n=0,o=[],i;for(i in r)!qm(YF,i)&&qm(r,i)&&_T(o,i);for(;e.length>n;)qm(r,i=e[n++])&&(~KF(o,i)||_T(o,i));return o},wA=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],QF=JF,XF=wA,bA=Object.keys||function(e){return QF(e,XF)},ZF=kr,e6=XR,t6=sa,r6=ua,n6=yl,i6=bA;mA.f=ZF&&!e6?Object.defineProperties:function(e,r){r6(e);for(var n=n6(r),o=i6(r),i=o.length,l=0,f;i>l;)t6.f(e,f=o[l++],n[f]);return e};var o6=Ts,a6=o6("document","documentElement"),s6=ua,u6=mA,wT=wA,l6=a_,c6=a6,f6=JR,d6=o_,bT=">",ET="<",K0="prototype",Y0="script",EA=d6("IE_PROTO"),$m=function(){},SA=function(t){return ET+Y0+bT+t+ET+"/"+Y0+bT},ST=function(t){t.write(SA("")),t.close();var e=t.parentWindow.Object;return t=null,e},h6=function(){var t=f6("iframe"),e="java"+Y0+":",r;return t.style.display="none",c6.appendChild(t),t.src=String(e),r=t.contentWindow.document,r.open(),r.write(SA("document.F=Object")),r.close(),r.F},Kc,Ef=function(){try{Kc=new ActiveXObject("htmlfile")}catch{}Ef=typeof document<"u"?document.domain&&Kc?ST(Kc):h6():ST(Kc);for(var t=wT.length;t--;)delete Ef[K0][wT[t]];return Ef()};l6[EA]=!0;var l_=Object.create||function(e,r){var n;return e!==null?($m[K0]=s6(e),n=new $m,$m[K0]=null,n[EA]=e):n=Ef(),r===void 0?n:u6.f(n,r)},p6=Nr,v6=!p6(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),y6=ti,m6=Er,g6=Cd,_6=o_,w6=v6,IT=_6("IE_PROTO"),J0=Object,b6=J0.prototype,IA=w6?J0.getPrototypeOf:function(t){var e=g6(t);if(y6(e,IT))return e[IT];var r=e.constructor;return m6(r)&&e instanceof r?r.prototype:e instanceof J0?b6:null},E6=Pd,wl=function(t,e,r,n){return n&&n.enumerable?t[e]=r:E6(t,e,r),t},S6=Nr,I6=Er,T6=aa,O6=l_,TT=IA,x6=wl,R6=ri,Q0=R6("iterator"),TA=!1,Ei,Wm,Hm;[].keys&&(Hm=[].keys(),"next"in Hm?(Wm=TT(TT(Hm)),Wm!==Object.prototype&&(Ei=Wm)):TA=!0);var A6=!T6(Ei)||S6(function(){var t={};return Ei[Q0].call(t)!==t});A6?Ei={}:Ei=O6(Ei);I6(Ei[Q0])||x6(Ei,Q0,function(){return this});var OA={IteratorPrototype:Ei,BUGGY_SAFARI_ITERATORS:TA},C6=ri,P6=C6("toStringTag"),xA={};xA[P6]="z";var c_=String(xA)==="[object z]",N6=c_,k6=Er,Sf=Xg,L6=ri,j6=L6("toStringTag"),D6=Object,U6=Sf((function(){return arguments})())==="Arguments",F6=function(t,e){try{return t[e]}catch{}},bl=N6?Sf:function(t){var e,r,n;return t===void 0?"Undefined":t===null?"Null":typeof(r=F6(e=D6(t),j6))=="string"?r:U6?Sf(e):(n=Sf(e))==="Object"&&k6(e.callee)?"Arguments":n},M6=c_,B6=bl,q6=M6?{}.toString:function(){return"[object "+B6(this)+"]"},$6=c_,W6=sa.f,H6=Pd,G6=ti,z6=q6,V6=ri,OT=V6("toStringTag"),Ld=function(t,e,r,n){var o=r?t:t&&t.prototype;o&&(G6(o,OT)||W6(o,OT,{configurable:!0,value:e}),n&&!$6&&H6(o,"toString",z6))},K6=OA.IteratorPrototype,Y6=l_,J6=gl,Q6=Ld,X6=ml,Z6=function(){return this},RA=function(t,e,r,n){var o=e+" Iterator";return t.prototype=Y6(K6,{next:J6(+!n,r)}),Q6(t,o,!1,!0),X6[o]=Z6,t},eM=Os,tM=Ii,rM=AF,nM=RA,iM=IA,oM=Ld,xT=wl,aM=ri,RT=ml,sM=OA,uM=rM.PROPER,Yc=sM.BUGGY_SAFARI_ITERATORS,Gm=aM("iterator"),AT="keys",Jc="values",CT="entries",lM=function(){return this},AA=function(t,e,r,n,o,i,l){nM(r,e,n);var f=function(O){if(O===o&&y)return y;if(!Yc&&O&&O in d)return d[O];switch(O){case AT:return function(){return new r(this,O)};case Jc:return function(){return new r(this,O)};case CT:return function(){return new r(this,O)}}return function(){return new r(this)}},p=e+" Iterator",u=!1,d=t.prototype,v=d[Gm]||d["@@iterator"]||o&&d[o],y=!Yc&&v||f(o),_=e==="Array"&&d.entries||v,w,S,T;if(_&&(w=iM(_.call(new t)),w!==Object.prototype&&w.next&&(oM(w,p,!0,!0),RT[p]=lM)),uM&&o===Jc&&v&&v.name!==Jc&&(u=!0,y=function(){return tM(v,this)}),o)if(S={values:f(Jc),keys:i?y:f(AT),entries:f(CT)},l)for(T in S)(Yc||u||!(T in d))&&xT(d,T,S[T]);else eM({target:e,proto:!0,forced:Yc||u},S);return l&&d[Gm]!==y&&xT(d,Gm,y,{}),RT[e]=y,S},f_=function(t,e){return{value:t,done:e}},cM=yl,PT=ml,CA=Nd;sa.f;var fM=AA,Qc=f_,PA="Array Iterator",dM=CA.set,hM=CA.getterFor(PA);fM(Array,"Array",function(t,e){dM(this,{type:PA,target:cM(t),index:0,kind:e})},function(){var t=hM(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=null,Qc(void 0,!0);switch(t.kind){case"keys":return Qc(r,!1);case"values":return Qc(e[r],!1)}return Qc([r,e[r]],!1)},"values");PT.Arguments=PT.Array;var pM=Os,vM=Ht,yM=gA,mM=RangeError,NT=String.fromCharCode,kT=String.fromCodePoint,gM=vM([].join),_M=!!kT&&kT.length!==1;pM({target:"String",stat:!0,forced:_M},{fromCodePoint:function(e){for(var r=[],n=arguments.length,o=0,i;n>o;){if(i=+arguments[o++],yM(i,1114111)!==i)throw new mM(i+" is not a valid code point");r[o]=i<65536?NT(i):NT(((i-=65536)>>10)+55296,i%1024+56320)}return gM(r,"")}});var LT=br,wM=kr,bM=Object.getOwnPropertyDescriptor,EM=function(t){if(!wM)return LT[t];var e=bM(LT,t);return e&&e.value},SM=Nr,IM=ri,TM=kr,jT=rU,OM=IM("iterator"),jd=!SM(function(){var t=new URL("b?a=1&b=2&c=3","https://a"),e=t.searchParams,r=new URLSearchParams("a=1&a=2&b=3"),n="";return t.pathname="c%20d",e.forEach(function(o,i){e.delete("b"),n+=i+o}),r.delete("a",2),r.delete("b",void 0),jT&&(!t.toJSON||!r.has("a",1)||r.has("a",2)||!r.has("a",void 0)||r.has("b"))||!e.size&&(jT||!TM)||!e.sort||t.href!=="https://a/c%20d?a=1&c=3"||e.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!e[OM]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("https://").host!=="xn--e1aybc"||new URL("https://a#").hash!=="#%D0%B1"||n!=="a1c3"||new URL("https://x",void 0).host!=="x"}),xM=sa,NA=function(t,e,r){return xM.f(t,e,r)},RM=wl,AM=function(t,e,r){for(var n in e)r&&r.unsafe&&t[n]?t[n]=e[n]:RM(t,n,e[n],r);return t},CM=ZR,PM=TypeError,kA=function(t,e){if(CM(e,t))return t;throw new PM("Incorrect invocation")},NM=bl,kM=String,xs=function(t){if(NM(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return kM(t)},LM=bl,DT=n_,jM=Zg,DM=ml,UM=ri,FM=UM("iterator"),d_=function(t){if(!jM(t))return DT(t,FM)||DT(t,"@@iterator")||DM[LM(t)]},MM=Ii,BM=r_,qM=ua,$M=iA,WM=d_,HM=TypeError,LA=function(t,e){var r=arguments.length<2?WM(t):e;if(BM(r))return qM(MM(r,t));throw new HM($M(t)+" is not iterable")},GM=TypeError,Dd=function(t,e){if(t<e)throw new GM("Not enough arguments");return t},zM=Ht,jA=zM([].slice),UT=jA,VM=Math.floor,X0=function(t,e){var r=t.length;if(r<8)for(var n=1,o,i;n<r;){for(i=n,o=t[n];i&&e(t[i-1],o)>0;)t[i]=t[--i];i!==n++&&(t[i]=o)}else for(var l=VM(r/2),f=X0(UT(t,0,l),e),p=X0(UT(t,l),e),u=f.length,d=p.length,v=0,y=0;v<u||y<d;)t[v+y]=v<u&&y<d?e(f[v],p[y])<=0?f[v++]:p[y++]:v<u?f[v++]:p[y++];return t},KM=X0,Z0=Os,DA=br,h_=EM,YM=Ts,Xc=Ii,Pn=Ht,Hu=kr,UA=jd,FA=wl,JM=NA,QM=AM,XM=Ld,ZM=RA,p_=Nd,MA=kA,zm=Er,eB=ti,tB=kd,rB=bl,nB=ua,BA=aa,Qt=xs,iB=l_,FT=gl,MT=LA,oB=d_,Zc=f_,$a=Dd,aB=ri,sB=KM,uB=aB("iterator"),Rs="URLSearchParams",qA=Rs+"Iterator",$A=p_.set,Xr=p_.getterFor(Rs),lB=p_.getterFor(qA),BT=h_("fetch"),Vf=h_("Request"),Gu=h_("Headers"),Vm=Vf&&Vf.prototype,qT=Gu&&Gu.prototype,cB=DA.TypeError,fB=DA.encodeURIComponent,dB=String.fromCharCode,hB=YM("String","fromCodePoint"),pB=parseInt,If=Pn("".charAt),$T=Pn([].join),ro=Pn([].push),WA=Pn("".replace),vB=Pn([].shift),WT=Pn([].splice),HT=Pn("".split),HA=Pn("".slice),yB=Pn(/./.exec),mB=/\+/g,Km="",gB=/^[0-9a-f]+$/i,GT=function(t,e){var r=HA(t,e,e+2);return yB(gB,r)?pB(r,16):NaN},_B=function(t){for(var e=0,r=128;r>0&&(t&r)!==0;r>>=1)e++;return e},wB=function(t){var e=null;switch(t.length){case 1:e=t[0];break;case 2:e=(t[0]&31)<<6|t[1]&63;break;case 3:e=(t[0]&15)<<12|(t[1]&63)<<6|t[2]&63;break;case 4:e=(t[0]&7)<<18|(t[1]&63)<<12|(t[2]&63)<<6|t[3]&63;break}return e>1114111?null:e},zT=function(t){t=WA(t,mB," ");for(var e=t.length,r="",n=0;n<e;){var o=If(t,n);if(o==="%"){if(If(t,n+1)==="%"||n+3>e){r+="%",n++;continue}var i=GT(t,n+1);if(i!==i){r+=o,n++;continue}n+=2;var l=_B(i);if(l===0)o=dB(i);else{if(l===1||l>4){r+=Km,n++;continue}for(var f=[i],p=1;p<l&&(n++,!(n+3>e||If(t,n)!=="%"));){var u=GT(t,n+1);if(u!==u){n+=3;break}if(u>191||u<128)break;ro(f,u),n+=2,p++}if(f.length!==l){r+=Km;continue}var d=wB(f);d===null?r+=Km:o=hB(d)}}r+=o,n++}return r},bB=/[!'()~]|%20/g,EB={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},SB=function(t){return EB[t]},VT=function(t){return WA(fB(t),bB,SB)},Ym=ZM(function(e,r){$A(this,{type:qA,target:Xr(e).entries,index:0,kind:r})},Rs,function(){var e=lB(this),r=e.target,n=e.index++;if(!r||n>=r.length)return e.target=null,Zc(void 0,!0);var o=r[n];switch(e.kind){case"keys":return Zc(o.key,!1);case"values":return Zc(o.value,!1)}return Zc([o.key,o.value],!1)},!0),GA=function(t){this.entries=[],this.url=null,t!==void 0&&(BA(t)?this.parseObject(t):this.parseQuery(typeof t=="string"?If(t,0)==="?"?HA(t,1):t:Qt(t)))};GA.prototype={type:Rs,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e=this.entries,r=oB(t),n,o,i,l,f,p,u;if(r)for(n=MT(t,r),o=n.next;!(i=Xc(o,n)).done;){if(l=MT(nB(i.value)),f=l.next,(p=Xc(f,l)).done||(u=Xc(f,l)).done||!Xc(f,l).done)throw new cB("Expected sequence with length 2");ro(e,{key:Qt(p.value),value:Qt(u.value)})}else for(var d in t)eB(t,d)&&ro(e,{key:d,value:Qt(t[d])})},parseQuery:function(t){if(t)for(var e=this.entries,r=HT(t,"&"),n=0,o,i;n<r.length;)o=r[n++],o.length&&(i=HT(o,"="),ro(e,{key:zT(vB(i)),value:zT($T(i,"="))}))},serialize:function(){for(var t=this.entries,e=[],r=0,n;r<t.length;)n=t[r++],ro(e,VT(n.key)+"="+VT(n.value));return $T(e,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var Ud=function(){MA(this,ms);var e=arguments.length>0?arguments[0]:void 0,r=$A(this,new GA(e));Hu||(this.size=r.entries.length)},ms=Ud.prototype;QM(ms,{append:function(e,r){var n=Xr(this);$a(arguments.length,2),ro(n.entries,{key:Qt(e),value:Qt(r)}),Hu||this.length++,n.updateURL()},delete:function(t){for(var e=Xr(this),r=$a(arguments.length,1),n=e.entries,o=Qt(t),i=r<2?void 0:arguments[1],l=i===void 0?i:Qt(i),f=0;f<n.length;){var p=n[f];if(p.key===o&&(l===void 0||p.value===l)){if(WT(n,f,1),l!==void 0)break}else f++}Hu||(this.size=n.length),e.updateURL()},get:function(e){var r=Xr(this).entries;$a(arguments.length,1);for(var n=Qt(e),o=0;o<r.length;o++)if(r[o].key===n)return r[o].value;return null},getAll:function(e){var r=Xr(this).entries;$a(arguments.length,1);for(var n=Qt(e),o=[],i=0;i<r.length;i++)r[i].key===n&&ro(o,r[i].value);return o},has:function(e){for(var r=Xr(this).entries,n=$a(arguments.length,1),o=Qt(e),i=n<2?void 0:arguments[1],l=i===void 0?i:Qt(i),f=0;f<r.length;){var p=r[f++];if(p.key===o&&(l===void 0||p.value===l))return!0}return!1},set:function(e,r){var n=Xr(this);$a(arguments.length,1);for(var o=n.entries,i=!1,l=Qt(e),f=Qt(r),p=0,u;p<o.length;p++)u=o[p],u.key===l&&(i?WT(o,p--,1):(i=!0,u.value=f));i||ro(o,{key:l,value:f}),Hu||(this.size=o.length),n.updateURL()},sort:function(){var e=Xr(this);sB(e.entries,function(r,n){return r.key>n.key?1:-1}),e.updateURL()},forEach:function(e){for(var r=Xr(this).entries,n=tB(e,arguments.length>1?arguments[1]:void 0),o=0,i;o<r.length;)i=r[o++],n(i.value,i.key,this)},keys:function(){return new Ym(this,"keys")},values:function(){return new Ym(this,"values")},entries:function(){return new Ym(this,"entries")}},{enumerable:!0});FA(ms,uB,ms.entries,{});FA(ms,"toString",function(){return Xr(this).serialize()},{enumerable:!0});Hu&&JM(ms,"size",{get:function(){return Xr(this).entries.length},configurable:!0,enumerable:!0});XM(Ud,Rs);Z0({global:!0,forced:!UA},{URLSearchParams:Ud});if(!UA&&zm(Gu)){var IB=Pn(qT.has),TB=Pn(qT.set),KT=function(t){if(BA(t)){var e=t.body,r;if(rB(e)===Rs)return r=t.headers?new Gu(t.headers):new Gu,IB(r,"content-type")||TB(r,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),iB(t,{body:FT(0,Qt(e)),headers:FT(0,r)})}return t};if(zm(BT)&&Z0({global:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return BT(e,arguments.length>1?KT(arguments[1]):{})}}),zm(Vf)){var Jm=function(e){return MA(this,Vm),new Vf(e,arguments.length>1?KT(arguments[1]):{})};Vm.constructor=Jm,Jm.prototype=Vm,Z0({global:!0,dontCallGetSet:!0,forced:!0},{Request:Jm})}}var OB={URLSearchParams:Ud,getState:Xr},v_=Ht,xB=u_,RB=xs,AB=e_,CB=v_("".charAt),YT=v_("".charCodeAt),PB=v_("".slice),JT=function(t){return function(e,r){var n=RB(AB(e)),o=xB(r),i=n.length,l,f;return o<0||o>=i?t?"":void 0:(l=YT(n,o),l<55296||l>56319||o+1===i||(f=YT(n,o+1))<56320||f>57343?t?CB(n,o):l:t?PB(n,o,o+2):(l-55296<<10)+(f-56320)+65536)}},zA={codeAt:JT(!1),charAt:JT(!0)},NB=zA.charAt,kB=xs,VA=Nd,LB=AA,QT=f_,KA="String Iterator",jB=VA.set,DB=VA.getterFor(KA);LB(String,"String",function(t){jB(this,{type:KA,string:kB(t),index:0})},function(){var e=DB(this),r=e.string,n=e.index,o;return n>=r.length?QT(void 0,!0):(o=NB(r,n),e.index+=o.length,QT(o,!1))});var YA={};YA.f=Object.getOwnPropertySymbols;var XT=kr,UB=Ht,FB=Ii,MB=Nr,Qm=bA,BB=YA,qB=s_,$B=Cd,WB=YR,Wa=Object.assign,ZT=Object.defineProperty,HB=UB([].concat),GB=!Wa||MB(function(){if(XT&&Wa({b:1},Wa(ZT({},"a",{enumerable:!0,get:function(){ZT(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var t={},e={},r=Symbol("assign detection"),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach(function(o){e[o]=o}),Wa({},t)[r]!==7||Qm(Wa({},e)).join("")!==n})?function(e,r){for(var n=$B(e),o=arguments.length,i=1,l=BB.f,f=qB.f;o>i;)for(var p=WB(arguments[i++]),u=l?HB(Qm(p),l(p)):Qm(p),d=u.length,v=0,y;d>v;)y=u[v++],(!XT||FB(f,p,y))&&(n[y]=p[y]);return n}:Wa,zB=Ii,eO=ua,VB=n_,KB=function(t,e,r){var n,o;eO(t);try{if(n=VB(t,"return"),!n){if(e==="throw")throw r;return r}n=zB(n,t)}catch(i){o=!0,n=i}if(e==="throw")throw r;if(o)throw n;return eO(n),r},YB=ua,JB=KB,QB=function(t,e,r,n){try{return n?e(YB(r)[0],r[1]):e(r)}catch(o){JB(t,"throw",o)}},XB=ri,ZB=ml,eq=XB("iterator"),tq=Array.prototype,rq=function(t){return t!==void 0&&(ZB.Array===t||tq[eq]===t)},nq=Ht,iq=Er,eg=i_,oq=nq(Function.toString);iq(eg.inspectSource)||(eg.inspectSource=function(t){return oq(t)});var aq=eg.inspectSource,sq=Ht,uq=Nr,JA=Er,lq=bl,cq=Ts,fq=aq,QA=function(){},XA=cq("Reflect","construct"),y_=/^\s*(?:class|function)\b/,dq=sq(y_.exec),hq=!y_.test(QA),bu=function(e){if(!JA(e))return!1;try{return XA(QA,[],e),!0}catch{return!1}},ZA=function(e){if(!JA(e))return!1;switch(lq(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return hq||!!dq(y_,fq(e))}catch{return!0}};ZA.sham=!0;var pq=!XA||uq(function(){var t;return bu(bu.call)||!bu(Object)||!bu(function(){t=!0})||t})?ZA:bu,vq=kr,yq=sa,mq=gl,gq=function(t,e,r){vq?yq.f(t,e,mq(0,r)):t[e]=r},_q=kd,wq=Ii,bq=Cd,Eq=QB,Sq=rq,Iq=pq,Tq=_A,tO=gq,Oq=LA,xq=d_,rO=Array,Rq=function(e){var r=bq(e),n=Iq(this),o=arguments.length,i=o>1?arguments[1]:void 0,l=i!==void 0;l&&(i=_q(i,o>2?arguments[2]:void 0));var f=xq(r),p=0,u,d,v,y,_,w;if(f&&!(this===rO&&Sq(f)))for(d=n?new this:[],y=Oq(r,f),_=y.next;!(v=wq(_,y)).done;p++)w=l?Eq(y,i,[v.value,p],!0):v.value,tO(d,p,w);else for(u=Tq(r),d=n?new this(u):rO(u);u>p;p++)w=l?i(r[p],p):r[p],tO(d,p,w);return d.length=p,d},la=Ht,Xm=2147483647,zu=36,eC=1,tg=26,Aq=38,Cq=700,Pq=72,Nq=128,kq="-",Lq=/[^\0-\u007E]/,tC=/[.\u3002\uFF0E\uFF61]/g,nO="Overflow: input needs wider integers to process",Zm=zu-eC,iO=RangeError,jq=la(tC.exec),rs=Math.floor,e0=String.fromCharCode,oO=la("".charCodeAt),rC=la([].join),no=la([].push),Dq=la("".replace),Uq=la("".split),Fq=la("".toLowerCase),Mq=function(t){for(var e=[],r=0,n=t.length;r<n;){var o=oO(t,r++);if(o>=55296&&o<=56319&&r<n){var i=oO(t,r++);(i&64512)===56320?no(e,((o&1023)<<10)+(i&1023)+65536):(no(e,o),r--)}else no(e,o)}return e},aO=function(t){return t+22+75*(t<26)},Bq=function(t,e,r){var n=0;for(t=r?rs(t/Cq):t>>1,t+=rs(t/e);t>Zm*tg>>1;)t=rs(t/Zm),n+=zu;return rs(n+(Zm+1)*t/(t+Aq))},qq=function(t){var e=[];t=Mq(t);var r=t.length,n=Nq,o=0,i=Pq,l,f;for(l=0;l<t.length;l++)f=t[l],f<128&&no(e,e0(f));var p=e.length,u=p;for(p&&no(e,kq);u<r;){var d=Xm;for(l=0;l<t.length;l++)f=t[l],f>=n&&f<d&&(d=f);var v=u+1;if(d-n>rs((Xm-o)/v))throw new iO(nO);for(o+=(d-n)*v,n=d,l=0;l<t.length;l++){if(f=t[l],f<n&&++o>Xm)throw new iO(nO);if(f===n){for(var y=o,_=zu;;){var w=_<=i?eC:_>=i+tg?tg:_-i;if(y<w)break;var S=y-w,T=zu-w;no(e,e0(aO(w+S%T))),y=rs(S/T),_+=zu}no(e,e0(aO(y))),i=Bq(o,v,u===p),o=0,u++}}o++,n++}return rC(e,"")},$q=function(t){var e=[],r=Uq(Dq(Fq(t),tC,"."),"."),n,o;for(n=0;n<r.length;n++)o=r[n],no(e,jq(Lq,o)?"xn--"+qq(o):o);return rC(e,".")},Wq=Os,m_=kr,Hq=jd,g_=br,sO=kd,an=Ht,Kf=wl,$r=NA,Gq=kA,rg=ti,__=GB,Ha=Rq,En=jA,zq=zA.codeAt,Vq=$q,vi=xs,Kq=Ld,Yq=Dd,nC=OB,iC=Nd,Jq=iC.set,Yf=iC.getterFor("URL"),Qq=nC.URLSearchParams,Xq=nC.getState,Eu=g_.URL,ng=g_.TypeError,Jf=g_.parseInt,Zq=Math.floor,uO=Math.pow,en=an("".charAt),xn=an(/./.exec),Fu=an([].join),e$=an(1.1.toString),t$=an([].pop),Ya=an([].push),t0=an("".replace),r$=an([].shift),n$=an("".split),Vu=an("".slice),Qf=an("".toLowerCase),i$=an([].unshift),o$="Invalid authority",r0="Invalid scheme",No="Invalid host",lO="Invalid port",oC=/[a-z]/i,a$=/[\d+-.a-z]/i,ig=/\d/,s$=/^0x/i,u$=/^[0-7]+$/,l$=/^\d+$/,aC=/^[\da-f]+$/i,c$=/[\0\t\n\r #%/:<>?@[\\\]^|]/,f$=/[\0\t\n\r #/:<>?@[\\\]^|]/,d$=/^[\u0000-\u0020]+/,h$=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,p$=/[\t\n\r]/g,Wr,v$=function(t){var e=n$(t,"."),r,n,o,i,l,f,p;if(e.length&&e[e.length-1]===""&&e.length--,r=e.length,r>4)return t;for(n=[],o=0;o<r;o++){if(i=e[o],i==="")return t;if(l=10,i.length>1&&en(i,0)==="0"&&(l=xn(s$,i)?16:8,i=Vu(i,l===8?1:2)),i==="")f=0;else{if(!xn(l===10?l$:l===8?u$:aC,i))return t;f=Jf(i,l)}Ya(n,f)}for(o=0;o<r;o++)if(f=n[o],o===r-1){if(f>=uO(256,5-r))return null}else if(f>255)return null;for(p=t$(n),o=0;o<n.length;o++)p+=n[o]*uO(256,3-o);return p},y$=function(t){var e=[0,0,0,0,0,0,0,0],r=0,n=null,o=0,i,l,f,p,u,d,v,y=function(){return en(t,o)};if(y()===":"){if(en(t,1)!==":")return;o+=2,r++,n=r}for(;y();){if(r===8)return;if(y()===":"){if(n!==null)return;o++,r++,n=r;continue}for(i=l=0;l<4&&xn(aC,y());)i=i*16+Jf(y(),16),o++,l++;if(y()==="."){if(l===0||(o-=l,r>6))return;for(f=0;y();){if(p=null,f>0)if(y()==="."&&f<4)o++;else return;if(!xn(ig,y()))return;for(;xn(ig,y());){if(u=Jf(y(),10),p===null)p=u;else{if(p===0)return;p=p*10+u}if(p>255)return;o++}e[r]=e[r]*256+p,f++,(f===2||f===4)&&r++}if(f!==4)return;break}else if(y()===":"){if(o++,!y())return}else if(y())return;e[r++]=i}if(n!==null)for(d=r-n,r=7;r!==0&&d>0;)v=e[r],e[r--]=e[n+d-1],e[n+--d]=v;else if(r!==8)return;return e},m$=function(t){for(var e=null,r=1,n=null,o=0,i=0;i<8;i++)t[i]!==0?(o>r&&(e=n,r=o),n=null,o=0):(n===null&&(n=i),++o);return o>r?n:e},Su=function(t){var e,r,n,o;if(typeof t=="number"){for(e=[],r=0;r<4;r++)i$(e,t%256),t=Zq(t/256);return Fu(e,".")}if(typeof t=="object"){for(e="",n=m$(t),r=0;r<8;r++)o&&t[r]===0||(o&&(o=!1),n===r?(e+=r?":":"::",o=!0):(e+=e$(t[r],16),r<7&&(e+=":")));return"["+e+"]"}return t},Tf={},sC=__({},Tf,{" ":1,'"':1,"<":1,">":1,"`":1}),uC=__({},sC,{"#":1,"?":1,"{":1,"}":1}),n0=__({},uC,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Vi=function(t,e){var r=zq(t,0);return r>32&&r<127&&!rg(e,t)?t:encodeURIComponent(t)},ef={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Mu=function(t,e){var r;return t.length===2&&xn(oC,en(t,0))&&((r=en(t,1))===":"||!e&&r==="|")},cO=function(t){var e;return t.length>1&&Mu(Vu(t,0,2))&&(t.length===2||(e=en(t,2))==="/"||e==="\\"||e==="?"||e==="#")},g$=function(t){return t==="."||Qf(t)==="%2e"},_$=function(t){return t=Qf(t),t===".."||t==="%2e."||t===".%2e"||t==="%2e%2e"},i0={},fO={},o0={},dO={},hO={},a0={},pO={},vO={},tf={},rf={},s0={},u0={},l0={},c0={},yO={},f0={},Ga={},$n={},mO={},ko={},hi={},w_=function(t,e,r){var n=vi(t),o,i,l;if(e){if(i=this.parse(n),i)throw new ng(i);this.searchParams=null}else{if(r!==void 0&&(o=new w_(r,!0)),i=this.parse(n,null,o),i)throw new ng(i);l=Xq(new Qq),l.bindURL(this),this.searchParams=l}};w_.prototype={type:"URL",parse:function(t,e,r){var n=this,o=e||i0,i=0,l="",f=!1,p=!1,u=!1,d,v,y,_;for(t=vi(t),e||(n.scheme="",n.username="",n.password="",n.host=null,n.port=null,n.path=[],n.query=null,n.fragment=null,n.cannotBeABaseURL=!1,t=t0(t,d$,""),t=t0(t,h$,"$1")),t=t0(t,p$,""),d=Ha(t);i<=d.length;){switch(v=d[i],o){case i0:if(v&&xn(oC,v))l+=Qf(v),o=fO;else{if(e)return r0;o=o0;continue}break;case fO:if(v&&(xn(a$,v)||v==="+"||v==="-"||v==="."))l+=Qf(v);else if(v===":"){if(e&&(n.isSpecial()!==rg(ef,l)||l==="file"&&(n.includesCredentials()||n.port!==null)||n.scheme==="file"&&!n.host))return;if(n.scheme=l,e){n.isSpecial()&&ef[n.scheme]===n.port&&(n.port=null);return}l="",n.scheme==="file"?o=c0:n.isSpecial()&&r&&r.scheme===n.scheme?o=dO:n.isSpecial()?o=vO:d[i+1]==="/"?(o=hO,i++):(n.cannotBeABaseURL=!0,Ya(n.path,""),o=mO)}else{if(e)return r0;l="",o=o0,i=0;continue}break;case o0:if(!r||r.cannotBeABaseURL&&v!=="#")return r0;if(r.cannotBeABaseURL&&v==="#"){n.scheme=r.scheme,n.path=En(r.path),n.query=r.query,n.fragment="",n.cannotBeABaseURL=!0,o=hi;break}o=r.scheme==="file"?c0:a0;continue;case dO:if(v==="/"&&d[i+1]==="/")o=tf,i++;else{o=a0;continue}break;case hO:if(v==="/"){o=rf;break}else{o=$n;continue}case a0:if(n.scheme=r.scheme,v===Wr)n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=En(r.path),n.query=r.query;else if(v==="/"||v==="\\"&&n.isSpecial())o=pO;else if(v==="?")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=En(r.path),n.query="",o=ko;else if(v==="#")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=En(r.path),n.query=r.query,n.fragment="",o=hi;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=En(r.path),n.path.length--,o=$n;continue}break;case pO:if(n.isSpecial()&&(v==="/"||v==="\\"))o=tf;else if(v==="/")o=rf;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,o=$n;continue}break;case vO:if(o=tf,v!=="/"||en(l,i+1)!=="/")continue;i++;break;case tf:if(v!=="/"&&v!=="\\"){o=rf;continue}break;case rf:if(v==="@"){f&&(l="%40"+l),f=!0,y=Ha(l);for(var w=0;w<y.length;w++){var S=y[w];if(S===":"&&!u){u=!0;continue}var T=Vi(S,n0);u?n.password+=T:n.username+=T}l=""}else if(v===Wr||v==="/"||v==="?"||v==="#"||v==="\\"&&n.isSpecial()){if(f&&l==="")return o$;i-=Ha(l).length+1,l="",o=s0}else l+=v;break;case s0:case u0:if(e&&n.scheme==="file"){o=f0;continue}else if(v===":"&&!p){if(l==="")return No;if(_=n.parseHost(l),_)return _;if(l="",o=l0,e===u0)return}else if(v===Wr||v==="/"||v==="?"||v==="#"||v==="\\"&&n.isSpecial()){if(n.isSpecial()&&l==="")return No;if(e&&l===""&&(n.includesCredentials()||n.port!==null))return;if(_=n.parseHost(l),_)return _;if(l="",o=Ga,e)return;continue}else v==="["?p=!0:v==="]"&&(p=!1),l+=v;break;case l0:if(xn(ig,v))l+=v;else if(v===Wr||v==="/"||v==="?"||v==="#"||v==="\\"&&n.isSpecial()||e){if(l!==""){var O=Jf(l,10);if(O>65535)return lO;n.port=n.isSpecial()&&O===ef[n.scheme]?null:O,l=""}if(e)return;o=Ga;continue}else return lO;break;case c0:if(n.scheme="file",v==="/"||v==="\\")o=yO;else if(r&&r.scheme==="file")switch(v){case Wr:n.host=r.host,n.path=En(r.path),n.query=r.query;break;case"?":n.host=r.host,n.path=En(r.path),n.query="",o=ko;break;case"#":n.host=r.host,n.path=En(r.path),n.query=r.query,n.fragment="",o=hi;break;default:cO(Fu(En(d,i),""))||(n.host=r.host,n.path=En(r.path),n.shortenPath()),o=$n;continue}else{o=$n;continue}break;case yO:if(v==="/"||v==="\\"){o=f0;break}r&&r.scheme==="file"&&!cO(Fu(En(d,i),""))&&(Mu(r.path[0],!0)?Ya(n.path,r.path[0]):n.host=r.host),o=$n;continue;case f0:if(v===Wr||v==="/"||v==="\\"||v==="?"||v==="#"){if(!e&&Mu(l))o=$n;else if(l===""){if(n.host="",e)return;o=Ga}else{if(_=n.parseHost(l),_)return _;if(n.host==="localhost"&&(n.host=""),e)return;l="",o=Ga}continue}else l+=v;break;case Ga:if(n.isSpecial()){if(o=$n,v!=="/"&&v!=="\\")continue}else if(!e&&v==="?")n.query="",o=ko;else if(!e&&v==="#")n.fragment="",o=hi;else if(v!==Wr&&(o=$n,v!=="/"))continue;break;case $n:if(v===Wr||v==="/"||v==="\\"&&n.isSpecial()||!e&&(v==="?"||v==="#")){if(_$(l)?(n.shortenPath(),v!=="/"&&!(v==="\\"&&n.isSpecial())&&Ya(n.path,"")):g$(l)?v!=="/"&&!(v==="\\"&&n.isSpecial())&&Ya(n.path,""):(n.scheme==="file"&&!n.path.length&&Mu(l)&&(n.host&&(n.host=""),l=en(l,0)+":"),Ya(n.path,l)),l="",n.scheme==="file"&&(v===Wr||v==="?"||v==="#"))for(;n.path.length>1&&n.path[0]==="";)r$(n.path);v==="?"?(n.query="",o=ko):v==="#"&&(n.fragment="",o=hi)}else l+=Vi(v,uC);break;case mO:v==="?"?(n.query="",o=ko):v==="#"?(n.fragment="",o=hi):v!==Wr&&(n.path[0]+=Vi(v,Tf));break;case ko:!e&&v==="#"?(n.fragment="",o=hi):v!==Wr&&(v==="'"&&n.isSpecial()?n.query+="%27":v==="#"?n.query+="%23":n.query+=Vi(v,Tf));break;case hi:v!==Wr&&(n.fragment+=Vi(v,sC));break}i++}},parseHost:function(t){var e,r,n;if(en(t,0)==="["){if(en(t,t.length-1)!=="]"||(e=y$(Vu(t,1,-1)),!e))return No;this.host=e}else if(this.isSpecial()){if(t=Vq(t),xn(c$,t)||(e=v$(t),e===null))return No;this.host=e}else{if(xn(f$,t))return No;for(e="",r=Ha(t),n=0;n<r.length;n++)e+=Vi(r[n],Tf);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return rg(ef,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;e&&(this.scheme!=="file"||e!==1||!Mu(t[0],!0))&&t.length--},serialize:function(){var t=this,e=t.scheme,r=t.username,n=t.password,o=t.host,i=t.port,l=t.path,f=t.query,p=t.fragment,u=e+":";return o!==null?(u+="//",t.includesCredentials()&&(u+=r+(n?":"+n:"")+"@"),u+=Su(o),i!==null&&(u+=":"+i)):e==="file"&&(u+="//"),u+=t.cannotBeABaseURL?l[0]:l.length?"/"+Fu(l,"/"):"",f!==null&&(u+="?"+f),p!==null&&(u+="#"+p),u},setHref:function(t){var e=this.parse(t);if(e)throw new ng(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if(t==="blob")try{return new gs(t.path[0]).origin}catch{return"null"}return t==="file"||!this.isSpecial()?"null":t+"://"+Su(this.host)+(e!==null?":"+e:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(vi(t)+":",i0)},getUsername:function(){return this.username},setUsername:function(t){var e=Ha(vi(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<e.length;r++)this.username+=Vi(e[r],n0)}},getPassword:function(){return this.password},setPassword:function(t){var e=Ha(vi(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<e.length;r++)this.password+=Vi(e[r],n0)}},getHost:function(){var t=this.host,e=this.port;return t===null?"":e===null?Su(t):Su(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,s0)},getHostname:function(){var t=this.host;return t===null?"":Su(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,u0)},getPort:function(){var t=this.port;return t===null?"":vi(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(t=vi(t),t===""?this.port=null:this.parse(t,l0))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+Fu(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,Ga))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){t=vi(t),t===""?this.query=null:(en(t,0)==="?"&&(t=Vu(t,1)),this.query="",this.parse(t,ko)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){if(t=vi(t),t===""){this.fragment=null;return}en(t,0)==="#"&&(t=Vu(t,1)),this.fragment="",this.parse(t,hi)},update:function(){this.query=this.searchParams.serialize()||null}};var gs=function(e){var r=Gq(this,Jt),n=Yq(arguments.length,1)>1?arguments[1]:void 0,o=Jq(r,new w_(e,!1,n));m_||(r.href=o.serialize(),r.origin=o.getOrigin(),r.protocol=o.getProtocol(),r.username=o.getUsername(),r.password=o.getPassword(),r.host=o.getHost(),r.hostname=o.getHostname(),r.port=o.getPort(),r.pathname=o.getPathname(),r.search=o.getSearch(),r.searchParams=o.getSearchParams(),r.hash=o.getHash())},Jt=gs.prototype,Hr=function(t,e){return{get:function(){return Yf(this)[t]()},set:e&&function(r){return Yf(this)[e](r)},configurable:!0,enumerable:!0}};m_&&($r(Jt,"href",Hr("serialize","setHref")),$r(Jt,"origin",Hr("getOrigin")),$r(Jt,"protocol",Hr("getProtocol","setProtocol")),$r(Jt,"username",Hr("getUsername","setUsername")),$r(Jt,"password",Hr("getPassword","setPassword")),$r(Jt,"host",Hr("getHost","setHost")),$r(Jt,"hostname",Hr("getHostname","setHostname")),$r(Jt,"port",Hr("getPort","setPort")),$r(Jt,"pathname",Hr("getPathname","setPathname")),$r(Jt,"search",Hr("getSearch","setSearch")),$r(Jt,"searchParams",Hr("getSearchParams")),$r(Jt,"hash",Hr("getHash","setHash")));Kf(Jt,"toJSON",function(){return Yf(this).serialize()},{enumerable:!0});Kf(Jt,"toString",function(){return Yf(this).serialize()},{enumerable:!0});if(Eu){var gO=Eu.createObjectURL,_O=Eu.revokeObjectURL;gO&&Kf(gs,"createObjectURL",sO(gO,Eu)),_O&&Kf(gs,"revokeObjectURL",sO(_O,Eu))}Kq(gs,"URL");Wq({global:!0,forced:!Hq,sham:!m_},{URL:gs});var w$=Os,b$=Ts,lC=Nr,E$=Dd,wO=xs,S$=jd,b_=b$("URL"),I$=S$&&lC(function(){b_.canParse()}),T$=lC(function(){return b_.canParse.length!==1});w$({target:"URL",stat:!0,forced:!I$||T$},{canParse:function(e){var r=E$(arguments.length,1),n=wO(e),o=r<2||arguments[1]===void 0?void 0:wO(arguments[1]);try{return!!new b_(n,o)}catch{return!1}}});var O$=Os,x$=Ts,R$=Dd,bO=xs,A$=jd,C$=x$("URL");O$({target:"URL",stat:!0,forced:!A$},{parse:function(e){var r=R$(arguments.length,1),n=bO(e),o=r<2||arguments[1]===void 0?void 0:bO(arguments[1]);try{return new C$(n,o)}catch{return null}}});var P$=t_,N$=P$.URL,k$=N$,L$=k$,j$=L$,D$=j$,U$=D$,F$=U$,M$=o5(F$),B$=(function(t){vl(e,t);function e(r){var n=t.call(this,r.message)||this;return n.name="PostgrestError",n.details=r.details,n.hint=r.hint,n.code=r.code,n}return e})(Error),q$=(function(){function t(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}return t.prototype.throwOnError=function(){return this.shouldThrowOnError=!0,this},t.prototype.setHeader=function(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this},t.prototype.then=function(e,r){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");var o=this.fetch,i=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(l){return so(n,void 0,void 0,function(){var f,p,u,d,v,w,y,_,w,S,T,O,x,A;return uo(this,function(C){switch(C.label){case 0:return f=null,p=null,u=null,d=l.status,v=l.statusText,l.ok?this.method==="HEAD"?[3,2]:[4,l.text()]:[3,3];case 1:w=C.sent(),w===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((T=this.headers.get("Accept"))===null||T===void 0)&&T.includes("application/vnd.pgrst.plan+text"))?p=w:p=JSON.parse(w)),C.label=2;case 2:return y=(O=this.headers.get("Prefer"))===null||O===void 0?void 0:O.match(/count=(exact|planned|estimated)/),_=(x=l.headers.get("content-range"))===null||x===void 0?void 0:x.split("/"),y&&_&&_.length>1&&(u=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(f={code:"PGRST116",details:"Results contain ".concat(p.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,u=null,d=406,v="Not Acceptable"):p.length===1?p=p[0]:p=null),[3,5];case 3:return[4,l.text()];case 4:w=C.sent();try{f=JSON.parse(w),Array.isArray(f)&&l.status===404&&(p=[],f=null,d=200,v="OK")}catch{l.status===404&&w===""?(d=204,v="No Content"):f={message:w}}if(f&&this.isMaybeSingle&&(!((A=f?.details)===null||A===void 0)&&A.includes("0 rows"))&&(f=null,d=200,v="OK"),f&&this.shouldThrowOnError)throw new B$(f);C.label=5;case 5:return S={error:f,data:p,count:u,status:d,statusText:v},[2,S]}})})});return this.shouldThrowOnError||(i=i.catch(function(l){var f,p,u;return{error:{message:"".concat((f=l?.name)!==null&&f!==void 0?f:"FetchError",": ").concat(l?.message),details:"".concat((p=l?.stack)!==null&&p!==void 0?p:""),hint:"",code:"".concat((u=l?.code)!==null&&u!==void 0?u:"")},data:null,count:null,status:0,statusText:""}})),i.then(e,r)},t.prototype.returns=function(){return this},t.prototype.overrideTypes=function(){return this},t})(),$$=(function(t){vl(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.select=function(r){var n=!1,o=(r??"*").split("").map(function(i){return/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)}).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this},e.prototype.order=function(r,n){var o=n===void 0?{}:n,i=o.ascending,l=i===void 0?!0:i,f=o.nullsFirst,p=o.foreignTable,u=o.referencedTable,d=u===void 0?p:u,v=d?"".concat(d,".order"):"order",y=this.url.searchParams.get(v);return this.url.searchParams.set(v,"".concat(y?"".concat(y,","):"").concat(r,".").concat(l?"asc":"desc").concat(f===void 0?"":f?".nullsfirst":".nullslast")),this},e.prototype.limit=function(r,n){var o=n===void 0?{}:n,i=o.foreignTable,l=o.referencedTable,f=l===void 0?i:l,p=typeof f>"u"?"limit":"".concat(f,".limit");return this.url.searchParams.set(p,"".concat(r)),this},e.prototype.range=function(r,n,o){var i=o===void 0?{}:o,l=i.foreignTable,f=i.referencedTable,p=f===void 0?l:f,u=typeof p>"u"?"offset":"".concat(p,".offset"),d=typeof p>"u"?"limit":"".concat(p,".limit");return this.url.searchParams.set(u,"".concat(r)),this.url.searchParams.set(d,"".concat(n-r+1)),this},e.prototype.abortSignal=function(r){return this.signal=r,this},e.prototype.single=function(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this},e.prototype.maybeSingle=function(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this},e.prototype.csv=function(){return this.headers.set("Accept","text/csv"),this},e.prototype.geojson=function(){return this.headers.set("Accept","application/geo+json"),this},e.prototype.explain=function(r){var n,o=r===void 0?{}:r,i=o.analyze,l=i===void 0?!1:i,f=o.verbose,p=f===void 0?!1:f,u=o.settings,d=u===void 0?!1:u,v=o.buffers,y=v===void 0?!1:v,_=o.wal,w=_===void 0?!1:_,S=o.format,T=S===void 0?"text":S,O=[l?"analyze":null,p?"verbose":null,d?"settings":null,y?"buffers":null,w?"wal":null].filter(Boolean).join("|"),x=(n=this.headers.get("Accept"))!==null&&n!==void 0?n:"application/json";return this.headers.set("Accept","application/vnd.pgrst.plan+".concat(T,'; for="').concat(x,'"; options=').concat(O,";")),T==="json"?this:this},e.prototype.rollback=function(){return this.headers.append("Prefer","tx=rollback"),this},e.prototype.returns=function(){return this},e.prototype.maxAffected=function(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer","max-affected=".concat(r)),this},e})(q$),Iu=(function(t){vl(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.eq=function(r,n){return this.url.searchParams.append(r,"eq.".concat(n)),this},e.prototype.neq=function(r,n){return this.url.searchParams.append(r,"neq.".concat(n)),this},e.prototype.gt=function(r,n){return this.url.searchParams.append(r,"gt.".concat(n)),this},e.prototype.gte=function(r,n){return this.url.searchParams.append(r,"gte.".concat(n)),this},e.prototype.lt=function(r,n){return this.url.searchParams.append(r,"lt.".concat(n)),this},e.prototype.lte=function(r,n){return this.url.searchParams.append(r,"lte.".concat(n)),this},e.prototype.like=function(r,n){return this.url.searchParams.append(r,"like.".concat(n)),this},e.prototype.likeAllOf=function(r,n){return this.url.searchParams.append(r,"like(all).{".concat(n.join(","),"}")),this},e.prototype.likeAnyOf=function(r,n){return this.url.searchParams.append(r,"like(any).{".concat(n.join(","),"}")),this},e.prototype.ilike=function(r,n){return this.url.searchParams.append(r,"ilike.".concat(n)),this},e.prototype.ilikeAllOf=function(r,n){return this.url.searchParams.append(r,"ilike(all).{".concat(n.join(","),"}")),this},e.prototype.ilikeAnyOf=function(r,n){return this.url.searchParams.append(r,"ilike(any).{".concat(n.join(","),"}")),this},e.prototype.is=function(r,n){return this.url.searchParams.append(r,"is.".concat(n)),this},e.prototype.in=function(r,n){var o=Array.from(new Set(n)).map(function(i){return typeof i=="string"&&new RegExp("[,()]").test(i)?'"'.concat(i,'"'):"".concat(i)}).join(",");return this.url.searchParams.append(r,"in.(".concat(o,")")),this},e.prototype.contains=function(r,n){return typeof n=="string"?this.url.searchParams.append(r,"cs.".concat(n)):Array.isArray(n)?this.url.searchParams.append(r,"cs.{".concat(n.join(","),"}")):this.url.searchParams.append(r,"cs.".concat(JSON.stringify(n))),this},e.prototype.containedBy=function(r,n){return typeof n=="string"?this.url.searchParams.append(r,"cd.".concat(n)):Array.isArray(n)?this.url.searchParams.append(r,"cd.{".concat(n.join(","),"}")):this.url.searchParams.append(r,"cd.".concat(JSON.stringify(n))),this},e.prototype.rangeGt=function(r,n){return this.url.searchParams.append(r,"sr.".concat(n)),this},e.prototype.rangeGte=function(r,n){return this.url.searchParams.append(r,"nxl.".concat(n)),this},e.prototype.rangeLt=function(r,n){return this.url.searchParams.append(r,"sl.".concat(n)),this},e.prototype.rangeLte=function(r,n){return this.url.searchParams.append(r,"nxr.".concat(n)),this},e.prototype.rangeAdjacent=function(r,n){return this.url.searchParams.append(r,"adj.".concat(n)),this},e.prototype.overlaps=function(r,n){return typeof n=="string"?this.url.searchParams.append(r,"ov.".concat(n)):this.url.searchParams.append(r,"ov.{".concat(n.join(","),"}")),this},e.prototype.textSearch=function(r,n,o){var i=o===void 0?{}:o,l=i.config,f=i.type,p="";f==="plain"?p="pl":f==="phrase"?p="ph":f==="websearch"&&(p="w");var u=l===void 0?"":"(".concat(l,")");return this.url.searchParams.append(r,"".concat(p,"fts").concat(u,".").concat(n)),this},e.prototype.match=function(r){var n=this;return Object.entries(r).forEach(function(o){var i=o[0],l=o[1];n.url.searchParams.append(i,"eq.".concat(l))}),this},e.prototype.not=function(r,n,o){return this.url.searchParams.append(r,"not.".concat(n,".").concat(o)),this},e.prototype.or=function(r,n){var o=n===void 0?{}:n,i=o.foreignTable,l=o.referencedTable,f=l===void 0?i:l,p=f?"".concat(f,".or"):"or";return this.url.searchParams.append(p,"(".concat(r,")")),this},e.prototype.filter=function(r,n,o){return this.url.searchParams.append(r,"".concat(n,".").concat(o)),this},e})($$),W$=(function(){function t(e,r){var n=r.headers,o=n===void 0?{}:n,i=r.schema,l=r.fetch;this.url=e,this.headers=new Headers(o),this.schema=i,this.fetch=l}return t.prototype.select=function(e,r){var n=r===void 0?{}:r,o=n.head,i=o===void 0?!1:o,l=n.count,f=i?"HEAD":"GET",p=!1,u=(e??"*").split("").map(function(d){return/\s/.test(d)&&!p?"":(d==='"'&&(p=!p),d)}).join("");return this.url.searchParams.set("select",u),l&&this.headers.append("Prefer","count=".concat(l)),new Iu({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})},t.prototype.insert=function(e,r){var n,o=r===void 0?{}:r,i=o.count,l=o.defaultToNull,f=l===void 0?!0:l,p="POST";if(i&&this.headers.append("Prefer","count=".concat(i)),f||this.headers.append("Prefer","missing=default"),Array.isArray(e)){var u=e.reduce(function(v,y){return v.concat(Object.keys(y))},[]);if(u.length>0){var d=Array.from(new Set(u)).map(function(v){return'"'.concat(v,'"')});this.url.searchParams.set("columns",d.join(","))}}return new Iu({method:p,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})},t.prototype.upsert=function(e,r){var n,o=r===void 0?{}:r,i=o.onConflict,l=o.ignoreDuplicates,f=l===void 0?!1:l,p=o.count,u=o.defaultToNull,d=u===void 0?!0:u,v="POST";if(this.headers.append("Prefer","resolution=".concat(f?"ignore":"merge","-duplicates")),i!==void 0&&this.url.searchParams.set("on_conflict",i),p&&this.headers.append("Prefer","count=".concat(p)),d||this.headers.append("Prefer","missing=default"),Array.isArray(e)){var y=e.reduce(function(w,S){return w.concat(Object.keys(S))},[]);if(y.length>0){var _=Array.from(new Set(y)).map(function(w){return'"'.concat(w,'"')});this.url.searchParams.set("columns",_.join(","))}}return new Iu({method:v,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})},t.prototype.update=function(e,r){var n,o=r===void 0?{}:r,i=o.count,l="PATCH";return i&&this.headers.append("Prefer","count=".concat(i)),new Iu({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})},t.prototype.delete=function(e){var r,n=e===void 0?{}:e,o=n.count,i="DELETE";return o&&this.headers.append("Prefer","count=".concat(o)),new Iu({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})},t})(),H$=(function(t){vl(e,t);function e(r,n){var o=n.headers,i=o===void 0?{}:o,l=n.fetch;return t.call(this,r,{headers:i,schema:void 0,fetch:l})||this}return e})(W$),G$=(function(){function t(e,r){var n=r===void 0?{}:r,o=n.headers,i=o===void 0?{}:o,l=n.fetch;this.url=e,this.headers=new Headers(i),this.fetch=l}return t.prototype.from=function(e){var r=new M$("".concat(this.url,"/").concat(e));return new H$(r,{headers:this.headers,fetch:this.fetch})},t})();function z$(t,e){var r=e?.envId,n=e?.mysqlBaseUrl||V$(t,e?.envId).mysql,o=e?.fetch;return function(i){var l=this;return new G$(n,{fetch:o||(function(f,p){return so(l,void 0,void 0,function(){var u,d,v;return uo(this,function(y){return u=i?.instance||"default",d=i?.database||r,v={},p?.headers instanceof Headers?p.headers.forEach(function(_,w){v[w]=_}):v=p?.headers||{},[2,t.callFunction({name:"httpOverCallFunction",data:{url:f.toString(),method:p?.method||"GET",headers:yt(yt({},v||{}),{"Content-Type":"application/json","X-Db-Instance":u,"Accept-Profile":d,"Content-Profile":d}),body:p?.body}}).then(function(_){var w=_?.result,S={ok:w?.statusCode>=200&&w?.statusCode<300,status:w?.statusCode||200,statusText:w?.statusMessage||"OK",json:function(){return Promise.resolve(w?.body||{})},text:function(){return Promise.resolve(typeof w?.body=="string"?w.body:JSON.stringify(w?.body||{}))},headers:new Headers(w?.headers||{})};return S})]})})})})}}function V$(t,e){var r,n,o,i,l=e||((n=(r=t?.extend)===null||r===void 0?void 0:r.AI)===null||n===void 0?void 0:n.env);if((typeof l!="string"||!l.trim())&&(l=(o=t?.config)===null||o===void 0?void 0:o.env),(typeof l!="string"||!l.trim())&&(l=(i=t?.config)===null||i===void 0?void 0:i.envName),typeof l!="string"||!l.trim())throw new Error("Generating default gateway base url failed: env not found");return l=l.trim(),{model:"https://".concat(l,".api.tcloudbasegateway.com/v1/model"),sql:"https://".concat(l,".api.tcloudbasegateway.com/v1/sql"),mysql:"https://".concat(l,".api.tcloudbasegateway.com/v1/rdb/rest")}}var Ko=function(){return Ko=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ko.apply(this,arguments)},K$=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function p(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,p)}u((n=n.apply(t,e||[])).next())})},Y$=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return p([u,d])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},J$=G2,EO="models";function Q$(t){var e=this,r=t.callFunction.bind(t),n=t.request.fetch.bind(t.request),o=function(v){return K$(e,void 0,void 0,function(){var y;return Y$(this,function(_){switch(_.label){case 0:return[4,n(Ko(Ko({},v),{headers:Ko({"Content-Type":"application/json"},v.headers)}))];case 1:return y=_.sent(),[4,y.data];case 2:return[2,_.sent()]}})})},i=t.getEndPointWithKey("GATEWAY"),l=i.BASE_URL,f=i.PROTOCOL,p="".concat(f).concat(l,"/model"),u="".concat(f).concat(l,"/sql"),d=r5(r,o,p,{sqlBaseUrl:u});return d}var SO=new WeakMap;function X$(t){return new Proxy({},{get:function(e,r){var n=t.getEndPointWithKey("GATEWAY"),o=n.BASE_URL,i=n.PROTOCOL,l=Ko(Ko({},t),{BASE_URL:o,PROTOCOL:i}),f=SO.get(l);return f||(f=Q$(t),SO.set(l,f)),f[r]}})}var cC="cloudbase_init",fC=new J$;fC.on(cC,function(t){var e=t.data;Object.assign(e,{models:X$(e)})});var dC={name:EO,namespace:EO,entity:new Proxy({},{get:function(t,e){console.warn("deprecatedAccessing Cloudbase.prototype.models.".concat(e,"."))}}),injectEvents:{bus:fC,events:[cC]}};try{cloudbase.registerComponent(dC)}catch{}function hC(t){try{t.registerComponent(dC)}catch(e){console.warn(e)}}try{window.registerModel=hC}catch{}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var og=function(t,e){return og=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},og(t,e)};function pC(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");og(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function _s(t){if(!t)throw new TypeError("Assertion failed")}function Z$(){}function e8(t){return typeof t=="object"&&t!==null||typeof t=="function"}function t8(t){if(typeof t!="function")return!1;var e=!1;try{new t({start:function(){e=!0}})}catch{}return e}function vC(t){return!(!e8(t)||typeof t.getReader!="function")}function r8(t){return!(!t8(t)||!vC(new t))}function yC(t){try{var e=t.getReader({mode:"byob"});return e.releaseLock(),!0}catch{return!1}}function n8(t){try{return new t({type:"bytes"}),!0}catch{return!1}}function i8(t){_s(r8(t));var e=n8(t);return function(r,n){var o=n===void 0?{}:n,i=o.type;if(i=mC(i),i==="bytes"&&!e&&(i=void 0),r.constructor===t&&(i!=="bytes"||yC(r)))return r;if(i==="bytes"){var l=IO(r,{type:i});return new t(l)}else{var l=IO(r);return new t(l)}}}function IO(t,e){var r=e===void 0?{}:e,n=r.type;_s(vC(t)),_s(t.locked===!1),n=mC(n);var o;return n==="bytes"?o=new s8(t):o=new o8(t),o}function mC(t){var e=String(t);if(e==="bytes")return e;if(t===void 0)return t;throw new RangeError("Invalid type is specified")}var gC=(function(){function t(e){this._underlyingReader=void 0,this._readerMode=void 0,this._readableStreamController=void 0,this._pendingRead=void 0,this._underlyingStream=e,this._attachDefaultReader()}return t.prototype.start=function(e){this._readableStreamController=e},t.prototype.cancel=function(e){return _s(this._underlyingReader!==void 0),this._underlyingReader.cancel(e)},t.prototype._attachDefaultReader=function(){if(this._readerMode!=="default"){this._detachReader();var e=this._underlyingStream.getReader();this._readerMode="default",this._attachReader(e)}},t.prototype._attachReader=function(e){var r=this;_s(this._underlyingReader===void 0),this._underlyingReader=e;var n=this._underlyingReader.closed;n&&n.then(function(){return r._finishPendingRead()}).then(function(){e===r._underlyingReader&&r._readableStreamController.close()},function(o){e===r._underlyingReader&&r._readableStreamController.error(o)}).catch(Z$)},t.prototype._detachReader=function(){this._underlyingReader!==void 0&&(this._underlyingReader.releaseLock(),this._underlyingReader=void 0,this._readerMode=void 0)},t.prototype._pullWithDefaultReader=function(){var e=this;this._attachDefaultReader();var r=this._underlyingReader.read().then(function(n){var o=e._readableStreamController;n.done?e._tryClose():o.enqueue(n.value)});return this._setPendingRead(r),r},t.prototype._tryClose=function(){try{this._readableStreamController.close()}catch{}},t.prototype._setPendingRead=function(e){var r=this,n,o=function(){r._pendingRead===n&&(r._pendingRead=void 0)};this._pendingRead=n=e.then(o,o)},t.prototype._finishPendingRead=function(){var e=this;if(this._pendingRead){var r=function(){return e._finishPendingRead()};return this._pendingRead.then(r,r)}},t})(),o8=(function(t){pC(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.pull=function(){return this._pullWithDefaultReader()},e})(gC);function TO(t){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}function a8(t,e){var r=TO(t),n=TO(e);n.set(r,0)}var s8=(function(t){pC(e,t);function e(r){var n=this,o=yC(r);return n=t.call(this,r)||this,n._supportsByob=o,n}return Object.defineProperty(e.prototype,"type",{get:function(){return"bytes"},enumerable:!1,configurable:!0}),e.prototype._attachByobReader=function(){if(this._readerMode!=="byob"){_s(this._supportsByob),this._detachReader();var r=this._underlyingStream.getReader({mode:"byob"});this._readerMode="byob",this._attachReader(r)}},e.prototype.pull=function(){if(this._supportsByob){var r=this._readableStreamController.byobRequest;if(r)return this._pullWithByobRequest(r)}return this._pullWithDefaultReader()},e.prototype._pullWithByobRequest=function(r){var n=this;this._attachByobReader();var o=new Uint8Array(r.view.byteLength),i=this._underlyingReader.read(o).then(function(l){n._readableStreamController,l.done?(n._tryClose(),r.respond(0)):(a8(l.value,r.view),r.respond(l.value.byteLength))});return this._setPendingRead(i),i},e})(gC);function u8(t){var e,r,n,o,i,l,f;return p(),{feed:u,reset:p};function p(){e=!0,r="",n=0,o=-1,i=void 0,l=void 0,f=""}function u(v){r=r?r+v:v,e&&l8(r)&&(r=r.slice(_C.length)),e=!1;for(var y=r.length,_=0,w=!1;_<y;){w&&(r[_]===`
`&&(_+=1),w=!1);for(var S=-1,T=o,O=void 0,x=n;S<0&&x<y;x++)O=r[x],O===":"&&T<0?T=x-_:O==="\r"?(w=!0,S=x-_):O===`
`&&(S=x-_);if(S<0){n=y-_,o=T;break}else n=0,o=-1;d(r,_,T,S),_+=S+1}_===y?r="":_>0&&(r=r.slice(_))}function d(v,y,_,w){if(w===0){f.length>0&&(t({type:"event",id:i,event:l||void 0,data:f.slice(0,-1)}),f="",i=void 0),l=void 0;return}var S=_<0,T=v.slice(y,y+(S?w:_)),O=0;S?O=w:v[y+_+1]===" "?O=_+2:O=_+1;var x=y+O,A=w-O,C=v.slice(x,x+A).toString();if(T==="data")f+=C?"".concat(C,`
`):`
`;else if(T==="event")l=C;else if(T==="id"&&!C.includes("\0"))i=C;else if(T==="retry"){var U=parseInt(C,10);Number.isNaN(U)||t({type:"reconnect-interval",value:U})}}}var _C=[239,187,191];function l8(t){return _C.every(function(e,r){return t.charCodeAt(r)===e})}var Of={exports:{}},c8=Of.exports,OO;function f8(){return OO||(OO=1,(function(t,e){(function(r,n){t.exports=n()})(c8,function(){var r=typeof Ja<"u"?Ja:self;if(typeof r.TextEncoder<"u"&&typeof r.TextDecoder<"u")return{TextEncoder:r.TextEncoder,TextDecoder:r.TextDecoder};var n=["utf8","utf-8","unicode-1-1-utf-8"],o=function(l){if(n.indexOf(l)<0&&typeof l<"u"&&l!==null)throw new RangeError("Invalid encoding type. Only utf-8 is supported");this.encoding="utf-8",this.encode=function(f){if(typeof f!="string")throw new TypeError("passed argument must be of type string");var p=unescape(encodeURIComponent(f)),u=new Uint8Array(p.length);return p.split("").forEach(function(d,v){u[v]=d.charCodeAt(0)}),u}},i=function(l,f){if(n.indexOf(l)<0&&typeof l<"u"&&l!==null)throw new RangeError("Invalid encoding type. Only utf-8 is supported");if(this.encoding="utf-8",this.ignoreBOM=!1,this.fatal=typeof f<"u"&&"fatal"in f?f.fatal:!1,typeof this.fatal!="boolean")throw new TypeError("fatal flag must be boolean");this.decode=function(p,u){if(typeof p>"u")return"";var d=typeof u<"u"&&"stream"in u?u.stream:!1;if(typeof d!="boolean")throw new TypeError("stream option must be boolean");if(ArrayBuffer.isView(p)){var v=new Uint8Array(p.buffer,p.byteOffset,p.byteLength),y=new Array(v.length);return v.forEach(function(_,w){y[w]=String.fromCharCode(_)}),decodeURIComponent(escape(y.join("")))}else throw new TypeError("passed argument must be an array buffer view")}};return{TextEncoder:o,TextDecoder:i}})})(Of)),Of.exports}var d8=f8(),wC=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function p(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,p)}u((n=n.apply(t,e||[])).next())})},bC=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return p([u,d])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},h8=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(l){return new Promise(function(f,p){l=t[i](l),o(f,p,l.done,l.value)})}}function o(i,l,f,p){Promise.resolve(p).then(function(u){i({value:u,done:f})},l)}},p8=Lt,gt=jf,EC=function(){var t;return new gt({start:function(e){t=u8(function(r){r.type==="event"&&e.enqueue(r)})},transform:function(e){t.feed(e)}})},Lr=i8(p8),E_=(function(){function t(e,r){e===void 0&&(e="utf-8"),r===void 0&&(r={});var n=this;this.transform=new gt({transform:function(o,i){var l=n.handle.decode(new Uint8Array(o),{stream:!0});l&&i.enqueue(l)},flush:function(o){var i=n.handle.decode();i&&o.enqueue(i),o.terminate()}}),this.handle=new d8.TextDecoder(e,r)}return Object.defineProperty(t.prototype,"encoding",{get:function(){return this.handle.encoding},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fatal",{get:function(){return this.handle.fatal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ignoreBOM",{get:function(){return this.handle.ignoreBOM},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"readable",{get:function(){return this.transform.readable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"writable",{get:function(){return this.transform.writable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,Symbol.toStringTag,{get:function(){return"TextDecoderStream"},enumerable:!1,configurable:!0}),t})();function at(t){var e=t;return e[Symbol.asyncIterator]=function(){var r=t.getReader();return{next:function(){return wC(this,void 0,void 0,function(){var n,o,i;return bC(this,function(l){switch(l.label){case 0:return[4,r.read()];case 1:return n=l.sent(),o=n.done,i=n.value,[2,o?{done:!0,value:void 0}:{done:!1,value:i}]}})})}}},e}function Nn(t){return at(t.pipeThrough(new E_).pipeThrough(EC()).pipeThrough(new gt({transform:function(e,r){try{var n=JSON.parse(e.data);r.enqueue(n)}catch(o){e.data!=="[DONE]"?console.warn("Error when transforming event source data to json",o,e):r.terminate()}}})))}function v8(t){return at(Lr(t).pipeThrough(new E_))}function y8(t){var e,r,n,o;return wC(this,void 0,void 0,function(){var i,l,f,p,u,d,v;return bC(this,function(y){switch(y.label){case 0:i=v8(t),l="",y.label=1;case 1:y.trys.push([1,6,7,12]),f=!0,p=h8(i),y.label=2;case 2:return[4,p.next()];case 3:if(u=y.sent(),e=u.done,!!e)return[3,5];o=u.value,f=!1;try{d=o,l+=d}finally{f=!0}y.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return v=y.sent(),r={error:v},[3,12];case 7:return y.trys.push([7,,10,11]),!f&&!e&&(n=p.return)?[4,n.call(p)]:[3,9];case 8:y.sent(),y.label=9;case 9:return[3,11];case 10:if(r)throw r.error;return[7];case 11:return[7];case 12:return[2,JSON.parse(l)]}})})}function xO(){var t,e,r=new Promise(function(n,o){t=n,e=o});return{promise:r,res:t,rej:e}}function sn(t){var e;return t.role==="assistant"&&"tool_calls"in t&&((e=t.tool_calls)===null||e===void 0?void 0:e[0])!=null}function m8(t){return{type:"function",function:{description:t.description,name:t.name,parameters:t.parameters}}}var Ji=function(){return Ji=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ji.apply(this,arguments)},Sn=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function p(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,p)}u((n=n.apply(t,e||[])).next())})},In=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return p([u,d])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},nf=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r},g8=(function(){function t(e,r){this.baseUrl=r;var n=arguments[2];typeof n=="string"?this.req=function(o){var i=o.headers,l=i===void 0?{}:i,f=nf(o,["headers"]);return e(Ji(Ji({},f),{headers:Ji(Ji({},l),{Authorization:"Bearer ".concat(n)})}))}:this.req=e}return t.prototype.list=function(e,r){return this.req({method:"get",url:this.join("bots"),data:e,timeout:r?.timeout})},t.prototype.create=function(e,r){var n=e.botInfo;return this.req({method:"post",url:this.join("bots"),data:n,timeout:r?.timeout})},t.prototype.get=function(e,r){var n=e.botId;return this.req({method:"get",url:this.join("bots/".concat(n)),timeout:r?.timeout})},t.prototype.update=function(e,r){var n=e.botId,o=e.botInfo;return this.req({method:"PATCH",url:this.join("bots/".concat(n)),data:o,timeout:r?.timeout})},t.prototype.delete=function(e,r){var n=e.botId;return this.req({method:"delete",url:this.join("bots/".concat(n)),timeout:r?.timeout})},t.prototype.getChatRecords=function(e,r){return this.req({method:"get",url:this.join("bots/".concat(e.botId,"/records")),data:e,timeout:r?.timeout})},t.prototype.sendFeedback=function(e,r){var n=e.userFeedback;return this.req({method:"post",url:this.join("bots/".concat(n.botId,"/feedback")),data:n,timeout:r?.timeout})},t.prototype.getFeedback=function(e,r){return this.req({method:"get",url:this.join("bots/".concat(e.botId,"/feedback")),data:e,timeout:r?.timeout})},t.prototype.uploadFiles=function(e,r){return Sn(this,void 0,void 0,function(){return In(this,function(n){return[2,this.req({method:"post",url:this.join("bots/".concat(e.botId,"/files")),data:e,timeout:r?.timeout})]})})},t.prototype.createConversation=function(e,r){var n=e.botId,o=nf(e,["botId"]);return Sn(this,void 0,void 0,function(){return In(this,function(i){return[2,this.req({method:"post",url:this.join("bots/".concat(n,"/conversation")),data:o,timeout:r?.timeout})]})})},t.prototype.getConversation=function(e,r){var n=e.pageSize,o=n===void 0?10:n,i=e.pageNumber,l=i===void 0?1:i,f=e.botId,p=nf(e,["pageSize","pageNumber","botId"]);return Sn(this,void 0,void 0,function(){var u,d;return In(this,function(v){if(l<1)throw new Error("pageNumber must be greater than 0");return u=o*(l-1),d=o,[2,this.req({method:"get",url:this.join("bots/".concat(f,"/conversation")),data:Ji(Ji({},p),{offset:u,limit:d}),timeout:r?.timeout})]})})},t.prototype.deleteConversation=function(e,r){var n=e.botId,o=e.conversationId,i=nf(e,["botId","conversationId"]);return Sn(this,void 0,void 0,function(){return In(this,function(l){return[2,this.req({method:"delete",url:this.join("bots/".concat(n,"/conversation/").concat(o)),data:i,timeout:r?.timeout})]})})},t.prototype.speechToText=function(e,r){return Sn(this,void 0,void 0,function(){return In(this,function(n){return[2,this.req({method:"post",url:this.join("bots/".concat(e.botId,"/speech-to-text")),data:e,timeout:r?.timeout})]})})},t.prototype.textToSpeech=function(e,r){return Sn(this,void 0,void 0,function(){return In(this,function(n){return[2,this.req({method:"post",url:this.join("bots/".concat(e.botId,"/text-to-speech")),data:e,timeout:r?.timeout})]})})},t.prototype.getTextToSpeechResult=function(e,r){return Sn(this,void 0,void 0,function(){return In(this,function(n){return[2,this.req({method:"get",url:this.join("bots/".concat(e.botId,"/text-to-speech")),data:e,timeout:r?.timeout})]})})},t.prototype.getRecommendQuestions=function(e,r){return Sn(this,void 0,void 0,function(){var n;return In(this,function(o){switch(o.label){case 0:return[4,this.req({method:"post",url:this.join("bots/".concat(e.botId,"/recommend-questions")),data:e,stream:!0,timeout:r?.timeout})];case 1:return n=o.sent(),[2,new of(n)]}})})},t.prototype.generateBot=function(e,r){return Sn(this,void 0,void 0,function(){var n;return In(this,function(o){switch(o.label){case 0:return[4,this.req({method:"post",url:this.join("generate-bot"),data:e,stream:!0,timeout:r?.timeout})];case 1:return n=o.sent(),[2,new of(n)]}})})},t.prototype.getPreview=function(e,r){return Sn(this,void 0,void 0,function(){var n;return In(this,function(o){switch(o.label){case 0:return[4,this.req({method:"post",url:this.join("preview"),data:e,stream:!0,timeout:r?.timeout})];case 1:return n=o.sent(),[2,new of(n)]}})})},t.prototype.generateImage=function(e,r){return this.req({method:"post",url:this.join("generate-image"),data:e,timeout:r?.timeout})},t.prototype.sendMessage=function(e,r){return Sn(this,void 0,void 0,function(){var n;return In(this,function(o){switch(o.label){case 0:return[4,this.req({method:"post",url:this.join("bots/".concat(e.botId,"/send-message")),data:e,stream:!0,timeout:r?.timeout})];case 1:return n=o.sent(),[2,new of(n)]}})})},t.prototype.join=function(e){return"".concat(this.baseUrl,"/").concat(e)},t})(),of=(function(){function t(e){var r=Lr(e);this._eventSourceStream=r.pipeThrough(new E_).pipeThrough(EC())}return Object.defineProperty(t.prototype,"teeedStream",{get:function(){var e=this._eventSourceStream.tee(),r=e[0],n=e[1];return this._eventSourceStream=n,r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eventSourceStream",{get:function(){return at(this.teeedStream)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataStream",{get:function(){return at(this.eventSourceStream.pipeThrough(new gt({transform:function(e,r){try{var n=JSON.parse(e.data);r.enqueue(n)}catch(o){e.data!=="[DONE]"?console.warn("Error when transforming event source data to json",o,e):r.terminate()}}})))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textStream",{get:function(){return at(this.dataStream.pipeThrough(new gt({transform:function(e,r){var n;r.enqueue((n=e?.content)!==null&&n!==void 0?n:"")}})))},enumerable:!1,configurable:!0}),t})(),qt=function(){return qt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},qt.apply(this,arguments)},RO=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function p(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,p)}u((n=n.apply(t,e||[])).next())})},AO=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return p([u,d])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};function CO(t){var e=t.messages,r=t.model,n=t.temperature,o=t.tool_choice,i=t.tools,l=t.top_p,f=function(){return o&&o!=="auto"&&console.warn("`tool_choice` is not 'auto'"),o};return qt(qt({},t),{messages:e,model:r,temperature:n,tool_choice:f(),tools:i,top_p:l})}var SC=(function(){function t(e,r,n){this.req=e,this.baseUrl=r,this.subUrl="zhipu/api/paas/v4/chat/completions",n!=null&&(this.subUrl=n)}return Object.defineProperty(t.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),t.prototype.doGenerate=function(e,r){return RO(this,void 0,void 0,function(){var n,o;return AO(this,function(i){switch(i.label){case 0:return n=CO(e),[4,this.req({url:this.url,data:qt(qt({},n),{stream:!1}),stream:!1,timeout:r?.timeout})];case 1:return o=i.sent(),[2,qt(qt({},o),{rawResponse:o})]}})})},t.prototype.doStream=function(e,r){return RO(this,void 0,void 0,function(){var n,o,i,l,f,p;return AO(this,function(u){switch(u.label){case 0:return n=CO(e),o=null,[4,this.req({url:this.url,data:qt(qt({},n),{stream:!0}),stream:!0,timeout:r?.timeout})];case 1:return i=u.sent(),l=Lr(i),f=Nn(l),p=f.pipeThrough(new gt({transform:function(d,v){var y=d.choices.map(function(w){var S=w.delta;return o==null&&(o=sn(S)),o?qt(qt({},w),{finish_reason:"tool_calls",delta:S}):w}),_=qt(qt({},d),{choices:y});v.enqueue(qt(qt({},_),{rawResponse:d}))}})),[2,at(p)]}})})},t})(),Xf=function(){return Xf=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Xf.apply(this,arguments)};function na(t){var e=t.messages,r=t.model,n=t.temperature,o=t.tool_choice,i=t.tools,l=t.top_p,f=function(){if(i)return i.forEach(function(u){u.type!=="function"&&console.warn("`type` in tool is not 'function'",u)}),i},p=function(){return e.forEach(function(u){"tool_calls"in u&&u.tool_calls.filter(function(d){return d.type!=="function"}).forEach(function(d){return console.warn("`type` in tool_call is not 'function'",d,u)})}),e};return Xf(Xf({},t),{messages:p(),model:r,tools:f(),top_p:l,tool_choice:o,temperature:n})}function Zf(t){if(typeof t!="object"||t==null)return t;if(Array.isArray(t))return t.map(function(r){return Zf(r)});return Object.entries(t).reduce(function(r,n){var o=n[0],i=n[1],l=e(o);return r[l]=typeof i=="object"?Zf(i):i,r},{});function e(r){var n=r.replace(/[A-Z]/g,function(o){return"_".concat(o.toLowerCase())});return n.charAt(0)==="_"?n.slice(1):n}}var cr=function(){return cr=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},cr.apply(this,arguments)},PO=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function p(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,p)}u((n=n.apply(t,e||[])).next())})},NO=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return p([u,d])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},IC=(function(){function t(e,r,n){this.req=e,this.baseUrl=r,this.subUrl="hunyuan-beta/openapi/v1/chat/completions",n!=null&&(this.subUrl=n)}return Object.defineProperty(t.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),t.prototype.doGenerate=function(e,r){return PO(this,void 0,void 0,function(){var n;return NO(this,function(o){switch(o.label){case 0:return[4,this.req({url:this.url,data:cr(cr({},na(e)),{stream:!1}),stream:!1,timeout:r?.timeout})];case 1:return n=o.sent(),[2,cr(cr({},n),{rawResponse:n})]}})})},t.prototype.doStream=function(e,r){return PO(this,void 0,void 0,function(){var n,o,i,l,f;return NO(this,function(p){switch(p.label){case 0:return n=null,[4,this.req({url:this.url,data:cr(cr({},na(e)),{stream:!0}),stream:!0,timeout:r?.timeout})];case 1:return o=p.sent(),i=Lr(o),l=Nn(i),f=l.pipeThrough(new gt({transform:function(u,d){var v=u.choices.map(function(_){var w=_.delta;return n==null&&(n=sn(w)),n?cr(cr({},_),{finish_reason:"tool_calls",delta:w}):_}),y=cr(cr({},u),{choices:v});d.enqueue(cr(cr({},y),{rawResponse:u}))}})),[2,at(f)]}})})},t})(),fr=function(){return fr=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},fr.apply(this,arguments)},kO=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function p(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,p)}u((n=n.apply(t,e||[])).next())})},LO=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return p([u,d])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},TC=(function(){function t(e,r,n){this.req=e,this.baseUrl=r,this.subUrl="hunyuan",n!=null&&(this.subUrl=n)}return Object.defineProperty(t.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),t.prototype.doGenerate=function(e,r){return kO(this,void 0,void 0,function(){var n,o;return LO(this,function(i){switch(i.label){case 0:return[4,this.req({url:this.url,headers:{"X-Tc-Action":"ChatCompletions"},data:fr(fr({},na(e)),{stream:!1}),stream:!1,timeout:r?.timeout})];case 1:return n=i.sent(),o=Zf(n.Response),[2,fr(fr({},o),{rawResponse:n})]}})})},t.prototype.doStream=function(e,r){return kO(this,void 0,void 0,function(){var n,o,i,l,f;return LO(this,function(p){switch(p.label){case 0:return n=null,[4,this.req({url:this.url,headers:{"X-Tc-Action":"ChatCompletions"},data:fr(fr({},e),{stream:!0}),stream:!0,timeout:r?.timeout})];case 1:return o=p.sent(),i=Lr(o),l=Nn(i),f=l.pipeThrough(new gt({transform:function(u,d){var v=Zf(u),y=v.choices.map(function(w){var S=w.delta;return n==null&&(n=sn(S)),n?fr(fr({},w),{finish_reason:"tool_calls",delta:S}):w}),_=fr(fr({},v),{choices:y});d.enqueue(fr(fr({},_),{rawResponse:u}))}})),[2,at(f)]}})})},t})(),$t=function(){return $t=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},$t.apply(this,arguments)},jO=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function p(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,p)}u((n=n.apply(t,e||[])).next())})},DO=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return p([u,d])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};function UO(t){var e=t.messages,r=t.model,n=t.temperature,o=t.tools,i=t.top_p;return $t($t({},t),{messages:e,model:r,tools:o,top_p:i,temperature:n})}var OC=(function(){function t(e,r,n){this.req=e,this.baseUrl=r,this.subUrl="ark/api/v3/chat/completions",n!=null&&(this.subUrl=n)}return Object.defineProperty(t.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),t.prototype.doGenerate=function(e,r){return jO(this,void 0,void 0,function(){var n;return DO(this,function(o){switch(o.label){case 0:return[4,this.req({url:this.url,data:$t($t({},UO(e)),{stream:!1}),stream:!1,timeout:r?.timeout})];case 1:return n=o.sent(),[2,$t($t({},n),{rawResponse:n})]}})})},t.prototype.doStream=function(e,r){return jO(this,void 0,void 0,function(){var n,o,i,l,f;return DO(this,function(p){switch(p.label){case 0:return n=null,[4,this.req({url:this.url,data:$t($t({},UO(e)),{stream:!0}),stream:!0,timeout:r?.timeout})];case 1:return o=p.sent(),i=Lr(o),l=Nn(i),f=l.pipeThrough(new gt({transform:function(u,d){var v=u.choices.map(function(_){var w=_.delta;return n==null&&(n=sn(w)),n?$t($t({},_),{finish_reason:"tool_calls",delta:w}):_}),y=$t($t({},u),{choices:v});d.enqueue($t($t({},y),{rawResponse:u}))}})),[2,at(f)]}})})},t})(),Ct=function(){return Ct=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ct.apply(this,arguments)},FO=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function p(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,p)}u((n=n.apply(t,e||[])).next())})},MO=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return p([u,d])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};function BO(t){var e=t.messages,r=t.model,n=t.temperature,o=t.tools,i=t.top_p;return Ct(Ct({},t),{messages:e,model:r,tools:o,top_p:i,temperature:n})}var xC=(function(){function t(e,r,n){this.req=e,this.baseUrl=r,this.subUrl="dashscope/compatible-mode/v1/chat/completions",n!=null&&(this.subUrl=n)}return Object.defineProperty(t.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),t.prototype.doGenerate=function(e,r){return FO(this,void 0,void 0,function(){var n;return MO(this,function(o){switch(o.label){case 0:return[4,this.req({url:this.url,data:Ct(Ct({},BO(e)),{stream:!1}),stream:!1,timeout:r?.timeout})];case 1:return n=o.sent(),[2,Ct(Ct({},n),{rawResponse:n})]}})})},t.prototype.doStream=function(e,r){return FO(this,void 0,void 0,function(){var n,o,i,l,f;return MO(this,function(p){switch(p.label){case 0:return n=null,[4,this.req({url:this.url,data:Ct(Ct({},BO(e)),{stream:!0}),stream:!0,timeout:r?.timeout})];case 1:return o=p.sent(),i=Lr(o),l=Nn(i),f=l.pipeThrough(new gt({transform:function(u,d){var v=u.choices.map(function(_){var w=Object.assign(_.delta,{role:"assistant"});return n==null&&(n=sn(w)),n?Ct(Ct({},_),{finish_reason:"tool_calls",delta:w}):Ct(Ct({},_),{delta:w})}),y=Ct(Ct({},u),{choices:v});d.enqueue(Ct(Ct({},y),{rawResponse:u}))}})),[2,at(f)]}})})},t})(),Pt=function(){return Pt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Pt.apply(this,arguments)},qO=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function p(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,p)}u((n=n.apply(t,e||[])).next())})},$O=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return p([u,d])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};function WO(t){var e=t.messages,r=t.model,n=t.temperature,o=t.tools,i=t.top_p;return Pt(Pt({},t),{messages:e,model:r,tools:o,top_p:i,temperature:n})}var RC=(function(){function t(e,r,n){this.req=e,this.baseUrl=r,this.subUrl="01-ai/v1/chat/completions",n!=null&&(this.subUrl=n)}return Object.defineProperty(t.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),t.prototype.doGenerate=function(e,r){return qO(this,void 0,void 0,function(){var n;return $O(this,function(o){switch(o.label){case 0:return[4,this.req({url:this.url,data:Pt(Pt({},WO(e)),{stream:!1}),stream:!1,timeout:r?.timeout})];case 1:return n=o.sent(),[2,Pt(Pt({},n),{rawResponse:n})]}})})},t.prototype.doStream=function(e,r){return qO(this,void 0,void 0,function(){var n,o,i,l,f;return $O(this,function(p){switch(p.label){case 0:return n=null,[4,this.req({url:this.url,data:Pt(Pt({},WO(e)),{stream:!0}),stream:!0,timeout:r?.timeout})];case 1:return o=p.sent(),i=Lr(o),l=Nn(i),f=l.pipeThrough(new gt({transform:function(u,d){var v,y,_,w,S,T;if(!((_=(y=(v=u?.choices)===null||v===void 0?void 0:v[0])===null||y===void 0?void 0:y.delta)===null||_===void 0)&&_.content||!((T=(S=(w=u?.choices)===null||w===void 0?void 0:w[0])===null||S===void 0?void 0:S.delta)===null||T===void 0)&&T.tool_calls){var O=u.choices.map(function(A){var C=Object.assign(A.delta,{role:"assistant"});return n==null&&(n=sn(C)),n?Pt(Pt({},A),{finish_reason:"tool_calls",delta:C}):Pt(Pt({},A),{delta:C})}),x=Pt(Pt({},u),{choices:O});d.enqueue(Pt(Pt({},x),{rawResponse:u}))}}})),[2,at(f)]}})})},t})(),Wt=function(){return Wt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Wt.apply(this,arguments)},HO=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function p(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,p)}u((n=n.apply(t,e||[])).next())})},GO=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return p([u,d])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};function zO(t){var e=t.messages,r=t.model,n=t.temperature,o=t.tools,i=t.top_p;return Wt(Wt({},t),{messages:e,model:r,tools:o,top_p:i,temperature:n})}var AC=(function(){function t(e,r,n){this.req=e,this.baseUrl=r,this.subUrl="moonshot/v1/chat/completions",n!=null&&(this.subUrl=n)}return Object.defineProperty(t.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),t.prototype.doGenerate=function(e,r){return HO(this,void 0,void 0,function(){var n;return GO(this,function(o){switch(o.label){case 0:return[4,this.req({url:this.url,data:Wt(Wt({},zO(e)),{stream:!1}),stream:!1,timeout:r?.timeout})];case 1:return n=o.sent(),[2,Wt(Wt({},n),{rawResponse:n})]}})})},t.prototype.doStream=function(e,r){return HO(this,void 0,void 0,function(){var n,o,i,l,f;return GO(this,function(p){switch(p.label){case 0:return n=null,[4,this.req({url:this.url,data:Wt(Wt({},zO(e)),{stream:!0}),stream:!0,timeout:r?.timeout})];case 1:return o=p.sent(),i=Lr(o),l=Nn(i),f=l.pipeThrough(new gt({transform:function(u,d){var v=u.choices.map(function(_){var w=_.delta;return n==null&&(n=sn(w)),n?Wt(Wt({},_),{finish_reason:"tool_calls",delta:w}):_}),y=Wt(Wt({},u),{choices:v});d.enqueue(Wt(Wt({},y),{rawResponse:u}))}})),[2,at(f)]}})})},t})(),dr=function(){return dr=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},dr.apply(this,arguments)},VO=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function p(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,p)}u((n=n.apply(t,e||[])).next())})},KO=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return p([u,d])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},CC=(function(){function t(e,r,n){this.req=e,this.baseUrl=r,this.subUrl="hunyuan-exp/chat/completions",n!=null&&(this.subUrl=n)}return Object.defineProperty(t.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),t.prototype.doGenerate=function(e){return VO(this,void 0,void 0,function(){var r;return KO(this,function(n){switch(n.label){case 0:return[4,this.req({url:this.url,data:dr(dr({},na(e)),{stream:!1}),stream:!1})];case 1:return r=n.sent(),[2,dr(dr({},r),{rawResponse:r})]}})})},t.prototype.doStream=function(e){return VO(this,void 0,void 0,function(){var r,n,o,i,l;return KO(this,function(f){switch(f.label){case 0:return r=null,[4,this.req({url:this.url,data:dr(dr({},na(e)),{stream:!0}),stream:!0})];case 1:return n=f.sent(),o=Lr(n),i=Nn(o),l=i.pipeThrough(new gt({transform:function(p,u){var d=p.choices.map(function(y){var _=y.delta;return r==null&&(r=sn(_)),r?dr(dr({},y),{finish_reason:"tool_calls",delta:_}):y}),v=dr(dr({},p),{choices:d});u.enqueue(dr(dr({},v),{rawResponse:p}))}})),[2,at(l)]}})})},t})(),hr=function(){return hr=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},hr.apply(this,arguments)},YO=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function p(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,p)}u((n=n.apply(t,e||[])).next())})},JO=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return p([u,d])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},PC=(function(){function t(e,r,n){this.req=e,this.baseUrl=r,this.subUrl="hunyuan-open/v1/chat/completions",n!=null&&(this.subUrl=n)}return Object.defineProperty(t.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),t.prototype.doGenerate=function(e,r){return YO(this,void 0,void 0,function(){var n;return JO(this,function(o){switch(o.label){case 0:return[4,this.req({url:this.url,data:hr(hr({},na(e)),{stream:!1}),stream:!1,timeout:r?.timeout})];case 1:return n=o.sent(),[2,hr(hr({},n),{rawResponse:n})]}})})},t.prototype.doStream=function(e,r){return YO(this,void 0,void 0,function(){var n,o,i,l,f;return JO(this,function(p){switch(p.label){case 0:return n=null,[4,this.req({url:this.url,data:hr(hr({},na(e)),{stream:!0}),stream:!0,timeout:r?.timeout})];case 1:return o=p.sent(),i=Lr(o),l=Nn(i),f=l.pipeThrough(new gt({transform:function(u,d){var v=u.choices.map(function(_){var w=_.delta;return n==null&&(n=sn(w)),n?hr(hr({},_),{finish_reason:"tool_calls",delta:w}):_}),y=hr(hr({},u),{choices:v});d.enqueue(hr(hr({},y),{rawResponse:u}))}})),[2,at(f)]}})})},t})(),pr=function(){return pr=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},pr.apply(this,arguments)},QO=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function p(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,p)}u((n=n.apply(t,e||[])).next())})},XO=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return p([u,d])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},_8=(function(){function t(e,r,n){this.req=e,this.baseUrl=r,this.subUrl="deepseek/chat/completions",n!=null&&(this.subUrl=n)}return Object.defineProperty(t.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),t.prototype.doGenerate=function(e,r){return QO(this,void 0,void 0,function(){var n;return XO(this,function(o){switch(o.label){case 0:return[4,this.req({url:this.url,data:pr(pr({},e),{stream:!1}),stream:!1,timeout:r?.timeout})];case 1:return n=o.sent(),[2,pr(pr({},n),{rawResponse:n})]}})})},t.prototype.doStream=function(e,r){return QO(this,void 0,void 0,function(){var n,o,i,l,f;return XO(this,function(p){switch(p.label){case 0:return n=null,[4,this.req({url:this.url,data:pr(pr({},e),{stream:!0}),stream:!0,timeout:r?.timeout})];case 1:return o=p.sent(),i=Lr(o),l=Nn(i),f=l.pipeThrough(new gt({transform:function(u,d){var v=u.choices.map(function(_){var w=_.delta;return n==null&&(n=sn(w)),n?pr(pr({},_),{finish_reason:"tool_calls",delta:w}):_}),y=pr(pr({},u),{choices:v});d.enqueue(pr(pr({},y),{rawResponse:u}))}})),[2,at(f)]}})})},t})(),vr=function(){return vr=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},vr.apply(this,arguments)},ZO=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function p(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,p)}u((n=n.apply(t,e||[])).next())})},e2=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return p([u,d])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},NC=(function(){function t(e,r,n){n===void 0&&(n=""),this.req=e,this.baseUrl=r,this.subUrl=n}return Object.defineProperty(t.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),t.prototype.doGenerate=function(e){return ZO(this,void 0,void 0,function(){var r;return e2(this,function(n){switch(n.label){case 0:return[4,this.req({url:this.url,data:vr(vr({},e),{stream:!1}),stream:!1})];case 1:return r=n.sent(),[2,vr(vr({},r),{rawResponse:r})]}})})},t.prototype.doStream=function(e){return ZO(this,void 0,void 0,function(){var r,n,o,i,l;return e2(this,function(f){switch(f.label){case 0:return r=null,[4,this.req({url:this.url,data:vr(vr({},e),{stream:!0}),stream:!0})];case 1:return n=f.sent(),o=Lr(n),i=Nn(o),l=i.pipeThrough(new gt({transform:function(p,u){var d=p.choices.map(function(y){var _=y.delta;return r==null&&(r=sn(_)),r?vr(vr({},y),{finish_reason:"tool_calls",delta:_}):y}),v=vr(vr({},p),{choices:d});u.enqueue(vr(vr({},v),{rawResponse:p}))}})),[2,at(l)]}})})},t})(),ed=function(){return ed=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},ed.apply(this,arguments)},ag=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function p(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,p)}u((n=n.apply(t,e||[])).next())})},sg=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return p([u,d])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},w8=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r},b8=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(l){return new Promise(function(f,p){l=t[i](l),o(f,p,l.done,l.value)})}}function o(i,l,f,p){Promise.resolve(p).then(function(u){i({value:u,done:f})},l)}},Wn=function(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))};function t2(t){var e,r=t.onStepFinish,n=t.abortSignal,o=t.maxSteps,i=t.topP,l=t.toolChoice,f=w8(t,["onStepFinish","abortSignal","maxSteps","topP","toolChoice"]);if(o!=null&&o<1)throw new Error("`maxSteps` muse be greater than 0.");return[{onStepFinish:r,abortSignal:n,maxSteps:o},ed(ed({},f),{tools:(e=f.tools)===null||e===void 0?void 0:e.map(function(p){return"fn"in p?m8(p):p}),top_p:i??f.top_p,tool_choice:l??f.tool_choice})]}var kC=(function(){function t(e){this.model=e}return t.prototype.generateText=function(e,r){var n,o;return ag(this,void 0,void 0,function(){var i,l,f,p,u,d,v,y,_,w,S,T,O,x,A,C,U,q,Y,J,k,W=this;return sg(this,function(F){switch(F.label){case 0:return i=[],l={completion_tokens:0,prompt_tokens:0,total_tokens:0},f=t2(e),p=f[0],u=p.onStepFinish,d=p.maxSteps,v=d===void 0?10:d,y=f[1],_=function(){return W.model.doGenerate(y,r)},[4,_()];case 1:w=F.sent(),S=1,w.rawResponse&&i.push(w.rawResponse),T=null,F.label=2;case 2:if(!(S<v&&(T=r2(w))!=null))return[3,9];O=o2(w.usage),Tu(l,O),F.label=3;case 3:return F.trys.push([3,7,,8]),[4,i2(T)];case 4:return x=F.sent(),A=w.choices[0],[4,u?.({finishReason:A.finish_reason,messages:y.messages.slice(),text:A.message.content,toolCall:T,toolResult:x,stepUsage:O,totalUsage:Object.assign({},l)})];case 5:return F.sent(),n2(y.messages,A.message,x),[4,_()];case 6:return w=F.sent(),w.rawResponse&&i.push(w.rawResponse),S+=1,[3,8];case 7:return C=F.sent(),[2,{text:"",messages:y.messages,usage:l,error:C,rawResponses:i}];case 8:return[3,2];case 9:return U=(n=w?.choices)===null||n===void 0?void 0:n[0],q=U?.message,Y=(o=q?.content)!==null&&o!==void 0?o:"",J=q?Wn(Wn([],y.messages,!0),[q],!1):y.messages,k=o2(w.usage),Tu(l,k),[4,u?.({finishReason:U.finish_reason,messages:J.slice(),text:Y,toolCall:r2(w),toolResult:null,stepUsage:k,totalUsage:Object.assign({},l)})];case 10:return F.sent(),[2,{text:Y,messages:J,usage:l,rawResponses:i}]}})})},t.prototype.streamText=function(e,r){var n;return ag(this,void 0,void 0,function(){var o,i,l,f,p,u,d,v,y,_,w,S,T,O,x,A,C,U,q,Y,J,k,W,F,V,G,K,ae,fe,ce,Q,ee,X,j,Z,Ie,xe=this;return sg(this,function(Re){switch(Re.label){case 0:return o={completion_tokens:0,prompt_tokens:0,total_tokens:0},i=t2(e),l=i[0],f=l.onStepFinish,p=l.maxSteps,u=p===void 0?10:p,d=i[1],v=function(){return xe.model.doStream(d,r)},[4,v()];case 1:y=Re.sent(),_=1,w=null,S=function(){var de=y.tee(),je=de[0],Te=de[1];return y=at(je),E8(Te)},Re.label=2;case 2:return T=_<u,T?[4,S()]:[3,4];case 3:T=(w=Re.sent())!=null,Re.label=4;case 4:if(!T)return[3,11];O=w.message,x=w.usage,Tu(o,x),A=(n=O.tool_calls)===null||n===void 0?void 0:n[0],Re.label=5;case 5:return Re.trys.push([5,9,,10]),[4,i2(A)];case 6:return C=Re.sent(),[4,f?.({finishReason:"tool_calls",messages:d.messages.slice(),text:O.content,toolCall:A,toolResult:C,stepUsage:x,totalUsage:Object.assign({},o)})];case 7:return Re.sent(),n2(d.messages,O,C),[4,v()];case 8:return y=Re.sent(),[3,10];case 9:return U=Re.sent(),q=y.tee(),Y=q[0],J=q[1],[2,{messages:Promise.resolve(d.messages),dataStream:at(Y),textStream:at(J.pipeThrough(new gt({transform:function(de,je){var Te,Le,Fe,nt=(Fe=(Le=(Te=de?.choices)===null||Te===void 0?void 0:Te[0])===null||Le===void 0?void 0:Le.delta)===null||Fe===void 0?void 0:Fe.content;typeof nt=="string"&&je.enqueue(nt)}}))),usage:Promise.resolve(o),error:U}];case 10:return[3,2];case 11:return[4,S()];case 12:return w=Re.sent(),w?(k=w.message,W=w.usage,Tu(o,W),F=Wn(Wn([],d.messages,!0),[k],!1),f({messages:F.slice(),finishReason:"tool_call",stepUsage:W,text:k.content,toolCall:k.tool_calls[0],totalUsage:Object.assign({},o)}),V=y.tee(),G=V[0],K=V[1],[2,{messages:Promise.resolve(Wn(Wn([],d.messages,!0),[k],!1)),dataStream:at(G),textStream:at(K.pipeThrough(new gt({transform:function(de,je){var Te,Le,Fe,nt=(Fe=(Le=(Te=de?.choices)===null||Te===void 0?void 0:Te[0])===null||Le===void 0?void 0:Le.delta)===null||Fe===void 0?void 0:Fe.content;typeof nt=="string"&&je.enqueue(nt)}}))),usage:Promise.resolve(o)}]):(ae=xO(),fe=xO(),ce={role:"assistant",content:""},Q="",ee={completion_tokens:0,prompt_tokens:0,total_tokens:0},X=y.pipeThrough(new gt({transform:function(de,je){var Te,Le,Fe,nt,_t,er,un,R,b=(Fe=(Le=(Te=de?.choices)===null||Te===void 0?void 0:Te[0])===null||Le===void 0?void 0:Le.delta)===null||Fe===void 0?void 0:Fe.content;typeof b=="string"&&(ce.content+=b);var E=(_t=(nt=de?.choices)===null||nt===void 0?void 0:nt[0])===null||_t===void 0?void 0:_t.finish_reason;E&&(Q=E),!((er=de?.usage)===null||er===void 0)&&er.completion_tokens&&(ee.completion_tokens=de.usage.completion_tokens),!((un=de?.usage)===null||un===void 0)&&un.prompt_tokens&&(ee.prompt_tokens=de.usage.prompt_tokens),!((R=de?.usage)===null||R===void 0)&&R.total_tokens&&(ee.total_tokens=de.usage.total_tokens),je.enqueue(de)},flush:function(){ae.res(Wn(Wn([],d.messages,!0),[ce],!1)),Tu(o,ee),fe.res(Object.assign({},o)),f?.({messages:Wn(Wn([],d.messages,!0),[ce],!1),finishReason:Q,text:ce.content,stepUsage:ee,totalUsage:Object.assign({},o)})}})),j=X.tee(),Z=j[0],Ie=j[1],[2,{messages:ae.promise,dataStream:at(Z),textStream:at(Ie.pipeThrough(new gt({transform:function(de,je){var Te,Le,Fe,nt=(Fe=(Le=(Te=de?.choices)===null||Te===void 0?void 0:Te[0])===null||Le===void 0?void 0:Le.delta)===null||Fe===void 0?void 0:Fe.content;typeof nt=="string"&&je.enqueue(nt)}}))),usage:fe.promise}])}})})},t})();function r2(t){var e,r=(e=t?.choices)===null||e===void 0?void 0:e[0];if(!r)return null;var n=r.finish_reason,o=r.message;return n!=="tool_calls"||!o||!sn(o)?null:o.tool_calls[0]}function n2(t,e,r){t.push(e,{role:"tool",tool_call_id:e.tool_calls[0].id,content:JSON.stringify(r)})}function E8(t){var e,r,n,o,i,l,f,p,u,d;return ag(this,void 0,void 0,function(){var v,y,_,w,S,T,O,x,A,C,U,q,Y;return sg(this,function(J){switch(J.label){case 0:v={completion_tokens:0,prompt_tokens:0,total_tokens:0},y=at(t),_={id:"",function:{name:"",arguments:""},type:""},w={role:"assistant",content:"",tool_calls:[_]},J.label=1;case 1:J.trys.push([1,6,7,12]),S=!0,T=b8(y),J.label=2;case 2:return[4,T.next()];case 3:if(O=J.sent(),e=O.done,!!e)return[3,5];o=O.value,S=!1;try{if(x=o,A=x?.choices[0],!A)return[2,null];if(C=A.finish_reason,U=A.delta,C!=="tool_calls")return[2,null];if(!U)return[3,4];if(U.content&&(w.content+=U.content),!("tool_calls"in U))return[3,4];q=(i=U?.tool_calls)===null||i===void 0?void 0:i[0],q?.id&&(_.id=q.id),q?.type&&(_.type=q.type),!((l=q?.function)===null||l===void 0)&&l.name&&(_.function.name=q.function.name),!((f=q?.function)===null||f===void 0)&&f.arguments&&(_.function.arguments+=q.function.arguments),!((p=x?.usage)===null||p===void 0)&&p.completion_tokens&&(v.completion_tokens=x.usage.completion_tokens),!((u=x?.usage)===null||u===void 0)&&u.prompt_tokens&&(v.prompt_tokens=x.usage.prompt_tokens),!((d=x?.usage)===null||d===void 0)&&d.total_tokens&&(v.total_tokens=x.usage.total_tokens)}finally{S=!0}J.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return Y=J.sent(),r={error:Y},[3,12];case 7:return J.trys.push([7,,10,11]),!S&&!e&&(n=T.return)?[4,n.call(T)]:[3,9];case 8:J.sent(),J.label=9;case 9:return[3,11];case 10:if(r)throw r.error;return[7];case 11:return[7];case 12:return[2,{message:w,usage:v}]}})})}var td=new Map;function i2(t){return td.get(t.function.name)(JSON.parse(t.function.arguments))}function o2(t){var e,r,n;return{completion_tokens:(e=t?.completion_tokens)!==null&&e!==void 0?e:0,prompt_tokens:(r=t?.prompt_tokens)!==null&&r!==void 0?r:0,total_tokens:(n=t?.total_tokens)!==null&&n!==void 0?n:0}}function Tu(t,e){t.completion_tokens+=e.completion_tokens,t.prompt_tokens+=e.prompt_tokens,t.total_tokens+=e.total_tokens}var LC={hunyuan:TC,"hunyuan-beta":IC,ark:OC,dashscope:xC,"01-ai":RC,moonshot:AC,zhipu:SC,"hunyuan-exp":CC,"hunyuan-open":PC,deepseek:_8};const S8=Object.freeze(Object.defineProperty({__proto__:null,ArkSimpleModel:OC,DSSimpleModel:xC,DefaultSimpleModel:NC,HunYuanBetaSimpleModel:IC,HunYuanExpSimpleModel:CC,HunYuanOpenSimpleModel:PC,HunYuanSimpleModel:TC,MODELS:LC,MoonshotSimpleModel:AC,ReactModel:kC,YiSimpleModel:RC,ZhiPuSimpleModel:SC,toolMap:td},Symbol.toStringTag,{value:"Module"}));var ns=function(){return ns=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},ns.apply(this,arguments)},d0=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function p(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,p)}u((n=n.apply(t,e||[])).next())})},h0=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return p([u,d])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},p0=LC,I8=(function(){function t(e,r,n){var o=this;this.req=e,this.baseUrl=r,this.modelRequest=function(i){var l=i.url,f=i.data,p=i.headers,u=i.stream,d=i.timeout;return d0(o,void 0,void 0,function(){var v,y,_,w,S,T,O;return h0(this,function(x){switch(x.label){case 0:return v={"Content-Type":"application/json"},u&&Object.assign(v,{Accept:"text/event-stream"}),[4,this.req.fetch({method:"post",headers:ns(ns((S={},S[(T=this.i18n)===null||T===void 0?void 0:T.LANG_HEADER_KEY]=(O=this.i18n)===null||O===void 0?void 0:O.lang,S),v),p),body:JSON.stringify(f),url:l,stream:u,timeout:d})];case 1:return y=x.sent(),_=y.data,w=y.header,[2,this.handleResponseData(_,w)]}})})},this.botRequest=function(i){var l=i.method,f=i.url,p=i.data,u=p===void 0?{}:p,d=i.headers,v=i.stream,y=i.timeout;return d0(o,void 0,void 0,function(){function _(q){return Object.entries(q).map(function(Y){var J=Y[0],k=Y[1];return"".concat(J,"=").concat(k)}).join("&")}var w,S,T,O,x,A,C,U;return h0(this,function(q){switch(q.label){case 0:return l!=="get"?[3,2]:(w=this.handleResponseData,[4,this.req.fetch({url:"".concat(f,"?").concat(_(u)),method:l,headers:d,stream:v,timeout:y})]);case 1:return[2,w.apply(this,[q.sent().data])];case 2:return S={"Content-Type":"application/json"},v&&Object.assign(S,{Accept:"text/event-stream"}),[4,this.req.fetch({url:f,body:JSON.stringify(u),headers:ns(ns((A={},A[(C=this.i18n)===null||C===void 0?void 0:C.LANG_HEADER_KEY]=(U=this.i18n)===null||U===void 0?void 0:U.lang,A),S),d),stream:v,method:l,timeout:y})];case 3:return T=q.sent(),O=T.data,x=T.header,[2,this.handleResponseData(O,x)]}})})},this.aiBaseUrl="".concat(r,"/ai"),this.aiBotBaseUrl="".concat(r,"/aibot"),this.bot=new g8(this.botRequest,this.aiBotBaseUrl),this.i18n=n,hd.on(pd,function(i){var l;o.i18n=((l=i.data)===null||l===void 0?void 0:l.i18n)||o.i18n})}return t.prototype.handleResponseData=function(e,r){var n,o;return d0(this,void 0,void 0,function(){var i,l,l;return h0(this,function(f){switch(f.label){case 0:return i="".concat(this.i18n.t(" AI+ "),"https://tcb.cloud.tencent.com/dev#/ai"),typeof e=="object"&&e&&"then"in e?[4,e]:[3,2];case 1:if(l=f.sent(),typeof l=="object"&&l&&"code"in l&&l.code!=="NORMAL")throw new Error("".concat(this.i18n.t("AI+ "),"").concat(l.code,"").concat(this.i18n.t(""),"").concat(l.message,`
`).concat(i,`
`).concat(JSON.stringify(l,null,2)));return[2,e];case 2:return!((o=(n=r?.get)===null||n===void 0?void 0:n.call(r,"content-type"))===null||o===void 0)&&o.includes("application/json")?[4,y8(e)]:[3,4];case 3:if(l=f.sent(),typeof l=="object"&&l&&"code"in l&&l.code!=="NORMAL")throw new Error("".concat(this.i18n.t("AI+ "),"").concat(l.code,"").concat(this.i18n.t(""),"").concat(l.message,`
`).concat(i,`
`).concat(JSON.stringify(l,null,2)));f.label=4;case 4:return[2,e]}})})},t.prototype.createModel=function(e,r){var n,o=p0[e];if(o)n=new o(this.modelRequest,this.aiBaseUrl);else{var i=typeof r?.defaultModelSubUrl=="string"?r.defaultModelSubUrl:"/chat/completions";n=new NC(this.modelRequest,this.aiBaseUrl,"".concat(e).concat(i))}var l=new kC(n);return l},t.prototype.registerModel=function(e,r){if(p0[e]!=null){console.warn("AI model ".concat(e," already exists!"));return}p0[e]=r},t.prototype.registerFunctionTool=function(e){td.has(e.name)&&console.warn("AI function tool ".concat(e.name," already exists and will be overwritten!")),td.set(e.name,e.fn)},t})(),rd=function(){return rd=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},rd.apply(this,arguments)},T8=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function p(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,p)}u((n=n.apply(t,e||[])).next())})},O8=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return p([u,d])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},jC=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r},x8="ai";jC(S8,["MODELS"]);var R8=function(t){var e=t.getAccessToken,r=t.req,n=function(o){return T8(void 0,void 0,void 0,function(){var i,l,f,p,u;return O8(this,function(d){switch(d.label){case 0:if(typeof r.fetch!="function")throw new Error("req.fetch is not a function");return i=o.token,l=o.headers,f=l===void 0?{}:l,p=jC(o,["token","headers"]),i==null?[3,1]:(u=i,[3,3]);case 1:return[4,e()];case 2:u=d.sent().accessToken,d.label=3;case 3:return[2,r.fetch(rd({headers:rd({Authorization:"Bearer ".concat(u)},f)},p))]}})})};return{download:r.download,post:r.post,upload:r.upload,fetch:n}};function A8(t){var e=t.env,r=t.baseUrl,n=t.req,o=t.getAccessToken,i=t.handleReqInstance,l=t.i18n,f=function(){if(r!=null)return r;if(e==null)throw new Error("`env` is required when `baseUrl` is not provided!");return"https://".concat(e,".api.tcloudbasegateway.com/v1")},p=function(){if(i==null){if(o==null)throw new Error("`getAccessToken` is required when `handleReqInstance` is not provided!");return R8({req:n,getAccessToken:o})}return i({req:n})};return new I8(p(),f(),l)}function C8(t){var e=this,r,n=this.request;if(n.fetch==null)throw new Error("cloudbase.request.fetch() unimplemented!");var o=function(){var l=e.getEndPointWithKey("GATEWAY"),f=l.BASE_URL,p=l.PROTOCOL;return"".concat(p).concat(f)},i=(r=t?.baseUrl)!==null&&r!==void 0?r:o();return A8({req:n,baseUrl:i,handleReqInstance:function(l){var f=l.req;return f},i18n:this.config.i18n})}var P8={name:x8,entity:{ai:C8}};function DC(t){try{t.registerComponent(P8)}catch(e){console.warn(e)}}try{window.registerAi=DC}catch{}var Ku=function(){return Ku=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ku.apply(this,arguments)},N8=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function p(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,p)}u((n=n.apply(t,e||[])).next())})},k8=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return p([u,d])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};function UC(t,e){var r=this,n=t.request.fetch.bind(t.request),o=e||{},i=o.instance,l=i===void 0?"default":i,f=o.database,p=f===void 0?t.config.env:f,u=function(S,T){return N8(r,void 0,void 0,function(){var O,x,A,C,U;return k8(this,function(q){switch(q.label){case 0:return O={},T.headers instanceof Headers?T.headers.forEach(function(Y,J){O[J]=Y}):O=T.headers||{},[4,n(Ku(Ku({url:S.toString()},T),{headers:Ku({"Content-Type":"application/json","X-Db-Instance":l,"Accept-Profile":p,"Content-Profile":p},O),shouldThrowOnError:!1}))];case 1:x=q.sent(),A={},q.label=2;case 2:return q.trys.push([2,4,,5]),[4,x.data];case 3:return A=q.sent(),[3,5];case 4:if(C=q.sent(),!C.message.includes("Unexpected end of JSON input"))throw C;return[3,5];case 5:return U={ok:x?.statusCode>=200&&x?.statusCode<300,status:x?.statusCode||200,statusText:x?.statusMessage||"OK",json:function(){return Promise.resolve(A||{})},text:function(){return Promise.resolve(typeof A=="string"?A:JSON.stringify(A||{}))},headers:x?.header},[2,U]}})})},d=t.getEndPointWithKey("GATEWAY"),v=d.BASE_URL,y=d.PROTOCOL,_="".concat(y).concat(v,"/rdb/rest"),w=z$(t,{mysqlBaseUrl:_,fetch:u});return w}var FC={name:"mysql",entity:{mysql:function(t){return UC(this,t)(t)}}},MC={name:"rdb",entity:{rdb:function(t){return UC(this,t)(t)}}};try{cloudbase.registerComponent(FC),cloudbase.registerComponent(MC)}catch{}function BC(t){try{t.registerComponent(FC),t.registerComponent(MC)}catch(e){console.warn(e)}}try{window.registerMySQL=BC}catch{}var Lo,mi;(function(t){t.DocIDError="ID",t.CollNameError="",t.OpStrError="",t.DirectionError="",t.IntergerError="must be integer",t.QueryParamTypeError="",t.QueryParamValueError="undefined"})(mi||(mi={}));var rt={Number:"Number",Object:"Object",Array:"Array",GeoPoint:"GeoPoint",GeoLineString:"GeoLineString",GeoPolygon:"GeoPolygon",GeoMultiPoint:"GeoMultiPoint",GeoMultiLineString:"GeoMultiLineString",GeoMultiPolygon:"GeoMultiPolygon",Timestamp:"Date",ServerDate:"ServerDate",BsonDate:"BsonDate"},L8=["desc","asc"],j8=["<","<=","==",">=",">"],$o;(function(t){t.lt="<",t.gt=">",t.lte="<=",t.gte=">=",t.eq="=="})($o||($o={}));Lo={},Lo[$o.eq]="$eq",Lo[$o.lt]="$lt",Lo[$o.lte]="$lte",Lo[$o.gt]="$gt",Lo[$o.gte]="$gte";var Xn;(function(t){t.WHERE="WHERE",t.DOC="DOC"})(Xn||(Xn={}));var D8=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),af=[],a2={},U8=(function(){function t(e){Object.defineProperties(this,{target:{enumerable:!1,writable:!1,configurable:!1,value:e}})}return t})(),jr=(function(t){D8(e,t);function e(r,n){var o=this;if(n!==a2)throw new TypeError("InternalSymbol cannot be constructed with new operator");return o=t.call(this,r)||this,o}return e.for=function(r){for(var n=0,o=af.length;n<o;n++)if(af[n].target===r)return af[n].instance;var i=new e(r,a2);return af.push({target:r,instance:i}),i},e})(U8),sl=jr.for("UNSET_FIELD_NAME"),qC=jr.for("UPDATE_COMMAND"),$C=jr.for("QUERY_COMMAND"),WC=jr.for("LOGIC_COMMAND"),HC=jr.for("GEO_POINT"),F8=jr.for("SYMBOL_GEO_LINE_STRING"),M8=jr.for("SYMBOL_GEO_POLYGON"),B8=jr.for("SYMBOL_GEO_MULTI_POINT"),q8=jr.for("SYMBOL_GEO_MULTI_LINE_STRING"),$8=jr.for("SYMBOL_GEO_MULTI_POLYGON"),GC=jr.for("SERVER_DATE"),zC=jr.for("REGEXP"),VC=(function(){function t(e){var r=(e===void 0?{}:e).offset,n=r===void 0?0:r;this.offset=n}return Object.defineProperty(t.prototype,"_internalType",{get:function(){return GC},enumerable:!0,configurable:!0}),t.prototype.parse=function(){return{$date:{offset:this.offset}}},t})();function W8(t){return new VC(t)}var v0=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,i=[],l;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(f){l={error:f}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(l)throw l.error}}return i},Fd=(function(){function t(){}return t.formatResDocumentData=function(e){return e.map(function(r){return t.formatField(r)})},t.formatField=function(e){var r=Object.keys(e),n={};return Array.isArray(e)&&(n=[]),r.forEach(function(o){var i=e[o],l=t.whichType(i),f;switch(l){case rt.GeoPoint:f=new gr(i.coordinates[0],i.coordinates[1]);break;case rt.GeoLineString:f=new Kn(i.coordinates.map(function(p){return new gr(p[0],p[1])}));break;case rt.GeoPolygon:f=new Yo(i.coordinates.map(function(p){return new Kn(p.map(function(u){var d=v0(u,2),v=d[0],y=d[1];return new gr(v,y)}))}));break;case rt.GeoMultiPoint:f=new nd(i.coordinates.map(function(p){return new gr(p[0],p[1])}));break;case rt.GeoMultiLineString:f=new id(i.coordinates.map(function(p){return new Kn(p.map(function(u){var d=v0(u,2),v=d[0],y=d[1];return new gr(v,y)}))}));break;case rt.GeoMultiPolygon:f=new ul(i.coordinates.map(function(p){return new Yo(p.map(function(u){return new Kn(u.map(function(d){var v=v0(d,2),y=v[0],_=v[1];return new gr(y,_)}))}))}));break;case rt.Timestamp:f=new Date(i.$timestamp*1e3);break;case rt.Object:case rt.Array:f=t.formatField(i);break;case rt.ServerDate:f=new Date(i.$date);break;default:f=i}Array.isArray(n)?n.push(f):n[o]=f}),n},t.whichType=function(e){var r=Object.prototype.toString.call(e).slice(8,-1);if(r===rt.Timestamp)return rt.BsonDate;if(r===rt.Object){if(e instanceof gr)return rt.GeoPoint;if(e instanceof Date)return rt.Timestamp;if(e instanceof VC)return rt.ServerDate;e.$timestamp?r=rt.Timestamp:e.$date?r=rt.ServerDate:gr.validate(e)?r=rt.GeoPoint:Kn.validate(e)?r=rt.GeoLineString:Yo.validate(e)?r=rt.GeoPolygon:nd.validate(e)?r=rt.GeoMultiPoint:id.validate(e)?r=rt.GeoMultiLineString:ul.validate(e)&&(r=rt.GeoMultiPolygon)}return r},t.generateDocId=function(){for(var e="ABCDEFabcdef0123456789",r="",n=0;n<24;n++)r+=e.charAt(Math.floor(Math.random()*e.length));return r},t})(),io=(function(){function t(){}return t.isGeopoint=function(e,r){if(Fd.whichType(r)!==rt.Number)throw new Error("Geo Point must be number type");var n=Math.abs(r);if(e==="latitude"&&n>90)throw new Error("latitude should be a number ranges from -90 to 90");if(e==="longitude"&&n>180)throw new Error("longitude should be a number ranges from -180 to 180");return!0},t.isInteger=function(e,r){if(!Number.isInteger(r))throw new Error(e+mi.IntergerError);return!0},t.isFieldOrder=function(e){if(L8.indexOf(e)===-1)throw new Error(mi.DirectionError);return!0},t.isFieldPath=function(e){if(!/^[a-zA-Z0-9-_\.]/.test(e))throw new Error;return!0},t.isOperator=function(e){if(j8.indexOf(e)===-1)throw new Error(mi.OpStrError);return!0},t.isCollName=function(e){if(!/^[a-zA-Z0-9]([a-zA-Z0-9-_]){1,32}$/.test(e))throw new Error(mi.CollNameError);return!0},t.isDocID=function(e){if(!/^([a-fA-F0-9]){24}$/.test(e))throw new Error(mi.DocIDError);return!0},t})(),Zn=function(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()},ao=function(t){return Zn(t)==="object"},H8=function(t){return Zn(t)==="string"},tn=function(t){return Zn(t)==="number"},ht=function(t){return Array.isArray(t)},KC=function(t){return Zn(t)==="date"},S_=function(t){return Zn(t)==="regexp"},YC=function(t){return t&&t._internalType instanceof jr},gr=(function(){function t(e,r){io.isGeopoint("longitude",e),io.isGeopoint("latitude",r),this.longitude=e,this.latitude=r}return t.prototype.parse=function(e){var r;return r={},r[e]={type:"Point",coordinates:[this.longitude,this.latitude]},r},t.prototype.toJSON=function(){return{type:"Point",coordinates:[this.longitude,this.latitude]}},t.prototype.toReadableString=function(){return"["+this.longitude+","+this.latitude+"]"},t.validate=function(e){return e.type==="Point"&&ht(e.coordinates)&&io.isGeopoint("longitude",e.coordinates[0])&&io.isGeopoint("latitude",e.coordinates[1])},Object.defineProperty(t.prototype,"_internalType",{get:function(){return HC},enumerable:!0,configurable:!0}),t})(),G8=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Kn=(function(){function t(e){if(!ht(e))throw new TypeError('"points" must be of type Point[]. Received type '+typeof e);if(e.length<2)throw new Error('"points" must contain 2 points at least');e.forEach(function(r){if(!(r instanceof gr))throw new TypeError('"points" must be of type Point[]. Received type '+typeof r+"[]")}),this.points=e}return t.prototype.parse=function(e){var r;return r={},r[e]={type:"LineString",coordinates:this.points.map(function(n){return n.toJSON().coordinates})},r},t.prototype.toJSON=function(){return{type:"LineString",coordinates:this.points.map(function(e){return e.toJSON().coordinates})}},t.validate=function(e){var r,n;if(e.type!=="LineString"||!ht(e.coordinates))return!1;try{for(var o=G8(e.coordinates),i=o.next();!i.done;i=o.next()){var l=i.value;if(!tn(l[0])||!tn(l[1]))return!1}}catch(f){r={error:f}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return!0},t.isClosed=function(e){var r=e.points[0],n=e.points[e.points.length-1];if(r.latitude===n.latitude&&r.longitude===n.longitude)return!0},Object.defineProperty(t.prototype,"_internalType",{get:function(){return F8},enumerable:!0,configurable:!0}),t})(),s2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yo=(function(){function t(e){if(!ht(e))throw new TypeError('"lines" must be of type LineString[]. Received type '+typeof e);if(e.length===0)throw new Error("Polygon must contain 1 linestring at least");e.forEach(function(r){if(!(r instanceof Kn))throw new TypeError('"lines" must be of type LineString[]. Received type '+typeof r+"[]");if(!Kn.isClosed(r))throw new Error("LineString "+r.points.map(function(n){return n.toReadableString()})+" is not a closed cycle")}),this.lines=e}return t.prototype.parse=function(e){var r;return r={},r[e]={type:"Polygon",coordinates:this.lines.map(function(n){return n.points.map(function(o){return[o.longitude,o.latitude]})})},r},t.prototype.toJSON=function(){return{type:"Polygon",coordinates:this.lines.map(function(e){return e.points.map(function(r){return[r.longitude,r.latitude]})})}},t.validate=function(e){var r,n,o,i;if(e.type!=="Polygon"||!ht(e.coordinates))return!1;try{for(var l=s2(e.coordinates),f=l.next();!f.done;f=l.next()){var p=f.value;if(!this.isCloseLineString(p))return!1;try{for(var u=(o=void 0,s2(p)),d=u.next();!d.done;d=u.next()){var v=d.value;if(!tn(v[0])||!tn(v[1]))return!1}}catch(y){o={error:y}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}}}catch(y){r={error:y}}finally{try{f&&!f.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return!0},t.isCloseLineString=function(e){var r=e[0],n=e[e.length-1];return!(r[0]!==n[0]||r[1]!==n[1])},Object.defineProperty(t.prototype,"_internalType",{get:function(){return $8},enumerable:!0,configurable:!0}),t})(),z8=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nd=(function(){function t(e){if(!ht(e))throw new TypeError('"points" must be of type Point[]. Received type '+typeof e);if(e.length===0)throw new Error('"points" must contain 1 point at least');e.forEach(function(r){if(!(r instanceof gr))throw new TypeError('"points" must be of type Point[]. Received type '+typeof r+"[]")}),this.points=e}return t.prototype.parse=function(e){var r;return r={},r[e]={type:"MultiPoint",coordinates:this.points.map(function(n){return n.toJSON().coordinates})},r},t.prototype.toJSON=function(){return{type:"MultiPoint",coordinates:this.points.map(function(e){return e.toJSON().coordinates})}},t.validate=function(e){var r,n;if(e.type!=="MultiPoint"||!ht(e.coordinates))return!1;try{for(var o=z8(e.coordinates),i=o.next();!i.done;i=o.next()){var l=i.value;if(!tn(l[0])||!tn(l[1]))return!1}}catch(f){r={error:f}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return!0},Object.defineProperty(t.prototype,"_internalType",{get:function(){return B8},enumerable:!0,configurable:!0}),t})(),u2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},id=(function(){function t(e){if(!ht(e))throw new TypeError('"lines" must be of type LineString[]. Received type '+typeof e);if(e.length===0)throw new Error("Polygon must contain 1 linestring at least");e.forEach(function(r){if(!(r instanceof Kn))throw new TypeError('"lines" must be of type LineString[]. Received type '+typeof r+"[]")}),this.lines=e}return t.prototype.parse=function(e){var r;return r={},r[e]={type:"MultiLineString",coordinates:this.lines.map(function(n){return n.points.map(function(o){return[o.longitude,o.latitude]})})},r},t.prototype.toJSON=function(){return{type:"MultiLineString",coordinates:this.lines.map(function(e){return e.points.map(function(r){return[r.longitude,r.latitude]})})}},t.validate=function(e){var r,n,o,i;if(e.type!=="MultiLineString"||!ht(e.coordinates))return!1;try{for(var l=u2(e.coordinates),f=l.next();!f.done;f=l.next()){var p=f.value;try{for(var u=(o=void 0,u2(p)),d=u.next();!d.done;d=u.next()){var v=d.value;if(!tn(v[0])||!tn(v[1]))return!1}}catch(y){o={error:y}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}}}catch(y){r={error:y}}finally{try{f&&!f.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return!0},Object.defineProperty(t.prototype,"_internalType",{get:function(){return q8},enumerable:!0,configurable:!0}),t})(),sf=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ul=(function(){function t(e){var r,n;if(!ht(e))throw new TypeError('"polygons" must be of type Polygon[]. Received type '+typeof e);if(e.length===0)throw new Error("MultiPolygon must contain 1 polygon at least");try{for(var o=sf(e),i=o.next();!i.done;i=o.next()){var l=i.value;if(!(l instanceof Yo))throw new TypeError('"polygon" must be of type Polygon[]. Received type '+typeof l+"[]")}}catch(f){r={error:f}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}this.polygons=e}return t.prototype.parse=function(e){var r;return r={},r[e]={type:"MultiPolygon",coordinates:this.polygons.map(function(n){return n.lines.map(function(o){return o.points.map(function(i){return[i.longitude,i.latitude]})})})},r},t.prototype.toJSON=function(){return{type:"MultiPolygon",coordinates:this.polygons.map(function(e){return e.lines.map(function(r){return r.points.map(function(n){return[n.longitude,n.latitude]})})})}},t.validate=function(e){var r,n,o,i,l,f;if(e.type!=="MultiPolygon"||!ht(e.coordinates))return!1;try{for(var p=sf(e.coordinates),u=p.next();!u.done;u=p.next()){var d=u.value;try{for(var v=(o=void 0,sf(d)),y=v.next();!y.done;y=v.next()){var _=y.value;try{for(var w=(l=void 0,sf(_)),S=w.next();!S.done;S=w.next()){var T=S.value;if(!tn(T[0])||!tn(T[1]))return!1}}catch(O){l={error:O}}finally{try{S&&!S.done&&(f=w.return)&&f.call(w)}finally{if(l)throw l.error}}}}catch(O){o={error:O}}finally{try{y&&!y.done&&(i=v.return)&&i.call(v)}finally{if(o)throw o.error}}}}catch(O){r={error:O}}finally{try{u&&!u.done&&(n=p.return)&&n.call(p)}finally{if(r)throw r.error}}return!0},Object.defineProperty(t.prototype,"_internalType",{get:function(){return M8},enumerable:!0,configurable:!0}),t})();const V8=Object.freeze(Object.defineProperty({__proto__:null,LineString:Kn,MultiLineString:id,MultiPoint:nd,MultiPolygon:ul,Point:gr,Polygon:Yo},Symbol.toStringTag,{value:"Module"}));var gi=function(){var t;if(!Promise){t=function(){},t.promise={};var e=function(){throw new Error('Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.')};return Object.defineProperty(t.promise,"then",{get:e}),Object.defineProperty(t.promise,"catch",{get:e}),t}var r=new Promise(function(n,o){t=function(i,l){return i?o(i):n(l)}});return t.promise=r,t},Be;(function(t){t.SET="set",t.REMOVE="remove",t.INC="inc",t.MUL="mul",t.PUSH="push",t.PULL="pull",t.PULL_ALL="pullAll",t.POP="pop",t.SHIFT="shift",t.UNSHIFT="unshift",t.ADD_TO_SET="addToSet",t.BIT="bit",t.RENAME="rename",t.MAX="max",t.MIN="min"})(Be||(Be={}));var St=(function(){function t(e,r,n){this._internalType=qC,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=r,this.fieldName=n||sl}return t.prototype._setFieldName=function(e){var r=new t(this.operator,this.operands,e);return r},t})();function l2(t){return t&&t instanceof St&&t._internalType===qC}var Cr;(function(t){t.AND="and",t.OR="or",t.NOT="not",t.NOR="nor"})(Cr||(Cr={}));var zo=(function(){function t(e,r,n){if(this._internalType=WC,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=r,this.fieldName=n||sl,this.fieldName!==sl)if(Array.isArray(r)){r=r.slice(),this.operands=r;for(var o=0,i=r.length;o<i;o++){var l=r[o];(od(l)||ad(l))&&(r[o]=l._setFieldName(this.fieldName))}}else{var l=r;(od(l)||ad(l))&&(r=l._setFieldName(this.fieldName))}}return t.prototype._setFieldName=function(e){var r=this.operands.map(function(o){return o instanceof t?o._setFieldName(e):o}),n=new t(this.operator,r,e);return n},t.prototype.and=function(){var e=Array.isArray(arguments[0])?arguments[0]:Array.from(arguments);return e.unshift(this),new t(Cr.AND,e,this.fieldName)},t.prototype.or=function(){var e=Array.isArray(arguments[0])?arguments[0]:Array.from(arguments);return e.unshift(this),new t(Cr.OR,e,this.fieldName)},t})();function od(t){return t&&t instanceof zo&&t._internalType===WC}var K8=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Ae;(function(t){t.EQ="eq",t.NEQ="neq",t.GT="gt",t.GTE="gte",t.LT="lt",t.LTE="lte",t.IN="in",t.NIN="nin",t.ALL="all",t.ELEM_MATCH="elemMatch",t.EXISTS="exists",t.SIZE="size",t.MOD="mod",t.GEO_NEAR="geoNear",t.GEO_WITHIN="geoWithin",t.GEO_INTERSECTS="geoIntersects"})(Ae||(Ae={}));var At=(function(t){K8(e,t);function e(r,n,o){var i=t.call(this,r,n,o)||this;return i.operator=r,i._internalType=$C,i}return e.prototype.toJSON=function(){var r,n;switch(this.operator){case Ae.IN:case Ae.NIN:return r={},r["$"+this.operator]=this.operands,r;default:return n={},n["$"+this.operator]=this.operands[0],n}},e.prototype._setFieldName=function(r){var n=new e(this.operator,this.operands,r);return n},e.prototype.eq=function(r){var n=new e(Ae.EQ,[r],this.fieldName);return this.and(n)},e.prototype.neq=function(r){var n=new e(Ae.NEQ,[r],this.fieldName);return this.and(n)},e.prototype.gt=function(r){var n=new e(Ae.GT,[r],this.fieldName);return this.and(n)},e.prototype.gte=function(r){var n=new e(Ae.GTE,[r],this.fieldName);return this.and(n)},e.prototype.lt=function(r){var n=new e(Ae.LT,[r],this.fieldName);return this.and(n)},e.prototype.lte=function(r){var n=new e(Ae.LTE,[r],this.fieldName);return this.and(n)},e.prototype.in=function(r){var n=new e(Ae.IN,r,this.fieldName);return this.and(n)},e.prototype.nin=function(r){var n=new e(Ae.NIN,r,this.fieldName);return this.and(n)},e.prototype.geoNear=function(r){if(!(r.geometry instanceof gr))throw new TypeError('"geometry" must be of type Point. Received type '+typeof r.geometry);if(r.maxDistance!==void 0&&!tn(r.maxDistance))throw new TypeError('"maxDistance" must be of type Number. Received type '+typeof r.maxDistance);if(r.minDistance!==void 0&&!tn(r.minDistance))throw new TypeError('"minDistance" must be of type Number. Received type '+typeof r.minDistance);var n=new e(Ae.GEO_NEAR,[r],this.fieldName);return this.and(n)},e.prototype.geoWithin=function(r){if(!(r.geometry instanceof ul)&&!(r.geometry instanceof Yo))throw new TypeError('"geometry" must be of type Polygon or MultiPolygon. Received type '+typeof r.geometry);var n=new e(Ae.GEO_WITHIN,[r],this.fieldName);return this.and(n)},e.prototype.geoIntersects=function(r){if(!(r.geometry instanceof gr)&&!(r.geometry instanceof Kn)&&!(r.geometry instanceof Yo)&&!(r.geometry instanceof nd)&&!(r.geometry instanceof id)&&!(r.geometry instanceof ul))throw new TypeError('"geometry" must be of type Point, LineString, Polygon, MultiPoint, MultiLineString or MultiPolygon. Received type '+typeof r.geometry);var n=new e(Ae.GEO_INTERSECTS,[r],this.fieldName);return this.and(n)},e})(zo);function ad(t){return t&&t instanceof At&&t._internalType===$C}function c2(t){return ad(t)}var fo={};for(var lo in Ae)fo[lo]="$"+lo;for(var lo in Cr)fo[lo]="$"+lo;for(var lo in Be)fo[lo]="$"+lo;fo[Ae.NEQ]="$ne";fo[Be.REMOVE]="$unset";fo[Be.SHIFT]="$pop";fo[Be.UNSHIFT]="$push";function is(t){return fo[t]||"$"+t}var ug=function(){return ug=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},ug.apply(this,arguments)},Y8=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,i=[],l;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(f){l={error:f}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(l)throw l.error}}return i},f2=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Y8(arguments[e]));return t};function ll(t){return lg(t,[t])}function lg(t,e){if(YC(t))switch(t._internalType){case HC:return t.toJSON();case GC:return t.parse();case zC:return t.parse();default:return t.toJSON?t.toJSON():t}else{if(KC(t))return{$date:+t};if(S_(t))return{$regex:t.source,$options:t.flags};if(ht(t))return t.map(function(o){if(e.indexOf(o)>-1)throw new Error("Cannot convert circular structure to JSON");return lg(o,f2(e,[o]))});if(ao(t)){var r=ug({},t);for(var n in r){if(e.indexOf(r[n])>-1)throw new Error("Cannot convert circular structure to JSON");r[n]=lg(r[n],f2(e,[r[n]]))}return r}else return t}}var cg=function(){return cg=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},cg.apply(this,arguments)},J8=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,i=[],l;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(f){l={error:f}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(l)throw l.error}}return i},d2=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(J8(arguments[e]));return t};function JC(t,e,r,n){var o=cg({},t);for(var i in t)if(!/^\$/.test(i)){var l=t[i];if(l&&ao(l)&&!e(l)){if(n.indexOf(l)>-1)throw new Error("Cannot convert circular structure to JSON");var f=d2(r,[i]),p=d2(n,[l]),u=JC(l,e,f,p);o[i]=u;var d=!1;for(var v in u)/^\$/.test(v)?d=!0:(o[i+"."+v]=u[v],delete o[i][v]);d||delete o[i]}}return o}function QC(t){return JC(t,fg,[],[t])}function h2(t,e,r){e[r]||delete t[r];for(var n in e)t[n]?ht(t[n])?t[n].push(e[n]):ao(t[n])?ao(e[n])?Object.assign(t[n],e[n]):(console.warn("unmergable condition, query is object but condition is "+Zn(e)+", can only overwrite",e,r),t[n]=e[n]):(console.warn("to-merge query is of type "+Zn(t)+", can only overwrite",t,e,r),t[n]=e[n]):t[n]=e[n]}function fg(t){return YC(t)||KC(t)||S_(t)}function oo(t){return ll(t)}var I_=(function(){function t(){}return t.encode=function(e){var r=new t;return r.encodeUpdate(e)},t.prototype.encodeUpdate=function(e){return l2(e)?this.encodeUpdateCommand(e):Zn(e)==="object"?this.encodeUpdateObject(e):e},t.prototype.encodeUpdateCommand=function(e){if(e.fieldName===sl)throw new Error("Cannot encode a comparison command with unset field name");switch(e.operator){case Be.PUSH:case Be.PULL:case Be.PULL_ALL:case Be.POP:case Be.SHIFT:case Be.UNSHIFT:case Be.ADD_TO_SET:return this.encodeArrayUpdateCommand(e);default:return this.encodeFieldUpdateCommand(e)}},t.prototype.encodeFieldUpdateCommand=function(e){var r,n,o,i,l=is(e.operator);switch(e.operator){case Be.REMOVE:return r={},r[l]=(n={},n[e.fieldName]="",n),r;default:return o={},o[l]=(i={},i[e.fieldName]=e.operands[0],i),o}},t.prototype.encodeArrayUpdateCommand=function(e){var r,n,o,i,l,f,p,u,d,v,y=is(e.operator);switch(e.operator){case Be.PUSH:{var _=void 0;return ht(e.operands)?_={$each:e.operands.map(oo)}:_=e.operands,r={},r[y]=(n={},n[e.fieldName]=_,n),r}case Be.UNSHIFT:{var _={$each:e.operands.map(oo),$position:0};return o={},o[y]=(i={},i[e.fieldName]=_,i),o}case Be.POP:return l={},l[y]=(f={},f[e.fieldName]=1,f),l;case Be.SHIFT:return p={},p[y]=(u={},u[e.fieldName]=-1,u),p;default:return d={},d[y]=(v={},v[e.fieldName]=oo(e.operands),v),d}},t.prototype.encodeUpdateObject=function(e){var r=QC(e);for(var n in r)if(!/^\$/.test(n)){var o=r[n];if(l2(o)){r[n]=o._setFieldName(n);var i=this.encodeUpdateCommand(r[n]);h2(r,i,n)}else{r[n]=o=oo(o);var l=new St(Be.SET,[o],n),i=this.encodeUpdateCommand(l);h2(r,i,n)}}return r},t})(),y0={};function XC(t){if(!Xt.wsClientClass)throw new Error("to use realtime you must import realtime module first");var e=t.config.env;return y0[e]||(y0[e]=new Xt.wsClientClass({context:{appConfig:{docSizeLimit:1e3,realtimePingInterval:1e4,realtimePongWaitTimeout:5e3,request:new Xt.reqClass(t.config)}}})),y0[e]}var sd=function(){return sd=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},sd.apply(this,arguments)},p2=(function(){function t(e,r,n,o){var i=this;o===void 0&&(o={}),this.watch=function(l){var f=XC(i._db);return f.watch(sd(sd({},l),{envId:i._db.config.env,collectionName:i._coll,query:JSON.stringify({_id:i.id})}))},this._db=e,this._coll=r,this.id=n,this.request=new Xt.reqClass(this._db.config),this.projection=o}return t.prototype.create=function(e,r){r=r||gi();var n={collectionName:this._coll,data:ll(e)};return this.id&&(n._id=this.id),this.request.send("database.addDocument",n).then(function(o){o.code?r(0,o):r(0,{id:o.data._id,requestId:o.requestId})}).catch(function(o){r(o)}),r.promise},t.prototype.set=function(e,r){if(r=r||gi(),!this.id)return Promise.resolve({code:"INVALID_PARAM",message:"docId"});if(!e||typeof e!="object")return Promise.resolve({code:"INVALID_PARAM",message:""});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"_id"});var n=!1,o=function(f){if(typeof f=="object")for(var p in f)f[p]instanceof St?n=!0:typeof f[p]=="object"&&o(f[p])};if(o(e),n)return Promise.resolve({code:"DATABASE_REQUEST_FAILED",message:"update operator complicit"});var i=!1,l={collectionName:this._coll,queryType:Xn.DOC,data:ll(e),multi:!1,merge:i,upsert:!0};return this.id&&(l.query={_id:this.id}),this.request.send("database.updateDocument",l).then(function(f){f.code?r(0,f):r(0,{updated:f.data.updated,upsertedId:f.data.upserted_id,requestId:f.requestId})}).catch(function(f){r(f)}),r.promise},t.prototype.update=function(e,r){if(r=r||gi(),!e||typeof e!="object")return Promise.resolve({code:"INVALID_PARAM",message:""});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"_id"});var n={_id:this.id},o=!0,i={collectionName:this._coll,data:I_.encode(e),query:n,queryType:Xn.DOC,multi:!1,merge:o,upsert:!1};return this.request.send("database.updateDocument",i).then(function(l){l.code?r(0,l):r(0,{updated:l.data.updated,upsertedId:l.data.upserted_id,requestId:l.requestId})}).catch(function(l){r(l)}),r.promise},t.prototype.remove=function(e){e=e||gi();var r={_id:this.id},n={collectionName:this._coll,query:r,queryType:Xn.DOC,multi:!1};return this.request.send("database.deleteDocument",n).then(function(o){o.code?e(0,o):e(0,{deleted:o.data.deleted,requestId:o.requestId})}).catch(function(o){e(o)}),e.promise},t.prototype.get=function(e){e=e||gi();var r={_id:this.id},n={collectionName:this._coll,query:r,queryType:Xn.DOC,multi:!1,projection:this.projection};return this.request.send("database.queryDocument",n).then(function(o){if(o.code)e(0,o);else{var i=Fd.formatResDocumentData(o.data.list);e(0,{data:i,requestId:o.requestId})}}).catch(function(o){e(o)}),e.promise},t.prototype.field=function(e){for(var r in e)e[r]?e[r]=1:e[r]=0;return new t(this._db,this._coll,this.id,e)},t})(),ud=(function(){function t(){}return t.encode=function(e){var r=new Q8;return r.encodeQuery(e)},t})(),Q8=(function(){function t(){}return t.prototype.encodeQuery=function(e,r){var n;return fg(e)?od(e)?this.encodeLogicCommand(e):ad(e)?this.encodeQueryCommand(e):(n={},n[r]=this.encodeQueryObject(e),n):ao(e)?this.encodeQueryObject(e):e},t.prototype.encodeRegExp=function(e){return{$regex:e.source,$options:e.flags}},t.prototype.encodeLogicCommand=function(e){var r,n,o,i,l,f,p,u=this;switch(e.operator){case Cr.NOR:case Cr.AND:case Cr.OR:{var d=is(e.operator),v=e.operands.map(function(w){return u.encodeQuery(w,e.fieldName)});return r={},r[d]=v,r}case Cr.NOT:{var d=is(e.operator),y=e.operands[0];if(S_(y))return n={},n[e.fieldName]=(o={},o[d]=this.encodeRegExp(y),o),n;var v=this.encodeQuery(y)[e.fieldName];return i={},i[e.fieldName]=(l={},l[d]=v,l),i}default:{var d=is(e.operator);if(e.operands.length===1){var _=this.encodeQuery(e.operands[0]);return f={},f[d]=_,f}else{var v=e.operands.map(this.encodeQuery.bind(this));return p={},p[d]=v,p}}}},t.prototype.encodeQueryCommand=function(e){return c2(e)?this.encodeComparisonCommand(e):this.encodeComparisonCommand(e)},t.prototype.encodeComparisonCommand=function(e){var r,n,o,i,l,f,p,u,d;if(e.fieldName===sl)throw new Error("Cannot encode a comparison command with unset field name");var v=is(e.operator);switch(e.operator){case Ae.EQ:case Ae.NEQ:case Ae.LT:case Ae.LTE:case Ae.GT:case Ae.GTE:case Ae.ELEM_MATCH:case Ae.EXISTS:case Ae.SIZE:case Ae.MOD:return r={},r[e.fieldName]=(n={},n[v]=oo(e.operands[0]),n),r;case Ae.IN:case Ae.NIN:case Ae.ALL:return o={},o[e.fieldName]=(i={},i[v]=oo(e.operands),i),o;case Ae.GEO_NEAR:{var y=e.operands[0];return l={},l[e.fieldName]={$nearSphere:{$geometry:y.geometry.toJSON(),$maxDistance:y.maxDistance,$minDistance:y.minDistance}},l}case Ae.GEO_WITHIN:{var y=e.operands[0];return f={},f[e.fieldName]={$geoWithin:{$geometry:y.geometry.toJSON()}},f}case Ae.GEO_INTERSECTS:{var y=e.operands[0];return p={},p[e.fieldName]={$geoIntersects:{$geometry:y.geometry.toJSON()}},p}default:return u={},u[e.fieldName]=(d={},d[v]=oo(e.operands[0]),d),u}},t.prototype.encodeQueryObject=function(e){var r=QC(e);for(var n in r){var o=r[n];if(od(o)){r[n]=o._setFieldName(n);var i=this.encodeLogicCommand(r[n]);this.mergeConditionAfterEncode(r,i,n)}else if(c2(o)){r[n]=o._setFieldName(n);var i=this.encodeComparisonCommand(r[n]);this.mergeConditionAfterEncode(r,i,n)}else fg(o)&&(r[n]=oo(o))}return r},t.prototype.mergeConditionAfterEncode=function(e,r,n){r[n]||delete e[n];for(var o in r)e[o]?ht(e[o])?e[o]=e[o].concat(r[o]):ao(e[o])?ao(r[o])?Object.assign(e,r):(console.warn("unmergable condition, query is object but condition is "+Zn(r)+", can only overwrite",r,n),e[o]=r[o]):(console.warn("to-merge query is of type "+Zn(e)+", can only overwrite",e,r,n),e[o]=r[o]):e[o]=r[o]},t})(),Wo=function(){return Wo=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Wo.apply(this,arguments)},X8=(function(){function t(e,r,n,o,i){var l=this;this.watch=function(f){var p=XC(l._db);return p.watch(Wo(Wo({},f),{envId:l._db.config.env,collectionName:l._coll,query:JSON.stringify(l._fieldFilters||{}),limit:l._queryOptions.limit,orderBy:l._fieldOrders?l._fieldOrders.reduce(function(u,d){return u[d.field]=d.direction,u},{}):void 0}))},this._db=e,this._coll=r,this._fieldFilters=n,this._fieldOrders=o||[],this._queryOptions=i||{},this._request=new Xt.reqClass(this._db.config)}return t.prototype.get=function(e){e=e||gi();var r=[];this._fieldOrders&&this._fieldOrders.forEach(function(o){r.push(o)});var n={collectionName:this._coll,queryType:Xn.WHERE};return this._fieldFilters&&(n.query=this._fieldFilters),r.length>0&&(n.order=r),this._queryOptions.offset&&(n.offset=this._queryOptions.offset),this._queryOptions.limit?n.limit=this._queryOptions.limit<1e3?this._queryOptions.limit:1e3:n.limit=100,this._queryOptions.projection&&(n.projection=this._queryOptions.projection),this._request.send("database.queryDocument",n).then(function(o){if(o.code)e(0,o);else{var i=Fd.formatResDocumentData(o.data.list),l={data:i,requestId:o.requestId};o.total&&(l.total=o.total),o.limit&&(l.limit=o.limit),o.offset&&(l.offset=o.offset),e(0,l)}}).catch(function(o){e(o)}),e.promise},t.prototype.count=function(e){e=e||gi();var r={collectionName:this._coll,queryType:Xn.WHERE};return this._fieldFilters&&(r.query=this._fieldFilters),this._request.send("database.countDocument",r).then(function(n){n.code?e(0,n):e(0,{requestId:n.requestId,total:n.data.total})}).catch(function(n){e(n)}),e.promise},t.prototype.where=function(e){if(Object.prototype.toString.call(e).slice(8,-1)!=="Object")throw Error(mi.QueryParamTypeError);var r=Object.keys(e),n=r.some(function(o){return e[o]!==void 0});if(r.length&&!n)throw Error(mi.QueryParamValueError);return new t(this._db,this._coll,ud.encode(e),this._fieldOrders,this._queryOptions)},t.prototype.orderBy=function(e,r){io.isFieldPath(e),io.isFieldOrder(r);var n={field:e,direction:r},o=this._fieldOrders.concat(n);return new t(this._db,this._coll,this._fieldFilters,o,this._queryOptions)},t.prototype.limit=function(e){io.isInteger("limit",e);var r=Wo({},this._queryOptions);return r.limit=e,new t(this._db,this._coll,this._fieldFilters,this._fieldOrders,r)},t.prototype.skip=function(e){io.isInteger("offset",e);var r=Wo({},this._queryOptions);return r.offset=e,new t(this._db,this._coll,this._fieldFilters,this._fieldOrders,r)},t.prototype.update=function(e,r){if(r=r||gi(),!e||typeof e!="object")return Promise.resolve({code:"INVALID_PARAM",message:""});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"_id"});var n={collectionName:this._coll,query:this._fieldFilters,queryType:Xn.WHERE,multi:!0,merge:!0,upsert:!1,data:I_.encode(e)};return this._request.send("database.updateDocument",n).then(function(o){o.code?r(0,o):r(0,{requestId:o.requestId,updated:o.data.updated,upsertId:o.data.upsert_id})}).catch(function(o){r(o)}),r.promise},t.prototype.field=function(e){for(var r in e)e[r]?typeof e[r]!="object"&&(e[r]=1):e[r]=0;var n=Wo({},this._queryOptions);return n.projection=e,new t(this._db,this._coll,this._fieldFilters,this._fieldOrders,n)},t.prototype.remove=function(e){e=e||gi(),Object.keys(this._queryOptions).length>0&&console.warn("`offset`, `limit` and `projection` are not supported in remove() operation"),this._fieldOrders.length>0&&console.warn("`orderBy` is not supported in remove() operation");var r={collectionName:this._coll,query:ud.encode(this._fieldFilters),queryType:Xn.WHERE,multi:!0};return this._request.send("database.deleteDocument",r).then(function(n){n.code?e(0,n):e(0,{requestId:n.requestId,deleted:n.data.deleted})}).catch(function(n){e(n)}),e.promise},t})();function Z8(t,e){return e={exports:{}},t(e,e.exports),e.exports}var e9=o9,t9=s9,r9=c9,Yn=[],Yr=[],n9=typeof Uint8Array<"u"?Uint8Array:Array,m0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var za=0,i9=m0.length;za<i9;++za)Yn[za]=m0[za],Yr[m0.charCodeAt(za)]=za;Yr[45]=62;Yr[95]=63;function ZC(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function o9(t){var e=ZC(t),r=e[0],n=e[1];return(r+n)*3/4-n}function a9(t,e,r){return(e+r)*3/4-r}function s9(t){var e,r=ZC(t),n=r[0],o=r[1],i=new n9(a9(t,n,o)),l=0,f=o>0?n-4:n,p;for(p=0;p<f;p+=4)e=Yr[t.charCodeAt(p)]<<18|Yr[t.charCodeAt(p+1)]<<12|Yr[t.charCodeAt(p+2)]<<6|Yr[t.charCodeAt(p+3)],i[l++]=e>>16&255,i[l++]=e>>8&255,i[l++]=e&255;return o===2&&(e=Yr[t.charCodeAt(p)]<<2|Yr[t.charCodeAt(p+1)]>>4,i[l++]=e&255),o===1&&(e=Yr[t.charCodeAt(p)]<<10|Yr[t.charCodeAt(p+1)]<<4|Yr[t.charCodeAt(p+2)]>>2,i[l++]=e>>8&255,i[l++]=e&255),i}function u9(t){return Yn[t>>18&63]+Yn[t>>12&63]+Yn[t>>6&63]+Yn[t&63]}function l9(t,e,r){for(var n,o=[],i=e;i<r;i+=3)n=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),o.push(u9(n));return o.join("")}function c9(t){for(var e,r=t.length,n=r%3,o=[],i=16383,l=0,f=r-n;l<f;l+=i)o.push(l9(t,l,l+i>f?f:l+i));return n===1?(e=t[r-1],o.push(Yn[e>>2]+Yn[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],o.push(Yn[e>>10]+Yn[e>>4&63]+Yn[e<<2&63]+"=")),o.join("")}var g0={byteLength:e9,toByteArray:t9,fromByteArray:r9};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var f9=function(e,r,n,o,i){var l,f,p=i*8-o-1,u=(1<<p)-1,d=u>>1,v=-7,y=n?i-1:0,_=n?-1:1,w=e[r+y];for(y+=_,l=w&(1<<-v)-1,w>>=-v,v+=p;v>0;l=l*256+e[r+y],y+=_,v-=8);for(f=l&(1<<-v)-1,l>>=-v,v+=o;v>0;f=f*256+e[r+y],y+=_,v-=8);if(l===0)l=1-d;else{if(l===u)return f?NaN:(w?-1:1)*(1/0);f=f+Math.pow(2,o),l=l-d}return(w?-1:1)*f*Math.pow(2,l-o)},d9=function(e,r,n,o,i,l){var f,p,u,d=l*8-i-1,v=(1<<d)-1,y=v>>1,_=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=o?0:l-1,S=o?1:-1,T=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(p=isNaN(r)?1:0,f=v):(f=Math.floor(Math.log(r)/Math.LN2),r*(u=Math.pow(2,-f))<1&&(f--,u*=2),f+y>=1?r+=_/u:r+=_*Math.pow(2,1-y),r*u>=2&&(f++,u/=2),f+y>=v?(p=0,f=v):f+y>=1?(p=(r*u-1)*Math.pow(2,i),f=f+y):(p=r*Math.pow(2,y-1)*Math.pow(2,i),f=0));i>=8;e[n+w]=p&255,w+=S,p/=256,i-=8);for(f=f<<i|p,d+=i;d>0;e[n+w]=f&255,w+=S,f/=256,d-=8);e[n+w-S]|=T*128},Va={read:f9,write:d9},Md=Z8(function(t,e){var r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=O,e.INSPECT_MAX_BYTES=50;var n=2147483647;e.kMaxLength=n,l.TYPED_ARRAY_SUPPORT=o(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{var R=new Uint8Array(1),b={foo:function(){return 42}};return Object.setPrototypeOf(b,Uint8Array.prototype),Object.setPrototypeOf(R,b),R.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function i(R){if(R>n)throw new RangeError('The value "'+R+'" is invalid for option "size"');var b=new Uint8Array(R);return Object.setPrototypeOf(b,l.prototype),b}function l(R,b,E){if(typeof R=="number"){if(typeof b=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(R)}return f(R,b,E)}l.poolSize=8192;function f(R,b,E){if(typeof R=="string")return v(R,b);if(ArrayBuffer.isView(R))return _(R);if(R==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(R));if(_t(R,ArrayBuffer)||R&&_t(R.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(_t(R,SharedArrayBuffer)||R&&_t(R.buffer,SharedArrayBuffer)))return w(R,b,E);if(typeof R=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var P=R.valueOf&&R.valueOf();if(P!=null&&P!==R)return l.from(P,b,E);var M=S(R);if(M)return M;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof R[Symbol.toPrimitive]=="function")return l.from(R[Symbol.toPrimitive]("string"),b,E);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(R))}l.from=function(R,b,E){return f(R,b,E)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function p(R){if(typeof R!="number")throw new TypeError('"size" argument must be of type number');if(R<0)throw new RangeError('The value "'+R+'" is invalid for option "size"')}function u(R,b,E){return p(R),R<=0?i(R):b!==void 0?typeof E=="string"?i(R).fill(b,E):i(R).fill(b):i(R)}l.alloc=function(R,b,E){return u(R,b,E)};function d(R){return p(R),i(R<0?0:T(R)|0)}l.allocUnsafe=function(R){return d(R)},l.allocUnsafeSlow=function(R){return d(R)};function v(R,b){if((typeof b!="string"||b==="")&&(b="utf8"),!l.isEncoding(b))throw new TypeError("Unknown encoding: "+b);var E=x(R,b)|0,P=i(E),M=P.write(R,b);return M!==E&&(P=P.slice(0,M)),P}function y(R){for(var b=R.length<0?0:T(R.length)|0,E=i(b),P=0;P<b;P+=1)E[P]=R[P]&255;return E}function _(R){if(_t(R,Uint8Array)){var b=new Uint8Array(R);return w(b.buffer,b.byteOffset,b.byteLength)}return y(R)}function w(R,b,E){if(b<0||R.byteLength<b)throw new RangeError('"offset" is outside of buffer bounds');if(R.byteLength<b+(E||0))throw new RangeError('"length" is outside of buffer bounds');var P;return b===void 0&&E===void 0?P=new Uint8Array(R):E===void 0?P=new Uint8Array(R,b):P=new Uint8Array(R,b,E),Object.setPrototypeOf(P,l.prototype),P}function S(R){if(l.isBuffer(R)){var b=T(R.length)|0,E=i(b);return E.length===0||R.copy(E,0,0,b),E}if(R.length!==void 0)return typeof R.length!="number"||er(R.length)?i(0):y(R);if(R.type==="Buffer"&&Array.isArray(R.data))return y(R.data)}function T(R){if(R>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return R|0}function O(R){return+R!=R&&(R=0),l.alloc(+R)}l.isBuffer=function(b){return b!=null&&b._isBuffer===!0&&b!==l.prototype},l.compare=function(b,E){if(_t(b,Uint8Array)&&(b=l.from(b,b.offset,b.byteLength)),_t(E,Uint8Array)&&(E=l.from(E,E.offset,E.byteLength)),!l.isBuffer(b)||!l.isBuffer(E))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(b===E)return 0;for(var P=b.length,M=E.length,te=0,ie=Math.min(P,M);te<ie;++te)if(b[te]!==E[te]){P=b[te],M=E[te];break}return P<M?-1:M<P?1:0},l.isEncoding=function(b){switch(String(b).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(b,E){if(!Array.isArray(b))throw new TypeError('"list" argument must be an Array of Buffers');if(b.length===0)return l.alloc(0);var P;if(E===void 0)for(E=0,P=0;P<b.length;++P)E+=b[P].length;var M=l.allocUnsafe(E),te=0;for(P=0;P<b.length;++P){var ie=b[P];if(_t(ie,Uint8Array))te+ie.length>M.length?l.from(ie).copy(M,te):Uint8Array.prototype.set.call(M,ie,te);else if(l.isBuffer(ie))ie.copy(M,te);else throw new TypeError('"list" argument must be an Array of Buffers');te+=ie.length}return M};function x(R,b){if(l.isBuffer(R))return R.length;if(ArrayBuffer.isView(R)||_t(R,ArrayBuffer))return R.byteLength;if(typeof R!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+babelHelpers.typeof(R));var E=R.length,P=arguments.length>2&&arguments[2]===!0;if(!P&&E===0)return 0;for(var M=!1;;)switch(b){case"ascii":case"latin1":case"binary":return E;case"utf8":case"utf-8":return je(R).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E*2;case"hex":return E>>>1;case"base64":return Fe(R).length;default:if(M)return P?-1:je(R).length;b=(""+b).toLowerCase(),M=!0}}l.byteLength=x;function A(R,b,E){var P=!1;if((b===void 0||b<0)&&(b=0),b>this.length||((E===void 0||E>this.length)&&(E=this.length),E<=0)||(E>>>=0,b>>>=0,E<=b))return"";for(R||(R="utf8");;)switch(R){case"hex":return Q(this,b,E);case"utf8":case"utf-8":return G(this,b,E);case"ascii":return fe(this,b,E);case"latin1":case"binary":return ce(this,b,E);case"base64":return V(this,b,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,b,E);default:if(P)throw new TypeError("Unknown encoding: "+R);R=(R+"").toLowerCase(),P=!0}}l.prototype._isBuffer=!0;function C(R,b,E){var P=R[b];R[b]=R[E],R[E]=P}l.prototype.swap16=function(){var b=this.length;if(b%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var E=0;E<b;E+=2)C(this,E,E+1);return this},l.prototype.swap32=function(){var b=this.length;if(b%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var E=0;E<b;E+=4)C(this,E,E+3),C(this,E+1,E+2);return this},l.prototype.swap64=function(){var b=this.length;if(b%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var E=0;E<b;E+=8)C(this,E,E+7),C(this,E+1,E+6),C(this,E+2,E+5),C(this,E+3,E+4);return this},l.prototype.toString=function(){var b=this.length;return b===0?"":arguments.length===0?G(this,0,b):A.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(b){if(!l.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b?!0:l.compare(this,b)===0},l.prototype.inspect=function(){var b="",E=e.INSPECT_MAX_BYTES;return b=this.toString("hex",0,E).replace(/(.{2})/g,"$1 ").trim(),this.length>E&&(b+=" ... "),"<Buffer "+b+">"},r&&(l.prototype[r]=l.prototype.inspect),l.prototype.compare=function(b,E,P,M,te){if(_t(b,Uint8Array)&&(b=l.from(b,b.offset,b.byteLength)),!l.isBuffer(b))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+babelHelpers.typeof(b));if(E===void 0&&(E=0),P===void 0&&(P=b?b.length:0),M===void 0&&(M=0),te===void 0&&(te=this.length),E<0||P>b.length||M<0||te>this.length)throw new RangeError("out of range index");if(M>=te&&E>=P)return 0;if(M>=te)return-1;if(E>=P)return 1;if(E>>>=0,P>>>=0,M>>>=0,te>>>=0,this===b)return 0;for(var ie=te-M,Ne=P-E,ke=Math.min(ie,Ne),He=this.slice(M,te),it=b.slice(E,P),Ye=0;Ye<ke;++Ye)if(He[Ye]!==it[Ye]){ie=He[Ye],Ne=it[Ye];break}return ie<Ne?-1:Ne<ie?1:0};function U(R,b,E,P,M){if(R.length===0)return-1;if(typeof E=="string"?(P=E,E=0):E>2147483647?E=2147483647:E<-2147483648&&(E=-2147483648),E=+E,er(E)&&(E=M?0:R.length-1),E<0&&(E=R.length+E),E>=R.length){if(M)return-1;E=R.length-1}else if(E<0)if(M)E=0;else return-1;if(typeof b=="string"&&(b=l.from(b,P)),l.isBuffer(b))return b.length===0?-1:q(R,b,E,P,M);if(typeof b=="number")return b=b&255,typeof Uint8Array.prototype.indexOf=="function"?M?Uint8Array.prototype.indexOf.call(R,b,E):Uint8Array.prototype.lastIndexOf.call(R,b,E):q(R,[b],E,P,M);throw new TypeError("val must be string, number or Buffer")}function q(R,b,E,P,M){var te=1,ie=R.length,Ne=b.length;if(P!==void 0&&(P=String(P).toLowerCase(),P==="ucs2"||P==="ucs-2"||P==="utf16le"||P==="utf-16le")){if(R.length<2||b.length<2)return-1;te=2,ie/=2,Ne/=2,E/=2}function ke(tr,Ti){return te===1?tr[Ti]:tr.readUInt16BE(Ti*te)}var He;if(M){var it=-1;for(He=E;He<ie;He++)if(ke(R,He)===ke(b,it===-1?0:He-it)){if(it===-1&&(it=He),He-it+1===Ne)return it*te}else it!==-1&&(He-=He-it),it=-1}else for(E+Ne>ie&&(E=ie-Ne),He=E;He>=0;He--){for(var Ye=!0,ln=0;ln<Ne;ln++)if(ke(R,He+ln)!==ke(b,ln)){Ye=!1;break}if(Ye)return He}return-1}l.prototype.includes=function(b,E,P){return this.indexOf(b,E,P)!==-1},l.prototype.indexOf=function(b,E,P){return U(this,b,E,P,!0)},l.prototype.lastIndexOf=function(b,E,P){return U(this,b,E,P,!1)};function Y(R,b,E,P){E=Number(E)||0;var M=R.length-E;P?(P=Number(P),P>M&&(P=M)):P=M;var te=b.length;P>te/2&&(P=te/2);for(var ie=0;ie<P;++ie){var Ne=parseInt(b.substr(ie*2,2),16);if(er(Ne))return ie;R[E+ie]=Ne}return ie}function J(R,b,E,P){return nt(je(b,R.length-E),R,E,P)}function k(R,b,E,P){return nt(Te(b),R,E,P)}function W(R,b,E,P){return nt(Fe(b),R,E,P)}function F(R,b,E,P){return nt(Le(b,R.length-E),R,E,P)}l.prototype.write=function(b,E,P,M){if(E===void 0)M="utf8",P=this.length,E=0;else if(P===void 0&&typeof E=="string")M=E,P=this.length,E=0;else if(isFinite(E))E=E>>>0,isFinite(P)?(P=P>>>0,M===void 0&&(M="utf8")):(M=P,P=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var te=this.length-E;if((P===void 0||P>te)&&(P=te),b.length>0&&(P<0||E<0)||E>this.length)throw new RangeError("Attempt to write outside buffer bounds");M||(M="utf8");for(var ie=!1;;)switch(M){case"hex":return Y(this,b,E,P);case"utf8":case"utf-8":return J(this,b,E,P);case"ascii":case"latin1":case"binary":return k(this,b,E,P);case"base64":return W(this,b,E,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,b,E,P);default:if(ie)throw new TypeError("Unknown encoding: "+M);M=(""+M).toLowerCase(),ie=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function V(R,b,E){return b===0&&E===R.length?g0.fromByteArray(R):g0.fromByteArray(R.slice(b,E))}function G(R,b,E){E=Math.min(R.length,E);for(var P=[],M=b;M<E;){var te=R[M],ie=null,Ne=te>239?4:te>223?3:te>191?2:1;if(M+Ne<=E){var ke,He,it,Ye;switch(Ne){case 1:te<128&&(ie=te);break;case 2:ke=R[M+1],(ke&192)===128&&(Ye=(te&31)<<6|ke&63,Ye>127&&(ie=Ye));break;case 3:ke=R[M+1],He=R[M+2],(ke&192)===128&&(He&192)===128&&(Ye=(te&15)<<12|(ke&63)<<6|He&63,Ye>2047&&(Ye<55296||Ye>57343)&&(ie=Ye));break;case 4:ke=R[M+1],He=R[M+2],it=R[M+3],(ke&192)===128&&(He&192)===128&&(it&192)===128&&(Ye=(te&15)<<18|(ke&63)<<12|(He&63)<<6|it&63,Ye>65535&&Ye<1114112&&(ie=Ye))}}ie===null?(ie=65533,Ne=1):ie>65535&&(ie-=65536,P.push(ie>>>10&1023|55296),ie=56320|ie&1023),P.push(ie),M+=Ne}return ae(P)}var K=4096;function ae(R){var b=R.length;if(b<=K)return String.fromCharCode.apply(String,R);for(var E="",P=0;P<b;)E+=String.fromCharCode.apply(String,R.slice(P,P+=K));return E}function fe(R,b,E){var P="";E=Math.min(R.length,E);for(var M=b;M<E;++M)P+=String.fromCharCode(R[M]&127);return P}function ce(R,b,E){var P="";E=Math.min(R.length,E);for(var M=b;M<E;++M)P+=String.fromCharCode(R[M]);return P}function Q(R,b,E){var P=R.length;(!b||b<0)&&(b=0),(!E||E<0||E>P)&&(E=P);for(var M="",te=b;te<E;++te)M+=un[R[te]];return M}function ee(R,b,E){for(var P=R.slice(b,E),M="",te=0;te<P.length-1;te+=2)M+=String.fromCharCode(P[te]+P[te+1]*256);return M}l.prototype.slice=function(b,E){var P=this.length;b=~~b,E=E===void 0?P:~~E,b<0?(b+=P,b<0&&(b=0)):b>P&&(b=P),E<0?(E+=P,E<0&&(E=0)):E>P&&(E=P),E<b&&(E=b);var M=this.subarray(b,E);return Object.setPrototypeOf(M,l.prototype),M};function X(R,b,E){if(R%1!==0||R<0)throw new RangeError("offset is not uint");if(R+b>E)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(b,E,P){b=b>>>0,E=E>>>0,P||X(b,E,this.length);for(var M=this[b],te=1,ie=0;++ie<E&&(te*=256);)M+=this[b+ie]*te;return M},l.prototype.readUintBE=l.prototype.readUIntBE=function(b,E,P){b=b>>>0,E=E>>>0,P||X(b,E,this.length);for(var M=this[b+--E],te=1;E>0&&(te*=256);)M+=this[b+--E]*te;return M},l.prototype.readUint8=l.prototype.readUInt8=function(b,E){return b=b>>>0,E||X(b,1,this.length),this[b]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(b,E){return b=b>>>0,E||X(b,2,this.length),this[b]|this[b+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(b,E){return b=b>>>0,E||X(b,2,this.length),this[b]<<8|this[b+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(b,E){return b=b>>>0,E||X(b,4,this.length),(this[b]|this[b+1]<<8|this[b+2]<<16)+this[b+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(b,E){return b=b>>>0,E||X(b,4,this.length),this[b]*16777216+(this[b+1]<<16|this[b+2]<<8|this[b+3])},l.prototype.readIntLE=function(b,E,P){b=b>>>0,E=E>>>0,P||X(b,E,this.length);for(var M=this[b],te=1,ie=0;++ie<E&&(te*=256);)M+=this[b+ie]*te;return te*=128,M>=te&&(M-=Math.pow(2,8*E)),M},l.prototype.readIntBE=function(b,E,P){b=b>>>0,E=E>>>0,P||X(b,E,this.length);for(var M=E,te=1,ie=this[b+--M];M>0&&(te*=256);)ie+=this[b+--M]*te;return te*=128,ie>=te&&(ie-=Math.pow(2,8*E)),ie},l.prototype.readInt8=function(b,E){return b=b>>>0,E||X(b,1,this.length),this[b]&128?(255-this[b]+1)*-1:this[b]},l.prototype.readInt16LE=function(b,E){b=b>>>0,E||X(b,2,this.length);var P=this[b]|this[b+1]<<8;return P&32768?P|4294901760:P},l.prototype.readInt16BE=function(b,E){b=b>>>0,E||X(b,2,this.length);var P=this[b+1]|this[b]<<8;return P&32768?P|4294901760:P},l.prototype.readInt32LE=function(b,E){return b=b>>>0,E||X(b,4,this.length),this[b]|this[b+1]<<8|this[b+2]<<16|this[b+3]<<24},l.prototype.readInt32BE=function(b,E){return b=b>>>0,E||X(b,4,this.length),this[b]<<24|this[b+1]<<16|this[b+2]<<8|this[b+3]},l.prototype.readFloatLE=function(b,E){return b=b>>>0,E||X(b,4,this.length),Va.read(this,b,!0,23,4)},l.prototype.readFloatBE=function(b,E){return b=b>>>0,E||X(b,4,this.length),Va.read(this,b,!1,23,4)},l.prototype.readDoubleLE=function(b,E){return b=b>>>0,E||X(b,8,this.length),Va.read(this,b,!0,52,8)},l.prototype.readDoubleBE=function(b,E){return b=b>>>0,E||X(b,8,this.length),Va.read(this,b,!1,52,8)};function j(R,b,E,P,M,te){if(!l.isBuffer(R))throw new TypeError('"buffer" argument must be a Buffer instance');if(b>M||b<te)throw new RangeError('"value" argument is out of bounds');if(E+P>R.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(b,E,P,M){if(b=+b,E=E>>>0,P=P>>>0,!M){var te=Math.pow(2,8*P)-1;j(this,b,E,P,te,0)}var ie=1,Ne=0;for(this[E]=b&255;++Ne<P&&(ie*=256);)this[E+Ne]=b/ie&255;return E+P},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(b,E,P,M){if(b=+b,E=E>>>0,P=P>>>0,!M){var te=Math.pow(2,8*P)-1;j(this,b,E,P,te,0)}var ie=P-1,Ne=1;for(this[E+ie]=b&255;--ie>=0&&(Ne*=256);)this[E+ie]=b/Ne&255;return E+P},l.prototype.writeUint8=l.prototype.writeUInt8=function(b,E,P){return b=+b,E=E>>>0,P||j(this,b,E,1,255,0),this[E]=b&255,E+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(b,E,P){return b=+b,E=E>>>0,P||j(this,b,E,2,65535,0),this[E]=b&255,this[E+1]=b>>>8,E+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(b,E,P){return b=+b,E=E>>>0,P||j(this,b,E,2,65535,0),this[E]=b>>>8,this[E+1]=b&255,E+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(b,E,P){return b=+b,E=E>>>0,P||j(this,b,E,4,4294967295,0),this[E+3]=b>>>24,this[E+2]=b>>>16,this[E+1]=b>>>8,this[E]=b&255,E+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(b,E,P){return b=+b,E=E>>>0,P||j(this,b,E,4,4294967295,0),this[E]=b>>>24,this[E+1]=b>>>16,this[E+2]=b>>>8,this[E+3]=b&255,E+4},l.prototype.writeIntLE=function(b,E,P,M){if(b=+b,E=E>>>0,!M){var te=Math.pow(2,8*P-1);j(this,b,E,P,te-1,-te)}var ie=0,Ne=1,ke=0;for(this[E]=b&255;++ie<P&&(Ne*=256);)b<0&&ke===0&&this[E+ie-1]!==0&&(ke=1),this[E+ie]=(b/Ne>>0)-ke&255;return E+P},l.prototype.writeIntBE=function(b,E,P,M){if(b=+b,E=E>>>0,!M){var te=Math.pow(2,8*P-1);j(this,b,E,P,te-1,-te)}var ie=P-1,Ne=1,ke=0;for(this[E+ie]=b&255;--ie>=0&&(Ne*=256);)b<0&&ke===0&&this[E+ie+1]!==0&&(ke=1),this[E+ie]=(b/Ne>>0)-ke&255;return E+P},l.prototype.writeInt8=function(b,E,P){return b=+b,E=E>>>0,P||j(this,b,E,1,127,-128),b<0&&(b=255+b+1),this[E]=b&255,E+1},l.prototype.writeInt16LE=function(b,E,P){return b=+b,E=E>>>0,P||j(this,b,E,2,32767,-32768),this[E]=b&255,this[E+1]=b>>>8,E+2},l.prototype.writeInt16BE=function(b,E,P){return b=+b,E=E>>>0,P||j(this,b,E,2,32767,-32768),this[E]=b>>>8,this[E+1]=b&255,E+2},l.prototype.writeInt32LE=function(b,E,P){return b=+b,E=E>>>0,P||j(this,b,E,4,2147483647,-2147483648),this[E]=b&255,this[E+1]=b>>>8,this[E+2]=b>>>16,this[E+3]=b>>>24,E+4},l.prototype.writeInt32BE=function(b,E,P){return b=+b,E=E>>>0,P||j(this,b,E,4,2147483647,-2147483648),b<0&&(b=4294967295+b+1),this[E]=b>>>24,this[E+1]=b>>>16,this[E+2]=b>>>8,this[E+3]=b&255,E+4};function Z(R,b,E,P,M,te){if(E+P>R.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("Index out of range")}function Ie(R,b,E,P,M){return b=+b,E=E>>>0,M||Z(R,b,E,4),Va.write(R,b,E,P,23,4),E+4}l.prototype.writeFloatLE=function(b,E,P){return Ie(this,b,E,!0,P)},l.prototype.writeFloatBE=function(b,E,P){return Ie(this,b,E,!1,P)};function xe(R,b,E,P,M){return b=+b,E=E>>>0,M||Z(R,b,E,8),Va.write(R,b,E,P,52,8),E+8}l.prototype.writeDoubleLE=function(b,E,P){return xe(this,b,E,!0,P)},l.prototype.writeDoubleBE=function(b,E,P){return xe(this,b,E,!1,P)},l.prototype.copy=function(b,E,P,M){if(!l.isBuffer(b))throw new TypeError("argument should be a Buffer");if(P||(P=0),!M&&M!==0&&(M=this.length),E>=b.length&&(E=b.length),E||(E=0),M>0&&M<P&&(M=P),M===P||b.length===0||this.length===0)return 0;if(E<0)throw new RangeError("targetStart out of bounds");if(P<0||P>=this.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("sourceEnd out of bounds");M>this.length&&(M=this.length),b.length-E<M-P&&(M=b.length-E+P);var te=M-P;return this===b&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(E,P,M):Uint8Array.prototype.set.call(b,this.subarray(P,M),E),te},l.prototype.fill=function(b,E,P,M){if(typeof b=="string"){if(typeof E=="string"?(M=E,E=0,P=this.length):typeof P=="string"&&(M=P,P=this.length),M!==void 0&&typeof M!="string")throw new TypeError("encoding must be a string");if(typeof M=="string"&&!l.isEncoding(M))throw new TypeError("Unknown encoding: "+M);if(b.length===1){var te=b.charCodeAt(0);(M==="utf8"&&te<128||M==="latin1")&&(b=te)}}else typeof b=="number"?b=b&255:typeof b=="boolean"&&(b=Number(b));if(E<0||this.length<E||this.length<P)throw new RangeError("Out of range index");if(P<=E)return this;E=E>>>0,P=P===void 0?this.length:P>>>0,b||(b=0);var ie;if(typeof b=="number")for(ie=E;ie<P;++ie)this[ie]=b;else{var Ne=l.isBuffer(b)?b:l.from(b,M),ke=Ne.length;if(ke===0)throw new TypeError('The value "'+b+'" is invalid for argument "value"');for(ie=0;ie<P-E;++ie)this[ie+E]=Ne[ie%ke]}return this};var Re=/[^+/0-9A-Za-z-_]/g;function de(R){if(R=R.split("=")[0],R=R.trim().replace(Re,""),R.length<2)return"";for(;R.length%4!==0;)R=R+"=";return R}function je(R,b){b=b||1/0;for(var E,P=R.length,M=null,te=[],ie=0;ie<P;++ie){if(E=R.charCodeAt(ie),E>55295&&E<57344){if(!M){if(E>56319){(b-=3)>-1&&te.push(239,191,189);continue}else if(ie+1===P){(b-=3)>-1&&te.push(239,191,189);continue}M=E;continue}if(E<56320){(b-=3)>-1&&te.push(239,191,189),M=E;continue}E=(M-55296<<10|E-56320)+65536}else M&&(b-=3)>-1&&te.push(239,191,189);if(M=null,E<128){if((b-=1)<0)break;te.push(E)}else if(E<2048){if((b-=2)<0)break;te.push(E>>6|192,E&63|128)}else if(E<65536){if((b-=3)<0)break;te.push(E>>12|224,E>>6&63|128,E&63|128)}else if(E<1114112){if((b-=4)<0)break;te.push(E>>18|240,E>>12&63|128,E>>6&63|128,E&63|128)}else throw new Error("Invalid code point")}return te}function Te(R){for(var b=[],E=0;E<R.length;++E)b.push(R.charCodeAt(E)&255);return b}function Le(R,b){for(var E,P,M,te=[],ie=0;ie<R.length&&!((b-=2)<0);++ie)E=R.charCodeAt(ie),P=E>>8,M=E%256,te.push(M),te.push(P);return te}function Fe(R){return g0.toByteArray(de(R))}function nt(R,b,E,P){for(var M=0;M<P&&!(M+E>=b.length||M>=R.length);++M)b[M+E]=R[M];return M}function _t(R,b){return R instanceof b||R!=null&&R.constructor!=null&&R.constructor.name!=null&&R.constructor.name===b.name}function er(R){return R!==R}var un=(function(){for(var R="0123456789abcdef",b=new Array(256),E=0;E<16;++E)for(var P=E*16,M=0;M<16;++M)b[P+M]=R[E]+R[M];return b})()}),ze=Md.Buffer;Md.SlowBuffer;Md.INSPECT_MAX_BYTES;Md.kMaxLength;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var dg=function(e,r){return dg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},dg(e,r)};function Bd(t,e){dg(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Jo=(function(t){Bd(e,t);function e(r){var n=t.call(this,r)||this;return Object.setPrototypeOf(n,e.prototype),n}return Object.defineProperty(e.prototype,"name",{get:function(){return"BSONError"},enumerable:!1,configurable:!0}),e})(Error),ct=(function(t){Bd(e,t);function e(r){var n=t.call(this,r)||this;return Object.setPrototypeOf(n,e.prototype),n}return Object.defineProperty(e.prototype,"name",{get:function(){return"BSONTypeError"},enumerable:!1,configurable:!0}),e})(TypeError);function uf(t){return t&&t.Math==Math&&t}function eP(){return uf(typeof globalThis=="object"&&globalThis)||uf(typeof window=="object"&&window)||uf(typeof self=="object"&&self)||uf(typeof global=="object"&&global)||Function("return this")()}function h9(){var t=eP();return typeof t.navigator=="object"&&t.navigator.product==="ReactNative"}var p9=function(e){var r=h9()?"BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.":"BSON: No cryptographic implementation for random bytes present, falling back to a less secure implementation.";console.warn(r);for(var n=ze.alloc(e),o=0;o<e;++o)n[o]=Math.floor(Math.random()*256);return n},v9=function(){{if(typeof window<"u"){var t=window.crypto||window.msCrypto;if(t&&t.getRandomValues)return function(e){return t.getRandomValues(ze.alloc(e))}}return typeof global<"u"&&global.crypto&&global.crypto.getRandomValues?function(e){return global.crypto.getRandomValues(ze.alloc(e))}:p9}},tP=v9();function y9(t){return["[object ArrayBuffer]","[object SharedArrayBuffer]"].includes(Object.prototype.toString.call(t))}function T_(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}function m9(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function g9(t){return El(t)&&Object.prototype.toString.call(t)==="[object Date]"}function El(t){return typeof t=="object"&&t!==null}function qd(t,e){var r=!1;function n(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return r||(console.warn(e),r=!0),t.apply(this,o)}return n}function ld(t){if(ArrayBuffer.isView(t))return ze.from(t.buffer,t.byteOffset,t.byteLength);if(y9(t))return ze.from(t);throw new ct("Must use either Buffer or TypedArray")}var _9=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|[0-9a-f]{12}4[0-9a-f]{3}[89ab][0-9a-f]{15})$/i,rP=function(t){return typeof t=="string"&&_9.test(t)},hg=function(t){if(!rP(t))throw new ct('UUID string representations must be a 32 or 36 character hex string (dashes excluded/included). Format: "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx" or "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".');var e=t.replace(/-/g,"");return ze.from(e,"hex")},v2=function(t,e){return e===void 0&&(e=!0),e?t.toString("hex",0,4)+"-"+t.toString("hex",4,6)+"-"+t.toString("hex",6,8)+"-"+t.toString("hex",8,10)+"-"+t.toString("hex",10,16):t.toString("hex")},w9=Math.pow(2,53),b9=-Math.pow(2,53),nP=4,Qo=(function(){function t(e,r){if(!(this instanceof t))return new t(e,r);if(e!=null&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!(e instanceof ArrayBuffer)&&!Array.isArray(e))throw new ct("Binary can only be constructed from string, Buffer, TypedArray, or Array<number>");this.sub_type=r??t.BSON_BINARY_SUBTYPE_DEFAULT,e==null?(this.buffer=ze.alloc(t.BUFFER_SIZE),this.position=0):(typeof e=="string"?this.buffer=ze.from(e,"binary"):Array.isArray(e)?this.buffer=ze.from(e):this.buffer=ld(e),this.position=this.buffer.byteLength)}return t.prototype.put=function(e){if(typeof e=="string"&&e.length!==1)throw new ct("only accepts single character String");if(typeof e!="number"&&e.length!==1)throw new ct("only accepts single character Uint8Array or Array");var r;if(typeof e=="string"?r=e.charCodeAt(0):typeof e=="number"?r=e:r=e[0],r<0||r>255)throw new ct("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.length>this.position)this.buffer[this.position++]=r;else{var n=ze.alloc(t.BUFFER_SIZE+this.buffer.length);this.buffer.copy(n,0,0,this.buffer.length),this.buffer=n,this.buffer[this.position++]=r}},t.prototype.write=function(e,r){if(r=typeof r=="number"?r:this.position,this.buffer.length<r+e.length){var n=ze.alloc(this.buffer.length+e.length);this.buffer.copy(n,0,0,this.buffer.length),this.buffer=n}ArrayBuffer.isView(e)?(this.buffer.set(ld(e),r),this.position=r+e.byteLength>this.position?r+e.length:this.position):typeof e=="string"&&(this.buffer.write(e,r,e.length,"binary"),this.position=r+e.length>this.position?r+e.length:this.position)},t.prototype.read=function(e,r){return r=r&&r>0?r:this.position,this.buffer.slice(e,e+r)},t.prototype.value=function(e){return e=!!e,e&&this.buffer.length===this.position?this.buffer:e?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position)},t.prototype.length=function(){return this.position},t.prototype.toJSON=function(){return this.buffer.toString("base64")},t.prototype.toString=function(e){return this.buffer.toString(e)},t.prototype.toExtendedJSON=function(e){e=e||{};var r=this.buffer.toString("base64"),n=Number(this.sub_type).toString(16);return e.legacy?{$binary:r,$type:n.length===1?"0"+n:n}:{$binary:{base64:r,subType:n.length===1?"0"+n:n}}},t.prototype.toUUID=function(){if(this.sub_type===t.SUBTYPE_UUID)return new y2(this.buffer.slice(0,this.position));throw new Jo('Binary sub_type "'.concat(this.sub_type,'" is not supported for converting to UUID. Only "').concat(t.SUBTYPE_UUID,'" is currently supported.'))},t.fromExtendedJSON=function(e,r){r=r||{};var n,o;if("$binary"in e?r.legacy&&typeof e.$binary=="string"&&"$type"in e?(o=e.$type?parseInt(e.$type,16):0,n=ze.from(e.$binary,"base64")):typeof e.$binary!="string"&&(o=e.$binary.subType?parseInt(e.$binary.subType,16):0,n=ze.from(e.$binary.base64,"base64")):"$uuid"in e&&(o=4,n=hg(e.$uuid)),!n)throw new ct("Unexpected Binary Extended JSON format ".concat(JSON.stringify(e)));return o===nP?new y2(n):new t(n,o)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.value(!0);return'new Binary(Buffer.from("'.concat(e.toString("hex"),'", "hex"), ').concat(this.sub_type,")")},t.BSON_BINARY_SUBTYPE_DEFAULT=0,t.BUFFER_SIZE=256,t.SUBTYPE_DEFAULT=0,t.SUBTYPE_FUNCTION=1,t.SUBTYPE_BYTE_ARRAY=2,t.SUBTYPE_UUID_OLD=3,t.SUBTYPE_UUID=4,t.SUBTYPE_MD5=5,t.SUBTYPE_ENCRYPTED=6,t.SUBTYPE_COLUMN=7,t.SUBTYPE_USER_DEFINED=128,t})();Object.defineProperty(Qo.prototype,"_bsontype",{value:"Binary"});var _0=16,y2=(function(t){Bd(e,t);function e(r){var n=this,o,i;if(r==null)o=e.generate();else if(r instanceof e)o=ze.from(r.buffer),i=r.__id;else if(ArrayBuffer.isView(r)&&r.byteLength===_0)o=ld(r);else if(typeof r=="string")o=hg(r);else throw new ct("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");return n=t.call(this,o,nP)||this,n.__id=i,n}return Object.defineProperty(e.prototype,"id",{get:function(){return this.buffer},set:function(r){this.buffer=r,e.cacheHexString&&(this.__id=v2(r))},enumerable:!1,configurable:!0}),e.prototype.toHexString=function(r){if(r===void 0&&(r=!0),e.cacheHexString&&this.__id)return this.__id;var n=v2(this.id,r);return e.cacheHexString&&(this.__id=n),n},e.prototype.toString=function(r){return r?this.id.toString(r):this.toHexString()},e.prototype.toJSON=function(){return this.toHexString()},e.prototype.equals=function(r){if(!r)return!1;if(r instanceof e)return r.id.equals(this.id);try{return new e(r).id.equals(this.id)}catch{return!1}},e.prototype.toBinary=function(){return new Qo(this.id,Qo.SUBTYPE_UUID)},e.generate=function(){var r=tP(_0);return r[6]=r[6]&15|64,r[8]=r[8]&63|128,ze.from(r)},e.isValid=function(r){return r?r instanceof e?!0:typeof r=="string"?rP(r):T_(r)?r.length!==_0?!1:(r[6]&240)===64&&(r[8]&128)===128:!1:!1},e.createFromHexString=function(r){var n=hg(r);return new e(n)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new UUID("'.concat(this.toHexString(),'")')},e})(Qo),$d=(function(){function t(e,r){if(!(this instanceof t))return new t(e,r);this.code=e,this.scope=r}return t.prototype.toJSON=function(){return{code:this.code,scope:this.scope}},t.prototype.toExtendedJSON=function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}},t.fromExtendedJSON=function(e){return new t(e.$code,e.$scope)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.toJSON();return'new Code("'.concat(String(e.code),'"').concat(e.scope?", ".concat(JSON.stringify(e.scope)):"",")")},t})();Object.defineProperty($d.prototype,"_bsontype",{value:"Code"});function E9(t){return El(t)&&t.$id!=null&&typeof t.$ref=="string"&&(t.$db==null||typeof t.$db=="string")}var cl=(function(){function t(e,r,n,o){if(!(this instanceof t))return new t(e,r,n,o);var i=e.split(".");i.length===2&&(n=i.shift(),e=i.shift()),this.collection=e,this.oid=r,this.db=n,this.fields=o||{}}return Object.defineProperty(t.prototype,"namespace",{get:function(){return this.collection},set:function(e){this.collection=e},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){var e=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return this.db!=null&&(e.$db=this.db),e},t.prototype.toExtendedJSON=function(e){e=e||{};var r={$ref:this.collection,$id:this.oid};return e.legacy||(this.db&&(r.$db=this.db),r=Object.assign(r,this.fields)),r},t.fromExtendedJSON=function(e){var r=Object.assign({},e);return delete r.$ref,delete r.$id,delete r.$db,new t(e.$ref,e.$id,e.$db,r)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.oid===void 0||this.oid.toString===void 0?this.oid:this.oid.toString();return'new DBRef("'.concat(this.namespace,'", new ObjectId("').concat(String(e),'")').concat(this.db?', "'.concat(this.db,'"'):"",")")},t})();Object.defineProperty(cl.prototype,"_bsontype",{value:"DBRef"});var Gr=void 0;try{Gr=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}var m2=65536,S9=1<<24,os=m2*m2,iP=os*os,g2=iP/2,_2={},w2={},be=(function(){function t(e,r,n){if(e===void 0&&(e=0),!(this instanceof t))return new t(e,r,n);typeof e=="bigint"?Object.assign(this,t.fromBigInt(e,!!r)):typeof e=="string"?Object.assign(this,t.fromString(e,!!r)):(this.low=e|0,this.high=r|0,this.unsigned=!!n),Object.defineProperty(this,"__isLong__",{value:!0,configurable:!1,writable:!1,enumerable:!1})}return t.fromBits=function(e,r,n){return new t(e,r,n)},t.fromInt=function(e,r){var n,o,i;return r?(e>>>=0,(i=0<=e&&e<256)&&(o=w2[e],o)?o:(n=t.fromBits(e,(e|0)<0?-1:0,!0),i&&(w2[e]=n),n)):(e|=0,(i=-128<=e&&e<128)&&(o=_2[e],o)?o:(n=t.fromBits(e,e<0?-1:0,!1),i&&(_2[e]=n),n))},t.fromNumber=function(e,r){if(isNaN(e))return r?t.UZERO:t.ZERO;if(r){if(e<0)return t.UZERO;if(e>=iP)return t.MAX_UNSIGNED_VALUE}else{if(e<=-g2)return t.MIN_VALUE;if(e+1>=g2)return t.MAX_VALUE}return e<0?t.fromNumber(-e,r).neg():t.fromBits(e%os|0,e/os|0,r)},t.fromBigInt=function(e,r){return t.fromString(e.toString(),r)},t.fromString=function(e,r,n){if(e.length===0)throw Error("empty string");if(e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return t.ZERO;if(typeof r=="number"?(n=r,r=!1):r=!!r,n=n||10,n<2||36<n)throw RangeError("radix");var o;if((o=e.indexOf("-"))>0)throw Error("interior hyphen");if(o===0)return t.fromString(e.substring(1),r,n).neg();for(var i=t.fromNumber(Math.pow(n,8)),l=t.ZERO,f=0;f<e.length;f+=8){var p=Math.min(8,e.length-f),u=parseInt(e.substring(f,f+p),n);if(p<8){var d=t.fromNumber(Math.pow(n,p));l=l.mul(d).add(t.fromNumber(u))}else l=l.mul(i),l=l.add(t.fromNumber(u))}return l.unsigned=r,l},t.fromBytes=function(e,r,n){return n?t.fromBytesLE(e,r):t.fromBytesBE(e,r)},t.fromBytesLE=function(e,r){return new t(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,r)},t.fromBytesBE=function(e,r){return new t(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],r)},t.isLong=function(e){return El(e)&&e.__isLong__===!0},t.fromValue=function(e,r){return typeof e=="number"?t.fromNumber(e,r):typeof e=="string"?t.fromString(e,r):t.fromBits(e.low,e.high,typeof r=="boolean"?r:e.unsigned)},t.prototype.add=function(e){t.isLong(e)||(e=t.fromValue(e));var r=this.high>>>16,n=this.high&65535,o=this.low>>>16,i=this.low&65535,l=e.high>>>16,f=e.high&65535,p=e.low>>>16,u=e.low&65535,d=0,v=0,y=0,_=0;return _+=i+u,y+=_>>>16,_&=65535,y+=o+p,v+=y>>>16,y&=65535,v+=n+f,d+=v>>>16,v&=65535,d+=r+l,d&=65535,t.fromBits(y<<16|_,d<<16|v,this.unsigned)},t.prototype.and=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low&e.low,this.high&e.high,this.unsigned)},t.prototype.compare=function(e){if(t.isLong(e)||(e=t.fromValue(e)),this.eq(e))return 0;var r=this.isNegative(),n=e.isNegative();return r&&!n?-1:!r&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},t.prototype.comp=function(e){return this.compare(e)},t.prototype.divide=function(e){if(t.isLong(e)||(e=t.fromValue(e)),e.isZero())throw Error("division by zero");if(Gr){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var r=(this.unsigned?Gr.div_u:Gr.div_s)(this.low,this.high,e.low,e.high);return t.fromBits(r,Gr.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?t.UZERO:t.ZERO;var n,o,i;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return t.UZERO;if(e.gt(this.shru(1)))return t.UONE;i=t.UZERO}else{if(this.eq(t.MIN_VALUE)){if(e.eq(t.ONE)||e.eq(t.NEG_ONE))return t.MIN_VALUE;if(e.eq(t.MIN_VALUE))return t.ONE;var l=this.shr(1);return n=l.div(e).shl(1),n.eq(t.ZERO)?e.isNegative()?t.ONE:t.NEG_ONE:(o=this.sub(e.mul(n)),i=n.add(o.div(e)),i)}else if(e.eq(t.MIN_VALUE))return this.unsigned?t.UZERO:t.ZERO;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=t.ZERO}for(o=this;o.gte(e);){n=Math.max(1,Math.floor(o.toNumber()/e.toNumber()));for(var f=Math.ceil(Math.log(n)/Math.LN2),p=f<=48?1:Math.pow(2,f-48),u=t.fromNumber(n),d=u.mul(e);d.isNegative()||d.gt(o);)n-=p,u=t.fromNumber(n,this.unsigned),d=u.mul(e);u.isZero()&&(u=t.ONE),i=i.add(u),o=o.sub(d)}return i},t.prototype.div=function(e){return this.divide(e)},t.prototype.equals=function(e){return t.isLong(e)||(e=t.fromValue(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low},t.prototype.eq=function(e){return this.equals(e)},t.prototype.getHighBits=function(){return this.high},t.prototype.getHighBitsUnsigned=function(){return this.high>>>0},t.prototype.getLowBits=function(){return this.low},t.prototype.getLowBitsUnsigned=function(){return this.low>>>0},t.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(t.MIN_VALUE)?64:this.neg().getNumBitsAbs();var e=this.high!==0?this.high:this.low,r;for(r=31;r>0&&(e&1<<r)===0;r--);return this.high!==0?r+33:r+1},t.prototype.greaterThan=function(e){return this.comp(e)>0},t.prototype.gt=function(e){return this.greaterThan(e)},t.prototype.greaterThanOrEqual=function(e){return this.comp(e)>=0},t.prototype.gte=function(e){return this.greaterThanOrEqual(e)},t.prototype.ge=function(e){return this.greaterThanOrEqual(e)},t.prototype.isEven=function(){return(this.low&1)===0},t.prototype.isNegative=function(){return!this.unsigned&&this.high<0},t.prototype.isOdd=function(){return(this.low&1)===1},t.prototype.isPositive=function(){return this.unsigned||this.high>=0},t.prototype.isZero=function(){return this.high===0&&this.low===0},t.prototype.lessThan=function(e){return this.comp(e)<0},t.prototype.lt=function(e){return this.lessThan(e)},t.prototype.lessThanOrEqual=function(e){return this.comp(e)<=0},t.prototype.lte=function(e){return this.lessThanOrEqual(e)},t.prototype.modulo=function(e){if(t.isLong(e)||(e=t.fromValue(e)),Gr){var r=(this.unsigned?Gr.rem_u:Gr.rem_s)(this.low,this.high,e.low,e.high);return t.fromBits(r,Gr.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))},t.prototype.mod=function(e){return this.modulo(e)},t.prototype.rem=function(e){return this.modulo(e)},t.prototype.multiply=function(e){if(this.isZero())return t.ZERO;if(t.isLong(e)||(e=t.fromValue(e)),Gr){var r=Gr.mul(this.low,this.high,e.low,e.high);return t.fromBits(r,Gr.get_high(),this.unsigned)}if(e.isZero())return t.ZERO;if(this.eq(t.MIN_VALUE))return e.isOdd()?t.MIN_VALUE:t.ZERO;if(e.eq(t.MIN_VALUE))return this.isOdd()?t.MIN_VALUE:t.ZERO;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(t.TWO_PWR_24)&&e.lt(t.TWO_PWR_24))return t.fromNumber(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,o=this.high&65535,i=this.low>>>16,l=this.low&65535,f=e.high>>>16,p=e.high&65535,u=e.low>>>16,d=e.low&65535,v=0,y=0,_=0,w=0;return w+=l*d,_+=w>>>16,w&=65535,_+=i*d,y+=_>>>16,_&=65535,_+=l*u,y+=_>>>16,_&=65535,y+=o*d,v+=y>>>16,y&=65535,y+=i*u,v+=y>>>16,y&=65535,y+=l*p,v+=y>>>16,y&=65535,v+=n*d+o*u+i*p+l*f,v&=65535,t.fromBits(_<<16|w,v<<16|y,this.unsigned)},t.prototype.mul=function(e){return this.multiply(e)},t.prototype.negate=function(){return!this.unsigned&&this.eq(t.MIN_VALUE)?t.MIN_VALUE:this.not().add(t.ONE)},t.prototype.neg=function(){return this.negate()},t.prototype.not=function(){return t.fromBits(~this.low,~this.high,this.unsigned)},t.prototype.notEquals=function(e){return!this.equals(e)},t.prototype.neq=function(e){return this.notEquals(e)},t.prototype.ne=function(e){return this.notEquals(e)},t.prototype.or=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low|e.low,this.high|e.high,this.unsigned)},t.prototype.shiftLeft=function(e){return t.isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?t.fromBits(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):t.fromBits(0,this.low<<e-32,this.unsigned)},t.prototype.shl=function(e){return this.shiftLeft(e)},t.prototype.shiftRight=function(e){return t.isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?t.fromBits(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):t.fromBits(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},t.prototype.shr=function(e){return this.shiftRight(e)},t.prototype.shiftRightUnsigned=function(e){if(t.isLong(e)&&(e=e.toInt()),e&=63,e===0)return this;var r=this.high;if(e<32){var n=this.low;return t.fromBits(n>>>e|r<<32-e,r>>>e,this.unsigned)}else return e===32?t.fromBits(r,0,this.unsigned):t.fromBits(r>>>e-32,0,this.unsigned)},t.prototype.shr_u=function(e){return this.shiftRightUnsigned(e)},t.prototype.shru=function(e){return this.shiftRightUnsigned(e)},t.prototype.subtract=function(e){return t.isLong(e)||(e=t.fromValue(e)),this.add(e.neg())},t.prototype.sub=function(e){return this.subtract(e)},t.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},t.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*os+(this.low>>>0):this.high*os+(this.low>>>0)},t.prototype.toBigInt=function(){return BigInt(this.toString())},t.prototype.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},t.prototype.toBytesLE=function(){var e=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]},t.prototype.toBytesBE=function(){var e=this.high,r=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,r>>>24,r>>>16&255,r>>>8&255,r&255]},t.prototype.toSigned=function(){return this.unsigned?t.fromBits(this.low,this.high,!1):this},t.prototype.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(t.MIN_VALUE)){var r=t.fromNumber(e),n=this.div(r),o=n.mul(r).sub(this);return n.toString(e)+o.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var i=t.fromNumber(Math.pow(e,6),this.unsigned),l=this,f="";;){var p=l.div(i),u=l.sub(p.mul(i)).toInt()>>>0,d=u.toString(e);if(l=p,l.isZero())return d+f;for(;d.length<6;)d="0"+d;f=""+d+f}},t.prototype.toUnsigned=function(){return this.unsigned?this:t.fromBits(this.low,this.high,!0)},t.prototype.xor=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low^e.low,this.high^e.high,this.unsigned)},t.prototype.eqz=function(){return this.isZero()},t.prototype.le=function(e){return this.lessThanOrEqual(e)},t.prototype.toExtendedJSON=function(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}},t.fromExtendedJSON=function(e,r){var n=t.fromString(e.$numberLong);return r&&r.relaxed?n.toNumber():n},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new Long("'.concat(this.toString(),'"').concat(this.unsigned?", true":"",")")},t.TWO_PWR_24=t.fromInt(S9),t.MAX_UNSIGNED_VALUE=t.fromBits(-1,-1,!0),t.ZERO=t.fromInt(0),t.UZERO=t.fromInt(0,!0),t.ONE=t.fromInt(1),t.UONE=t.fromInt(1,!0),t.NEG_ONE=t.fromInt(-1),t.MAX_VALUE=t.fromBits(-1,2147483647,!1),t.MIN_VALUE=t.fromBits(0,-2147483648,!1),t})();Object.defineProperty(be.prototype,"__isLong__",{value:!0});Object.defineProperty(be.prototype,"_bsontype",{value:"Long"});var I9=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,T9=/^(\+|-)?(Infinity|inf)$/i,O9=/^(\+|-)?NaN$/i,Ou=6111,w0=-6176,b2=6176,x9=34,b0=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),E2=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),S2=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),R9=/^([-+])?(\d+)?$/,A9=31,I2=16383,C9=30,P9=31;function T2(t){return!isNaN(parseInt(t,10))}function N9(t){var e=be.fromNumber(1e9),r=be.fromNumber(0);if(!t.parts[0]&&!t.parts[1]&&!t.parts[2]&&!t.parts[3])return{quotient:t,rem:r};for(var n=0;n<=3;n++)r=r.shiftLeft(32),r=r.add(new be(t.parts[n],0)),t.parts[n]=r.div(e).low,r=r.modulo(e);return{quotient:t,rem:r}}function k9(t,e){if(!t&&!e)return{high:be.fromNumber(0),low:be.fromNumber(0)};var r=t.shiftRightUnsigned(32),n=new be(t.getLowBits(),0),o=e.shiftRightUnsigned(32),i=new be(e.getLowBits(),0),l=r.multiply(o),f=r.multiply(i),p=n.multiply(o),u=n.multiply(i);return l=l.add(f.shiftRightUnsigned(32)),f=new be(f.getLowBits(),0).add(p).add(u.shiftRightUnsigned(32)),l=l.add(f.shiftRightUnsigned(32)),u=f.shiftLeft(32).add(new be(u.getLowBits(),0)),{high:l,low:u}}function L9(t,e){var r=t.high>>>0,n=e.high>>>0;if(r<n)return!0;if(r===n){var o=t.low>>>0,i=e.low>>>0;if(o<i)return!0}return!1}function Ka(t,e){throw new ct('"'.concat(t,'" is not a valid Decimal128 string - ').concat(e))}var O_=(function(){function t(e){if(!(this instanceof t))return new t(e);if(typeof e=="string")this.bytes=t.fromString(e).bytes;else if(T_(e)){if(e.byteLength!==16)throw new ct("Decimal128 must take a Buffer of 16 bytes");this.bytes=e}else throw new ct("Decimal128 must take a Buffer or string")}return t.fromString=function(e){var r=!1,n=!1,o=!1,i=0,l=0,f=0,p=0,u=0,d=[0],v=0,y=0,_=0,w=0,S=0,T=0,O=new be(0,0),x=new be(0,0),A=0,C=0;if(e.length>=7e3)throw new ct(""+e+" not a valid Decimal128 string");var U=e.match(I9),q=e.match(T9),Y=e.match(O9);if(!U&&!q&&!Y||e.length===0)throw new ct(""+e+" not a valid Decimal128 string");if(U){var J=U[2],k=U[4],W=U[5],F=U[6];k&&F===void 0&&Ka(e,"missing exponent power"),k&&J===void 0&&Ka(e,"missing exponent base"),k===void 0&&(W||F)&&Ka(e,"missing e before exponent")}if((e[C]==="+"||e[C]==="-")&&(r=e[C++]==="-"),!T2(e[C])&&e[C]!=="."){if(e[C]==="i"||e[C]==="I")return new t(ze.from(r?E2:S2));if(e[C]==="N")return new t(ze.from(b0))}for(;T2(e[C])||e[C]===".";){if(e[C]==="."){n&&Ka(e,"contains multiple periods"),n=!0,C=C+1;continue}v<34&&(e[C]!=="0"||o)&&(o||(u=l),o=!0,d[y++]=parseInt(e[C],10),v=v+1),o&&(f=f+1),n&&(p=p+1),l=l+1,C=C+1}if(n&&!l)throw new ct(""+e+" not a valid Decimal128 string");if(e[C]==="e"||e[C]==="E"){var V=e.substr(++C).match(R9);if(!V||!V[2])return new t(ze.from(b0));S=parseInt(V[0],10),C=C+V[0].length}if(e[C])return new t(ze.from(b0));if(_=0,!v)_=0,w=0,d[0]=0,f=1,v=1,i=0;else if(w=v-1,i=f,i!==1)for(;d[u+i-1]===0;)i=i-1;for(S<=p&&p-S>16384?S=w0:S=S-p;S>Ou;){if(w=w+1,w-_>x9){var G=d.join("");if(G.match(/^0+$/)){S=Ou;break}Ka(e,"overflow")}S=S-1}for(;S<w0||v<f;){if(w===0&&i<v){S=w0,i=0;break}if(v<f?f=f-1:w=w-1,S<Ou)S=S+1;else{var G=d.join("");if(G.match(/^0+$/)){S=Ou;break}Ka(e,"overflow")}}if(w-_+1<i){var K=l;n&&(u=u+1,K=K+1),r&&(u=u+1,K=K+1);var ae=parseInt(e[u+w+1],10),fe=0;if(ae>=5&&(fe=1,ae===5)){for(fe=d[w]%2===1?1:0,T=u+w+2;T<K;T++)if(parseInt(e[T],10)){fe=1;break}}if(fe){for(var ce=w;ce>=0;ce--)if(++d[ce]>9&&(d[ce]=0,ce===0))if(S<Ou)S=S+1,d[ce]=1;else return new t(ze.from(r?E2:S2))}}if(O=be.fromNumber(0),x=be.fromNumber(0),i===0)O=be.fromNumber(0),x=be.fromNumber(0);else if(w-_<17){var ce=_;for(x=be.fromNumber(d[ce++]),O=new be(0,0);ce<=w;ce++)x=x.multiply(be.fromNumber(10)),x=x.add(be.fromNumber(d[ce]))}else{var ce=_;for(O=be.fromNumber(d[ce++]);ce<=w-17;ce++)O=O.multiply(be.fromNumber(10)),O=O.add(be.fromNumber(d[ce]));for(x=be.fromNumber(d[ce++]);ce<=w;ce++)x=x.multiply(be.fromNumber(10)),x=x.add(be.fromNumber(d[ce]))}var Q=k9(O,be.fromString("100000000000000000"));Q.low=Q.low.add(x),L9(Q.low,x)&&(Q.high=Q.high.add(be.fromNumber(1))),A=S+b2;var ee={low:be.fromNumber(0),high:be.fromNumber(0)};Q.high.shiftRightUnsigned(49).and(be.fromNumber(1)).equals(be.fromNumber(1))?(ee.high=ee.high.or(be.fromNumber(3).shiftLeft(61)),ee.high=ee.high.or(be.fromNumber(A).and(be.fromNumber(16383).shiftLeft(47))),ee.high=ee.high.or(Q.high.and(be.fromNumber(0x7fffffffffff)))):(ee.high=ee.high.or(be.fromNumber(A&16383).shiftLeft(49)),ee.high=ee.high.or(Q.high.and(be.fromNumber(562949953421311)))),ee.low=Q.low,r&&(ee.high=ee.high.or(be.fromString("9223372036854775808")));var X=ze.alloc(16);return C=0,X[C++]=ee.low.low&255,X[C++]=ee.low.low>>8&255,X[C++]=ee.low.low>>16&255,X[C++]=ee.low.low>>24&255,X[C++]=ee.low.high&255,X[C++]=ee.low.high>>8&255,X[C++]=ee.low.high>>16&255,X[C++]=ee.low.high>>24&255,X[C++]=ee.high.low&255,X[C++]=ee.high.low>>8&255,X[C++]=ee.high.low>>16&255,X[C++]=ee.high.low>>24&255,X[C++]=ee.high.high&255,X[C++]=ee.high.high>>8&255,X[C++]=ee.high.high>>16&255,X[C++]=ee.high.high>>24&255,new t(X)},t.prototype.toString=function(){for(var e,r=0,n=new Array(36),o=0;o<n.length;o++)n[o]=0;var i=0,l=!1,f,p={parts:[0,0,0,0]},u,d,v=[];i=0;var y=this.bytes,_=y[i++]|y[i++]<<8|y[i++]<<16|y[i++]<<24,w=y[i++]|y[i++]<<8|y[i++]<<16|y[i++]<<24,S=y[i++]|y[i++]<<8|y[i++]<<16|y[i++]<<24,T=y[i++]|y[i++]<<8|y[i++]<<16|y[i++]<<24;i=0;var O={low:new be(_,w),high:new be(S,T)};O.high.lessThan(be.ZERO)&&v.push("-");var x=T>>26&A9;if(x>>3===3){if(x===C9)return v.join("")+"Infinity";if(x===P9)return"NaN";e=T>>15&I2,f=8+(T>>14&1)}else f=T>>14&7,e=T>>17&I2;var A=e-b2;if(p.parts[0]=(T&16383)+((f&15)<<14),p.parts[1]=S,p.parts[2]=w,p.parts[3]=_,p.parts[0]===0&&p.parts[1]===0&&p.parts[2]===0&&p.parts[3]===0)l=!0;else for(d=3;d>=0;d--){var C=0,U=N9(p);if(p=U.quotient,C=U.rem.low,!!C)for(u=8;u>=0;u--)n[d*9+u]=C%10,C=Math.floor(C/10)}if(l)r=1,n[i]=0;else for(r=36;!n[i];)r=r-1,i=i+1;var q=r-1+A;if(q>=34||q<=-7||A>0){if(r>34)return v.push("".concat(0)),A>0?v.push("E+".concat(A)):A<0&&v.push("E".concat(A)),v.join("");v.push("".concat(n[i++])),r=r-1,r&&v.push(".");for(var o=0;o<r;o++)v.push("".concat(n[i++]));v.push("E"),q>0?v.push("+".concat(q)):v.push("".concat(q))}else if(A>=0)for(var o=0;o<r;o++)v.push("".concat(n[i++]));else{var Y=r+A;if(Y>0)for(var o=0;o<Y;o++)v.push("".concat(n[i++]));else v.push("0");for(v.push(".");Y++<0;)v.push("0");for(var o=0;o<r-Math.max(Y-1,0);o++)v.push("".concat(n[i++]))}return v.join("")},t.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},t.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}},t.fromExtendedJSON=function(e){return t.fromString(e.$numberDecimal)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new Decimal128("'.concat(this.toString(),'")')},t})();Object.defineProperty(O_.prototype,"_bsontype",{value:"Decimal128"});var Wd=(function(){function t(e){if(!(this instanceof t))return new t(e);e instanceof Number&&(e=e.valueOf()),this.value=+e}return t.prototype.valueOf=function(){return this.value},t.prototype.toJSON=function(){return this.value},t.prototype.toString=function(e){return this.value.toString(e)},t.prototype.toExtendedJSON=function(e){return e&&(e.legacy||e.relaxed&&isFinite(this.value))?this.value:Object.is(Math.sign(this.value),-0)?{$numberDouble:"-".concat(this.value.toFixed(1))}:{$numberDouble:Number.isInteger(this.value)?this.value.toFixed(1):this.value.toString()}},t.fromExtendedJSON=function(e,r){var n=parseFloat(e.$numberDouble);return r&&r.relaxed?n:new t(n)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.toExtendedJSON();return"new Double(".concat(e.$numberDouble,")")},t})();Object.defineProperty(Wd.prototype,"_bsontype",{value:"Double"});var Hd=(function(){function t(e){if(!(this instanceof t))return new t(e);e instanceof Number&&(e=e.valueOf()),this.value=+e|0}return t.prototype.valueOf=function(){return this.value},t.prototype.toString=function(e){return this.value.toString(e)},t.prototype.toJSON=function(){return this.value},t.prototype.toExtendedJSON=function(e){return e&&(e.relaxed||e.legacy)?this.value:{$numberInt:this.value.toString()}},t.fromExtendedJSON=function(e,r){return r&&r.relaxed?parseInt(e.$numberInt,10):new t(e.$numberInt)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new Int32(".concat(this.valueOf(),")")},t})();Object.defineProperty(Hd.prototype,"_bsontype",{value:"Int32"});var x_=(function(){function t(){if(!(this instanceof t))return new t}return t.prototype.toExtendedJSON=function(){return{$maxKey:1}},t.fromExtendedJSON=function(){return new t},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new MaxKey()"},t})();Object.defineProperty(x_.prototype,"_bsontype",{value:"MaxKey"});var R_=(function(){function t(){if(!(this instanceof t))return new t}return t.prototype.toExtendedJSON=function(){return{$minKey:1}},t.fromExtendedJSON=function(){return new t},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new MinKey()"},t})();Object.defineProperty(R_.prototype,"_bsontype",{value:"MinKey"});var j9=new RegExp("^[0-9a-fA-F]{24}$"),jo=null,Hn=Symbol("id"),rn=(function(){function t(e){if(!(this instanceof t))return new t(e);var r;if(typeof e=="object"&&e&&"id"in e){if(typeof e.id!="string"&&!ArrayBuffer.isView(e.id))throw new ct("Argument passed in must have an id that is of type string or Buffer");"toHexString"in e&&typeof e.toHexString=="function"?r=ze.from(e.toHexString(),"hex"):r=e.id}else r=e;if(r==null||typeof r=="number")this[Hn]=t.generate(typeof r=="number"?r:void 0);else if(ArrayBuffer.isView(r)&&r.byteLength===12)this[Hn]=r instanceof ze?r:ld(r);else if(typeof r=="string")if(r.length===12){var n=ze.from(r);if(n.byteLength===12)this[Hn]=n;else throw new ct("Argument passed in must be a string of 12 bytes")}else if(r.length===24&&j9.test(r))this[Hn]=ze.from(r,"hex");else throw new ct("Argument passed in must be a string of 12 bytes or a string of 24 hex characters or an integer");else throw new ct("Argument passed in does not match the accepted types");t.cacheHexString&&(this.__id=this.id.toString("hex"))}return Object.defineProperty(t.prototype,"id",{get:function(){return this[Hn]},set:function(e){this[Hn]=e,t.cacheHexString&&(this.__id=e.toString("hex"))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"generationTime",{get:function(){return this.id.readInt32BE(0)},set:function(e){this.id.writeUInt32BE(e,0)},enumerable:!1,configurable:!0}),t.prototype.toHexString=function(){if(t.cacheHexString&&this.__id)return this.__id;var e=this.id.toString("hex");return t.cacheHexString&&!this.__id&&(this.__id=e),e},t.getInc=function(){return t.index=(t.index+1)%16777215},t.generate=function(e){typeof e!="number"&&(e=Math.floor(Date.now()/1e3));var r=t.getInc(),n=ze.alloc(12);return n.writeUInt32BE(e,0),jo===null&&(jo=tP(5)),n[4]=jo[0],n[5]=jo[1],n[6]=jo[2],n[7]=jo[3],n[8]=jo[4],n[11]=r&255,n[10]=r>>8&255,n[9]=r>>16&255,n},t.prototype.toString=function(e){return e?this.id.toString(e):this.toHexString()},t.prototype.toJSON=function(){return this.toHexString()},t.prototype.equals=function(e){if(e==null)return!1;if(e instanceof t)return this[Hn][11]===e[Hn][11]&&this[Hn].equals(e[Hn]);if(typeof e=="string"&&t.isValid(e)&&e.length===12&&T_(this.id))return e===ze.prototype.toString.call(this.id,"latin1");if(typeof e=="string"&&t.isValid(e)&&e.length===24)return e.toLowerCase()===this.toHexString();if(typeof e=="string"&&t.isValid(e)&&e.length===12)return ze.from(e).equals(this.id);if(typeof e=="object"&&"toHexString"in e&&typeof e.toHexString=="function"){var r=e.toHexString(),n=this.toHexString().toLowerCase();return typeof r=="string"&&r.toLowerCase()===n}return!1},t.prototype.getTimestamp=function(){var e=new Date,r=this.id.readUInt32BE(0);return e.setTime(Math.floor(r)*1e3),e},t.createPk=function(){return new t},t.createFromTime=function(e){var r=ze.from([0,0,0,0,0,0,0,0,0,0,0,0]);return r.writeUInt32BE(e,0),new t(r)},t.createFromHexString=function(e){if(typeof e>"u"||e!=null&&e.length!==24)throw new ct("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");return new t(ze.from(e,"hex"))},t.isValid=function(e){if(e==null)return!1;try{return new t(e),!0}catch{return!1}},t.prototype.toExtendedJSON=function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}},t.fromExtendedJSON=function(e){return new t(e.$oid)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new ObjectId("'.concat(this.toHexString(),'")')},t.index=Math.floor(Math.random()*16777215),t})();Object.defineProperty(rn.prototype,"generate",{value:qd(function(t){return rn.generate(t)},"Please use the static `ObjectId.generate(time)` instead")});Object.defineProperty(rn.prototype,"getInc",{value:qd(function(){return rn.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(rn.prototype,"get_inc",{value:qd(function(){return rn.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(rn,"get_inc",{value:qd(function(){return rn.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(rn.prototype,"_bsontype",{value:"ObjectID"});function D9(t){return t.split("").sort().join("")}var fl=(function(){function t(e,r){if(!(this instanceof t))return new t(e,r);if(this.pattern=e,this.options=D9(r??""),this.pattern.indexOf("\0")!==-1)throw new Jo("BSON Regex patterns cannot contain null bytes, found: ".concat(JSON.stringify(this.pattern)));if(this.options.indexOf("\0")!==-1)throw new Jo("BSON Regex options cannot contain null bytes, found: ".concat(JSON.stringify(this.options)));for(var n=0;n<this.options.length;n++)if(!(this.options[n]==="i"||this.options[n]==="m"||this.options[n]==="x"||this.options[n]==="l"||this.options[n]==="s"||this.options[n]==="u"))throw new Jo("The regular expression option [".concat(this.options[n],"] is not supported"))}return t.parseOptions=function(e){return e?e.split("").sort().join(""):""},t.prototype.toExtendedJSON=function(e){return e=e||{},e.legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}},t.fromExtendedJSON=function(e){if("$regex"in e)if(typeof e.$regex!="string"){if(e.$regex._bsontype==="BSONRegExp")return e}else return new t(e.$regex,t.parseOptions(e.$options));if("$regularExpression"in e)return new t(e.$regularExpression.pattern,t.parseOptions(e.$regularExpression.options));throw new ct("Unexpected BSONRegExp EJSON object form: ".concat(JSON.stringify(e)))},t})();Object.defineProperty(fl.prototype,"_bsontype",{value:"BSONRegExp"});var A_=(function(){function t(e){if(!(this instanceof t))return new t(e);this.value=e}return t.prototype.valueOf=function(){return this.value},t.prototype.toString=function(){return this.value},t.prototype.inspect=function(){return'new BSONSymbol("'.concat(this.value,'")')},t.prototype.toJSON=function(){return this.value},t.prototype.toExtendedJSON=function(){return{$symbol:this.value}},t.fromExtendedJSON=function(e){return new t(e.$symbol)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t})();Object.defineProperty(A_.prototype,"_bsontype",{value:"Symbol"});var U9=be,oP=(function(t){Bd(e,t);function e(r,n){var o=this;return o instanceof e?(be.isLong(r)?o=t.call(this,r.low,r.high,!0)||this:El(r)&&typeof r.t<"u"&&typeof r.i<"u"?o=t.call(this,r.i,r.t,!0)||this:o=t.call(this,r,n,!0)||this,Object.defineProperty(o,"_bsontype",{value:"Timestamp",writable:!1,configurable:!1,enumerable:!1}),o):new e(r,n)}return e.prototype.toJSON=function(){return{$timestamp:this.toString()}},e.fromInt=function(r){return new e(be.fromInt(r,!0))},e.fromNumber=function(r){return new e(be.fromNumber(r,!0))},e.fromBits=function(r,n){return new e(r,n)},e.fromString=function(r,n){return new e(be.fromString(r,!0,n))},e.prototype.toExtendedJSON=function(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}},e.fromExtendedJSON=function(r){return new e(r.$timestamp)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new Timestamp({ t: ".concat(this.getHighBits(),", i: ").concat(this.getLowBits()," })")},e.MAX_VALUE=be.MAX_UNSIGNED_VALUE,e})(U9);function F9(t){return El(t)&&Reflect.has(t,"_bsontype")&&typeof t._bsontype=="string"}var aP=2147483647,sP=-2147483648,uP=9223372036854776e3,lP=-9223372036854776e3,M9={$oid:rn,$binary:Qo,$uuid:Qo,$symbol:A_,$numberInt:Hd,$numberDecimal:O_,$numberDouble:Wd,$numberLong:be,$minKey:R_,$maxKey:x_,$regex:fl,$regularExpression:fl,$timestamp:oP};function cP(t,e){if(e===void 0&&(e={}),typeof t=="number"){if(e.relaxed||e.legacy)return t;if(Math.floor(t)===t){if(t>=sP&&t<=aP)return new Hd(t);if(t>=lP&&t<=uP)return be.fromNumber(t)}return new Wd(t)}if(t==null||typeof t!="object")return t;if(t.$undefined)return null;for(var r=Object.keys(t).filter(function(v){return v.startsWith("$")&&t[v]!=null}),n=0;n<r.length;n++){var o=M9[r[n]];if(o)return o.fromExtendedJSON(t,e)}if(t.$date!=null){var i=t.$date,l=new Date;return e.legacy?typeof i=="number"?l.setTime(i):typeof i=="string"&&l.setTime(Date.parse(i)):typeof i=="string"?l.setTime(Date.parse(i)):be.isLong(i)?l.setTime(i.toNumber()):typeof i=="number"&&e.relaxed&&l.setTime(i),l}if(t.$code!=null){var f=Object.assign({},t);return t.$scope&&(f.$scope=cP(t.$scope)),$d.fromExtendedJSON(t)}if(E9(t)||t.$dbPointer){var p=t.$ref?t:t.$dbPointer;if(p instanceof cl)return p;var u=Object.keys(p).filter(function(v){return v.startsWith("$")}),d=!0;if(u.forEach(function(v){["$ref","$id","$db"].indexOf(v)===-1&&(d=!1)}),d)return cl.fromExtendedJSON(p)}return t}function B9(t,e){return t.map(function(r,n){e.seenObjects.push({propertyName:"index ".concat(n),obj:null});try{return Qi(r,e)}finally{e.seenObjects.pop()}})}function O2(t){var e=t.toISOString();return t.getUTCMilliseconds()!==0?e:e.slice(0,-5)+"Z"}function Qi(t,e){if((typeof t=="object"||typeof t=="function")&&t!==null){var r=e.seenObjects.findIndex(function(O){return O.obj===t});if(r!==-1){var n=e.seenObjects.map(function(O){return O.propertyName}),o=n.slice(0,r).map(function(O){return"".concat(O," -> ")}).join(""),i=n[r],l=" -> "+n.slice(r+1,n.length-1).map(function(O){return"".concat(O," -> ")}).join(""),f=n[n.length-1],p=" ".repeat(o.length+i.length/2),u="-".repeat(l.length+(i.length+f.length)/2-1);throw new ct(`Converting circular structure to EJSON:
`+"    ".concat(o).concat(i).concat(l).concat(f,`
`)+"    ".concat(p,"\\").concat(u,"/"))}e.seenObjects[e.seenObjects.length-1].obj=t}if(Array.isArray(t))return B9(t,e);if(t===void 0)return null;if(t instanceof Date||g9(t)){var d=t.getTime(),v=d>-1&&d<2534023188e5;return e.legacy?e.relaxed&&v?{$date:t.getTime()}:{$date:O2(t)}:e.relaxed&&v?{$date:O2(t)}:{$date:{$numberLong:t.getTime().toString()}}}if(typeof t=="number"&&(!e.relaxed||!isFinite(t))){if(Math.floor(t)===t){var y=t>=sP&&t<=aP,_=t>=lP&&t<=uP;if(y)return{$numberInt:t.toString()};if(_)return{$numberLong:t.toString()}}return{$numberDouble:t.toString()}}if(t instanceof RegExp||m9(t)){var w=t.flags;if(w===void 0){var S=t.toString().match(/[gimuy]*$/);S&&(w=S[0])}var T=new fl(t.source,w);return T.toExtendedJSON(e)}return t!=null&&typeof t=="object"?$9(t,e):t}var q9={Binary:function(t){return new Qo(t.value(),t.sub_type)},Code:function(t){return new $d(t.code,t.scope)},DBRef:function(t){return new cl(t.collection||t.namespace,t.oid,t.db,t.fields)},Decimal128:function(t){return new O_(t.bytes)},Double:function(t){return new Wd(t.value)},Int32:function(t){return new Hd(t.value)},Long:function(t){return be.fromBits(t.low!=null?t.low:t.low_,t.low!=null?t.high:t.high_,t.low!=null?t.unsigned:t.unsigned_)},MaxKey:function(){return new x_},MinKey:function(){return new R_},ObjectID:function(t){return new rn(t)},ObjectId:function(t){return new rn(t)},BSONRegExp:function(t){return new fl(t.pattern,t.options)},Symbol:function(t){return new A_(t.value)},Timestamp:function(t){return oP.fromBits(t.low,t.high)}};function $9(t,e){if(t==null||typeof t!="object")throw new Jo("not an object instance");var r=t._bsontype;if(typeof r>"u"){var n={};for(var o in t){e.seenObjects.push({propertyName:o,obj:null});try{var i=Qi(t[o],e);o==="__proto__"?Object.defineProperty(n,o,{value:i,writable:!0,enumerable:!0,configurable:!0}):n[o]=i}finally{e.seenObjects.pop()}}return n}else if(F9(t)){var l=t;if(typeof l.toExtendedJSON!="function"){var f=q9[t._bsontype];if(!f)throw new ct("Unrecognized or invalid _bsontype: "+t._bsontype);l=f(l)}return r==="Code"&&l.scope?l=new $d(l.code,Qi(l.scope,e)):r==="DBRef"&&l.oid&&(l=new cl(Qi(l.collection,e),Qi(l.oid,e),Qi(l.db,e),Qi(l.fields,e))),l.toExtendedJSON(e)}else throw new Jo("_bsontype must be a string, but was: "+typeof r)}var Ar;(function(t){function e(i,l){var f=Object.assign({},{relaxed:!0,legacy:!1},l);return typeof f.relaxed=="boolean"&&(f.strict=!f.relaxed),typeof f.strict=="boolean"&&(f.relaxed=!f.strict),JSON.parse(i,function(p,u){if(p.indexOf("\0")!==-1)throw new Jo("BSON Document field names cannot contain null bytes, found: ".concat(JSON.stringify(p)));return cP(u,f)})}t.parse=e;function r(i,l,f,p){f!=null&&typeof f=="object"&&(p=f,f=0),l!=null&&typeof l=="object"&&!Array.isArray(l)&&(p=l,l=void 0,f=0);var u=Object.assign({relaxed:!0,legacy:!1},p,{seenObjects:[{propertyName:"(root)",obj:null}]}),d=Qi(i,u);return JSON.stringify(d,l,f)}t.stringify=r;function n(i,l){return l=l||{},JSON.parse(r(i,l))}t.serialize=n;function o(i,l){return l=l||{},e(JSON.stringify(i),l)}t.deserialize=o})(Ar||(Ar={}));var x2=eP();x2.Map?x2.Map:(function(){function t(e){e===void 0&&(e=[]),this._keys=[],this._values={};for(var r=0;r<e.length;r++)if(e[r]!=null){var n=e[r],o=n[0],i=n[1];this._keys.push(o),this._values[o]={v:i,i:this._keys.length-1}}}return t.prototype.clear=function(){this._keys=[],this._values={}},t.prototype.delete=function(e){var r=this._values[e];return r==null?!1:(delete this._values[e],this._keys.splice(r.i,1),!0)},t.prototype.entries=function(){var e=this,r=0;return{next:function(){var n=e._keys[r++];return{value:n!==void 0?[n,e._values[n].v]:void 0,done:n===void 0}}}},t.prototype.forEach=function(e,r){r=r||this;for(var n=0;n<this._keys.length;n++){var o=this._keys[n];e.call(r,this._values[o].v,o,r)}},t.prototype.get=function(e){return this._values[e]?this._values[e].v:void 0},t.prototype.has=function(e){return this._values[e]!=null},t.prototype.keys=function(){var e=this,r=0;return{next:function(){var n=e._keys[r++];return{value:n!==void 0?n:void 0,done:n===void 0}}}},t.prototype.set=function(e,r){return this._values[e]?(this._values[e].v=r,this):(this._keys.push(e),this._values[e]={v:r,i:this._keys.length-1},this)},t.prototype.values=function(){var e=this,r=0;return{next:function(){var n=e._keys[r++];return{value:n!==void 0?e._values[n].v:void 0,done:n===void 0}}}},Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!1,configurable:!0}),t})();be.fromNumber(w9);be.fromNumber(b9);var E0=new Uint8Array(8);new DataView(E0.buffer,E0.byteOffset,E0.byteLength);var W9=1024*1024*17;ze.alloc(W9);var H9=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function p(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,p)}u((n=n.apply(t,e||[])).next())})},G9=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return p([u,d])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},fP=(function(){function t(e,r){this._stages=[],e&&r&&(this._db=e,this._request=new Xt.reqClass(this._db.config),this._collectionName=r)}return t.prototype.end=function(){return H9(this,void 0,void 0,function(){var e;return G9(this,function(r){switch(r.label){case 0:if(!this._collectionName||!this._db)throw new Error("Aggregation pipeline cannot send request");return[4,this._request.send("database.aggregate",{collectionName:this._collectionName,stages:this._stages})];case 1:return e=r.sent(),e&&e.data&&e.data.list?[2,{requestId:e.requestId,data:JSON.parse(e.data.list).map(Ar.parse)}]:[2,e]}})})},t.prototype.unwrap=function(){return this._stages},t.prototype.done=function(){return this._stages.map(function(e){var r,n=e.stageKey,o=e.stageValue;return r={},r[n]=JSON.parse(o),r})},t.prototype._pipe=function(e,r){return this._stages.push({stageKey:"$"+e,stageValue:JSON.stringify(r)}),this},t.prototype.addFields=function(e){return this._pipe("addFields",e)},t.prototype.bucket=function(e){return this._pipe("bucket",e)},t.prototype.bucketAuto=function(e){return this._pipe("bucketAuto",e)},t.prototype.count=function(e){return this._pipe("count",e)},t.prototype.geoNear=function(e){return e.query&&(e.query=ud.encode(e.query)),e.distanceMultiplier&&typeof e.distanceMultiplier=="number"&&(e.distanceMultiplier=e.distanceMultiplier),e.near&&(e.near=new gr(e.near.longitude,e.near.latitude).toJSON()),this._pipe("geoNear",e)},t.prototype.group=function(e){return this._pipe("group",e)},t.prototype.limit=function(e){return this._pipe("limit",e)},t.prototype.match=function(e){return this._pipe("match",ud.encode(e))},t.prototype.project=function(e){return this._pipe("project",e)},t.prototype.lookup=function(e){return this._pipe("lookup",e)},t.prototype.replaceRoot=function(e){return this._pipe("replaceRoot",e)},t.prototype.sample=function(e){return this._pipe("sample",e)},t.prototype.skip=function(e){return this._pipe("skip",e)},t.prototype.sort=function(e){return this._pipe("sort",e)},t.prototype.sortByCount=function(e){return this._pipe("sortByCount",e)},t.prototype.unwind=function(e){return this._pipe("unwind",e)},t})(),z9=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),V9=(function(t){z9(e,t);function e(r,n){return t.call(this,r,n)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return this._coll},enumerable:!0,configurable:!0}),e.prototype.doc=function(r){if(typeof r!="string"&&typeof r!="number")throw new Error("docId");return new p2(this._db,this._coll,r)},e.prototype.add=function(r,n){var o=new p2(this._db,this._coll,void 0);return o.create(r,n)},e.prototype.aggregate=function(){return new fP(this._db,this._coll)},e})(X8),K9={eq:function(t){return new At(Ae.EQ,[t])},neq:function(t){return new At(Ae.NEQ,[t])},lt:function(t){return new At(Ae.LT,[t])},lte:function(t){return new At(Ae.LTE,[t])},gt:function(t){return new At(Ae.GT,[t])},gte:function(t){return new At(Ae.GTE,[t])},in:function(t){return new At(Ae.IN,t)},nin:function(t){return new At(Ae.NIN,t)},all:function(t){return new At(Ae.ALL,t)},elemMatch:function(t){return new At(Ae.ELEM_MATCH,[t])},exists:function(t){return new At(Ae.EXISTS,[t])},size:function(t){return new At(Ae.SIZE,[t])},mod:function(t){return new At(Ae.MOD,[t])},geoNear:function(t){return new At(Ae.GEO_NEAR,[t])},geoWithin:function(t){return new At(Ae.GEO_WITHIN,[t])},geoIntersects:function(t){return new At(Ae.GEO_INTERSECTS,[t])},and:function(){var t=ht(arguments[0])?arguments[0]:Array.from(arguments);return new zo(Cr.AND,t)},nor:function(){var t=ht(arguments[0])?arguments[0]:Array.from(arguments);return new zo(Cr.NOR,t)},or:function(){var t=ht(arguments[0])?arguments[0]:Array.from(arguments);return new zo(Cr.OR,t)},not:function(){var t=ht(arguments[0])?arguments[0]:Array.from(arguments);return new zo(Cr.NOT,t)},set:function(t){return new St(Be.SET,[t])},remove:function(){return new St(Be.REMOVE,[])},inc:function(t){return new St(Be.INC,[t])},mul:function(t){return new St(Be.MUL,[t])},push:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r;if(ao(t[0])&&t[0].hasOwnProperty("each")){var n=t[0];r={$each:n.each,$position:n.position,$sort:n.sort,$slice:n.slice}}else ht(t[0])?r=t[0]:r=Array.from(t);return new St(Be.PUSH,r)},pull:function(t){return new St(Be.PULL,t)},pullAll:function(t){return new St(Be.PULL_ALL,t)},pop:function(){return new St(Be.POP,[])},shift:function(){return new St(Be.SHIFT,[])},unshift:function(){var t=ht(arguments[0])?arguments[0]:Array.from(arguments);return new St(Be.UNSHIFT,t)},addToSet:function(t){return new St(Be.ADD_TO_SET,t)},rename:function(t){return new St(Be.RENAME,[t])},bit:function(t){return new St(Be.BIT,[t])},max:function(t){return new St(Be.MAX,[t])},min:function(t){return new St(Be.MIN,[t])},expr:function(t){return{$expr:t}},jsonSchema:function(t){return{$jsonSchema:t}},text:function(t){return H8(t)?{$search:t.search}:{$search:t.search,$language:t.language,$caseSensitive:t.caseSensitive,$diacriticSensitive:t.diacriticSensitive}},aggregate:{pipeline:function(){return new fP},abs:function(t){return new se("abs",t)},add:function(t){return new se("add",t)},ceil:function(t){return new se("ceil",t)},divide:function(t){return new se("divide",t)},exp:function(t){return new se("exp",t)},floor:function(t){return new se("floor",t)},ln:function(t){return new se("ln",t)},log:function(t){return new se("log",t)},log10:function(t){return new se("log10",t)},mod:function(t){return new se("mod",t)},multiply:function(t){return new se("multiply",t)},pow:function(t){return new se("pow",t)},sqrt:function(t){return new se("sqrt",t)},subtract:function(t){return new se("subtract",t)},trunc:function(t){return new se("trunc",t)},arrayElemAt:function(t){return new se("arrayElemAt",t)},arrayToObject:function(t){return new se("arrayToObject",t)},concatArrays:function(t){return new se("concatArrays",t)},filter:function(t){return new se("filter",t)},in:function(t){return new se("in",t)},indexOfArray:function(t){return new se("indexOfArray",t)},isArray:function(t){return new se("isArray",t)},map:function(t){return new se("map",t)},range:function(t){return new se("range",t)},reduce:function(t){return new se("reduce",t)},reverseArray:function(t){return new se("reverseArray",t)},size:function(t){return new se("size",t)},slice:function(t){return new se("slice",t)},zip:function(t){return new se("zip",t)},and:function(t){return new se("and",t)},not:function(t){return new se("not",t)},or:function(t){return new se("or",t)},cmp:function(t){return new se("cmp",t)},eq:function(t){return new se("eq",t)},gt:function(t){return new se("gt",t)},gte:function(t){return new se("gte",t)},lt:function(t){return new se("lt",t)},lte:function(t){return new se("lte",t)},neq:function(t){return new se("ne",t)},cond:function(t){return new se("cond",t)},ifNull:function(t){return new se("ifNull",t)},switch:function(t){return new se("switch",t)},dateFromParts:function(t){return new se("dateFromParts",t)},dateFromString:function(t){return new se("dateFromString",t)},dayOfMonth:function(t){return new se("dayOfMonth",t)},dayOfWeek:function(t){return new se("dayOfWeek",t)},dayOfYear:function(t){return new se("dayOfYear",t)},isoDayOfWeek:function(t){return new se("isoDayOfWeek",t)},isoWeek:function(t){return new se("isoWeek",t)},isoWeekYear:function(t){return new se("isoWeekYear",t)},millisecond:function(t){return new se("millisecond",t)},minute:function(t){return new se("minute",t)},month:function(t){return new se("month",t)},second:function(t){return new se("second",t)},hour:function(t){return new se("hour",t)},week:function(t){return new se("week",t)},year:function(t){return new se("year",t)},literal:function(t){return new se("literal",t)},mergeObjects:function(t){return new se("mergeObjects",t)},objectToArray:function(t){return new se("objectToArray",t)},allElementsTrue:function(t){return new se("allElementsTrue",t)},anyElementTrue:function(t){return new se("anyElementTrue",t)},setDifference:function(t){return new se("setDifference",t)},setEquals:function(t){return new se("setEquals",t)},setIntersection:function(t){return new se("setIntersection",t)},setIsSubset:function(t){return new se("setIsSubset",t)},setUnion:function(t){return new se("setUnion",t)},concat:function(t){return new se("concat",t)},dateToString:function(t){return new se("dateToString",t)},indexOfBytes:function(t){return new se("indexOfBytes",t)},indexOfCP:function(t){return new se("indexOfCP",t)},split:function(t){return new se("split",t)},strLenBytes:function(t){return new se("strLenBytes",t)},strLenCP:function(t){return new se("strLenCP",t)},strcasecmp:function(t){return new se("strcasecmp",t)},substr:function(t){return new se("substr",t)},substrBytes:function(t){return new se("substrBytes",t)},substrCP:function(t){return new se("substrCP",t)},toLower:function(t){return new se("toLower",t)},toUpper:function(t){return new se("toUpper",t)},meta:function(t){return new se("meta",t)},addToSet:function(t){return new se("addToSet",t)},avg:function(t){return new se("avg",t)},first:function(t){return new se("first",t)},last:function(t){return new se("last",t)},max:function(t){return new se("max",t)},min:function(t){return new se("min",t)},push:function(t){return new se("push",t)},stdDevPop:function(t){return new se("stdDevPop",t)},stdDevSamp:function(t){return new se("stdDevSamp",t)},sum:function(t){return new se("sum",t)},let:function(t){return new se("let",t)}},project:{slice:function(t){return new R2("slice",t)},elemMatch:function(t){return new R2("elemMatch",t)}}},se=(function(){function t(e,r){this["$"+e]=r}return t})(),R2=(function(){function t(e,r){this["$"+e]=r}return t})(),Y9=(function(){function t(e){var r=e.regexp,n=e.options;if(!r)throw new TypeError("regexp must be a string");this.$regex=r,this.$options=n}return t.prototype.parse=function(){return{$regex:this.$regex,$options:this.$options}},Object.defineProperty(t.prototype,"_internalType",{get:function(){return zC},enumerable:!0,configurable:!0}),t})();function J9(t){return new Y9(t)}var dP={INSERT_DOC_FAIL:{message:"insert document failed"},DATABASE_TRANSACTION_CONFLICT:{code:"DATABASE_TRANSACTION_CONFLICT"}},zn=function(){return zn=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},zn.apply(this,arguments)},xu=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function p(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,p)}u((n=n.apply(t,e||[])).next())})},Ru=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return p([u,d])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Q9="database.getInTransaction",A2="database.updateDocInTransaction",X9="database.deleteDocInTransaction",Z9="database.insertDocInTransaction",C2=(function(){function t(e,r,n){this._coll=r,this.id=n,this._transaction=e,this._request=this._transaction.getRequestMethod(),this._transactionId=this._transaction.getTransactionId()}return t.prototype.create=function(e){return xu(this,void 0,void 0,function(){var r,n,o,i;return Ru(this,function(l){switch(l.label){case 0:return r={collectionName:this._coll,transactionId:this._transactionId,data:Ar.stringify(ll(e),{relaxed:!1})},this.id&&(r._id=this.id),[4,this._request.send(Z9,r)];case 1:if(n=l.sent(),n.code)throw n;if(o=Ar.parse(n.inserted),i=Ar.parse(n.ok),i==1&&o==1)return[2,zn(zn({},n),{ok:i,inserted:o})];throw new Error(dP.INSERT_DOC_FAIL.message)}})})},t.prototype.get=function(){return xu(this,void 0,void 0,function(){var e,r;return Ru(this,function(n){switch(n.label){case 0:return e={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}}},[4,this._request.send(Q9,e)];case 1:if(r=n.sent(),r.code)throw r;return[2,{data:r.data!=="null"?Fd.formatField(Ar.parse(r.data)):Ar.parse(r.data),requestId:r.requestId}]}})})},t.prototype.set=function(e){return xu(this,void 0,void 0,function(){var r,n;return Ru(this,function(o){switch(o.label){case 0:return r={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}},data:Ar.stringify(ll(e),{relaxed:!1}),upsert:!0},[4,this._request.send(A2,r)];case 1:if(n=o.sent(),n.code)throw n;return[2,zn(zn({},n),{updated:Ar.parse(n.updated),upserted:n.upserted?JSON.parse(n.upserted):null})]}})})},t.prototype.update=function(e){return xu(this,void 0,void 0,function(){var r,n;return Ru(this,function(o){switch(o.label){case 0:return r={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}},data:Ar.stringify(I_.encode(e),{relaxed:!1})},[4,this._request.send(A2,r)];case 1:if(n=o.sent(),n.code)throw n;return[2,zn(zn({},n),{updated:Ar.parse(n.updated)})]}})})},t.prototype.delete=function(){return xu(this,void 0,void 0,function(){var e,r;return Ru(this,function(n){switch(n.label){case 0:return e={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}}},[4,this._request.send(X9,e)];case 1:if(r=n.sent(),r.code)throw r;return[2,zn(zn({},r),{deleted:Ar.parse(r.deleted)})]}})})},t})(),e7=(function(){function t(e,r){this._coll=r,this._transaction=e}return t})(),t7=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),r7=(function(t){t7(e,t);function e(r,n){return t.call(this,r,n)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return this._coll},enumerable:!0,configurable:!0}),e.prototype.doc=function(r){if(typeof r!="string"&&typeof r!="number")throw new Error("docId");return new C2(this._transaction,this._coll,r)},e.prototype.add=function(r){var n;r._id!==void 0&&(n=r._id);var o=new C2(this._transaction,this._coll,n);return o.create(r)},e})(e7),ds=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(d){try{u(n.next(d))}catch(v){l(v)}}function p(d){try{u(n.throw(d))}catch(v){l(v)}}function u(d){d.done?i(d.value):o(d.value).then(f,p)}u((n=n.apply(t,e||[])).next())})},hs=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(d){return p([u,d])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},n7="database.startTransaction",i7="database.commitTransaction",o7="database.abortTransaction",hP=(function(){function t(e){this._db=e,this._request=new Xt.reqClass(this._db.config),this.aborted=!1,this.commited=!1,this.inited=!1}return t.prototype.init=function(){return ds(this,void 0,void 0,function(){var e;return hs(this,function(r){switch(r.label){case 0:return[4,this._request.send(n7)];case 1:if(e=r.sent(),e.code)throw e;return this.inited=!0,this._id=e.transactionId,[2]}})})},t.prototype.collection=function(e){if(!e)throw new Error("Collection name is required");return new r7(this,e)},t.prototype.getTransactionId=function(){return this._id},t.prototype.getRequestMethod=function(){return this._request},t.prototype.commit=function(){return ds(this,void 0,void 0,function(){var e,r;return hs(this,function(n){switch(n.label){case 0:return e={transactionId:this._id},[4,this._request.send(i7,e)];case 1:if(r=n.sent(),r.code)throw r;return this.commited=!0,[2,r]}})})},t.prototype.rollback=function(e){return ds(this,void 0,void 0,function(){var r,n;return hs(this,function(o){switch(o.label){case 0:return r={transactionId:this._id},[4,this._request.send(o7,r)];case 1:if(n=o.sent(),n.code)throw n;return this.aborted=!0,this.abortReason=e,[2,n]}})})},t})();function a7(){return ds(this,void 0,void 0,function(){var t;return hs(this,function(e){switch(e.label){case 0:return t=new hP(this),[4,t.init()];case 1:return e.sent(),[2,t]}})})}function pP(t,e){return e===void 0&&(e=3),ds(this,void 0,void 0,function(){var r,n,o,i,l=this;return hs(this,function(f){switch(f.label){case 0:return f.trys.push([0,4,,10]),r=new hP(this),[4,r.init()];case 1:return f.sent(),[4,t(r)];case 2:if(n=f.sent(),r.aborted===!0)throw r.abortReason;return[4,r.commit()];case 3:return f.sent(),[2,n];case 4:if(o=f.sent(),r.inited===!1)throw o;return i=function(p){return ds(l,void 0,void 0,function(){return hs(this,function(u){switch(u.label){case 0:if(!(!r.aborted&&!r.commited))return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,r.rollback()];case 2:return u.sent(),[3,4];case 3:return u.sent(),[3,4];case 4:throw p;case 5:throw r.aborted===!0?r.abortReason:p}})})},e<=0?[4,i(o)]:[3,6];case 5:f.sent(),f.label=6;case 6:return o&&o.code===dP.DATABASE_TRANSACTION_CONFLICT.code?[4,pP.bind(this)(t,--e)]:[3,8];case 7:return[2,f.sent()];case 8:return[4,i(o)];case 9:return f.sent(),[3,10];case 10:return[2]}})})}var Xt=(function(){function t(e){this.config=e,this.Geo=V8,this.serverDate=W8,this.command=K9,this.RegExp=J9,this.startTransaction=a7,this.runTransaction=pP,this.logicCommand=zo,this.updateCommand=St,this.queryCommand=At}return t.prototype.collection=function(e){if(!e)throw new Error("Collection name is required");return new V9(this,e)},t.prototype.createCollection=function(e){var r=new t.reqClass(this.config),n={collectionName:e};return r.send("database.addCollection",n)},t})(),Yu=function(){return Yu=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Yu.apply(this,arguments)},s7="database";function u7(t){var e=this.platform,r=e.adapter,n=e.runtime;return Xt.reqClass=this.request.constructor,Xt.getAccessToken=this.authInstance?this.authInstance.getAccessToken.bind(this.authInstance):function(){return""},Xt.runtime=n,this.wsClientClass&&(Xt.wsClass=r.wsClass,Xt.wsClientClass=this.wsClientClass),Xt.ws||(Xt.ws=null),new Xt(Yu(Yu(Yu({},this.config),{_fromApp:this}),t))}var vP={name:s7,entity:{database:u7}};try{cloudbase.registerComponent(vP)}catch{}function yP(t){try{t.registerComponent(vP)}catch(e){console.warn(e)}}try{window.registerDatabase=yP}catch{}const l7="2.22.10",c7={version:l7};var f7=c7.version;yr.registerVersion(f7);try{gj(yr),Aj(yr),bR(yr),yP(yr),F4(yr),Y4(yr),hC(yr),DC(yr),gR(yr),BC(yr)}catch{}try{window.cloudbase=yr}catch{}const d7=yr.init({env:"cloud1-2gw9ev54cd01e23b"}),h7=d7.database(),S0=h7.collection("cardCodes");function p7(){const[t,e]=Ve.useState([]),[r,n]=Ve.useState(!0),[o,i]=Ve.useState(""),[l,f]=Ve.useState(""),[p,u]=Ve.useState([]),[d,v]=Ve.useState(!1),[y,_]=Ve.useState(""),[w,S]=Ve.useState("1"),[T,O]=Ve.useState(!1),[x,A]=Ve.useState(!1),C=(G=16)=>{const K="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let ae="";for(let fe=0;fe<G;fe++)ae+=K.charAt(Math.floor(Math.random()*K.length));return ae},U=[{id:"ADMIN1234567890123",type:"",status:"",createdAt:new Date().toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(/\//g,"-"),expireTime:Date.now()+720*60*60*1e3},{id:"ADMIN9876543210987",type:"",status:"",createdAt:new Date(Date.now()-10080*60*1e3).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(/\//g,"-"),expireTime:Date.now()+1992*60*60*1e3,activateTime:Date.now()-7200*60*1e3,openid:"admin_test_openid"},{id:"ADMIN5678901234567",type:"",status:"",createdAt:new Date(Date.now()-2880*60*1e3).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(/\//g,"-"),expireTime:Date.now()+365*24*60*60*1e3}],q=async()=>{n(!0);try{console.log(" - ");const K=(await S0.orderBy("createTime","desc").get()).data.map(ae=>({id:ae.code,_id:ae._id,type:ae.type,status:ae.status,createdAt:ae.createTime?new Date(ae.createTime).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(/\//g,"-"):"",expireTime:ae.expireTime,activateTime:ae.activateTime,openid:ae.openid}));e(K.length>0?K:U),u(K.length>0?K:U),yi.success("")}catch(G){console.error(":",G),yi.error(""),e(U),u(U)}finally{n(!1),A(!1)}};Ve.useEffect(()=>{q()},[]);const Y=()=>{let G=t;o.trim()&&(G=G.filter(K=>K.id.toLowerCase().includes(o.toLowerCase()))),l!==""&&(G=G.filter(K=>K.status===l)),u(G)},J=()=>{i(""),f(""),u(t)},k=()=>{A(!0),q()},W=async()=>{const G=parseInt(w)||1;if(G>100){yi.error("100");return}O(!0);try{const K=[],ae=Date.now();let fe=30;switch(y){case"":fe=90;break;case"":fe=365;break;default:fe=30;break}for(let Q=0;Q<G;Q++){let ee=C(),X=!0;for(;X;)(await S0.where({code:ee}).get()).data.length===0?X=!1:ee=C();const j={code:ee,type:y,status:"",createTime:ae,expireTime:ae+fe*24*60*60*1e3},Z=await S0.add(j),Ie={id:ee,_id:Z.id,type:y,status:"",createdAt:new Date(ae).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(/\//g,"-"),expireTime:ae+fe*24*60*60*1e3};K.push(Ie)}const ce=[...K,...t];e(ce),u(ce),console.log(` -  ${G} :`,K.map(Q=>Q.id)),yi.success(` ${G} `)}catch(K){console.error(":",K),yi.error("");const ae=[],fe=Date.now();let ce=30;switch(y){case"":ce=90;break;case"":ce=365;break;default:ce=30;break}for(let ee=0;ee<G;ee++){const j={id:C(),type:y,status:"",createdAt:new Date(fe).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(/\//g,"-"),expireTime:fe+ce*24*60*60*1e3};ae.push(j)}const Q=[...ae,...t];e(Q),u(Q),yi.error(` ${G} `)}finally{O(!1)}},F=()=>{const ae=(l===""?t:t.filter(fe=>fe.status===l)).slice(0,parseInt(w)||1).map(fe=>fe.id).join(`
`);navigator.clipboard.writeText(ae),yi.success("")},V=G=>{switch(G){case"":return"bg-green-100 text-green-700";case"":return"bg-blue-100 text-blue-700";case"":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}};return H.jsxs("div",{className:"space-y-6",children:[H.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:H.jsxs("div",{className:"flex gap-4 items-end",children:[H.jsxs("div",{className:"flex-1",children:[H.jsx("label",{className:"block mb-2 text-gray-700",children:""}),H.jsx("input",{type:"text",value:o,onChange:G=>i(G.target.value),placeholder:"",className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500"})]}),H.jsxs("div",{className:"flex-1",children:[H.jsx("label",{className:"block mb-2 text-gray-700",children:""}),H.jsxs("select",{value:l,onChange:G=>f(G.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500",children:[H.jsx("option",{children:""}),H.jsx("option",{children:""}),H.jsx("option",{children:""}),H.jsx("option",{children:""})]})]}),H.jsxs("button",{onClick:Y,className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center gap-2",children:[H.jsx(L2,{size:18}),""]}),H.jsxs("button",{onClick:J,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-50 transition-colors flex items-center gap-2",children:[H.jsx(k2,{size:18}),""]}),H.jsxs("button",{onClick:k,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-50 transition-colors flex items-center gap-2",disabled:x,children:[H.jsx($3,{size:18,className:x?"animate-spin":""}),""]})]})}),H.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[H.jsxs("button",{onClick:()=>v(!d),className:"w-full px-4 py-3 flex items-center justify-between text-left hover:bg-gray-50 transition-colors",children:[H.jsx("span",{className:"text-blue-600",children:""}),d?H.jsx(R3,{size:20}):H.jsx(O3,{size:20})]}),d&&H.jsx("div",{className:"border-t border-gray-200 p-4",children:H.jsxs("div",{className:"flex gap-4 items-end",children:[H.jsxs("div",{className:"flex-1",children:[H.jsx("label",{className:"block mb-2 text-gray-700",children:""}),H.jsxs("select",{value:y,onChange:G=>_(G.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500",children:[H.jsx("option",{children:""}),H.jsx("option",{children:""}),H.jsx("option",{children:""})]})]}),H.jsxs("div",{className:"flex-1",children:[H.jsx("label",{className:"block mb-2 text-gray-700",children:""}),H.jsx("input",{type:"number",value:w,onChange:G=>S(G.target.value),min:"1",max:"100",className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500"})]}),H.jsx("button",{onClick:W,className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center gap-2",disabled:T,children:T?"...":""}),H.jsxs("button",{onClick:F,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-50 transition-colors flex items-center gap-2",disabled:t.length===0,children:[H.jsx(C3,{size:18}),""]})]})})]}),H.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:H.jsxs("table",{className:"w-full",children:[H.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:H.jsxs("tr",{children:[H.jsx("th",{className:"px-4 py-3 text-left text-gray-700",children:""}),H.jsx("th",{className:"px-4 py-3 text-left text-gray-700",children:""}),H.jsx("th",{className:"px-4 py-3 text-left text-gray-700",children:""}),H.jsx("th",{className:"px-4 py-3 text-left text-gray-700",children:""}),H.jsx("th",{className:"px-4 py-3 text-left text-gray-700",children:""})]})}),H.jsx("tbody",{children:r?H.jsx("tr",{children:H.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-gray-500",children:"..."})}):p.length===0?H.jsx("tr",{children:H.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-gray-500",children:""})}):p.map((G,K)=>H.jsxs("tr",{className:K%2===0?"bg-white":"bg-gray-50",children:[H.jsx("td",{className:"px-4 py-3 text-gray-800",children:G.id}),H.jsx("td",{className:"px-4 py-3 text-gray-800",children:G.type}),H.jsx("td",{className:"px-4 py-3",children:H.jsx("span",{className:`inline-block px-3 py-1 rounded ${V(G.status)}`,children:G.status})}),H.jsx("td",{className:"px-4 py-3 text-gray-800",children:G.createdAt}),H.jsx("td",{className:"px-4 py-3 text-gray-800",children:G.activateTime?new Date(G.activateTime).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).replace(/\//g,"-"):""})]},G.id))})]})})]})}function v7(){const[t,e]=Ve.useState([{id:1,name:"2025",isPaid:!0,isOnline:!0},{id:2,name:"2025",isPaid:!1,isOnline:!0},{id:3,name:"2025",isPaid:!0,isOnline:!1},{id:4,name:"2024",isPaid:!1,isOnline:!0}]),[r,n]=Ve.useState(""),[o,i]=Ve.useState(""),[l,f]=Ve.useState(t),[p,u]=Ve.useState(null),[d,v]=Ve.useState(null),y=()=>{let O=t;r.trim()&&(O=O.filter(x=>x.name.includes(r))),o===""?O=O.filter(x=>x.isOnline):o===""&&(O=O.filter(x=>!x.isOnline)),f(O)},_=()=>{n(""),i(""),f(t)},w=O=>{u(O.id),v({...O})},S=()=>{if(!d)return;const O=t.map(x=>x.id===d.id?d:x);e(O),f(O),u(null),v(null),yi.success("")},T=O=>{const x=t.map(A=>A.id===O.id?{...A,isOnline:!A.isOnline}:A);e(x),f(x),yi.success(O.isOnline?"":"")};return H.jsxs("div",{className:"space-y-6",children:[H.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:H.jsxs("div",{className:"flex gap-4 items-end",children:[H.jsxs("div",{className:"flex-1",children:[H.jsx("label",{className:"block mb-2 text-gray-700",children:""}),H.jsx("input",{type:"text",value:r,onChange:O=>n(O.target.value),placeholder:"",className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500"})]}),H.jsxs("div",{className:"flex-1",children:[H.jsx("label",{className:"block mb-2 text-gray-700",children:""}),H.jsxs("select",{value:o,onChange:O=>i(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500",children:[H.jsx("option",{children:""}),H.jsx("option",{children:""}),H.jsx("option",{children:""})]})]}),H.jsxs("button",{onClick:y,className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center gap-2",children:[H.jsx(L2,{size:18}),""]}),H.jsxs("button",{onClick:_,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-50 transition-colors flex items-center gap-2",children:[H.jsx(k2,{size:18}),""]})]})}),H.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[H.jsxs("table",{className:"w-full",children:[H.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:H.jsxs("tr",{children:[H.jsx("th",{className:"px-4 py-3 text-left text-gray-700",children:""}),H.jsx("th",{className:"px-4 py-3 text-left text-gray-700",children:""}),H.jsx("th",{className:"px-4 py-3 text-left text-gray-700",children:""}),H.jsx("th",{className:"px-4 py-3 text-left text-gray-700",children:""})]})}),H.jsx("tbody",{children:l.map((O,x)=>H.jsx("tr",{className:x%2===0?"bg-white":"bg-gray-50",children:p===O.id&&d?H.jsxs(H.Fragment,{children:[H.jsx("td",{className:"px-4 py-3",children:H.jsx("input",{type:"text",value:d.name,onChange:A=>v({...d,name:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500"})}),H.jsx("td",{className:"px-4 py-3",children:H.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[H.jsx("input",{type:"checkbox",checked:d.isPaid,onChange:A=>v({...d,isPaid:A.target.checked}),className:"w-4 h-4"}),H.jsx("span",{className:"text-gray-700",children:""})]})}),H.jsx("td",{className:"px-4 py-3",children:H.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[H.jsx("input",{type:"checkbox",checked:d.isOnline,onChange:A=>v({...d,isOnline:A.target.checked}),className:"w-4 h-4"}),H.jsx("span",{className:"text-gray-700",children:""})]})}),H.jsx("td",{className:"px-4 py-3",children:H.jsxs("button",{onClick:S,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center gap-2",children:[H.jsx(G3,{size:16}),""]})})]}):H.jsxs(H.Fragment,{children:[H.jsx("td",{className:"px-4 py-3 text-gray-800",children:O.name}),H.jsx("td",{className:"px-4 py-3",children:H.jsx("span",{className:`inline-block px-3 py-1 rounded ${O.isPaid?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:O.isPaid?"":""})}),H.jsx("td",{className:"px-4 py-3",children:H.jsx("span",{className:`inline-block px-3 py-1 rounded ${O.isOnline?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:O.isOnline?"":""})}),H.jsx("td",{className:"px-4 py-3",children:H.jsxs("div",{className:"flex gap-2",children:[H.jsxs("button",{onClick:()=>w(O),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-50 transition-colors flex items-center gap-2",children:[H.jsx(B3,{size:16}),""]}),H.jsx("button",{onClick:()=>T(O),className:`px-4 py-2 rounded transition-colors ${O.isOnline?"bg-red-600 text-white hover:bg-red-700":"bg-green-600 text-white hover:bg-green-700"}`,children:O.isOnline?"":""})]})})]})},O.id))})]}),l.length===0&&H.jsx("div",{className:"text-center py-8 text-gray-500",children:""})]})]})}function y7({onLogout:t}){const[e,r]=Ve.useState("card");return H.jsxs("div",{className:"min-h-screen bg-white",children:[H.jsx("header",{className:"border-b border-gray-200 bg-white",children:H.jsxs("div",{className:"max-w-[1200px] mx-auto px-6 py-4 flex items-center justify-between",children:[H.jsx("h1",{className:"text-blue-600",children:""}),H.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-blue-600 transition-colors",children:[H.jsx(F3,{size:18}),""]})]})}),H.jsx("div",{className:"max-w-[1200px] mx-auto px-6 mt-6",children:H.jsxs("div",{className:"flex gap-2 border-b border-gray-200",children:[H.jsx("button",{onClick:()=>r("card"),className:`px-6 py-3 transition-colors ${e==="card"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-blue-600"}`,children:""}),H.jsx("button",{onClick:()=>r("exam"),className:`px-6 py-3 transition-colors ${e==="exam"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-blue-600"}`,children:""})]})}),H.jsx("div",{className:"max-w-[1200px] mx-auto px-6 py-6",children:e==="card"?H.jsx(p7,{}):H.jsx(v7,{})})]})}function m7(){const[t,e]=Ve.useState(()=>localStorage.getItem("isLoggedIn")==="true"),r=()=>{e(!0)},n=()=>{localStorage.removeItem("isLoggedIn"),localStorage.removeItem("username"),e(!1)};return H.jsx("div",{className:"min-h-screen bg-white",children:t?H.jsx(y7,{onLogout:n}):H.jsx(Y3,{onLogin:r})})}w3.createRoot(document.getElementById("root")).render(H.jsx(m7,{}));
